/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
!function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=At[e]={};return ut.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function i(e,n,r,i){if(ut.acceptData(e)){var a,o,s=ut.expando,l=e.nodeType,c=l?ut.cache:e,u=l?e[s]:e[s]&&s;if(u&&c[u]&&(i||c[u].data)||r!==t||"string"!=typeof n)return u||(u=l?e[s]=tt.pop()||ut.guid++:s),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof n||"function"==typeof n)&&(i?c[u]=ut.extend(c[u],n):c[u].data=ut.extend(c[u].data,n)),o=c[u],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[ut.camelCase(n)]=r),"string"==typeof n?(a=o[n],null==a&&(a=o[ut.camelCase(n)])):a=o,a}}function a(e,t,n){if(ut.acceptData(e)){var r,i,a=e.nodeType,o=a?ut.cache:e,l=a?e[ut.expando]:ut.expando;if(o[l]){if(t&&(r=n?o[l]:o[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in r?t=[t]:(t=ut.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!s(r):!ut.isEmptyObject(r))return}(n||(delete o[l].data,s(o[l])))&&(a?ut.cleanData([e],!0):ut.support.deleteExpando||o!=o.window?delete o[l]:o[l]=null)}}}function o(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(Mt,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:xt.test(r)?ut.parseJSON(r):r}catch(a){}ut.data(e,n,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return G.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,n){if(ut.isFunction(t))return ut.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ut.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Wt.test(t))return ut.filter(t,e,n);t=ut.filter(t,e)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0!==n})}function h(e){var t=$t.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){return ut.nodeName(e,"table")&&ut.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==ut.find.attr(e,"type"))+"/"+e.type,e}function m(e){var t=an.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var n,r=0;null!=(n=e[r]);r++)ut._data(n,"globalEval",!t||ut._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,r,i,a=ut._data(e),o=ut._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ut.event.add(t,n,s[n][r])}o.data&&(o.data=ut.extend({},o.data))}}function y(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){i=ut._data(t);for(r in i.events)ut.removeEvent(t,r,i.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var r,i,a=0,o=typeof e.getElementsByTagName!==V?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==V?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],r=e.childNodes||e;null!=(i=r[a]);a++)!n||ut.nodeName(i,n)?o.push(i):ut.merge(o,b(i,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],o):o}function E(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=An.length;i--;)if(t=An[i]+n,t in e)return t;return r}function w(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function T(e,t){for(var n,r,i,a=[],o=0,s=e.length;s>o;o++)r=e[o],r.style&&(a[o]=ut._data(r,"olddisplay"),n=r.style.display,t?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&w(r)&&(a[o]=ut._data(r,"olddisplay",D(r.nodeName)))):a[o]||(i=w(r),(n&&"none"!==n||!i)&&ut._data(r,"olddisplay",i?n:ut.css(r,"display"))));for(o=0;s>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[o]||"":"none"));return e}function A(e,t,n){var r=vn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function x(e,t,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=ut.css(e,n+Tn[a],!0,i)),r?("content"===n&&(o-=ut.css(e,"padding"+Tn[a],!0,i)),"margin"!==n&&(o-=ut.css(e,"border"+Tn[a]+"Width",!0,i))):(o+=ut.css(e,"padding"+Tn[a],!0,i),"padding"!==n&&(o+=ut.css(e,"border"+Tn[a]+"Width",!0,i)));return o}function M(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=dn(e),o=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,a);if(0>=i||null==i){if(i=pn(e,t,a),(0>i||null==i)&&(i=e.style[t]),yn.test(i))return i;r=o&&(ut.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+x(e,t,n||(o?"border":"content"),r,a)+"px"}function D(e){var t=G,n=En[e];return n||(n=k(e,t),"none"!==n&&n||(un=(un||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=k(e,t),un.detach()),En[e]=n),n}function k(e,t){var n=ut(t.createElement(e)).appendTo(t.body),r=ut.css(n[0],"display");return n.remove(),r}function O(e,t,n,r){var i;if(ut.isArray(t))ut.each(t,function(t,i){n||Mn.test(e)?r(e,i):O(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ut.type(t))r(e,t);else for(i in t)O(e+"["+i+"]",t[i],n,r)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(pt)||[];if(ut.isFunction(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var l;return a[s]=!0,ut.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var a={},o=e===Kn;return i(t.dataTypes[0])||!a["*"]&&i("*")}function C(e,n){var r,i,a=ut.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((a[i]?e:r||(r={}))[i]=n[i]);return r&&ut.extend(!0,e,r),e}function U(e,n,r){for(var i,a,o,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("Content-Type"));if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s);break}if(c[0]in r)o=c[0];else{for(s in r){if(!c[0]||e.converters[s+" "+c[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==c[0]&&c.unshift(o),r[o]):void 0}function F(e,t,n,r){var i,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=c[l+" "+a]||c["* "+a],!o)for(i in c)if(s=i.split(" "),s[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[i]:c[i]!==!0&&(a=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function L(){try{return new e.XMLHttpRequest}catch(t){}}function I(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function P(){return setTimeout(function(){Zn=t}),Zn=ut.now()}function j(e,t,n){for(var r,i=(ar[t]||[]).concat(ar["*"]),a=0,o=i.length;o>a;a++)if(r=i[a].call(n,t,e))return r}function H(e,t,n){var r,i,a=0,o=ir.length,s=ut.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=Zn||P(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,a=1-r,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(a);return s.notifyWith(e,[c,a,n]),1>a&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||P(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ut.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(z(u,c.opts.specialEasing);o>a;a++)if(r=ir[a].call(c,e,u,c.opts))return r;return ut.map(u,j,c),ut.isFunction(c.opts.start)&&c.opts.start.call(e,c),ut.fx.timer(ut.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e,t){var n,r,i,a,o;for(n in e)if(r=ut.camelCase(n),i=t[r],a=e[n],ut.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),o=ut.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function W(e,t,n){var r,i,a,o,s,l,c=this,u={},d=e.style,p=e.nodeType&&w(e),h=ut._data(e,"fxshow");n.queue||(s=ut._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,ut.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],tr.exec(i)){if(delete t[r],a=a||"toggle"===i,i===(p?"hide":"show"))continue;u[r]=h&&h[r]||ut.style(e,r)}if(!ut.isEmptyObject(u)){h?"hidden"in h&&(p=h.hidden):h=ut._data(e,"fxshow",{}),a&&(h.hidden=!p),p?ut(e).show():c.done(function(){ut(e).hide()}),c.done(function(){var t;ut._removeData(e,"fxshow");for(t in u)ut.style(e,t,u[t])});for(r in u)o=j(p?h[r]:0,r,c),r in h||(h[r]=o.start,p&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function B(e,t,n,r,i){return new B.prototype.init(e,t,n,r,i)}function K(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Tn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Y(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var $,J,V=typeof t,q=e.location,G=e.document,Q=G.documentElement,X=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",rt=tt.concat,it=tt.push,at=tt.slice,ot=tt.indexOf,st=et.toString,lt=et.hasOwnProperty,ct=nt.trim,ut=function(e,t){return new ut.fn.init(e,t,J)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=/\S+/g,ht=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ft=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mt=/^[\],:{}\s]*$/,_t=/(?:^|:|,)(?:\s*\[)+/g,vt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,yt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bt=/^-ms-/,Et=/-([\da-z])/gi,St=function(e,t){return t.toUpperCase()},wt=function(e){(G.addEventListener||"load"===e.type||"complete"===G.readyState)&&(Tt(),ut.ready())},Tt=function(){G.addEventListener?(G.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(G.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};ut.fn=ut.prototype={jquery:nt,constructor:ut,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:G,!0)),ft.test(i[1])&&ut.isPlainObject(n))for(i in n)ut.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=G.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=G,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,toArray:function(){return at.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(at.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:it,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,r,i,a,o,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||ut.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(a=arguments[l]))for(i in a)e=s[i],r=a[i],s!==r&&(u&&r&&(ut.isPlainObject(r)||(n=ut.isArray(r)))?(n?(n=!1,o=e&&ut.isArray(e)?e:[]):o=e&&ut.isPlainObject(e)?e:{},s[i]=ut.extend(u,o,r)):r!==t&&(s[i]=r));return s},ut.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ut&&(e.$=Z),t&&e.jQuery===ut&&(e.jQuery=X),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!G.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||($.resolveWith(G,[ut]),ut.fn.trigger&&ut(G).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[st.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(ut.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||G;var r=ft.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ut.buildFragment([e],t,i),i&&ut(i).remove(),ut.merge([],r.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ut.trim(t),t&&mt.test(t.replace(vt,"@").replace(yt,"]").replace(_t,"")))?new Function("return "+t)():(ut.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(a){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(bt,"ms-").replace(Et,St)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,a=0,o=e.length,s=n(e);if(r){if(s)for(;o>a&&(i=t.apply(e[a],r),i!==!1);a++);else for(a in e)if(i=t.apply(e[a],r),i===!1)break}else if(s)for(;o>a&&(i=t.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=t.call(e[a],a,e[a]),i===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(ht,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ut.merge(r,"string"==typeof e?[e]:e):it.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(ot)return ot.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,a=0;if("number"==typeof r)for(;r>a;a++)e[i++]=n[a];else for(;n[a]!==t;)e[i++]=n[a++];return e.length=i,e},grep:function(e,t,n){var r,i=[],a=0,o=e.length;for(n=!!n;o>a;a++)r=!!t(e[a],a),n!==r&&i.push(e[a]);return i},map:function(e,t,r){var i,a=0,o=e.length,s=n(e),l=[];if(s)for(;o>a;a++)i=t(e[a],a,r),null!=i&&(l[l.length]=i);else for(a in e)i=t(e[a],a,r),null!=i&&(l[l.length]=i);return rt.apply([],l)},guid:1,proxy:function(e,n){var r,i,a;return"string"==typeof n&&(a=e[n],n=e,e=a),ut.isFunction(e)?(r=at.call(arguments,2),i=function(){return e.apply(n||this,r.concat(at.call(arguments)))},i.guid=e.guid=e.guid||ut.guid++,i):t},access:function(e,n,r,i,a,o,s){var l=0,c=e.length,u=null==r;if("object"===ut.type(r)){a=!0;for(l in r)ut.access(e,n,l,r[l],!0,o,s)}else if(i!==t&&(a=!0,ut.isFunction(i)||(s=!0),u&&(s?(n.call(e,i),n=null):(u=n,n=function(e,t,n){return u.call(ut(e),n)})),n))for(;c>l;l++)n(e[l],r,s?i:i.call(e[l],l,n(e[l],r)));return a?e:u?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];i=n.apply(e,r||[]);for(a in t)e.style[a]=o[a];return i}}),ut.ready.promise=function(t){if(!$)if($=ut.Deferred(),"complete"===G.readyState)setTimeout(ut.ready);else if(G.addEventListener)G.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{G.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var n=!1;try{n=null==e.frameElement&&G.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Tt(),ut.ready()}}()}return $.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),J=ut(G),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(e,t){function n(e,t,n,r){var i,a,o,s,l,c,u,d,g,f;if((t?t.ownerDocument||t:H)!==R&&N(t),t=t||R,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(U&&!r){if(i=yt.exec(e))if(o=i[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&P(t,a)&&a.id===o)return n.push(a),n}else{if(i[2])return et.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&w.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&(!F||!F.test(e))){if(d=u=j,g=t,f=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(u=t.getAttribute("id"))?d=u.replace(St,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+h(c[l]);g=ht.test(e)&&t.parentNode||t,f=c.join(",")}if(f)try{return et.apply(n,g.querySelectorAll(f)),n}catch(m){}finally{u||t.removeAttribute("id")}}}return E(e.replace(ct,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>A.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function i(e){return e[j]=!0,e}function a(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)A.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||q)-(~e.sourceIndex||q);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function d(){}function p(e,t){var r,i,a,o,s,l,c,u=K[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=A.preFilter;s;){(!r||(i=dt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),r=!1,(i=pt.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(ct," ")}),s=s.slice(r.length));for(o in A.filter)!(i=_t[o].exec(s))||c[o]&&!(i=c[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return t?s.length:s?n.error(e):K(e,l).slice(0)}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function g(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=W++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,o){var s,l,c,u=z+" "+a;if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i)if(c=t[j]||(t[j]={}),(l=c[r])&&l[0]===u){if((s=l[1])===!0||s===T)return s===!0}else if(l=c[r]=[u],l[1]=e(t,n,o)||T,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,t,n,r,i){for(var a,o=[],s=0,l=e.length,c=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,r,i))&&(o.push(a),c&&t.push(s));return o}function _(e,t,n,r,a,o){return r&&!r[j]&&(r=_(r)),a&&!a[j]&&(a=_(a,o)),i(function(i,o,s,l){var c,u,d,p=[],h=[],g=o.length,f=i||b(t||"*",s.nodeType?[s]:s,[]),_=!e||!i&&t?f:m(f,p,e,s,l),v=n?a||(i?e:g||r)?[]:o:_;if(n&&n(_,v,s,l),r)for(c=m(v,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(_[h[u]]=d));if(i){if(a||e){if(a){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(_[u]=d);a(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=a?nt.call(i,d):p[u])>-1&&(i[c]=!(o[c]=d))}}else v=m(v===o?v.splice(g,v.length):v),a?a(null,o,v,l):et.apply(o,v)})}function v(e){for(var t,n,r,i=e.length,a=A.relative[e[0].type],o=a||A.relative[" "],s=a?1:0,l=g(function(e){return e===t},o,!0),c=g(function(e){return nt.call(t,e)>-1},o,!0),u=[function(e,n,r){return!a&&(r||n!==k)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];i>s;s++)if(n=A.relative[e[s].type])u=[g(f(u),n)];else{if(n=A.filter[e[s].type].apply(null,e[s].matches),n[j]){for(r=++s;i>r&&!A.relative[e[r].type];r++);return _(s>1&&f(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ct,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&h(e))}u.push(n)}return f(u)}function y(e,t){var r=0,a=t.length>0,o=e.length>0,s=function(i,s,l,c,u){var d,p,h,g=[],f=0,_="0",v=i&&[],y=null!=u,b=k,E=i||o&&A.find.TAG("*",u&&s.parentNode||s),S=z+=null==b?1:Math.random()||.1;for(y&&(k=s!==R&&s,T=r);null!=(d=E[_]);_++){if(o&&d){for(p=0;h=e[p++];)if(h(d,s,l)){c.push(d);break}y&&(z=S,T=++r)}a&&((d=!h&&d)&&f--,i&&v.push(d))}if(f+=_,a&&_!==f){for(p=0;h=t[p++];)h(v,g,s,l);if(i){if(f>0)for(;_--;)v[_]||g[_]||(g[_]=X.call(c));g=m(g)}et.apply(c,g),y&&!i&&g.length>0&&f+t.length>1&&n.uniqueSort(c)}return y&&(z=S,k=b),v};return a?i(s):s}function b(e,t,r){for(var i=0,a=t.length;a>i;i++)n(e,t[i],r);return r}function E(e,t,n,r){var i,a,o,s,l,c=p(e);if(!r&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&w.getById&&9===t.nodeType&&U&&A.relative[a[1].type]){if(t=(A.find.ID(o.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;e=e.slice(a.shift().value.length)}for(i=_t.needsContext.test(e)?0:a.length;i--&&(o=a[i],!A.relative[s=o.type]);)if((l=A.find[s])&&(r=l(o.matches[0].replace(wt,Tt),ht.test(a[0].type)&&t.parentNode||t))){if(a.splice(i,1),e=r.length&&h(a),!e)return et.apply(n,r),n;break}}return D(e,c)(r,t,!U,n,ht.test(e)),n}var S,w,T,A,x,M,D,k,O,N,R,C,U,F,L,I,P,j="sizzle"+-new Date,H=e.document,z=0,W=0,B=r(),K=r(),Y=r(),$=!1,J=function(e,t){return e===t?($=!0,0):0},V=typeof t,q=1<<31,G={}.hasOwnProperty,Q=[],X=Q.pop,Z=Q.push,et=Q.push,tt=Q.slice,nt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",at="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=at.replace("w","w#"),st="\\["+it+"*("+at+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+it+"*\\]",lt=":("+at+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),dt=new RegExp("^"+it+"*,"+it+"*"),pt=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ht=new RegExp(it+"*[+~]"),gt=new RegExp("="+it+"*([^\\]'\"]*)"+it+"*\\]","g"),ft=new RegExp(lt),mt=new RegExp("^"+ot+"$"),_t={ID:new RegExp("^#("+at+")"),CLASS:new RegExp("^\\.("+at+")"),TAG:new RegExp("^("+at.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+rt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/^(?:input|select|textarea|button)$/i,Et=/^h\d$/i,St=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{et.apply(Q=tt.call(H.childNodes),H.childNodes),Q[H.childNodes.length].nodeType}catch(At){et={apply:Q.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}M=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},w=n.support={},N=n.setDocument=function(e){var t=e?e.ownerDocument||e:H,n=t.defaultView;return t!==R&&9===t.nodeType&&t.documentElement?(R=t,C=t.documentElement,U=!M(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){N()}),w.attributes=a(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=a(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=a(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=a(function(e){return C.appendChild(e).id=j,!t.getElementsByName||!t.getElementsByName(j).length}),w.getById?(A.find.ID=function(e,t){if(typeof t.getElementById!==V&&U){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},A.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return n&&n.value===t}}),A.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},A.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&U?t.getElementsByClassName(e):void 0},L=[],F=[],(w.qsa=vt.test(t.querySelectorAll))&&(a(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||F.push("\\["+it+"*(?:value|"+rt+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),a(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&F.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=vt.test(I=C.webkitMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector||C.msMatchesSelector))&&a(function(e){w.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),L.push("!=",lt)}),F=F.length&&new RegExp(F.join("|")),L=L.length&&new RegExp(L.join("|")),P=vt.test(C.contains)||C.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},J=C.compareDocumentPosition?function(e,n){if(e===n)return $=!0,0;var r=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return r?1&r||!w.sortDetached&&n.compareDocumentPosition(e)===r?e===t||P(H,e)?-1:n===t||P(H,n)?1:O?nt.call(O,e)-nt.call(O,n):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,a=e.parentNode,o=n.parentNode,l=[e],c=[n];if(e===n)return $=!0,0;if(!a||!o)return e===t?-1:n===t?1:a?-1:o?1:O?nt.call(O,e)-nt.call(O,n):0;if(a===o)return s(e,n);for(r=e;r=r.parentNode;)l.unshift(r);for(r=n;r=r.parentNode;)c.unshift(r);for(;l[i]===c[i];)i++;return i?s(l[i],c[i]):l[i]===H?-1:c[i]===H?1:0},t):R},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&N(e),t=t.replace(gt,"='$1']"),!(!w.matchesSelector||!U||L&&L.test(t)||F&&F.test(t)))try{var r=I.call(e,t);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return n(t,R,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==R&&N(e),P(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==R&&N(e);var r=A.attrHandle[n.toLowerCase()],i=r&&G.call(A.attrHandle,n.toLowerCase())?r(e,n,!U):t;return i===t?w.attributes||!U?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,i=0;if($=!w.detectDuplicates,O=!w.sortStable&&e.slice(0),e.sort(J),$){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},x=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=x(t);return n},A=n.selectors={cacheLength:50,createPseudo:i,match:_t,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return _t.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&ft.test(r)&&(n=p(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(i){var a=n.attr(i,e);return null==a?"!="===t:t?(a+="","="===t?a===r:"!="===t?a!==r:"^="===t?r&&0===a.indexOf(r):"*="===t?r&&a.indexOf(r)>-1:"$="===t?r&&a.slice(-r.length)===r:"~="===t?(" "+a+" ").indexOf(r)>-1:"|="===t?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,g,f=a!==o?"nextSibling":"previousSibling",m=t.parentNode,_=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(m){if(a){for(;f;){for(d=t;d=d[f];)if(s?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;g=f="only"===e&&!g&&"nextSibling"}return!0}if(g=[o?m.firstChild:m.lastChild],o&&v){for(u=m[j]||(m[j]={}),c=u[e]||[],h=c[0]===z&&c[1],p=c[0]===z&&c[2],d=h&&m.childNodes[h];d=++h&&d&&d[f]||(p=h=0)||g.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[z,h,p];break}}else if(v&&(c=(t[j]||(t[j]={}))[e])&&c[0]===z)p=c[1];else for(;(d=++h&&d&&d[f]||(p=h=0)||g.pop())&&((s?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++p||(v&&((d[j]||(d[j]={}))[e]=[z,p]),d!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,t){var r,a=A.pseudos[e]||A.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return a[j]?a(t):a.length>1?(r=[e,e,"",t],A.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,n){for(var r,i=a(e,t),o=i.length;o--;)r=nt.call(e,i[o]),e[r]=!(n[r]=i[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(ct,"$1"));return r[j]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),!n.pop()}}),has:i(function(e){return function(t){return n(e,t).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:i(function(e){return mt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=U?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===C},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!A.pseudos.empty(e)},header:function(e){return Et.test(e.nodeName)},input:function(e){return bt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},A.pseudos.nth=A.pseudos.eq;for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[S]=l(S);for(S in{submit:!0,reset:!0})A.pseudos[S]=c(S);d.prototype=A.filters=A.pseudos,A.setFilters=new d,D=n.compile=function(e,t){var n,r=[],i=[],a=Y[e+" "];if(!a){for(t||(t=p(e)),n=t.length;n--;)a=v(t[n]),a[j]?r.push(a):i.push(a);a=Y(e,y(i,r))}return a},w.sortStable=j.split("").sort(J).join("")===j,w.detectDuplicates=$,N(),w.sortDetached=a(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),a(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&a(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),a(function(e){return null==e.getAttribute("disabled")})||o(rt,function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),ut.find=n,ut.expr=n.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=n.uniqueSort,ut.text=n.getText,ut.isXMLDoc=n.isXML,ut.contains=n.contains}(e);var At={};ut.Callbacks=function(e){e="string"==typeof e?At[e]||r(e):ut.extend({},e);var n,i,a,o,s,l,c=[],u=!e.once&&[],d=function(t){for(i=e.memory&&t,a=!0,s=l||0,l=0,o=c.length,n=!0;c&&o>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):i?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;!function r(t){ut.each(t,function(t,n){var i=ut.type(n);"function"===i?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==i&&r(n)})}(arguments),n?o=c.length:i&&(l=t,d(i))}return this},remove:function(){return c&&ut.each(arguments,function(e,t){for(var r;(r=ut.inArray(t,c,r))>-1;)c.splice(r,1),n&&(o>=r&&o--,s>=r&&s--)}),this},has:function(e){return e?ut.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],o=0,this},disable:function(){return c=u=i=t,this},disabled:function(){return!c},lock:function(){return u=t,i||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||a&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!a}};return p},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,a){var o=a[0],s=ut.isFunction(e[t])&&e[t];i[a[1]](function(){var e=s&&s.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,r):r}},i={};return r.pipe=r.then,ut.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=at.call(arguments),o=a.length,s=1!==o||e&&ut.isFunction(e.promise)?o:0,l=1===s?e:ut.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?at.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)a[i]&&ut.isFunction(a[i].promise)?a[i].promise().done(c(i,r,a)).fail(l.reject).progress(c(i,n,t)):--s;return s||l.resolveWith(r,a),l.promise()}}),ut.support=function(t){var n,r,i,a,o,s,l,c,u,d=G.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;a=G.createElement("select"),s=a.appendChild(G.createElement("option")),i=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!i.value,t.optSelected=s.selected,t.enctype=!!G.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==G.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}i=G.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),o=G.createDocumentFragment(),o.appendChild(i),t.appendChecked=i.checked,t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ut(t))break;return t.ownLast="0"!==u,ut(function(){var n,r,i,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",o=G.getElementsByTagName("body")[0];o&&(n=G.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=d.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(G.createElement("div")),r.style.cssText=d.style.cssText=a,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==V&&(d.innerHTML="",d.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(o.style.zoom=1)),o.removeChild(n),n=d=i=r=null)}),n=a=o=s=r=i=null,t}({});var xt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Mt=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!s(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var r,i,a=null,s=0,l=this[0];if(e===t){if(this.length&&(a=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(r=l.attributes;s<r.length;s++)i=r[s].name,0===i.indexOf("data-")&&(i=ut.camelCase(i.slice(5)),o(l,i,a[i]));ut._data(l,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):l?o(l,e,ut.data(l,e)):null},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ut._data(e,t),n&&(!r||ut.isArray(n)?r=ut._data(e,t,ut.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),r=n.length,i=n.shift(),a=ut._queueHooks(e,t),o=function(){ut.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,a=ut.Deferred(),o=this,s=this.length,l=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=ut._data(o[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),a.promise(n)}});var Dt,kt,Ot=/[\t\r\n\f]/g,Nt=/\r/g,Rt=/^(?:input|select|textarea|button|object)$/i,Ct=/^(?:a|area)$/i,Ut=/^(?:checked|selected)$/i,Ft=ut.support.getSetAttribute,Lt=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,a,o=0,s=this.length,l="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pt)||[];s>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ot," "):" ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=ut.trim(r)}return this},removeClass:function(e){var t,n,r,i,a,o=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pt)||[];s>o;o++)if(n=this[o],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Ot," "):"")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=e?ut.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=ut(this),a=e.match(pt)||[];t=a[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===V||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ot," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,a=this[0];{if(arguments.length)return i=ut.isFunction(e),this.each(function(n){var a;1===this.nodeType&&(a=i?e.call(this,n,ut(this).val()):e,null==a?a="":"number"==typeof a?a+="":ut.isArray(a)&&(a=ut.map(a,function(e){return null==e?"":e+""})),r=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,a,"value")!==t||(this.value=a))});if(a)return r=ut.valHooks[a.type]||ut.valHooks[a.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(a,"value"))!==t?n:(n=a.value,"string"==typeof n?n.replace(Nt,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=ut.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,o=a?null:[],s=a?i+1:r.length,l=0>i?s:a?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,a=ut.makeArray(t),o=i.length;o--;)r=i[o],(r.selected=ut.inArray(ut(r).val(),a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}},attr:function(e,n,r){var i,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===V?ut.prop(e,n,r):(1===o&&ut.isXMLDoc(e)||(n=n.toLowerCase(),i=ut.attrHooks[n]||(ut.expr.match.bool.test(n)?kt:Dt)),r===t?i&&"get"in i&&null!==(a=i.get(e,n))?a:(a=ut.find.attr(e,n),null==a?t:a):null!==r?i&&"set"in i&&(a=i.set(e,r,n))!==t?a:(e.setAttribute(n,r+""),r):(ut.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,r,i=0,a=t&&t.match(pt);if(a&&1===e.nodeType)for(;n=a[i++];)r=ut.propFix[n]||n,ut.expr.match.bool.test(n)?Lt&&Ft||!Ut.test(n)?e[r]=!1:e[ut.camelCase("default-"+n)]=e[r]=!1:ut.attr(e,n,""),e.removeAttribute(Ft?n:r)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!ut.isXMLDoc(e),o&&(n=ut.propFix[n]||n,a=ut.propHooks[n]),r!==t?a&&"set"in a&&(i=a.set(e,r,n))!==t?i:e[n]=r:a&&"get"in a&&null!==(i=a.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=ut.find.attr(e,"tabindex");return t?parseInt(t,10):Rt.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:-1}}}}),kt={set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Lt&&Ft||!Ut.test(n)?e.setAttribute(!Ft&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ut.expr.attrHandle[n]||ut.find.attr;ut.expr.attrHandle[n]=Lt&&Ft||!Ut.test(n)?function(e,n,i){var a=ut.expr.attrHandle[n],o=i?t:(ut.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return ut.expr.attrHandle[n]=a,o}:function(e,n,r){return r?t:e[ut.camelCase("default-"+n)]?n.toLowerCase():null}}),Lt&&Ft||(ut.attrHooks.value={set:function(e,t,n){return ut.nodeName(e,"input")?(e.defaultValue=t,void 0):Dt&&Dt.set(e,t,n)}}),Ft||(Dt={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},ut.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:Dt.set},ut.attrHooks.contenteditable={set:function(e,t,n){Dt.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,t){ut.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""
}}),ut.support.optSelected||(ut.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(e,t){return ut.isArray(t)?e.checked=ut.inArray(ut(e).val(),t)>=0:void 0}},ut.support.checkOn||(ut.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var It=/^(?:input|select|textarea)$/i,Pt=/^key/,jt=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,zt=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,r,i,a){var o,s,l,c,u,d,p,h,g,f,m,_=ut._data(e);if(_){for(r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=ut.guid++),(s=_.events)||(s=_.events={}),(d=_.handle)||(d=_.handle=function(e){return typeof ut===V||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(pt)||[""],l=n.length;l--;)o=zt.exec(n[l])||[],g=m=o[1],f=(o[2]||"").split(".").sort(),g&&(u=ut.event.special[g]||{},g=(a?u.delegateType:u.bindType)||g,u=ut.event.special[g]||{},p=ut.extend({type:g,origType:m,data:i,handler:r,guid:r.guid,selector:a,needsContext:a&&ut.expr.match.needsContext.test(a),namespace:f.join(".")},c),(h=s[g])||(h=s[g]=[],h.delegateCount=0,u.setup&&u.setup.call(e,i,f,d)!==!1||(e.addEventListener?e.addEventListener(g,d,!1):e.attachEvent&&e.attachEvent("on"+g,d))),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,p):h.push(p),ut.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var a,o,s,l,c,u,d,p,h,g,f,m=ut.hasData(e)&&ut._data(e);if(m&&(u=m.events)){for(t=(t||"").match(pt)||[""],c=t.length;c--;)if(s=zt.exec(t[c])||[],h=f=s[1],g=(s[2]||"").split(".").sort(),h){for(d=ut.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,p=u[h]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=p.length;a--;)o=p[a],!i&&f!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(p.splice(a,1),o.selector&&p.delegateCount--,d.remove&&d.remove.call(e,o));l&&!p.length&&(d.teardown&&d.teardown.call(e,g,m.handle)!==!1||ut.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)ut.event.remove(e,h+t[c],n,r,!0);ut.isEmptyObject(u)&&(delete m.handle,ut._removeData(e,"events"))}},trigger:function(n,r,i,a){var o,s,l,c,u,d,p,h=[i||G],g=lt.call(n,"type")?n.type:n,f=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=d=i=i||G,3!==i.nodeType&&8!==i.nodeType&&!Ht.test(g+ut.event.triggered)&&(g.indexOf(".")>=0&&(f=g.split("."),g=f.shift(),f.sort()),s=g.indexOf(":")<0&&"on"+g,n=n[ut.expando]?n:new ut.Event(g,"object"==typeof n&&n),n.isTrigger=a?2:3,n.namespace=f.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:ut.makeArray(r,[n]),u=ut.event.special[g]||{},a||!u.trigger||u.trigger.apply(i,r)!==!1)){if(!a&&!u.noBubble&&!ut.isWindow(i)){for(c=u.delegateType||g,Ht.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),d=l;d===(i.ownerDocument||G)&&h.push(d.defaultView||d.parentWindow||e)}for(p=0;(l=h[p++])&&!n.isPropagationStopped();)n.type=p>1?c:u.bindType||g,o=(ut._data(l,"events")||{})[n.type]&&ut._data(l,"handle"),o&&o.apply(l,r),o=s&&l[s],o&&ut.acceptData(l)&&o.apply&&o.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!a&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),r)===!1)&&ut.acceptData(i)&&s&&i[g]&&!ut.isWindow(i)){d=i[s],d&&(i[s]=null),ut.event.triggered=g;try{i[g]()}catch(m){}ut.event.triggered=t,d&&(i[s]=d)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,r,i,a,o,s=[],l=at.call(arguments),c=(ut._data(this,"events")||{})[e.type]||[],u=ut.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=ut.event.handlers.call(this,e,c),n=0;(a=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,o=0;(i=a.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((ut.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,a,o,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(a=[],o=0;l>o;o++)i=n[o],r=i.selector+" ",a[r]===t&&(a[r]=i.needsContext?ut(r,this).index(c)>=0:ut.find(r,this,null,[c]).length),a[r]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[ut.expando])return e;var t,n,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=jt.test(i)?this.mouseHooks:Pt.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new ut.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||G),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||G,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ut.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ut.event.trigger(i,null,t):ut.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=G.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===V&&(e[r]=null),e.detachEvent(r,n))},ut.Event=function(e,t){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&ut.extend(this,t),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,void 0):new ut.Event(e,t)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return(!i||i!==r&&!ut.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;r&&!ut._data(r,"submitBubbles")&&(ut.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(r,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),void 0)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return It.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;It.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ut.event.remove(this,"._change"),!It.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&G.addEventListener(e,r,!0)},teardown:function(){0===--n&&G.removeEventListener(e,r,!0)}}}),ut.fn.extend({on:function(e,n,r,i,a){var o,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],a);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=c;else if(!i)return this;return 1===a&&(s=i,i=function(e){return ut().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,a;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ut(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=c),this.each(function(){ut.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ut.event.trigger(e,t,n,!0):void 0}});var Wt=/^.[^:#\[\.,]*$/,Bt=/^(?:parents|prev(?:Until|All))/,Kt=ut.expr.match.needsContext,Yt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ut(e).filter(function(){for(t=0;i>t;t++)if(ut.contains(r[t],this))return!0}));for(t=0;i>t;t++)ut.find(e,r[t],n);return n=this.pushStack(i>1?ut.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ut(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(p(this,e||[],!0))},filter:function(e){return this.pushStack(p(this,e||[],!1))},is:function(e){return!!p(this,"string"==typeof e&&Kt.test(e)?ut(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=Kt.test(e)||"string"!=typeof e?ut(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&ut.find.matchesSelector(n,e))){n=a.push(n);break}return this.pushStack(a.length>1?ut.unique(a):a)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),r=ut.merge(this.get(),n);return this.pushStack(ut.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,r){var i=ut.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ut.filter(r,i)),this.length>1&&(Yt[e]||(i=ut.unique(i)),Bt.test(e)&&(i=i.reverse())),this.pushStack(i)}}),ut.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ut.find.matchesSelector(r,e)?[r]:[]:ut.find.matches(e,ut.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var i=[],a=e[n];a&&9!==a.nodeType&&(r===t||1!==a.nodeType||!ut(a).is(r));)1===a.nodeType&&i.push(a),a=a[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var $t="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Jt=/ jQuery\d+="(?:null|\d+)"/g,Vt=new RegExp("<(?:"+$t+")[\\s/>]","i"),qt=/^\s+/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Xt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,an=/^true\/(.*)/,on=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(G),cn=ln.appendChild(G.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||G).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=g(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ut.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ut.cleanData(b(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&_(b(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Jt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Vt.test(e)||!ut.support.leadingWhitespace&&qt.test(e)||sn[(Qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Gt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(ut.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ut.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),ut(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=rt.apply([],e);var r,i,a,o,s,l,c=0,u=this.length,d=this,p=u-1,h=e[0],g=ut.isFunction(h);if(g||!(1>=u||"string"!=typeof h||ut.support.checkClone)&&nn.test(h))return this.each(function(r){var i=d.eq(r);g&&(e[0]=h.call(this,r,i.html())),i.domManip(e,t,n)});if(u&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(o=ut.map(b(l,"script"),f),a=o.length;u>c;c++)i=l,c!==p&&(i=ut.clone(i,!0,!0),a&&ut.merge(o,b(i,"script"))),t.call(this[c],i,c);if(a)for(s=o[o.length-1].ownerDocument,ut.map(o,m),c=0;a>c;c++)i=o[c],rn.test(i.type||"")&&!ut._data(i,"globalEval")&&ut.contains(s,i)&&(i.src?ut._evalUrl(i.src):ut.globalEval((i.text||i.textContent||i.innerHTML||"").replace(on,"")));l=r=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,r=0,i=[],a=ut(e),o=a.length-1;o>=r;r++)n=r===o?this:this.clone(!0),ut(a[r])[t](n),it.apply(i,n.get());return this.pushStack(i)}}),ut.extend({clone:function(e,t,n){var r,i,a,o,s,l=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Vt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(a=cn.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(r=b(a),s=b(e),o=0;null!=(i=s[o]);++o)r[o]&&y(i,r[o]);if(t)if(n)for(s=s||b(e),r=r||b(a),o=0;null!=(i=s[o]);o++)v(i,r[o]);else v(e,a);return r=b(a,"script"),r.length>0&&_(r,!l&&b(e,"script")),r=s=i=null,a},buildFragment:function(e,t,n,r){for(var i,a,o,s,l,c,u,d=e.length,p=h(t),g=[],f=0;d>f;f++)if(a=e[f],a||0===a)if("object"===ut.type(a))ut.merge(g,a.nodeType?[a]:a);else if(Zt.test(a)){for(s=s||p.appendChild(t.createElement("div")),l=(Qt.exec(a)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+a.replace(Gt,"<$1></$2>")+u[2],i=u[0];i--;)s=s.lastChild;if(!ut.support.leadingWhitespace&&qt.test(a)&&g.push(t.createTextNode(qt.exec(a)[0])),!ut.support.tbody)for(a="table"!==l||Xt.test(a)?"<table>"!==u[1]||Xt.test(a)?0:s:s.firstChild,i=a&&a.childNodes.length;i--;)ut.nodeName(c=a.childNodes[i],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(ut.merge(g,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else g.push(t.createTextNode(a));for(s&&p.removeChild(s),ut.support.appendChecked||ut.grep(b(g,"input"),E),f=0;a=g[f++];)if((!r||-1===ut.inArray(a,r))&&(o=ut.contains(a.ownerDocument,a),s=b(p.appendChild(a),"script"),o&&_(s),n))for(i=0;a=s[i++];)rn.test(a.type||"")&&n.push(a);return s=null,p},cleanData:function(e,t){for(var n,r,i,a,o=0,s=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(n=e[o]);o++)if((t||ut.acceptData(n))&&(i=n[s],a=i&&l[i])){if(a.events)for(r in a.events)u[r]?ut.event.remove(n,r):ut.removeEvent(n,r,a.handle);l[i]&&(delete l[i],c?delete n[s]:typeof n.removeAttribute!==V?n.removeAttribute(s):n[s]=null,tt.push(i))}},_evalUrl:function(e){return ut.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var un,dn,pn,hn=/alpha\([^)]*\)/i,gn=/opacity\s*=\s*([^)]*)/,fn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,_n=/^margin/,vn=new RegExp("^("+dt+")(.*)$","i"),yn=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),bn=new RegExp("^([+-])=("+dt+")","i"),En={BODY:"block"},Sn={position:"absolute",visibility:"hidden",display:"block"},wn={letterSpacing:0,fontWeight:400},Tn=["Top","Right","Bottom","Left"],An=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,r){var i,a,o={},s=0;if(ut.isArray(n)){for(a=dn(e),i=n.length;i>s;s++)o[n[s]]=ut.css(e,n[s],!1,a);return o}return r!==t?ut.style(e,n,r):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){w(this)?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=ut.camelCase(n),c=e.style;if(n=ut.cssProps[l]||(ut.cssProps[l]=S(c,l)),s=ut.cssHooks[n]||ut.cssHooks[l],r===t)return s&&"get"in s&&(a=s.get(e,!1,i))!==t?a:c[n];if(o=typeof r,"string"===o&&(a=bn.exec(r))&&(r=(a[1]+1)*a[2]+parseFloat(ut.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"!==o||ut.cssNumber[l]||(r+="px"),ut.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{c[n]=r}catch(u){}}},css:function(e,n,r,i){var a,o,s,l=ut.camelCase(n);return n=ut.cssProps[l]||(ut.cssProps[l]=S(e.style,l)),s=ut.cssHooks[n]||ut.cssHooks[l],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=pn(e,n,i)),"normal"===o&&n in wn&&(o=wn[n]),""===r||r?(a=parseFloat(o),r===!0||ut.isNumeric(a)?a||0:o):o}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},pn=function(e,n,r){var i,a,o,s=r||dn(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||ut.contains(e.ownerDocument,e)||(l=ut.style(e,n)),yn.test(l)&&_n.test(n)&&(i=c.width,a=c.minWidth,o=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=i,c.minWidth=a,c.maxWidth=o)),l}):G.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},pn=function(e,n,r){var i,a,o,s=r||dn(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),yn.test(l)&&!fn.test(n)&&(i=c.left,a=e.runtimeStyle,o=a&&a.left,o&&(a.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=i,o&&(a.left=o)),""===l?"auto":l}),ut.each(["height","width"],function(e,t){ut.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&mn.test(ut.css(e,"display"))?ut.swap(e,Sn,function(){return M(e,t,r)}):M(e,t,r):void 0},set:function(e,n,r){var i=r&&dn(e);return A(e,n,r?x(e,t,r,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,i),i):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return gn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(a.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=hn.test(a)?a.replace(hn,i):a+" "+i)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,t){return t?ut.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):void 0}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,t){ut.cssHooks[t]={get:function(e,n){return n?(n=pn(e,t),yn.test(n)?ut(e).position()[t]+"px":n):void 0}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Tn[r]+t]=a[r]||a[r-2]||a[0];return i}},_n.test(e)||(ut.cssHooks[e+t].set=A)});var xn=/%20/g,Mn=/\[\]$/,Dn=/\r?\n/g,kn=/^(?:submit|button|image|reset|file)$/i,On=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&On.test(this.nodeName)&&!kn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(Dn,"\r\n")}}):{name:t.name,value:n.replace(Dn,"\r\n")}}).get()}}),ut.param=function(e,n){var r,i=[],a=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){a(this.name,this.value)});else for(r in e)O(r,e[r],n,a);return i.join("&").replace(xn,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Nn,Rn,Cn=ut.now(),Un=/\?/,Fn=/#.*$/,Ln=/([?&])_=[^&]*/,In=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Hn=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Wn=ut.fn.load,Bn={},Kn={},Yn="*/".concat("*");try{Rn=q.href}catch($n){Rn=G.createElement("a"),Rn.href="",Rn=Rn.href}Nn=zn.exec(Rn.toLowerCase())||[],ut.fn.load=function(e,n,r){if("string"!=typeof e&&Wn)return Wn.apply(this,arguments);var i,a,o,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),ut.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(o="POST"),s.length>0&&ut.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?ut("<div>").append(ut.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,a||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:Pn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?C(C(e,ut.ajaxSettings),t):C(ut.ajaxSettings,e)},ajaxPrefilter:N(Bn),ajaxTransport:N(Kn),ajax:function(e,n){function r(e,n,r,i){var a,d,v,y,E,w=n;2!==b&&(b=2,l&&clearTimeout(l),u=t,s=i||"",S.readyState=e>0?4:0,a=e>=200&&300>e||304===e,r&&(y=U(p,S,r)),y=F(p,y,S,a),a?(p.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(ut.lastModified[o]=E),E=S.getResponseHeader("etag"),E&&(ut.etag[o]=E)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=y.state,d=y.data,v=y.error,a=!v)):(v=w,(e||!w)&&(w="error",0>e&&(e=0))),S.status=e,S.statusText=(n||w)+"",a?f.resolveWith(h,[d,w,S]):f.rejectWith(h,[S,w,v]),S.statusCode(_),_=t,c&&g.trigger(a?"ajaxSuccess":"ajaxError",[S,p,a?d:v]),m.fireWith(h,[S,w]),c&&(g.trigger("ajaxComplete",[S,p]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,a,o,s,l,c,u,d,p=ut.ajaxSetup({},n),h=p.context||p,g=p.context&&(h.nodeType||h.jquery)?ut(h):ut.event,f=ut.Deferred(),m=ut.Callbacks("once memory"),_=p.statusCode||{},v={},y={},b=0,E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=In.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)_[t]=[_[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||E;return u&&u.abort(t),r(0,t),this}};if(f.promise(S).complete=m.add,S.success=S.done,S.error=S.fail,p.url=((e||p.url||Rn)+"").replace(Fn,"").replace(Hn,Nn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ut.trim(p.dataType||"*").toLowerCase().match(pt)||[""],null==p.crossDomain&&(i=zn.exec(p.url.toLowerCase()),p.crossDomain=!(!i||i[1]===Nn[1]&&i[2]===Nn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ut.param(p.data,p.traditional)),R(Bn,p,n,S),2===b)return S;c=p.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!jn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(Un.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Ln.test(o)?o.replace(Ln,"$1_="+Cn++):o+(Un.test(o)?"&":"?")+"_="+Cn++)),p.ifModified&&(ut.lastModified[o]&&S.setRequestHeader("If-Modified-Since",ut.lastModified[o]),ut.etag[o]&&S.setRequestHeader("If-None-Match",ut.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Yn+"; q=0.01":""):p.accepts["*"]);for(a in p.headers)S.setRequestHeader(a,p.headers[a]);if(p.beforeSend&&(p.beforeSend.call(h,S,p)===!1||2===b))return S.abort();E="abort";for(a in{success:1,error:1,complete:1})S[a](p[a]);if(u=R(Kn,p,n,S)){S.readyState=1,c&&g.trigger("ajaxSend",[S,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){S.abort("timeout")},p.timeout));try{b=1,u.send(v,r)}catch(w){if(!(2>b))throw w;r(-1,w)}}else r(-1,"No Transport");return S},getJSON:function(e,t,n){return ut.get(e,t,n,"json")},getScript:function(e,n){return ut.get(e,t,n,"script")}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,r,i,a){return ut.isFunction(r)&&(a=a||i,i=r,r=t),ut.ajax({url:e,type:n,dataType:a,data:r,success:i})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)
}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=G.head||ut("head")[0]||G.documentElement;return{send:function(t,i){n=G.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Jn=[],Vn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jn.pop()||ut.expando+"_"+Cn++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,r,i){var a,o,s,l=n.jsonp!==!1&&(Vn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Vn,"$1"+a):n.jsonp!==!1&&(n.url+=(Un.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||ut.error(a+" was not called"),s[0]},n.dataTypes[0]="json",o=e[a],e[a]=function(){s=arguments},i.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=r.jsonpCallback,Jn.push(a)),s&&ut.isFunction(o)&&o(s[0]),s=o=t}),"script"):void 0});var qn,Gn,Qn=0,Xn=e.ActiveXObject&&function(){var e;for(e in qn)qn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&L()||I()}:L,Gn=ut.ajaxSettings.xhr(),ut.support.cors=!!Gn&&"withCredentials"in Gn,Gn=ut.support.ajax=!!Gn,Gn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var r;return{send:function(i,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(c){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,c,u,d;try{if(r&&(i||4===l.readyState))if(r=t,o&&(l.onreadystatechange=ut.noop,Xn&&delete qn[o]),i)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(p){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(h){i||a(-1,h)}d&&a(s,u,d,c)},n.async?4===l.readyState?setTimeout(r):(o=++Qn,Xn&&(qn||(qn={},ut(e).unload(Xn)),qn[o]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Zn,er,tr=/^(?:toggle|show|hide)$/,nr=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),rr=/queueHooks$/,ir=[W],ar={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=nr.exec(t),a=i&&i[3]||(ut.cssNumber[e]?"":"px"),o=(ut.cssNumber[e]||"px"!==a&&+r)&&nr.exec(ut.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do s=s||".5",o/=s,ut.style(n.elem,e,o+a);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(o=n.start=+o||+r||0,n.unit=a,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};ut.Animation=ut.extend(H,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],ar[n]=ar[n]||[],ar[n].unshift(t)},prefilter:function(e,t){t?ir.unshift(e):ir.push(e)}}),ut.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(ut.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(K(t,!0),e,r,i)}}),ut.fn.extend({fadeTo:function(e,t,n,r){return this.filter(w).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ut.isEmptyObject(e),a=ut.speed(t,n,r),o=function(){var t=H(this,ut.extend({},e),a);(i||ut._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=ut.timers,o=ut._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&rr.test(n)&&i(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(r),t=!1,a.splice(n,1));(t||!r)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=ut.timers,o=r?r.length:0;for(n.finish=!0,ut.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ut.speed=function(e,t,n){var r=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return r.duration=ut.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ut.fx.speeds?ut.fx.speeds[r.duration]:ut.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ut.isFunction(r.old)&&r.old.call(this),r.queue&&ut.dequeue(this,r.queue)},r},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=B.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,r=0;for(Zn=ut.now();r<n.length;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ut.fx.stop(),Zn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){er||(er=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(er),er=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,r,i={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return n=o.documentElement,ut.contains(n,a)?(typeof a.getBoundingClientRect!==V&&(i=a.getBoundingClientRect()),r=Y(o),{top:i.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},ut.offset={setOffset:function(e,t,n){var r=ut.css(e,"position");"static"===r&&(e.style.position="relative");var i,a,o=ut(e),s=o.offset(),l=ut.css(e,"top"),c=ut.css(e,"left"),u=("absolute"===r||"fixed"===r)&&ut.inArray("auto",[l,c])>-1,d={},p={};u?(p=o.position(),i=p.top,a=p.left):(i=parseFloat(l)||0,a=parseFloat(c)||0),ut.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+i),null!=t.left&&(d.left=t.left-s.left+a),"using"in t?t.using.call(e,d):o.css(d)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ut.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(r,"marginTop",!0),left:t.left-n.left-ut.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||Q})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);ut.fn[e]=function(i){return ut.access(this,function(e,i,a){var o=Y(e);return a===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(r?ut(o).scrollLeft():a,r?a:ut(o).scrollTop()):e[i]=a,void 0)},e,i,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){ut.fn[i]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||a===!0?"margin":"border");return ut.access(this,function(n,r,i){var a;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):i===t?ut.css(n,r,s):ut.style(n,r,i,s)},n,o?i:t,o,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ut:(e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window),/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.9
 *
 * Requires: jQuery 1.2.2+
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,s=l.call(arguments,1),c=0,u=0,d=0,p=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(d=-1*o.detail),"wheelDelta"in o&&(d=o.wheelDelta),"wheelDeltaY"in o&&(d=o.wheelDeltaY),"wheelDeltaX"in o&&(u=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=-1*d,d=0),c=0===d?u:d,"deltaY"in o&&(d=-1*o.deltaY,c=d),"deltaX"in o&&(u=o.deltaX,0===d&&(c=-1*u)),0!==d||0!==u){if(1===o.deltaMode){var h=e.data(this,"mousewheel-line-height");c*=h,d*=h,u*=h}else if(2===o.deltaMode){var g=e.data(this,"mousewheel-page-height");c*=g,d*=g,u*=g}return p=Math.max(Math.abs(d),Math.abs(u)),(!a||a>p)&&(a=p,r(o,p)&&(a/=40)),r(o,p)&&(c/=40,u/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/a),u=Math[u>=1?"floor":"ceil"](u/a),d=Math[d>=1?"floor":"ceil"](d/a),t.deltaX=u,t.deltaY=d,t.deltaFactor=a,t.deltaMode=0,s.unshift(t,c,u,d),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){a=null}function r(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),/**
 * PreventSwipes v0.0.1
 *  A jQuery Plugin that prevents forward/back swipe gestures.
 *
 * Intended for use with the latest jQuery
 *  http://code.jquery.com/jquery-latest.js
 *  
 * Copyright 2013, Andy Niccolai
 * Licensed under the MIT license.
 *  https://github.com/x-andy/jquery-prevent-swipes/blob/master/LICENSE
 *
 * Date: Tuesday, December 24th 2013
 */
function(e,t,n,r){"use strict";function i(e){return null===e.parentElement}function a(e){return e.scrollWidth>e.clientWidth}function o(e,t){return 0>t&&e.scrollLeft()>0}function s(e,t,n){return n>0&&e.scrollLeft()<t.scrollWidth-t.clientWidth}function l(e){return e.scrollHeight>e.clientHeight}function c(e,t){return t>0&&e.scrollTop()>0}function u(e,t,n){return 0>n&&e.scrollTop()<t.scrollHeight-t.clientHeight}function d(e,t){var n="overflow-"+t;return"auto"===e.css(n)||"scroll"===e.css(n)}function p(e,t,n){var r=e.get(0);return i(r)?!1:a(r)&&(o(e,t)||s(e,r,t))&&d(e,"x")||l(r)&&(c(e,n)||u(e,r,n))&&d(e,"y")||p(e.parent(),t,n)}function h(e){p(r(e.target),e.deltaX,e.deltaY)||e.preventDefault()}function g(e){return r(this).each(function(){void 0===e?r(this).off(m,h):r(this).off(m,e,h)})}function f(e){return r(this).each(function(){g(e),void 0===e?r(this).on(m,h):r(this).on(m,e,h)})}var m="mousewheel";r.extend(n,{allowSwipes:g,preventSwipes:f})}(window,document,jQuery.fn,jQuery),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(e,t){for(var n=e.criteria,r=t.criteria,i=-1,a=n.length;++i<a;){var o=n[i],s=r[i];if(o!==s){if(o>s||"undefined"==typeof o)return 1;if(s>o||"undefined"==typeof s)return-1}}return e.index-t.index}function n(e){return"\\"+rr[e]}function r(){return Mn.pop()||[]}function i(){return Dn.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function a(e){e.length=0,Mn.length<Rn&&Mn.push(e)}function o(e){var t=e.cache;t&&o(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,Dn.length<Rn&&Dn.push(e)}function s(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,a=Array(0>i?0:i);++r<i;)a[r]=e[t+r];return a}function l(e){return e instanceof l?e:new c(e)}function c(e,t){this.__chain__=!!t,this.__wrapped__=e}function u(e){function t(){if(r){var e=s(r);yr.apply(e,arguments)}if(this instanceof t){var a=p(n.prototype),o=n.apply(a,e||arguments);return $(o)?o:a}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return t}function d(e,t,n,i,o){if(n){var l=n(e);if("undefined"!=typeof l)return l}var c=$(e);if(!c)return e;var u=hr.call(e);if(!Zn[u])return e;var p=Nr[u];switch(u){case $n:case Jn:return new p(+e);case qn:case Xn:return new p(e);case Qn:return l=p(e.source,Pn.exec(e)),l.lastIndex=e.lastIndex,l}var h=Ur(e);if(t){var g=!i;i||(i=r()),o||(o=r());for(var f=i.length;f--;)if(i[f]==e)return o[f];l=h?p(e.length):{}}else l=h?s(e):O({},e);return h&&(vr.call(e,"index")&&(l.index=e.index),vr.call(e,"input")&&(l.input=e.input)),t?(i.push(e),o.push(l),(h?dt:Kr)(e,function(e,r){l[r]=d(e,t,n,i,o)}),g&&(a(i),a(o)),l):l}function p(e){return $(e)?Sr(e):{}}function h(e,t,n){if("function"!=typeof e)return dn;if("undefined"==typeof t||!("prototype"in e))return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return Vt(e,t)}function g(e){function t(){var e=c?o:this;if(i){var m=s(i);yr.apply(m,arguments)}if((a||d)&&(m||(m=s(arguments)),a&&yr.apply(m,a),d&&m.length<l))return r|=16,g([n,h?r:-4&r,m,null,o,l]);if(m||(m=arguments),u&&(n=e[f]),this instanceof t){e=p(n.prototype);var _=n.apply(e,m);return $(_)?_:e}return n.apply(e,m)}var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],c=1&r,u=2&r,d=4&r,h=8&r,f=n;return t}function f(e,t){for(var n=-1,r=A(),i=e?e.length:0,a=[];++n<i;){var o=e[n];r(t,o)<0&&a.push(o)}return a}function m(e,t,n,r){for(var i=(r||0)-1,a=e?e.length:0,o=[];++i<a;){var s=e[i];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Ur(s)||k(s))){t||(s=m(s,t,n));var l=-1,c=s.length,u=o.length;for(o.length+=c;++l<c;)o[u++]=s[l]}else n||o.push(s)}return o}function _(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;var i=typeof e,a=typeof t;if(!(e!==e||e&&nr[i]||t&&nr[a]))return!1;if(null==e||null==t)return e===t;var o=hr.call(e),s=hr.call(t);if(o!=s)return!1;switch(o){case $n:case Jn:return+e==+t;case qn:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case Qn:case Xn:return e==String(t)}var c=o==Yn;if(!c){var u=e instanceof l,d=t instanceof l;if(u||d)return _(u?e.__wrapped__:e,d?t.__wrapped__:t,n,r);if(o!=Gn)return!1;var p=e.constructor,h=t.constructor;if(p!=h&&!(Y(p)&&p instanceof p&&Y(h)&&h instanceof h)&&"constructor"in e&&"constructor"in t)return!1}n||(n=[]),r||(r=[]);for(var g=n.length;g--;)if(n[g]==e)return r[g]==t;var f=!0,m=0;if(n.push(e),r.push(t),c){if(m=t.length,f=m==e.length)for(;m--&&(f=_(e[m],t[m],n,r)););}else Br(t,function(t,i,a){return vr.call(a,i)?(m++,f=vr.call(e,i)&&_(e[i],t,n,r)):void 0}),f&&Br(e,function(e,t,n){return vr.call(n,t)?f=--m>-1:void 0});return n.pop(),r.pop(),f}function v(e,t,n,r,i){(Ur(t)?dt:Kr)(t,function(t,a){var o,s,l=t,c=e[a];if(t&&((s=Ur(t))||Yr(t))){for(var u=r.length;u--;)if(o=r[u]==t){c=i[u];break}if(!o){var d;n&&(l=n(c,t),(d="undefined"!=typeof l)&&(c=l)),d||(c=s?Ur(c)?c:[]:Yr(c)?c:{}),r.push(t),i.push(c),d||v(c,t,n,r,i)}}else n&&(l=n(c,t),"undefined"==typeof l&&(l=t)),"undefined"!=typeof l&&(c=l);e[a]=c})}function y(e,t){return e+mr(Or()*(t-e+1))}function b(e,t,n){for(var r=-1,i=A(),a=e?e.length:0,o=[],s=n?[]:o;++r<a;){var l=e[r],c=n?n(l,r,e):l;(t?!r||s[s.length-1]!==c:i(s,c)<0)&&(n&&s.push(c),o.push(l))}return o}function E(e){return function(t,n,r){var i={};n=l.createCallback(n,r,3);var a=-1,o=t?t.length:0;if("number"==typeof o)for(;++a<o;){var s=t[a];e(i,s,n(s,a,t),t)}else Kr(t,function(t,r,a){e(i,t,n(t,r,a),a)});return i}}function S(e,t,n,r,i,a){var o=2&t,s=16&t,l=32&t;if(!o&&!Y(e))throw new TypeError;s&&!n.length&&(t&=-17,s=n=!1),l&&!r.length&&(t&=-33,l=r=!1);var c=1==t||17===t?u:g;return c([e,t,n,r,i,a])}function w(){tr.array=tr.bottom=tr.loop=tr.top="",tr.init="iterable",tr.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)tr[n]=e[n];var r=tr.args;tr.firstArg=/^[^,]+/.exec(r)[0];var i=Function("baseCreateCallback, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, stringClass, stringProto, toString","return function("+r+") {\n"+Cr(tr)+"\n}");return i(h,vr,On,k,Ur,Q,tr.keys,ur,nr,Xn,dr,hr)}function T(e){return jr[e]}function A(){var t=(t=l.indexOf)===Nt?e:t;return t}function x(e){return"function"==typeof e&&gr.test(e)}function M(e){var t,n;return e&&hr.call(e)==Gn&&(t=e.constructor,!Y(t)||t instanceof t)?(Br(e,function(e,t){n=t}),"undefined"==typeof n||vr.call(e,n)):!1}function D(e){return Hr[e]}function k(e){return e&&"object"==typeof e&&"number"==typeof e.length&&hr.call(e)==Kn||!1}function O(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r)e[i]=r[i]}return e}function N(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),d(e,t,"function"==typeof n&&h(n,r,1))}function R(e,t,n){return d(e,!0,"function"==typeof t&&h(t,n,1))}function C(e,t){var n=p(e);return t?O(n,t):n}function U(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];if(r)for(var i in r)"undefined"==typeof e[i]&&(e[i]=r[i])}return e}function F(e,t,n){var r;return t=l.createCallback(t,n,3),Kr(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function L(e){var t=[];return Br(e,function(e,n){Y(e)&&t.push(n)}),t.sort()}function I(e,t){return e?vr.call(e,t):!1}function P(e){for(var t=-1,n=Lr(e),r=n.length,i={};++t<r;){var a=n[t];i[e[a]]=a}return i}function j(e){return e===!0||e===!1||e&&"object"==typeof e&&hr.call(e)==$n||!1}function H(e){return e&&"object"==typeof e&&hr.call(e)==Jn||!1}function z(e){return e&&1===e.nodeType||!1}function W(e){if(!e)return!0;if(Ur(e)||Q(e))return!e.length;for(var t in e)if(vr.call(e,t))return!1;return!0}function B(e,t){return _(e,t)}function K(e){return Tr(e)&&!Ar(parseFloat(e))}function Y(e){return"function"==typeof e}function $(e){return!(!e||!nr[typeof e])}function J(e){return q(e)&&e!=+e}function V(e){return null===e}function q(e){return"number"==typeof e||e&&"object"==typeof e&&hr.call(e)==qn||!1}function G(e){return e&&nr[typeof e]&&hr.call(e)==Qn||!1}function Q(e){return"string"==typeof e||e&&"object"==typeof e&&hr.call(e)==Xn||!1}function X(e){return"undefined"==typeof e}function Z(e,t,n){var r={};return t=l.createCallback(t,n,3),Kr(e,function(e,n,i){r[n]=t(e,n,i)}),r}function et(e){var t=arguments,n=2;if(!$(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var i=h(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(i=t[--n]);for(var o=s(arguments,1,n),l=-1,c=r(),u=r();++l<n;)v(e,o[l],i,c,u);return a(c),a(u),e}function tt(e){var t=[];Br(e,function(e,n){t.push(n)}),t=f(t,m(arguments,!0,!1,1));for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];i[a]=e[a]}return i}function nt(e){for(var t=-1,n=Lr(e),r=n.length,i=Array(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function rt(e){for(var t=-1,n=m(arguments,!0,!1,1),r=n.length,i={};++t<r;){var a=n[t];a in e&&(i[a]=e[a])}return i}function it(e,t,n,r){var i=Ur(e);if(null==n)if(i)n=[];else{var a=e&&e.constructor,o=a&&a.prototype;n=p(o)}return t&&(t=l.createCallback(t,r,4),(i?dt:Kr)(e,function(e,r,i){return t(n,e,r,i)})),n}function at(e){for(var t=-1,n=Lr(e),r=n.length,i=Array(r);++t<r;)i[t]=e[n[t]];return i}function ot(e){for(var t=arguments,n=-1,r=m(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,a=Array(i);++n<i;)a[n]=e[r[n]];return a}function st(e,t,n){var r=-1,i=A(),a=e?e.length:0,o=!1;return n=(0>n?Mr(0,a+n):n)||0,Ur(e)?o=i(e,t,n)>-1:"number"==typeof a?o=(Q(e)?e.indexOf(t,n):i(e,t,n))>-1:Kr(e,function(e){return++r>=n?!(o=e===t):void 0}),o}function lt(e,t,n){var r=!0;t=l.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a&&(r=!!t(e[i],i,e)););else Kr(e,function(e,n,i){return r=!!t(e,n,i)});return r}function ct(e,t,n){var r=[];t=l.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a;){var o=e[i];t(o,i,e)&&r.push(o)}else Kr(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function ut(e,t,n){t=l.createCallback(t,n,3);var r=-1,i=e?e.length:0;if("number"!=typeof i){var a;return Kr(e,function(e,n,r){return t(e,n,r)?(a=e,!1):void 0}),a}for(;++r<i;){var o=e[r];if(t(o,r,e))return o}}function dt(e,t,n){var r=-1,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:h(t,n,3),"number"==typeof i)for(;++r<i&&t(e[r],r,e)!==!1;);else Kr(e,t);return e}function pt(e,t){var n=e?e.length:0;if("number"==typeof n)for(;n--&&t(e[n],n,e)!==!1;);else{var r=Lr(e);n=r.length,Kr(e,function(e,i,a){return i=r?r[--n]:--n,t(a[i],i,a)})}}function ht(e,t){var n=s(arguments,2),r=-1,i="function"==typeof t,a=e?e.length:0,o=Array("number"==typeof a?a:0);return dt(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o}function gt(e,t,n){var r=-1,i=e?e.length:0;if(t=l.createCallback(t,n,3),"number"==typeof i)for(var a=Array(i);++r<i;)a[r]=t(e[r],r,e);else a=[],Kr(e,function(e,n,i){a[++r]=t(e,n,i)});return a}function ft(e,t,n){var r=-1/0,i=r;"function"!=typeof t&&n&&n[t]===e&&(t=null);var a=-1,o=e?e.length:0;if(null==t&&"number"==typeof o)for(;++a<o;){var s=e[a];s>i&&(i=s)}else t=l.createCallback(t,n,3),dt(e,function(e,n,a){var o=t(e,n,a);o>r&&(r=o,i=e)});return i}function mt(e,t,n){var r=1/0,i=r;"function"!=typeof t&&n&&n[t]===e&&(t=null);var a=-1,o=e?e.length:0;if(null==t&&"number"==typeof o)for(;++a<o;){var s=e[a];i>s&&(i=s)}else t=l.createCallback(t,n,3),dt(e,function(e,n,a){var o=t(e,n,a);r>o&&(r=o,i=e)});return i}function _t(e,t,n,r){if(!e)return n;var i=arguments.length<3;t=l.createCallback(t,r,4);var a=-1,o=e.length;if("number"==typeof o)for(i&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);else Kr(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)});return n}function vt(e,t,n,r){var i=arguments.length<3;return t=l.createCallback(t,r,4),pt(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function yt(e,t,n){return t=l.createCallback(t,n,3),ct(e,function(e,n,r){return!t(e,n,r)})}function bt(e,t,n){if(e&&"number"!=typeof e.length&&(e=at(e)),null==t||n)return e?e[y(0,e.length-1)]:xn;var r=Et(e);return r.length=Dr(Mr(0,t),r.length),r}function Et(e){var t=-1,n=e?e.length:0,r=Array("number"==typeof n?n:0);return dt(e,function(e){var n=y(0,++t);r[t]=r[n],r[n]=e}),r}function St(e){var t=e?e.length:0;return"number"==typeof t?t:Lr(e).length}function wt(e,t,n){var r;t=l.createCallback(t,n,3);var i=-1,a=e?e.length:0;if("number"==typeof a)for(;++i<a&&!(r=t(e[i],i,e)););else Kr(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function Tt(e,n,s){var c=-1,u=Ur(n),d=e?e.length:0,p=Array("number"==typeof d?d:0);for(u||(n=l.createCallback(n,s,3)),dt(e,function(e,t,a){var o=p[++c]=i();u?o.criteria=gt(n,function(t){return e[t]}):(o.criteria=r())[0]=n(e,t,a),o.index=c,o.value=e}),d=p.length,p.sort(t);d--;){var h=p[d];p[d]=h.value,u||a(h.criteria),o(h)}return p}function At(e){return Ur(e)?s(e):e&&"number"==typeof e.length?gt(e):at(e)}function xt(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function Mt(e){return f(e,m(arguments,!0,!0,1))}function Dt(e,t,n){var r=-1,i=e?e.length:0;for(t=l.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function kt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=-1;for(t=l.createCallback(t,n,3);++a<i&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[0]:xn;return s(e,0,Dr(Mr(0,r),i))}function Ot(e,t){return m(e,t)}function Nt(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?Mr(0,i+r):r||0}else if(r){var a=Ht(t,n);return t[a]===n?a:-1}return e(t,n,r)}function Rt(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=l.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else r=null==t||n?1:t||r;return s(e,0,Dr(Mr(0,i-r),i))}function Ct(){for(var e=[],t=-1,n=arguments.length;++t<n;){var r=arguments[t];(Ur(r)||k(r))&&e.push(r)}var i=e[0],a=-1,o=A(),s=i?i.length:0,l=[];e:for(;++a<s;)if(r=i[a],o(l,r)<0){for(var t=n;--t;)if(o(e[t],r)<0)continue e;l.push(r)}return l}function Ut(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=l.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:xn;return s(e,Mr(0,i-r))}function Ft(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?Mr(0,r+n):Dr(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function Lt(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var a=-1,o=t[n];++a<i;)e[a]===o&&(Er.call(e,a--,1),i--);return e}function It(e,t,n){e=+e||0,n=+n||1,null==t&&(t=e,e=0);for(var r=-1,i=Mr(0,fr((t-e)/n)),a=Array(i);++r<i;)a[r]=e,e+=n;return a}function Pt(e,t,n){var r=-1,i=e?e.length:0,a=[];for(t=l.createCallback(t,n,3);++r<i;){var o=e[r];t(o,r,e)&&(a.push(o),Er.call(e,r--,1),i--)}return a}function jt(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,a=e?e.length:0;for(t=l.createCallback(t,n,3);++i<a&&t(e[i],i,e);)r++}else r=null==t||n?1:Mr(0,t);return s(e,r)}function Ht(e,t,n,r){var i=0,a=e?e.length:i;for(n=n?l.createCallback(n,r,1):dn,t=n(t);a>i;){var o=i+a>>>1;n(e[o])<t?i=o+1:a=o}return i}function zt(){return b(m(arguments,!0,!0))}function Wt(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=l.createCallback(n,r,3)),b(e,t,n)}function Bt(e){return f(e,s(arguments,1))}function Kt(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Ur(n)||k(n))var r=r?b(f(r,n).concat(f(n,r))):n}return r||[]}function Yt(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?ft(qr(e,"length")):0,r=Array(0>n?0:n);++t<n;)r[t]=qr(e,t);return r}function $t(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Ur(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function Jt(e,t){if(!Y(t))throw new TypeError;return function(){return--e<1?t.apply(this,arguments):void 0}}function Vt(e,t){return arguments.length>2?S(e,17,s(arguments,2),null,t):S(e,1,null,null,t)}function qt(e){for(var t=arguments.length>1?m(arguments,!0,!1,1):L(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=S(e[i],1,null,null,e)}return e}function Gt(e,t){return arguments.length>2?S(t,19,s(arguments,2),null,e):S(t,3,null,null,e)}function Qt(){for(var e=arguments,t=e.length;t--;)if(!Y(e[t]))throw new TypeError;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Xt(e,t){return t="number"==typeof t?t:+t||e.length,S(e,4,null,null,null,t)}function Zt(e,t,n){var r,i,a,o,s,l,c,u=0,d=!1,p=!0;if(!Y(e))throw new TypeError;if(t=Mr(0,t)||0,n===!0){var h=!0;p=!1}else $(n)&&(h=n.leading,d="maxWait"in n&&(Mr(t,n.maxWait)||0),p="trailing"in n?n.trailing:p);var g=function(){var n=t-(Qr()-o);if(0>=n){i&&clearTimeout(i);var d=c;i=l=c=xn,d&&(u=Qr(),a=e.apply(s,r),l||i||(r=s=null))}else l=setTimeout(g,n)},f=function(){l&&clearTimeout(l),i=l=c=xn,(p||d!==t)&&(u=Qr(),a=e.apply(s,r),l||i||(r=s=null))};return function(){if(r=arguments,o=Qr(),s=this,c=p&&(l||!h),d===!1)var n=h&&!l;else{i||h||(u=o);var m=d-(o-u),_=0>=m;_?(i&&(i=clearTimeout(i)),u=o,a=e.apply(s,r)):i||(i=setTimeout(f,m))}return _&&l?l=clearTimeout(l):l||t===d||(l=setTimeout(g,t)),n&&(_=!0,a=e.apply(s,r)),!_||l||i||(r=s=null),a}}function en(e){if(!Y(e))throw new TypeError;var t=s(arguments,1);return setTimeout(function(){e.apply(xn,t)},1)}function tn(e,t){if(!Y(e))throw new TypeError;var n=s(arguments,2);return setTimeout(function(){e.apply(xn,n)},t)}function nn(e,t){if(!Y(e))throw new TypeError;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):Nn+arguments[0];return vr.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function rn(e){var t,n;if(!Y(e))throw new TypeError;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function an(e){return S(e,16,s(arguments,1))}function on(e,t,n){var r=!0,i=!0;if(!Y(e))throw new TypeError;return n===!1?r=!1:$(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),er.leading=r,er.maxWait=t,er.trailing=i,Zt(e,t,er)}function sn(e,t){return S(t,16,[e])}function ln(e){return function(){return e}}function cn(e,t,n){var r=typeof e;if(null==e||"function"==r)return h(e,t,n);if("object"!=r)return fn(e);var i=Lr(e),a=i[0],o=e[a];return 1!=i.length||o!==o||$(o)?function(t){for(var n=i.length,r=!1;n--&&(r=_(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[a];return o===t&&(0!==o||1/o==1/t)}}function un(e){return null==e?"":String(e).replace(Wr,T)}function dn(e){return e}function pn(e){dt(L(e),function(t){var n=l[t]=e[t];l.prototype[t]=function(){var e=[this.__wrapped__];yr.apply(e,arguments);var t=n.apply(l,e);return this.__chain__?new c(t,!0):t}})}function hn(){return ir._=pr,this}function gn(){}function fn(e){return function(t){return t[e]}}function mn(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=Or();return Dr(e+a*(t-e+parseFloat("1e-"+((a+"").length-1))),t)}return y(e,t)}function _n(e,t){if(e){var n=e[t];return Y(n)?e[t]():n}}function vn(e,t,r){var i=l.templateSettings;e=String(e||""),r=U({},r,i);var a,o=U({},r.imports,i.imports),s=Lr(o),c=at(o),u=0,d=r.interpolate||zn,p="__p += '",h=RegExp((r.escape||zn).source+"|"+d.source+"|"+(d===jn?In:zn).source+"|"+(r.evaluate||zn).source+"|$","g");e.replace(h,function(t,r,i,o,s,l){return i||(i=o),p+=e.slice(u,l).replace(Wn,n),r&&(p+="' +\n__e("+r+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),p+="';\n";var g=r.variable,f=g;f||(g="obj",p="with ("+g+") {\n"+p+"\n}\n"),p=(a?p.replace(Un,""):p).replace(Fn,"$1").replace(Ln,"$1;"),p="function("+g+") {\n"+(f?"":g+" || ("+g+" = {});\n")+"var __t, __p = '', __e = _.escape"+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m="\n/*\n//# sourceURL="+(r.sourceURL||"/lodash/template/source["+Bn++ +"]")+"\n*/";try{var _=Function(s,"return "+p+m).apply(xn,c)}catch(v){throw v.source=p,v}return t?_(t):(_.source=p,_)}function yn(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=Array(e);for(t=h(t,n,1);++r<e;)i[r]=t(r);return i}function bn(e){return null==e?"":String(e).replace(zr,D)}function En(e){var t=++kn+"";return e?e+t:t}function Sn(e){return e=new c(e),e.__chain__=!0,e}function wn(e,t){return t(e),e}function Tn(){return this.__chain__=!0,this}function An(){return this.__wrapped__}var xn,Mn=[],Dn=[],kn=0,On={},Nn=+new Date+"",Rn=40,Cn=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",Un=/\b__p \+= '';/g,Fn=/\b(__p \+=) '' \+/g,Ln=/(__e\(.*?\)|\b__t\)) \+\n'';/g,In=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pn=/\w*$/,jn=/<%=([\s\S]+?)%>/g,Hn=RegExp("^["+Cn+"]*0+(?=.$)"),zn=/($^)/,Wn=/['\n\r\t\u2028\u2029\\]/g,Bn=0,Kn="[object Arguments]",Yn="[object Array]",$n="[object Boolean]",Jn="[object Date]",Vn="[object Function]",qn="[object Number]",Gn="[object Object]",Qn="[object RegExp]",Xn="[object String]",Zn={};Zn[Vn]=!1,Zn[Kn]=Zn[Yn]=Zn[$n]=Zn[Jn]=Zn[qn]=Zn[Gn]=Zn[Qn]=Zn[Xn]=!0;var er={leading:!1,maxWait:0,trailing:!1},tr={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},nr={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},rr={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ir=nr[typeof window]&&window||this,ar=nr[typeof exports]&&exports&&!exports.nodeType&&exports,or=nr[typeof module]&&module&&!module.nodeType&&module,sr=or&&or.exports===ar&&ar,lr=nr[typeof global]&&global;!lr||lr.global!==lr&&lr.window!==lr||(ir=lr);var cr=[],ur=Object.prototype,dr=String.prototype,pr=ir._,hr=ur.toString,gr=RegExp("^"+String(hr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),fr=Math.ceil,mr=Math.floor,_r=x(_r=Object.getPrototypeOf)&&_r,vr=ur.hasOwnProperty,yr=cr.push,br=ur.propertyIsEnumerable,Er=cr.splice,Sr=x(Sr=Object.create)&&Sr,wr=x(wr=Array.isArray)&&wr,Tr=ir.isFinite,Ar=ir.isNaN,xr=x(xr=Object.keys)&&xr,Mr=Math.max,Dr=Math.min,kr=ir.parseInt,Or=Math.random,Nr={};Nr[Yn]=Array,Nr[$n]=Boolean,Nr[Jn]=Date,Nr[Vn]=Function,Nr[Gn]=Object,Nr[qn]=Number,Nr[Qn]=RegExp,Nr[Xn]=String,c.prototype=l.prototype;var Rr={};!function(){var e={0:1,length:1};Rr.spliceObjects=(cr.splice.call(e,0,1),!e[0])}(1),l.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:jn,variable:""};var Cr=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array&&(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  ");var n=[];return e.useHas&&e.keys?(t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  "):(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  "),e.array&&(t+="\n}"),t+=e.bottom+";\nreturn result"};Sr||(p=function(){function e(){}return function(t){if($(t)){e.prototype=t;var n=new e;e.prototype=null}return n||ir.Object()}}()),k(arguments)||(k=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&vr.call(e,"callee")&&!br.call(e,"callee")||!1});var Ur=wr||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&hr.call(e)==Yn||!1},Fr=function(e){var t,n=e,r=[];if(!n)return r;if(!nr[typeof e])return r;for(t in n)vr.call(n,t)&&r.push(t);return r},Lr=xr?function(e){return $(e)?xr(e):[]}:Fr,Ir={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:!1,keys:Lr,loop:"if (callback(iterable[index], index, collection) === false) return result"},Pr={top:"if (!objectTypes[typeof iterable]) return result;\n"+Ir.top,array:!1},jr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},Hr=P(jr),zr=RegExp("("+Lr(Hr).join("|")+")","g"),Wr=RegExp("["+Lr(jr).join("")+"]","g"),Br=w(Ir,Pr,{useHas:!1}),Kr=function(e,t){var n,r=e,i=r;if(!r)return i;if(!nr[typeof r])return i;for(var a=-1,o=nr[typeof r]&&Lr(r),s=o?o.length:0;++a<s;)if(n=o[a],t(r[n],n,e)===!1)return i;return i};Y(/x/)&&(Y=function(e){return"function"==typeof e&&hr.call(e)==Vn});var Yr=_r?function(e){if(!e||hr.call(e)!=Gn)return!1;var t=e.valueOf,n=x(t)&&(n=_r(t))&&_r(n);return n?e==n||_r(e)==n:M(e)}:M,$r=E(function(e,t,n){vr.call(e,n)?e[n]++:e[n]=1}),Jr=E(function(e,t,n){(vr.call(e,n)?e[n]:e[n]=[]).push(t)}),Vr=E(function(e,t,n){e[n]=t}),qr=gt,Gr=ct,Qr=x(Qr=Date.now)&&Qr||function(){return(new Date).getTime()},Xr=8==kr(Cn+"08")?kr:function(e,t){return kr(Q(e)?e.replace(Hn,""):e,t||0)};l.after=Jt,l.at=ot,l.bind=Vt,l.bindAll=qt,l.bindKey=Gt,l.chain=Sn,l.compact=xt,l.compose=Qt,l.constant=ln,l.countBy=$r,l.create=C,l.createCallback=cn,l.curry=Xt,l.debounce=Zt,l.defaults=U,l.defer=en,l.delay=tn,l.difference=Mt,l.filter=ct,l.flatten=Ot,l.forEach=dt,l.forIn=Br,l.functions=L,l.groupBy=Jr,l.indexBy=Vr,l.initial=Rt,l.intersection=Ct,l.invert=P,l.invoke=ht,l.keys=Lr,l.map=gt,l.mapValues=Z,l.max=ft,l.memoize=nn,l.merge=et,l.min=mt,l.omit=tt,l.once=rn,l.pairs=nt,l.partial=an,l.pick=rt,l.pluck=qr,l.property=fn,l.pull=Lt,l.range=It,l.reject=yt,l.remove=Pt,l.rest=jt,l.shuffle=Et,l.sortBy=Tt,l.tap=wn,l.throttle=on,l.times=yn,l.toArray=At,l.transform=it,l.union=zt,l.uniq=Wt,l.values=at,l.where=Gr,l.without=Bt,l.wrap=sn,l.xor=Kt,l.zip=Yt,l.collect=gt,l.drop=jt,l.each=dt,l.extend=O,l.methods=L,l.object=$t,l.select=ct,l.tail=jt,l.unique=Wt,l.unzip=Yt,l.clone=N,l.cloneDeep=R,l.contains=st,l.escape=un,l.every=lt,l.find=ut,l.findIndex=Dt,l.findKey=F,l.has=I,l.identity=dn,l.indexOf=Nt,l.isArguments=k,l.isArray=Ur,l.isBoolean=j,l.isDate=H,l.isElement=z,l.isEmpty=W,l.isEqual=B,l.isFinite=K,l.isFunction=Y,l.isNaN=J,l.isNull=V,l.isNumber=q,l.isObject=$,l.isPlainObject=Yr,l.isRegExp=G,l.isString=Q,l.isUndefined=X,l.lastIndexOf=Ft,l.mixin=pn,l.noConflict=hn,l.noop=gn,l.parseInt=Xr,l.random=mn,l.reduce=_t,l.reduceRight=vt,l.result=_n,l.size=St,l.some=wt,l.sortedIndex=Ht,l.template=vn,l.unescape=bn,l.uniqueId=En,l.all=lt,l.any=wt,l.detect=ut,l.findWhere=ut,l.foldl=_t,l.foldr=vt,l.include=st,l.inject=_t,l.first=kt,l.last=Ut,l.sample=bt,l.take=kt,l.head=kt,pn(l),l.VERSION="2.4.1",l.prototype.chain=Tn,l.prototype.value=An,dt(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=cr[e];l.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),Rr.spliceObjects||0!==e.length||delete e[0],this}}),dt(["concat","join","slice"],function(e){var t=cr[e];l.prototype[e]=function(){var e=this.__wrapped__,n=t.apply(e,arguments);return this.__chain__&&(n=new c(n),n.__chain__=!0),n}}),ar&&or?sr?(or.exports=l)._=l:ar._=l:ir._=l}.call(this),window&&!window.InflectionJS&&(window.InflectionJS=null),InflectionJS={uncountable_words:["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],plural_rules:[[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]],singular_rules:[[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("s$","gi"),""]],non_titlecased_words:["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"],id_suffix:new RegExp("(_ids|_id)$","g"),underbar:new RegExp("_","g"),space_or_underbar:new RegExp("[ _]","g"),uppercase:new RegExp("([A-Z])","g"),underbar_prefix:new RegExp("^_"),apply_rules:function(e,t,n,r){if(r)e=r;else{var i=n.indexOf(e.toLowerCase())>-1;if(!i)for(var a=0;a<t.length;a++)if(e.match(t[a][0])){e=e.replace(t[a][0],t[a][1]);break}}return e}},!function(e,t){"use strict";var n=t.prototype.trim,r=t.prototype.trimRight,i=t.prototype.trimLeft,a=function(e){return 1*e||0},o=function(e,t){if(1>t)return"";for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n},s=[].slice,l=function(e){return null==e?"\\s":e.source?e.source:"["+h.escapeRegExp(e)+"]"},c={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"},u={};for(var d in c)u[c[d]]=d;// Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
var p=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=o,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,i){var a,o,s,l,c,u,d,h=1,g=r.length,f="",m=[];for(o=0;g>o;o++)if(f=e(r[o]),"string"===f)m.push(r[o]);else if("array"===f){if(l=r[o],l[2])for(a=i[h],s=0;s<l[2].length;s++){if(!a.hasOwnProperty(l[2][s]))throw new Error(p('[_.sprintf] property "%s" does not exist',l[2][s]));a=a[l[2][s]]}else a=l[1]?i[l[1]]:i[h++];if(/[^s]/.test(l[8])&&"number"!=e(a))throw new Error(p("[_.sprintf] expecting number but found %s",e(a)));switch(l[8]){case"b":a=a.toString(2);break;case"c":a=t.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=l[7]?a.toExponential(l[7]):a.toExponential();break;case"f":a=l[7]?parseFloat(a).toFixed(l[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=t(a))&&l[7]?a.substring(0,l[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(l[8])&&l[3]&&a>=0?"+"+a:a,u=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",d=l[6]-t(a).length,c=l[6]?n(u,d):"",m.push(l[5]?a+c:c+a)}return m.join("")},r.cache={},r.parse=function(e){for(var t=e,n=[],r=[],i=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var a=[],o=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(o)))throw new Error("[_.sprintf] huh?");for(a.push(s[1]);""!==(o=o.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(o)))a.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(o)))throw new Error("[_.sprintf] huh?");a.push(s[1])}n[2]=a}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},r}(),h={VERSION:"2.3.0",isBlank:function(e){return null==e&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return null==e?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=null==e?"":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return null==e?[]:(e=t(e),n=~~n,n>0?e.match(new RegExp(".{1,"+n+"}","g")):[e])},clean:function(e){return h.strip(e).replace(/\s+/g," ")},count:function(e,n){return null==e||null==n?0:t(e).split(n).length-1},chars:function(e){return null==e?[]:t(e).split("")},swapCase:function(e){return null==e?"":t(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return null==e?"":t(e).replace(/[&<>"']/g,function(e){return"&"+u[e]+";"})},unescapeHTML:function(e){return null==e?"":t(e).replace(/\&([^;]+);/g,function(e,n){var r;return n in c?c[n]:(r=n.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(r[1],16)):(r=n.match(/^#(\d+)$/))?t.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return null==e?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var i=h.chars(e);return i.splice(~~t,~~n,r),i.join("")},insert:function(e,t,n){return h.splice(e,t,0,n)},include:function(e,n){return""===n?!0:null==e?!1:-1!==t(e).indexOf(n)},join:function(){var e=s.call(arguments),t=e.shift();return null==t&&(t=""),e.join(t)},lines:function(e){return null==e?[]:t(e).split("\n")},reverse:function(e){return h.chars(e).reverse().join("")},startsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return""===n?!0:null==e||null==n?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return null==e?"":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return null==e?"":t(e).replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})},camelize:function(e){return h.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t.toUpperCase()})},underscored:function(e){return h.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return h.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return h.titleize(t(e).replace(/_/g," ")).replace(/\s/g,"")},humanize:function(e){return h.capitalize(h.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,r){return null==e?"":!r&&n?n.call(e):(r=l(r),t(e).replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))},ltrim:function(e,n){return null==e?"":!n&&i?i.call(e):(n=l(n),t(e).replace(new RegExp("^"+n+"+"),""))},rtrim:function(e,n){return null==e?"":!n&&r?r.call(e):(n=l(n),t(e).replace(new RegExp(n+"+$"),""))},truncate:function(e,n,r){return null==e?"":(e=t(e),r=r||"...",n=~~n,e.length>n?e.slice(0,n)+r:e)},prune:function(e,n,r){if(null==e)return"";if(e=t(e),n=~~n,r=null!=r?t(r):"...",e.length<=n)return e;var i=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},a=e.slice(0,n+1).replace(/.(?=\W*\w*$)/g,i);return a=a.slice(a.length-2).match(/\w\w/)?a.replace(/\s*\S+$/,""):h.rtrim(a.slice(0,a.length-1)),(a+r).length>e.length?e:e.slice(0,a.length)+r},words:function(e,t){return h.isBlank(e)?[]:h.trim(e,t).split(t||/\s+/)},pad:function(e,n,r,i){e=null==e?"":t(e),n=~~n;var a=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",i){case"right":return a=n-e.length,e+o(r,a);case"both":return a=n-e.length,o(r,Math.ceil(a/2))+e+o(r,Math.floor(a/2));default:return a=n-e.length,o(r,a)+e}},lpad:function(e,t,n){return h.pad(e,t,n)},rpad:function(e,t,n){return h.pad(e,t,n,"right")},lrpad:function(e,t,n){return h.pad(e,t,n,"both")},sprintf:p,vsprintf:function(e,t){return t.unshift(e),p.apply(null,t)},toNumber:function(e,n){if(null==e||""==e)return 0;e=t(e);var r=a(a(e).toFixed(~~n));return 0!==r||e.match(/^0+$/)?r:Number.NaN},numberFormat:function(e,t,n,r){if(isNaN(e)||null==e)return"";e=e.toFixed(~~t),r=r||",";var i=e.split("."),a=i[0],o=i[1]?(n||".")+i[1]:"";return a.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+o},strRight:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strRightBack:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.lastIndexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strLeft:function(e,n){if(null==e)return"";e=t(e),n=null!=n?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,t){if(null==e)return"";e+="",t=null!=t?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ",n=n||" and ";var i=e.slice(),a=i.pop();return e.length>2&&r&&(n=h.rtrim(t)+n),i.length?i.join(t)+n+a:a},toSentenceSerial:function(){var e=s.call(arguments);return e[3]=!0,h.toSentence.apply(h,e)},slugify:function(e){if(null==e)return"";var n="Ä…Ã Ã¡Ã¤Ã¢Ã£Ã¥Ã¦Ä‡Ä™Ã¨Ã©Ã«ÃªÃ¬Ã­Ã¯Ã®Å‚Å„Ã²Ã³Ã¶Ã´ÃµÃ¸Ã¹ÃºÃ¼Ã»Ã±Ã§Å¼Åº",r="aaaaaaaaceeeeeiiiilnoooooouuuunczz",i=new RegExp(l(n),"g");return e=t(e).toLowerCase().replace(i,function(e){var t=n.indexOf(e);return r.charAt(t)||"-"}),h.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e){return h.surround(e,'"')},exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse)$/)&&(e[t]=this[t]);return e},repeat:function(e,n,r){if(null==e)return"";if(n=~~n,null==r)return o(t(e),n);for(var i=[];n>0;i[--n]=e);return i.join(r)},levenshtein:function(e,n){if(null==e&&null==n)return 0;if(null==e)return t(n).length;if(null==n)return t(e).length;e=t(e),n=t(n);for(var r,i,a=[],o=0;o<=n.length;o++)for(var s=0;s<=e.length;s++)i=o&&s?e.charAt(s-1)===n.charAt(o-1)?r:Math.min(a[s],a[s-1],r)+1:o+s,r=a[s],a[s]=i;return a.pop()}};h.strip=h.trim,h.lstrip=h.ltrim,h.rstrip=h.rtrim,h.center=h.lrpad,h.rjust=h.lpad,h.ljust=h.rpad,h.contains=h.include,h.q=h.quote,"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=h),exports._s=h):"function"==typeof define&&define.amd?define("underscore.string",[],function(){return h}):(e._=e._||{},e._.string=e._.str=h)}(this,String),function(){"use strict";function e(t,n){var i,o=arguments.length;return 1===o?!0:2===o&&(i=t&&a.call(t,n))?i:(i=t&&a.call(t,n))&&e.apply(this,[t[n]].concat(r.rest(arguments,2)))}function t(e,t){return r.reduce(t,function(e,t){var n=r(e[t]);return(n.isUndefined()||n.isNull())&&(e[t]={}),e[t]},e)}var n=this,r=n._;r.str&&r.str.exports&&r.mixin(r.str.exports());var i=Object.prototype,a=i.hasOwnProperty;r.mixin({has:function(t,n){var i=r.isArray(n);return 2!==arguments.length||i?e.apply(this,i&&[t].concat(n)||arguments):a.call(t,n)},namespace:function(e,n){return 2===arguments.length?r.isArray(n)?t(e,n):t(e,n.split(".")):t(e,Array.prototype.slice.call(arguments,1))}}),n.InflectionJS&&r.mixin({pluralize:function(e,t,n){return r.isNumber(t)||(n=t,t=0),n=n||{},1===t&&(n.skip=e),n.skip=n.skip||"",InflectionJS.apply_rules(e,InflectionJS.plural_rules,n.skip)},singularize:function(e,t){return t=t||{},t.skip=t.skip||"",InflectionJS.apply_rules(e,InflectionJS.singular_rules,t.skip)}})}.call(this),function(){{var e,t=this,n=t.Backbone,r=[],i=(r.push,r.slice);r.splice}e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.1.0";var a=t._;a||"undefined"==typeof require||(a=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var o=e.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=a.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,o,s,c,u,d,p;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:a.keys(this._events),c=0,u=s.length;u>c;c++)if(e=s[c],o=this._events[e]){if(this._events[e]=r=[],t||n)for(d=0,p=o.length;p>d;d++)i=o[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var i=!t&&!n;n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e);for(var o in r)e=r[o],e.off(t,n,this),(i||a.isEmpty(e._events))&&delete this._listeningTo[o];return this}},s=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(s.test(n)){for(var a=n.split(s),o=0,l=a.length;l>o;o++)e[t].apply(e,[a[o]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},u={listenTo:"on",listenToOnce:"once"};a.each(u,function(e,t){o[t]=function(t,n,r){var i=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=a.uniqueId("l"));return i[o]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}}),o.bind=o.on,o.unbind=o.off,a.extend(e,o);var d=e.Model=function(e,t){var n=e||{};t||(t={}),this.cid=a.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=a.defaults({},n,a.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};a.extend(d.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,o,s,l,c,u,d;if(null==e)return this;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;o=n.unset,l=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],a.isEqual(d[r],t)||s.push(r),a.isEqual(u[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete d[r]:d[r]=t;if(!l){s.length&&(this._pending=!0);for(var p=0,h=s.length;h>p;p++)this.trigger("change:"+s[p],this,d[s[p]],n)}if(c)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e)a.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){return t.set(t.parse(r,e),e)?(n&&n(t,r,e),t.trigger("sync",t,r,e),void 0):!1},L(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,o,s=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=a.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=a.extend({},s,r)),void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;return n.success=function(e){l.attributes=s;var t=l.parse(e,n);return n.wait&&(t=a.extend(r||{},t)),a.isObject(t)&&!l.set(t,n)?!1:(c&&c(l,e,n),l.trigger("sync",l,e,n),void 0)},L(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),o=this.sync(i,this,n),r&&n.wait&&(this.attributes=s),o},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;L(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||F();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t,{validationError:n})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];a.each(p,function(e){d.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.attributes),a[e].apply(a,t)}});var h=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};a.extend(h.prototype,o,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:!1},t,f))},remove:function(e,t){var n=!a.isArray(e);e=n?[e]:a.clone(e),t||(t={});var r,i,o,s;for(r=0,i=e.length;i>r;r++)s=e[r]=this.get(e[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,t.silent||(t.index=o,s.trigger("remove",s,this,t)),this._removeReference(s));return n?e[0]:e},set:function(e,t){t=a.defaults({},t,g),t.parse&&(e=this.parse(e,t));var n=!a.isArray(e);e=n?e?[e]:[]:a.clone(e);var r,i,o,s,l,c,u,p=t.at,h=this.model,f=this.comparator&&null==p&&t.sort!==!1,m=a.isString(this.comparator)?this.comparator:null,_=[],v=[],y={},b=t.add,E=t.merge,S=t.remove,w=!f&&b&&S?[]:!1;for(r=0,i=e.length;i>r;r++){if(l=e[r],o=l instanceof d?s=l:l[h.prototype.idAttribute],c=this.get(o))S&&(y[c.cid]=!0),E&&(l=l===s?s.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!u&&c.hasChanged(m)&&(u=!0)),e[r]=c;else if(b){if(s=e[r]=this._prepareModel(l,t),!s)continue;_.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)}w&&w.push(c||s)}if(S){for(r=0,i=this.length;i>r;++r)y[(s=this.models[r]).cid]||v.push(s);v.length&&this.remove(v,t)}if(_.length||w&&w.length)if(f&&(u=!0),this.length+=_.length,null!=p)for(r=0,i=_.length;i>r;r++)this.models.splice(p+r,0,_[r]);else{w&&(this.models.length=0);var T=w||_;for(r=0,i=T.length;i>r;r++)this.models.push(T[r])}if(u&&this.sort({silent:!0}),!t.silent){for(r=0,i=_.length;i>r;r++)(s=_[r]).trigger("add",s,this,t);(u||w&&w.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return i.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return a.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},L(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?a.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t=t?a.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(m,function(e){h.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),a[e].apply(a,t)}});var _=["groupBy","countBy","sortBy"];a.each(_,function(e){h.prototype[e]=function(t,n){var r=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,r,n)}});var v=e.View=function(e){this.cid=a.uniqueId("view"),e||(e={}),a.extend(this,a.pick(e,b)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},y=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];a.extend(v.prototype,o,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(a.isFunction(n)||(n=this[e[t]]),n){var r=t.match(y),i=r[1],o=r[2];n=a.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var t=a.extend({},a.result(this,"attributes"));this.id&&(t.id=a.result(this,"id")),this.className&&(t["class"]=a.result(this,"className"));var n=e.$("<"+a.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,r){var i=S[t];a.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:i,dataType:"json"};if(r.url||(o.url=a.result(n,"url")||F()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",r.emulateJSON&&(o.data._method=i);var s=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",i),s?s.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&E&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=e.ajax(a.extend(o,r));return n.trigger("request",n,l,r),l};var E=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var w=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,x=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(w.prototype,o,{initialize:function(){},route:function(t,n,r){a.isRegExp(t)||(t=this._routeToRegExp(t)),a.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return e.history.route(t,function(a){var o=i._extractParameters(t,a);r&&r.apply(i,o),i.trigger.apply(i,["route:"+n].concat(o)),i.trigger("route",n,o),e.history.trigger("route",i,n,o)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e,t=a.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(M,"\\$&").replace(T,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/]+)"}).replace(x,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e){return e?decodeURIComponent(e):null})}});var D=e.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},k=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,N=/msie [\w.]+/,R=/\/$/,C=/[?#].*$/;D.started=!1,a.extend(D.prototype,o,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(R,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(k,"")},start:function(t){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=a.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=N.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(O,"/"),i&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace(k,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),D.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return e=this.fragment=this.getFragment(e),a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!D.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(C,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),e.history=new D;var U=function(e,t){var n,r=this;n=e&&a.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},a.extend(n,r,t);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,e&&a.extend(n.prototype,e),n.__super__=r.prototype,n};d.extend=h.extend=w.extend=v.extend=D.extend=U;var F=function(){throw new Error('A "url" property or function must be specified')},L=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),function(){"use strict";var e=this,t=e._,n=e.Backbone,r={include:function(){var e=this;return t.chain(arguments).toArray().each(function(n){n&&n.included&&t.isFunction(n.included)&&n.included(e)}),this}};n.extensions=t.extend(n.extensions||{},{include:r})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker.mixins");t.include=Backbone.extensions.include}.call(this),function(){"use strict";function e(e,t){var n=r.str.camelize(e);if(t[n])return{key:n,response:t[n]};var i=r.str.underscored(e);return t[i]?{key:i,response:t[i]}:{response:null}}function t(t,i){return t=t||n||{},i=i||{},r.extend(a,{mergeOptions:function(){for(var e={},t=0,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)o[i]||(e[i]=r[i])}return e},buildAssociation:function(e,t,n,o){function s(){var e=r.isFunction(o.through)&&o.through.call(this)||r.str.camelize(o.through);return this[e]&&this[e]()&&this[e]()[n]&&this[e]()[n]()}function l(){return o.through&&s.call(this)}function c(){return this.collection&&this.collection[n]&&this.collection[n]()||this._options&&this._options.collection&&this._options.collection[n]&&this._options.collection[n]()}function u(){var t=this,c=a.mergeOptions(i,o,this._options);o.inverseOf&&(c[r.str.camelize(o.inverseOf)]=function(){return t});var u;if(o["class"])return u=new o["class"](null,c),l.call(t,s),u;var d=o.className&&r.str.classify(o.className);if(d&&e[d])return u=new e[d](null,c),l.call(t,s),u;var p=r.str.classify(n);return e[p]?(u=new e[p](null,c),l.call(t,s),u):void 0}var d={hasMany:u,hasOne:function(){return c.call(this)||u.call(this)},belongsTo:function(){return c.call(this)||l.call(this)}};this.prototype[n]=function(){return(this._associations||(this._associations={}))&&this._associations[n]||(this._associations[n]=this._options&&r.result(this._options,n)||d[t].call(this))}},parseAssociation:function(t,n,o){function s(i){var a=e(r.result(o,"through"),i).response,s=r.singularize&&r.singularize(n),l=o.parseName||s;return{response:a&&l&&r["hasOne"===t&&"result"||"pluck"](a,l)}}if(o.parse){r.has(this,"_parsers")||(this._parsers=[]);var l={hasMany:function(e,t,n){t.add(e,n)},hasOne:function(e,t,n){t.clear({silent:!0}).set(e,n)}};if(l[t]){var c=this._parsers;if(0===c.length){var u=this.prototype.parse;this.prototype.parse=function(){var e=u.apply(this,arguments),t=[];t.length=c.length;for(var n=0;n<c.length;n++){var r=c[n].parseFn.call(this,e);c[n].associationFn.call(this,r.response),t[n]=r.key}for(var i=0;i<t.length;i++)t[i]&&delete e[t[i]];return e}}var d={};d.parseFn=r.isFunction(o.parse)?function(e){return{response:o.parse.call(this,e)}}:o.through?function(e){return s.call(this,e)}:o.parseName?function(t){return e(o.parseName,t)}:o.className?function(t){return e(o.className,t)}:function(t){return e(n,t)},d.associationFn=function(e){return e&&l[t].call(this,e,this[n](),a.mergeOptions(i,o,this._options))},this._parsers.push(d)}}}}),{included:function(e){var n=r.reduce({belongsTo:{},hasMany:{parse:!0},hasOne:{parse:!0}},function(e,n,o){return e[o]=function(e,s){var l=r.str.camelize(e);return s=r.extend({},n,i,s),a.buildAssociation.call(this,t,o,l,s),a.parseAssociation.call(this,o,l,s),this},e},{});r.extend(e,n,{associations:function(){var e=this;r.chain(arguments).toArray().compact().each(function(t){r.chain(n).keys().each(function(i){t[i]&&n[i].call(e,t[i],r.omit(t,i))})})},extend:r.wrap(e.extend,function(e,t,n){return r.tap(e.call(this,t,n),function(e){var n=(t||{}).associations;n&&e.associations.apply(e,r.flatten([n]))})})}),e.prototype.initialize=r.wrap(e.prototype.initialize,function(e,t,n){this._options=this._options||r.clone(n),e.call(this,t,n)})}}}var n=this,r=n._,i=n.Backbone,a={},o={"class":!0,className:!0,inverseOf:!0,parseName:!0,through:!0};t.fn=a,i.extensions=r.extend(i.extensions||{},{associations:t})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.associations=Backbone.extensions.associations}.call(this),function(){"use strict";function e(){this.initialize.apply(this,arguments)}var t=this,n=_.namespace(t,"tracker");_.extend(e,{extend:Backbone.View.extend},n.mixins.include),_.extend(e.prototype,{initialize:$.noop}),e.include(n.associations(n)),n.Application=e}.call(this),!function(){function e(e,t){return t>e?-1:e>t?1:e>=t?0:0/0}function t(e){return null===e?0/0:+e}function n(e){return!isNaN(e)}function r(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);i>r;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function i(e){return e.length}function a(e){for(var t=1;e*t%1;)t*=10;return t}function o(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})
}function s(){this._=Object.create(null)}function l(e){return(e+="")===us||e[0]===ds?ds+e:e}function c(e){return(e+="")[0]===ds?e.slice(1):e}function u(e){return l(e)in this._}function d(e){return(e=l(e))in this._&&delete this._[e]}function p(){var e=[];for(var t in this._)e.push(c(t));return e}function h(){var e=0;for(var t in this._)++e;return e}function g(){for(var e in this._)return!1;return!0}function f(){this._=Object.create(null)}function m(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function _(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=ps.length;r>n;++n){var i=ps[n]+t;if(i in e)return i}}function v(){}function y(){}function b(e){function t(){for(var t,r=n,i=-1,a=r.length;++i<a;)(t=r[i].on)&&t.apply(this,arguments);return e}var n=[],r=new s;return t.on=function(t,i){var a,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),r.remove(t)),i&&n.push(r.set(t,{on:i})),e)},t}function E(){qo.event.preventDefault()}function S(){for(var e,t=qo.event;e=t.sourceEvent;)t=e;return t}function w(e){for(var t=new y,n=0,r=arguments.length;++n<r;)t[arguments[n]]=b(t);return t.of=function(n,r){return function(i){try{var a=i.sourceEvent=qo.event;i.target=e,qo.event=i,t[i.type].apply(n,r)}finally{qo.event=a}}},t}function T(e){return gs(e,ys),e}function A(e){return"function"==typeof e?e:function(){return fs(e,this)}}function x(e){return"function"==typeof e?e:function(){return ms(e,this)}}function M(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=qo.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?s:o:e.local?a:i}function D(e){return e.trim().replace(/\s+/g," ")}function k(e){return new RegExp("(?:^|\\s+)"+qo.requote(e)+"(?:\\s+|$)","g")}function O(e){return(e+"").trim().split(/^|\s+/)}function N(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<i;)e[n](this,r)}e=O(e).map(R);var i=e.length;return"function"==typeof t?r:n}function R(e){var t=k(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",D(i+" "+e))):n.setAttribute("class",D(i.replace(t," ")))}}function C(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?a:i}function U(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:r}function F(e){return"function"==typeof e?e:(e=qo.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function L(e){return{__data__:e}}function I(e){return function(){return vs(this,e)}}function P(t){return arguments.length||(t=e),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function j(e,t){for(var n=0,r=e.length;r>n;n++)for(var i,a=e[n],o=0,s=a.length;s>o;o++)(i=a[o])&&t(i,o,n);return e}function H(e){return gs(e,Es),e}function z(e){var t,n;return function(r,i,a){var o,s=e[a].update,l=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<l;);return o}}function W(){var e=this.__transition__;e&&++e.active}function B(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function i(){var i=l(t,Qo(arguments));r.call(this),this.addEventListener(e,this[o]=i,i.$=n),i._=t}function a(){var t,n=new RegExp("^__on([^.]+)"+qo.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+e,s=e.indexOf("."),l=K;s>0&&(e=e.slice(0,s));var c=ws.get(e);return c&&(e=c,l=Y),s?t?i:r:t?v:a}function K(e,t){return function(n){var r=qo.event;qo.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{qo.event=r}}}function Y(e,t){var n=K(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function $(){var e=".dragsuppress-"+ ++As,t="click"+e,n=qo.select(es).on("touchmove"+e,E).on("dragstart"+e,E).on("selectstart"+e,E);if(Ts){var r=Zo.style,i=r[Ts];r[Ts]="none"}return function(a){function o(){n.on(t,null)}n.on(e,null),Ts&&(r[Ts]=i),a&&(n.on(t,function(){E(),o()},!0),setTimeout(o,0))}}function J(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>xs&&(es.scrollX||es.scrollY)){n=qo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();xs=!(i.f||i.e),n.remove()}return xs?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function V(){return qo.event.changedTouches[0].identifier}function q(){return qo.event.target}function G(){return es}function Q(e){return e>0?1:0>e?-1:0}function X(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Z(e){return e>1?0:-1>e?Ms:Math.acos(e)}function et(e){return e>1?ks:-1>e?-ks:Math.asin(e)}function tt(e){return((e=Math.exp(e))-1/e)/2}function nt(e){return((e=Math.exp(e))+1/e)/2}function rt(e){return((e=Math.exp(2*e))-1)/(e+1)}function it(e){return(e=Math.sin(e/2))*e}function at(){}function ot(e,t,n){return this instanceof ot?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof ot?new ot(e.h,e.s,e.l):bt(""+e,Et,ot):new ot(e,t,n)}function st(e,t,n){function r(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(o-a)*e/60:180>e?o:240>e?a+(o-a)*(240-e)/60:a}function i(e){return Math.round(255*r(e))}var a,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,o=.5>=n?n*(1+t):n+t-n*t,a=2*n-o,new mt(i(e+120),i(e),i(e-120))}function lt(e,t,n){return this instanceof lt?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof lt?new lt(e.h,e.c,e.l):e instanceof ut?pt(e.l,e.a,e.b):pt((e=St((e=qo.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new lt(e,t,n)}function ct(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ut(n,Math.cos(e*=Rs)*t,Math.sin(e)*t)}function ut(e,t,n){return this instanceof ut?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ut?new ut(e.l,e.a,e.b):e instanceof lt?ct(e.h,e.c,e.l):St((e=mt(e)).r,e.g,e.b):new ut(e,t,n)}function dt(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return i=ht(i)*Bs,r=ht(r)*Ks,a=ht(a)*Ys,new mt(ft(3.2404542*i-1.5371385*r-.4985314*a),ft(-.969266*i+1.8760108*r+.041556*a),ft(.0556434*i-.2040259*r+1.0572252*a))}function pt(e,t,n){return e>0?new lt(Math.atan2(n,t)*Cs,Math.sqrt(t*t+n*n),e):new lt(0/0,0/0,e)}function ht(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function gt(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function ft(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function mt(e,t,n){return this instanceof mt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof mt?new mt(e.r,e.g,e.b):bt(""+e,mt,st):new mt(e,t,n)}function _t(e){return new mt(e>>16,e>>8&255,255&e)}function vt(e){return _t(e)+""}function yt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function bt(e,t,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(e))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Tt(i[0]),Tt(i[1]),Tt(i[2]))}return(a=Vs.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),t(o,s,l))}function Et(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,l=(o+a)/2;return s?(i=.5>l?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(n>t?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=0/0,i=l>0&&1>l?0:r),new ot(r,i,l)}function St(e,t,n){e=wt(e),t=wt(t),n=wt(n);var r=gt((.4124564*e+.3575761*t+.1804375*n)/Bs),i=gt((.2126729*e+.7151522*t+.072175*n)/Ks),a=gt((.0193339*e+.119192*t+.9503041*n)/Ys);return ut(116*i-16,500*(r-i),200*(i-a))}function wt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Tt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function At(e){return"function"==typeof e?e:function(){return e}}function xt(e){return e}function Mt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Dt(t,n,e,r)}}function Dt(e,t,n,r){function i(){var e,t=l.status;if(!t&&Ot(l)||t>=200&&300>t||304===t){try{e=n.call(a,l)}catch(r){return o.error.call(a,r),void 0}o.load.call(a,e)}else o.error.call(a,l)}var a={},o=qo.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!es.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(e){var t=qo.event;qo.event=e;try{o.progress.call(a,l)}finally{qo.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s[e]:(null==t?delete s[e]:s[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(c=e,a):c},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(Qo(arguments)))}}),a.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,e,!0),null==t||"accept"in s||(s.accept=t+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=i&&a.on("error",i).on("load",function(e){i(null,e)}),o.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},qo.rebind(a,o,"on"),null==r?a:a.get(kt(r))}function kt(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Ot(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Nt(){var e=Rt(),t=Ct()-e;t>24?(isFinite(t)&&(clearTimeout(Xs),Xs=setTimeout(Nt,t)),Qs=0):(Qs=1,el(Nt))}function Rt(){var e=Date.now();for(Zs=qs;Zs;)e>=Zs.t&&(Zs.f=Zs.c(e-Zs.t)),Zs=Zs.n;return e}function Ct(){for(var e,t=qs,n=1/0;t;)t.f?t=e?e.n=t.n:qs=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return Gs=e,n}function Ut(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Ft(e,t){var n=Math.pow(10,3*cs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Lt(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,a=r&&n?function(e,t){for(var i=e.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:xt;return function(e){var n=nl.exec(e),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],d=n[7],p=n[8],h=n[9],g=1,f="",m="",_=!1,v=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),h){case"n":d=!0,h="g";break;case"%":g=100,m="%",h="f";break;case"p":g=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(f="0"+h.toLowerCase());case"c":v=!1;case"d":_=!0,p=0;break;case"s":g=-1,h="r"}"$"===l&&(f=i[0],m=i[1]),"r"!=h||p||(h="g"),null!=p&&("g"==h?p=Math.max(1,Math.min(21,p)):("e"==h||"f"==h)&&(p=Math.max(0,Math.min(20,p)))),h=rl.get(h)||It;var y=c&&d;return function(e){var n=m;if(_&&e%1)return"";var i=0>e||0===e&&0>1/e?(e=-e,"-"):"-"===s?"":s;if(0>g){var l=qo.formatPrefix(e,p);e=l.scale(e),n=l.symbol+m}else e*=g;e=h(e,p);var b,E,S=e.lastIndexOf(".");if(0>S){var w=v?e.lastIndexOf("e"):-1;0>w?(b=e,E=""):(b=e.substring(0,w),E=e.substring(w))}else b=e.substring(0,S),E=t+e.substring(S+1);!c&&d&&(b=a(b,1/0));var T=f.length+b.length+E.length+(y?0:i.length),A=u>T?new Array(T=u-T+1).join(r):"";return y&&(b=a(A+b,A.length?u-E.length:1/0)),i+=f,e=b+E,("<"===o?i+e+A:">"===o?A+i+e:"^"===o?A.substring(0,T>>=1)+i+e+A.substring(T):i+(y?e:A+e))+n}}}function It(e){return e+""}function Pt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function jt(e,t,n){function r(t){var n=e(t),r=a(n,1);return r-t>t-n?n:r}function i(n){return t(n=e(new al(n-1)),1),n}function a(e,n){return t(e=new al(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;r>o;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;r>o;)s.push(new Date(+o)),t(o,1);return s}function s(e,t,n){try{al=Pt;var r=new Pt;return r._=e,o(r,t,n)}finally{al=Date}}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var l=e.utc=Ht(e);return l.floor=l,l.round=Ht(r),l.ceil=Ht(i),l.offset=Ht(a),l.range=s,e}function Ht(e){return function(t,n){try{al=Pt;var r=new Pt;return r._=t,e(r,n)._}finally{al=Date}}}function zt(e){function t(e){function t(t){for(var n,i,a,o=[],s=-1,l=0;++s<r;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=sl[n=e.charAt(++s)])&&(n=e.charAt(++s)),(a=D[n])&&(n=a(t,null==i?"e"===n?" ":"0":i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,e,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&al!==Pt,o=new(a?Pt:al);return"j"in r?o.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?o._:o},t.toString=function(){return e},t}function n(e,t,n,r){for(var i,a,o,s=0,l=t.length,c=n.length;l>s;){if(r>=c)return-1;if(i=t.charCodeAt(s++),37===i){if(o=t.charAt(s++),a=k[o in sl?t.charAt(s++):o],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){S.lastIndex=0;var r=S.exec(t.slice(n));return r?(e.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.m=M.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){T.lastIndex=0;var r=T.exec(t.slice(n));return r?(e.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function s(e,t,r){return n(e,D.c.toString(),t,r)}function l(e,t,r){return n(e,D.x.toString(),t,r)}function c(e,t,r){return n(e,D.X.toString(),t,r)}function u(e,t,n){var r=y.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var d=e.dateTime,p=e.date,h=e.time,g=e.periods,f=e.days,m=e.shortDays,_=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{al=Pt;var t=new al;return t._=e,r(t)}finally{al=Date}}var r=t(e);return n.parse=function(e){try{al=Pt;var t=r.parse(e);return t&&t._}finally{al=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ln;var y=qo.map(),b=Bt(f),E=Kt(f),S=Bt(m),w=Kt(m),T=Bt(_),A=Kt(_),x=Bt(v),M=Kt(v);g.forEach(function(e,t){y.set(e.toLowerCase(),t)});var D={a:function(e){return m[e.getDay()]},A:function(e){return f[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return _[e.getMonth()]},c:t(d),d:function(e,t){return Wt(e.getDate(),t,2)},e:function(e,t){return Wt(e.getDate(),t,2)},H:function(e,t){return Wt(e.getHours(),t,2)},I:function(e,t){return Wt(e.getHours()%12||12,t,2)},j:function(e,t){return Wt(1+il.dayOfYear(e),t,3)},L:function(e,t){return Wt(e.getMilliseconds(),t,3)},m:function(e,t){return Wt(e.getMonth()+1,t,2)},M:function(e,t){return Wt(e.getMinutes(),t,2)},p:function(e){return g[+(e.getHours()>=12)]},S:function(e,t){return Wt(e.getSeconds(),t,2)},U:function(e,t){return Wt(il.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Wt(il.mondayOfYear(e),t,2)},x:t(p),X:t(h),y:function(e,t){return Wt(e.getFullYear()%100,t,2)},Y:function(e,t){return Wt(e.getFullYear()%1e4,t,4)},Z:on,"%":function(){return"%"}},k={a:r,A:i,b:a,B:o,c:s,d:Zt,e:Zt,H:tn,I:tn,j:en,L:an,m:Xt,M:nn,p:u,S:rn,U:$t,w:Yt,W:Jt,x:l,X:c,y:qt,Y:Vt,Z:Gt,"%":sn};return t}function Wt(e,t,n){var r=0>e?"-":"",i=(r?-e:e)+"",a=i.length;return r+(n>a?new Array(n-a+1).join(t)+i:i)}function Bt(e){return new RegExp("^(?:"+e.map(qo.requote).join("|")+")","i")}function Kt(e){for(var t=new s,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Yt(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function $t(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Jt(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function Vt(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function qt(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+2));return r?(e.y=Qt(+r[0]),n+r[0].length):-1}function Gt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Qt(e){return e+(e>68?1900:2e3)}function Xt(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Zt(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function en(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function tn(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function nn(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function rn(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function an(e,t,n){ll.lastIndex=0;var r=ll.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function on(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=cs(t)/60|0,i=cs(t)%60;return n+Wt(r,"0",2)+Wt(i,"0",2)}function sn(e,t,n){cl.lastIndex=0;var r=cl.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ln(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function cn(){}function un(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function dn(e,t){e&&hl.hasOwnProperty(e.type)&&hl[e.type](e,t)}function pn(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function hn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)pn(e[n],t,1);t.polygonEnd()}function gn(){function e(e,t){e*=Rs,t=t*Rs/2+Ms/4;var n=e-r,o=n>=0?1:-1,s=o*n,l=Math.cos(t),c=Math.sin(t),u=a*c,d=i*l+u*Math.cos(s),p=u*o*Math.sin(s);fl.add(Math.atan2(p,d)),r=e,i=l,a=c}var t,n,r,i,a;ml.point=function(o,s){ml.point=e,r=(t=o)*Rs,i=Math.cos(s=(n=s)*Rs/2+Ms/4),a=Math.sin(s)},ml.lineEnd=function(){e(t,n)}}function fn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function mn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _n(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function vn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function yn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function bn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function En(e){return[Math.atan2(e[1],e[0]),et(e[2])]}function Sn(e,t){return cs(e[0]-t[0])<Os&&cs(e[1]-t[1])<Os}function wn(e,t){e*=Rs;var n=Math.cos(t*=Rs);Tn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Tn(e,t,n){++_l,yl+=(e-yl)/_l,bl+=(t-bl)/_l,El+=(n-El)/_l}function An(){function e(e,i){e*=Rs;var a=Math.cos(i*=Rs),o=a*Math.cos(e),s=a*Math.sin(e),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=n*l-r*s)*c+(c=r*o-t*l)*c+(c=t*s-n*o)*c),t*o+n*s+r*l);vl+=c,Sl+=c*(t+(t=o)),wl+=c*(n+(n=s)),Tl+=c*(r+(r=l)),Tn(t,n,r)}var t,n,r;Dl.point=function(i,a){i*=Rs;var o=Math.cos(a*=Rs);t=o*Math.cos(i),n=o*Math.sin(i),r=Math.sin(a),Dl.point=e,Tn(t,n,r)}}function xn(){Dl.point=wn}function Mn(){function e(e,t){e*=Rs;var n=Math.cos(t*=Rs),o=n*Math.cos(e),s=n*Math.sin(e),l=Math.sin(t),c=i*l-a*s,u=a*o-r*l,d=r*s-i*o,p=Math.sqrt(c*c+u*u+d*d),h=r*o+i*s+a*l,g=p&&-Z(h)/p,f=Math.atan2(p,h);Al+=g*c,xl+=g*u,Ml+=g*d,vl+=f,Sl+=f*(r+(r=o)),wl+=f*(i+(i=s)),Tl+=f*(a+(a=l)),Tn(r,i,a)}var t,n,r,i,a;Dl.point=function(o,s){t=o,n=s,Dl.point=e,o*=Rs;var l=Math.cos(s*=Rs);r=l*Math.cos(o),i=l*Math.sin(o),a=Math.sin(s),Tn(r,i,a)},Dl.lineEnd=function(){e(t,n),Dl.lineEnd=xn,Dl.point=wn}}function Dn(){return!0}function kn(e,t,n,r,i){var a=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(Sn(n,r)){i.lineStart();for(var s=0;t>s;++s)i.point((n=e[s])[0],n[1]);return i.lineEnd(),void 0}var l=new Nn(n,e,null,!0),c=new Nn(n,null,l,!1);l.o=c,a.push(l),o.push(c),l=new Nn(r,e,null,!1),c=new Nn(r,null,l,!0),l.o=c,a.push(l),o.push(c)}}),o.sort(t),On(a),On(o),a.length){for(var s=0,l=n,c=o.length;c>s;++s)o[s].e=l=!l;for(var u,d,p=a[0];;){for(var h=p,g=!0;h.v;)if((h=h.n)===p)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(var s=0,c=u.length;c>s;++s)i.point((d=u[s])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(g){u=h.p.z;for(var s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1])}else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,u=h.z,g=!g}while(!h.v);i.lineEnd()}}}function On(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Nn(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Rn(e,t,n,r){return function(i,a){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function s(e,t){var n=i(e,t);m.point(n[0],n[1])}function l(){v.point=s,m.lineStart()}function c(){v.point=o,m.lineEnd()}function u(e,t){f.push([e,t]);var n=i(e,t);b.point(n[0],n[1])}function d(){b.lineStart(),f=[]}function p(){u(f[0][0],f[0][1]),b.lineEnd();var e,t=b.clean(),n=y.buffer(),r=n.length;if(f.pop(),g.push(f),f=null,r)if(1&t){e=n[0];var i,r=e.length-1,o=-1;if(r>0){for(E||(a.polygonStart(),E=!0),a.lineStart();++o<r;)a.point((i=e[o])[0],i[1]);a.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Cn))}var h,g,f,m=t(a),_=i.invert(r[0],r[1]),v={point:o,lineStart:l,lineEnd:c,polygonStart:function(){v.point=u,v.lineStart=d,v.lineEnd=p,h=[],g=[]},polygonEnd:function(){v.point=o,v.lineStart=l,v.lineEnd=c,h=qo.merge(h);var e=jn(_,g);h.length?(E||(a.polygonStart(),E=!0),kn(h,Fn,e,n,a)):e&&(E||(a.polygonStart(),E=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),E&&(a.polygonEnd(),E=!1),h=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},y=Un(),b=t(y),E=!1;return v}}function Cn(e){return e.length>1}function Un(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:v,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Fn(e,t){return((e=e.x)[0]<0?e[1]-ks-Os:ks-e[1])-((t=t.x)[0]<0?t[1]-ks-Os:ks-t[1])}function Ln(e){var t,n=0/0,r=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Ms:-Ms,l=cs(a-n);cs(l-Ms)<Os?(e.point(n,r=(r+o)/2>0?ks:-ks),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=Ms&&(cs(n-i)<Os&&(n-=i*Os),cs(a-s)<Os&&(a-=s*Os),r=In(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=0/0},clean:function(){return 2-t}}}function In(e,t,n,r){var i,a,o=Math.sin(e-n);return cs(o)>Os?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}function Pn(e,t,n,r){var i;if(null==e)i=n*ks,r.point(-Ms,i),r.point(0,i),r.point(Ms,i),r.point(Ms,0),r.point(Ms,-i),r.point(0,-i),r.point(-Ms,-i),r.point(-Ms,0),r.point(-Ms,i);else if(cs(e[0]-t[0])>Os){var a=e[0]<t[0]?Ms:-Ms;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function jn(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;fl.reset();for(var s=0,l=t.length;l>s;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],p=d[0],h=d[1]/2+Ms/4,g=Math.sin(h),f=Math.cos(h),m=1;;){m===u&&(m=0),e=c[m];var _=e[0],v=e[1]/2+Ms/4,y=Math.sin(v),b=Math.cos(v),E=_-p,S=E>=0?1:-1,w=S*E,T=w>Ms,A=g*y;if(fl.add(Math.atan2(A*S*Math.sin(w),f*b+A*Math.cos(w))),a+=T?E+S*Ds:E,T^p>=n^_>=n){var x=_n(fn(d),fn(e));bn(x);var M=_n(i,x);bn(M);var D=(T^E>=0?-1:1)*et(M[2]);(r>D||r===D&&(x[0]||x[1]))&&(o+=T^E>=0?1:-1)}if(!m++)break;p=_,g=y,f=b,d=e}}return(-Os>a||Os>a&&0>fl)^1&o}function Hn(e){function t(e,t){return Math.cos(e)*Math.cos(t)>a}function n(e){var n,a,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,p){var h,g=[d,p],f=t(d,p),m=o?f?0:i(d,p):f?i(d+(0>d?Ms:-Ms),p):0;if(!n&&(c=l=f)&&e.lineStart(),f!==l&&(h=r(n,g),(Sn(n,h)||Sn(g,h))&&(g[0]+=Os,g[1]+=Os,f=t(g[0],g[1]))),f!==l)u=0,f?(e.lineStart(),h=r(g,n),e.point(h[0],h[1])):(h=r(n,g),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(s&&n&&o^f){var _;m&a||!(_=r(g,n,!0))||(u=0,o?(e.lineStart(),e.point(_[0][0],_[0][1]),e.point(_[1][0],_[1][1]),e.lineEnd()):(e.point(_[1][0],_[1][1]),e.lineEnd(),e.lineStart(),e.point(_[0][0],_[0][1])))}!f||n&&Sn(n,g)||e.point(g[0],g[1]),n=g,l=f,a=m},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}function r(e,t,n){var r=fn(e),i=fn(t),o=[1,0,0],s=_n(r,i),l=mn(s,s),c=s[0],u=l-c*c;if(!u)return!n&&e;var d=a*l/u,p=-a*c/u,h=_n(o,s),g=yn(o,d),f=yn(s,p);vn(g,f);var m=h,_=mn(g,m),v=mn(m,m),y=_*_-v*(mn(g,g)-1);if(!(0>y)){var b=Math.sqrt(y),E=yn(m,(-_-b)/v);if(vn(E,g),E=En(E),!n)return E;var S,w=e[0],T=t[0],A=e[1],x=t[1];w>T&&(S=w,w=T,T=S);var M=T-w,D=cs(M-Ms)<Os,k=D||Os>M;if(!D&&A>x&&(S=A,A=x,x=S),k?D?A+x>0^E[1]<(cs(E[0]-w)<Os?A:x):A<=E[1]&&E[1]<=x:M>Ms^(w<=E[0]&&E[0]<=T)){var O=yn(m,(-_+b)/v);return vn(O,g),[E,En(O)]}}}function i(t,n){var r=o?e:Ms-e,i=0;return-r>t?i|=1:t>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var a=Math.cos(e),o=a>0,s=cs(a)>Os,l=gr(e,6*Rs);return Rn(t,n,l,o?[0,-e]:[-Ms,e-Ms])}function zn(e,t,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,c=o.y,u=s.x,d=s.y,p=0,h=1,g=u-l,f=d-c;if(a=e-l,g||!(a>0)){if(a/=g,0>g){if(p>a)return;h>a&&(h=a)}else if(g>0){if(a>h)return;a>p&&(p=a)}if(a=n-l,g||!(0>a)){if(a/=g,0>g){if(a>h)return;a>p&&(p=a)}else if(g>0){if(p>a)return;h>a&&(h=a)}if(a=t-c,f||!(a>0)){if(a/=f,0>f){if(p>a)return;h>a&&(h=a)}else if(f>0){if(a>h)return;a>p&&(p=a)}if(a=r-c,f||!(0>a)){if(a/=f,0>f){if(a>h)return;a>p&&(p=a)}else if(f>0){if(p>a)return;h>a&&(h=a)}return p>0&&(i.a={x:l+p*g,y:c+p*f}),1>h&&(i.b={x:l+h*g,y:c+h*f}),i}}}}}}function Wn(e,t,n,r){function i(r,i){return cs(r[0]-e)<Os?i>0?0:3:cs(r[0]-n)<Os?i>0?2:1:cs(r[1]-t)<Os?i>0?1:0:i>0?3:2}function a(e,t){return o(e.x,t.x)}function o(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(e){for(var t=0,n=m.length,r=e[1],i=0;n>i;++i)for(var a,o=1,s=m[i],l=s.length,c=s[0];l>o;++o)a=s[o],c[1]<=r?a[1]>r&&X(c,a,e)>0&&++t:a[1]<=r&&X(c,a,e)<0&&--t,c=a;return 0!==t}function c(a,s,l,c){var u=0,d=0;if(null==a||(u=i(a,l))!==(d=i(s,l))||o(a,s)<0^l>0){do c.point(0===u||3===u?e:n,u>1?r:t);while((u=(u+l+4)%4)!==d)}else c.point(s[0],s[1])}function u(i,a){return i>=e&&n>=i&&a>=t&&r>=a}function d(e,t){u(e,t)&&s.point(e,t)}function p(){k.point=g,m&&m.push(_=[]),T=!0,w=!1,E=S=0/0}function h(){f&&(g(v,y),b&&w&&M.rejoin(),f.push(M.buffer())),k.point=d,w&&s.lineEnd()}function g(e,t){e=Math.max(-Ol,Math.min(Ol,e)),t=Math.max(-Ol,Math.min(Ol,t));var n=u(e,t);if(m&&_.push([e,t]),T)v=e,y=t,b=n,T=!1,n&&(s.lineStart(),s.point(e,t));else if(n&&w)s.point(e,t);else{var r={a:{x:E,y:S},b:{x:e,y:t}};D(r)?(w||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),A=!1):n&&(s.lineStart(),s.point(e,t),A=!1)}E=e,S=t,w=n}var f,m,_,v,y,b,E,S,w,T,A,x=s,M=Un(),D=zn(e,t,n,r),k={point:d,lineStart:p,lineEnd:h,polygonStart:function(){s=M,f=[],m=[],A=!0},polygonEnd:function(){s=x,f=qo.merge(f);var t=l([e,r]),n=A&&t,i=f.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),i&&kn(f,a,t,c,s),s.polygonEnd()),f=m=_=null}};return k}}function Bn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function Kn(e){var t=0,n=Ms/3,r=or(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Ms/180,n=e[1]*Ms/180):[t/Ms*180,n/Ms*180]},i}function Yn(e,t){function n(e,t){var n=Math.sqrt(a-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}var r=Math.sin(e),i=(r+Math.sin(t))/2,a=1+r*(2*i-r),o=Math.sqrt(a)/i;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,et((a-(e*e+n*n)*i*i)/(2*i))]},n}function $n(){function e(e,t){Rl+=i*e-r*t,r=e,i=t}var t,n,r,i;Il.point=function(a,o){Il.point=e,t=r=a,n=i=o},Il.lineEnd=function(){e(t,n)}}function Jn(e,t){Cl>e&&(Cl=e),e>Fl&&(Fl=e),Ul>t&&(Ul=t),t>Ll&&(Ll=t)}function Vn(){function e(e,t){o.push("M",e,",",t,a)}function t(e,t){o.push("M",e,",",t),s.point=n}function n(e,t){o.push("L",e,",",t)}function r(){s.point=e}function i(){o.push("Z")}var a=qn(4.5),o=[],s={point:e,lineStart:function(){s.point=t},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(e){return a=qn(e),s},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return s}function qn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Gn(e,t){yl+=e,bl+=t,++El}function Qn(){function e(e,r){var i=e-t,a=r-n,o=Math.sqrt(i*i+a*a);Sl+=o*(t+e)/2,wl+=o*(n+r)/2,Tl+=o,Gn(t=e,n=r)}var t,n;jl.point=function(r,i){jl.point=e,Gn(t=r,n=i)}}function Xn(){jl.point=Gn}function Zn(){function e(e,t){var n=e-r,a=t-i,o=Math.sqrt(n*n+a*a);Sl+=o*(r+e)/2,wl+=o*(i+t)/2,Tl+=o,o=i*e-r*t,Al+=o*(r+e),xl+=o*(i+t),Ml+=3*o,Gn(r=e,i=t)}var t,n,r,i;jl.point=function(a,o){jl.point=e,Gn(t=r=a,n=i=o)},jl.lineEnd=function(){e(t,n)}}function er(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,o,0,Ds)}function n(t,n){e.moveTo(t,n),s.point=r}function r(t,n){e.lineTo(t,n)}function i(){s.point=t}function a(){e.closePath()}var o=4.5,s={point:t,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(e){return o=e,s},result:v};return s}function tr(e){function t(e){return(s?r:n)(e)}function n(t){return ir(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){y=0/0,T.point=a,t.lineStart()}function a(n,r){var a=fn([n,r]),o=e(n,r);i(y,b,v,E,S,w,y=o[0],b=o[1],v=n,E=a[0],S=a[1],w=a[2],s,t),t.point(y,b)}function o(){T.point=n,t.lineEnd()}function l(){r(),T.point=c,T.lineEnd=u}function c(e,t){a(d=e,p=t),h=y,g=b,f=E,m=S,_=w,T.point=a}function u(){i(y,b,v,E,S,w,h,g,d,f,m,_,s,t),T.lineEnd=o,o()}var d,p,h,g,f,m,_,v,y,b,E,S,w,T={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),T.lineStart=l},polygonEnd:function(){t.polygonEnd(),T.lineStart=r}};return T}function i(t,n,r,s,l,c,u,d,p,h,g,f,m,_){var v=u-t,y=d-n,b=v*v+y*y;if(b>4*a&&m--){var E=s+h,S=l+g,w=c+f,T=Math.sqrt(E*E+S*S+w*w),A=Math.asin(w/=T),x=cs(cs(w)-1)<Os||cs(r-p)<Os?(r+p)/2:Math.atan2(S,E),M=e(x,A),D=M[0],k=M[1],O=D-t,N=k-n,R=y*O-v*N;(R*R/b>a||cs((v*O+y*N)/b-.5)>.3||o>s*h+l*g+c*f)&&(i(t,n,r,s,l,c,D,k,x,E/=T,S/=T,w,m,_),_.point(D,k),i(D,k,x,E,S,w,u,d,p,h,g,f,m,_))}}var a=.5,o=Math.cos(30*Rs),s=16;return t.precision=function(e){return arguments.length?(s=(a=e*e)>0&&16,t):Math.sqrt(a)},t}function nr(e){var t=tr(function(t,n){return e([t*Cs,n*Cs])});return function(e){return sr(t(e))}}function rr(e){this.stream=e}function ir(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function ar(e){return or(function(){return e})()}function or(e){function t(e){return e=s(e[0]*Rs,e[1]*Rs),[e[0]*p+l,c-e[1]*p]}function n(e){return e=s.invert((e[0]-l)/p,(c-e[1])/p),e&&[e[0]*Cs,e[1]*Cs]}function r(){s=Bn(o=ur(_,v,y),a);var e=a(f,m);return l=h-e[0]*p,c=g+e[1]*p,i()}function i(){return u&&(u.valid=!1,u=null),t}var a,o,s,l,c,u,d=tr(function(e,t){return e=a(e,t),[e[0]*p+l,c-e[1]*p]}),p=150,h=480,g=250,f=0,m=0,_=0,v=0,y=0,b=kl,E=xt,S=null,w=null;return t.stream=function(e){return u&&(u.valid=!1),u=sr(b(o,d(E(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(b=null==e?(S=e,kl):Hn((S=+e)*Rs),i()):S},t.clipExtent=function(e){return arguments.length?(w=e,E=e?Wn(e[0][0],e[0][1],e[1][0],e[1][1]):xt,i()):w
},t.scale=function(e){return arguments.length?(p=+e,r()):p},t.translate=function(e){return arguments.length?(h=+e[0],g=+e[1],r()):[h,g]},t.center=function(e){return arguments.length?(f=e[0]%360*Rs,m=e[1]%360*Rs,r()):[f*Cs,m*Cs]},t.rotate=function(e){return arguments.length?(_=e[0]%360*Rs,v=e[1]%360*Rs,y=e.length>2?e[2]%360*Rs:0,r()):[_*Cs,v*Cs,y*Cs]},qo.rebind(t,d,"precision"),function(){return a=e.apply(this,arguments),t.invert=a.invert&&n,r()}}function sr(e){return ir(e,function(t,n){e.point(t*Rs,n*Rs)})}function lr(e,t){return[e,t]}function cr(e,t){return[e>Ms?e-Ds:-Ms>e?e+Ds:e,t]}function ur(e,t,n){return e?t||n?Bn(pr(e),hr(t,n)):pr(e):t||n?hr(t,n):cr}function dr(e){return function(t,n){return t+=e,[t>Ms?t-Ds:-Ms>t?t+Ds:t,n]}}function pr(e){var t=dr(e);return t.invert=dr(-e),t}function hr(e,t){function n(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*r+s*i;return[Math.atan2(l*a-u*o,s*r-c*i),et(u*a+l*o)]}var r=Math.cos(e),i=Math.sin(e),a=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),s=Math.cos(e)*n,l=Math.sin(e)*n,c=Math.sin(t),u=c*a-l*o;return[Math.atan2(l*a+c*o,s*r+u*i),et(u*r-s*i)]},n}function gr(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var l=o*t;null!=i?(i=fr(n,i),a=fr(n,a),(o>0?a>i:i>a)&&(i+=o*Ds)):(i=e+o*Ds,a=e-.5*l);for(var c,u=i;o>0?u>a:a>u;u-=l)s.point((c=En([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function fr(e,t){var n=fn(t);n[0]-=e,bn(n);var r=Z(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Os)%(2*Math.PI)}function mr(e,t,n){var r=qo.range(e,t-Os,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function _r(e,t,n){var r=qo.range(e,t-Os,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function vr(e){return e.source}function yr(e){return e.target}function br(e,t,n,r){var i=Math.cos(t),a=Math.sin(t),o=Math.cos(r),s=Math.sin(r),l=i*Math.cos(e),c=i*Math.sin(e),u=o*Math.cos(n),d=o*Math.sin(n),p=2*Math.asin(Math.sqrt(it(r-t)+i*o*it(n-e))),h=1/Math.sin(p),g=p?function(e){var t=Math.sin(e*=p)*h,n=Math.sin(p-e)*h,r=n*l+t*u,i=n*c+t*d,o=n*a+t*s;return[Math.atan2(i,r)*Cs,Math.atan2(o,Math.sqrt(r*r+i*i))*Cs]}:function(){return[e*Cs,t*Cs]};return g.distance=p,g}function Er(){function e(e,i){var a=Math.sin(i*=Rs),o=Math.cos(i),s=cs((e*=Rs)-t),l=Math.cos(s);Hl+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-n*o*l)*s),n*a+r*o*l),t=e,n=a,r=o}var t,n,r;zl.point=function(i,a){t=i*Rs,n=Math.sin(a*=Rs),r=Math.cos(a),zl.point=e},zl.lineEnd=function(){zl.point=zl.lineEnd=v}}function Sr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}function wr(e,t){function n(e,t){o>0?-ks+Os>t&&(t=-ks+Os):t>ks-Os&&(t=ks-Os);var n=o/Math.pow(i(t),a);return[n*Math.sin(a*e),o-n*Math.cos(a*e)]}var r=Math.cos(e),i=function(e){return Math.tan(Ms/4+e/2)},a=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(i(t)/i(e)),o=r*Math.pow(i(e),a)/a;return a?(n.invert=function(e,t){var n=o-t,r=Q(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(o/r,1/a))-ks]},n):Ar}function Tr(e,t){function n(e,t){var n=a-t;return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var r=Math.cos(e),i=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),a=r/i+e;return cs(i)<Os?lr:(n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,a-Q(i)*Math.sqrt(e*e+n*n)]},n)}function Ar(e,t){return[e,Math.log(Math.tan(Ms/4+t/2))]}function xr(e){var t,n=ar(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=Ms*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}function Mr(e,t){return[Math.log(Math.tan(Ms/4+t/2)),-e]}function Dr(e){return e[0]}function kr(e){return e[1]}function Or(e){for(var t=e.length,n=[0,1],r=2,i=2;t>i;i++){for(;r>1&&X(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Nr(e,t){return e[0]-t[0]||e[1]-t[1]}function Rr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Cr(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,l=e[1],c=n[1],u=t[1]-l,d=r[1]-c,p=(s*(l-c)-d*(i-a))/(d*o-s*u);return[i+p*o,l+p*u]}function Ur(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Fr(){ni(this),this.edge=this.site=this.circle=null}function Lr(e){var t=Zl.pop()||new Fr;return t.site=e,t}function Ir(e){Jr(e),Gl.remove(e),Zl.push(e),ni(e)}function Pr(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];Ir(e);for(var l=a;l.circle&&cs(n-l.circle.x)<Os&&cs(r-l.circle.cy)<Os;)a=l.P,s.unshift(l),Ir(l),l=a;s.unshift(l),Jr(l);for(var c=o;c.circle&&cs(n-c.circle.x)<Os&&cs(r-c.circle.cy)<Os;)o=c.N,s.push(c),Ir(c),c=o;s.push(c),Jr(c);var u,d=s.length;for(u=1;d>u;++u)c=s[u],l=s[u-1],Zr(c.edge,l.site,c.site,i);l=s[0],c=s[d-1],c.edge=Qr(l.site,c.site,null,i),$r(l),$r(c)}function jr(e){for(var t,n,r,i,a=e.x,o=e.y,s=Gl._;s;)if(r=Hr(s,o)-a,r>Os)s=s.L;else{if(i=a-zr(s,o),!(i>Os)){r>-Os?(t=s.P,n=s):i>-Os?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=Lr(e);if(Gl.insert(t,l),t||n){if(t===n)return Jr(t),n=Lr(t.site),Gl.insert(l,n),l.edge=n.edge=Qr(t.site,l.site),$r(t),$r(n),void 0;if(!n)return l.edge=Qr(t.site,l.site),void 0;Jr(t),Jr(n);var c=t.site,u=c.x,d=c.y,p=e.x-u,h=e.y-d,g=n.site,f=g.x-u,m=g.y-d,_=2*(p*m-h*f),v=p*p+h*h,y=f*f+m*m,b={x:(m*v-h*y)/_+u,y:(p*y-f*v)/_+d};Zr(n.edge,c,g,b),l.edge=Qr(c,e,null,b),n.edge=Qr(e,g,null,b),$r(t),$r(n)}}function Hr(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;n=o.site;var s=n.x,l=n.y,c=l-t;if(!c)return s;var u=s-r,d=1/a-1/c,p=u/c;return d?(-p+Math.sqrt(p*p-2*d*(u*u/(-2*c)-l+c/2+i-a/2)))/d+r:(r+s)/2}function zr(e,t){var n=e.N;if(n)return Hr(n,t);var r=e.site;return r.y===t?r.x:1/0}function Wr(e){this.site=e,this.edges=[]}function Br(e){for(var t,n,r,i,a,o,s,l,c,u,d=e[0][0],p=e[1][0],h=e[0][1],g=e[1][1],f=ql,m=f.length;m--;)if(a=f[m],a&&a.prepare())for(s=a.edges,l=s.length,o=0;l>o;)u=s[o].end(),r=u.x,i=u.y,c=s[++o%l].start(),t=c.x,n=c.y,(cs(r-t)>Os||cs(i-n)>Os)&&(s.splice(o,0,new ei(Xr(a.site,u,cs(r-d)<Os&&g-i>Os?{x:d,y:cs(t-d)<Os?n:g}:cs(i-g)<Os&&p-r>Os?{x:cs(n-g)<Os?t:p,y:g}:cs(r-p)<Os&&i-h>Os?{x:p,y:cs(t-p)<Os?n:h}:cs(i-h)<Os&&r-d>Os?{x:cs(n-h)<Os?t:d,y:h}:null),a.site,null)),++l)}function Kr(e,t){return t.angle-e.angle}function Yr(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function $r(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,c=r.y-s,u=a.x-o,d=a.y-s,p=2*(l*d-c*u);if(!(p>=-Ns)){var h=l*l+c*c,g=u*u+d*d,f=(d*h-c*g)/p,m=(l*g-u*h)/p,d=m+s,_=ec.pop()||new Yr;_.arc=e,_.site=i,_.x=f+o,_.y=d+Math.sqrt(f*f+m*m),_.cy=d,e.circle=_;for(var v=null,y=Xl._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}Xl.insert(v,_),v||(Ql=_)}}}}function Jr(e){var t=e.circle;t&&(t.P||(Ql=t.N),Xl.remove(t),ec.push(t),ni(t),e.circle=null)}function Vr(e){for(var t,n=Vl,r=zn(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!qr(t,e)||!r(t)||cs(t.a.x-t.b.x)<Os&&cs(t.a.y-t.b.y)<Os)&&(t.a=t.b=null,n.splice(i,1))}function qr(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,p=u.x,h=u.y,g=d.x,f=d.y,m=(p+g)/2,_=(h+f)/2;if(f===h){if(o>m||m>=s)return;if(p>g){if(a){if(a.y>=c)return}else a={x:m,y:l};n={x:m,y:c}}else{if(a){if(a.y<l)return}else a={x:m,y:c};n={x:m,y:l}}}else if(r=(p-g)/(f-h),i=_-r*m,-1>r||r>1)if(p>g){if(a){if(a.y>=c)return}else a={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(f>h){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}function Gr(e,t){this.l=e,this.r=t,this.a=this.b=null}function Qr(e,t,n,r){var i=new Gr(e,t);return Vl.push(i),n&&Zr(i,e,t,n),r&&Zr(i,t,e,r),ql[e.i].edges.push(new ei(i,e,t)),ql[t.i].edges.push(new ei(i,t,e)),i}function Xr(e,t,n){var r=new Gr(e,null);return r.a=t,r.b=n,Vl.push(r),r}function Zr(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function ei(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ti(){this._=null}function ni(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function ri(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ii(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ai(e){for(;e.L;)e=e.L;return e}function oi(e,t){var n,r,i,a=e.sort(si).pop();for(Vl=[],ql=new Array(e.length),Gl=new ti,Xl=new ti;;)if(i=Ql,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==r)&&(ql[a.i]=new Wr(a),jr(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;Pr(i.arc)}t&&(Vr(t),Br(t));var o={cells:ql,edges:Vl};return Gl=Xl=Vl=ql=null,o}function si(e,t){return t.y-e.y||t.x-e.x}function li(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function ci(e){return e.x}function ui(e){return e.y}function di(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pi(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=t.nodes;l[0]&&pi(e,l[0],n,r,o,s),l[1]&&pi(e,l[1],o,r,i,s),l[2]&&pi(e,l[2],n,s,o,a),l[3]&&pi(e,l[3],o,s,i,a)}}function hi(e,t){e=qo.rgb(e),t=qo.rgb(t);var n=e.r,r=e.g,i=e.b,a=t.r-n,o=t.g-r,s=t.b-i;return function(e){return"#"+yt(Math.round(n+a*e))+yt(Math.round(r+o*e))+yt(Math.round(i+s*e))}}function gi(e,t){var n,r={},i={};for(n in e)n in t?r[n]=_i(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function fi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mi(e,t){var n,r,i,a=nc.lastIndex=rc.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=nc.exec(e))&&(r=rc.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:fi(n,r)})),a=rc.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;t>r;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function _i(e,t){for(var n,r=qo.interpolators.length;--r>=0&&!(n=qo.interpolators[r](e,t)););return n}function vi(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;s>n;++n)r.push(_i(e[n],t[n]));for(;a>n;++n)i[n]=e[n];for(;o>n;++n)i[n]=t[n];return function(e){for(n=0;s>n;++n)i[n]=r[n](e);return i}}function yi(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function bi(e){return function(t){return 1-e(1-t)}}function Ei(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function Si(e){return e*e}function wi(e){return e*e*e}function Ti(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function Ai(e){return function(t){return Math.pow(t,e)}}function xi(e){return 1-Math.cos(e*ks)}function Mi(e){return Math.pow(2,10*(e-1))}function Di(e){return 1-Math.sqrt(1-e*e)}function ki(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Ds*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Ds/t)}}function Oi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Ni(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ri(e,t){e=qo.hcl(e),t=qo.hcl(t);var n=e.h,r=e.c,i=e.l,a=t.h-n,o=t.c-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return ct(n+a*e,r+o*e,i+s*e)+""}}function Ci(e,t){e=qo.hsl(e),t=qo.hsl(t);var n=e.h,r=e.s,i=e.l,a=t.h-n,o=t.s-r,s=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return st(n+a*e,r+o*e,i+s*e)+""}}function Ui(e,t){e=qo.lab(e),t=qo.lab(t);var n=e.l,r=e.a,i=e.b,a=t.l-n,o=t.a-r,s=t.b-i;return function(e){return dt(n+a*e,r+o*e,i+s*e)+""}}function Fi(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Li(e){var t=[e.a,e.b],n=[e.c,e.d],r=Pi(t),i=Ii(t,n),a=Pi(ji(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Cs,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Cs:0}function Ii(e,t){return e[0]*t[0]+e[1]*t[1]}function Pi(e){var t=Math.sqrt(Ii(e,e));return t&&(e[0]/=t,e[1]/=t),t}function ji(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Hi(e,t){var n,r=[],i=[],a=qo.transform(e),o=qo.transform(t),s=a.translate,l=o.translate,c=a.rotate,u=o.rotate,d=a.skew,p=o.skew,h=a.scale,g=o.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:fi(s[0],l[0])},{i:3,x:fi(s[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),c!=u?(c-u>180?u+=360:u-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:fi(c,u)})):u&&r.push(r.pop()+"rotate("+u+")"),d!=p?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:fi(d,p)}):p&&r.push(r.pop()+"skewX("+p+")"),h[0]!=g[0]||h[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:fi(h[0],g[0])},{i:n-2,x:fi(h[1],g[1])})):(1!=g[0]||1!=g[1])&&r.push(r.pop()+"scale("+g+")"),n=i.length,function(e){for(var t,a=-1;++a<n;)r[(t=i[a]).i]=t.x(e);return r.join("")}}function zi(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Wi(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function Bi(e){for(var t=e.source,n=e.target,r=Yi(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Ki(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Yi(e,t){if(e===t)return e;for(var n=Ki(e),r=Ki(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}function $i(e){e.fixed|=2}function Ji(e){e.fixed&=-7}function Vi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function qi(e){e.fixed&=-5}function Gi(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(Gi(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,i+=c*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}function Qi(e,t){return qo.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ra,e}function Xi(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Zi(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function ea(e){return e.children}function ta(e){return e.value}function na(e,t){return t.value-e.value}function ra(e){return qo.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function ia(e){return e.x}function aa(e){return e.y}function oa(e,t,n){e.y0=t,e.y=n}function sa(e){return qo.range(e.length)}function la(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function ca(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;a>n;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function ua(e){return e.reduce(da,0)}function da(e,t){return e+t[1]}function pa(e,t){return ha(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ha(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function ga(e){return[qo.min(e),qo.max(e)]}function fa(e,t){return e.value-t.value}function ma(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function _a(e,t){e._pack_next=t,t._pack_prev=e}function va(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function ya(e){function t(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),p=Math.min(e.y-e.r,p),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(c=n.length)){var n,r,i,a,o,s,l,c,u=1/0,d=-1/0,p=1/0,h=-1/0;if(n.forEach(ba),r=n[0],r.x=-r.r,r.y=0,t(r),c>1&&(i=n[1],i.x=i.r,i.y=0,t(i),c>2))for(a=n[2],wa(r,i,a),t(a),ma(r,a),r._pack_prev=a,ma(a,i),i=r._pack_next,o=3;c>o;o++){wa(r,i,a=n[o]);var g=0,f=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,f++)if(va(s,a)){g=1;break}if(1==g)for(l=r._pack_prev;l!==s._pack_prev&&!va(l,a);l=l._pack_prev,m++);g?(m>f||f==m&&i.r<r.r?_a(r,i=s):_a(r=l,i),o--):(ma(r,a),i=a,t(a))}var _=(u+d)/2,v=(p+h)/2,y=0;for(o=0;c>o;o++)a=n[o],a.x-=_,a.y-=v,y=Math.max(y,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=y,n.forEach(Ea)}}function ba(e){e._pack_next=e._pack_prev=e}function Ea(e){delete e._pack_next,delete e._pack_prev}function Sa(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)Sa(i[a],t,n,r)}function wa(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a;o*=o,r*=r;var l=.5+(r-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+l*i+c*a,n.y=e.y+l*a-c*i}else n.x=e.x+r,n.y=e.y}function Ta(e,t){return e.parent==t.parent?1:2}function Aa(e){var t=e.children;return t.length?t[0]:e.t}function xa(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Ma(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Da(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function ka(e,t,n){return e.a.parent===t.parent?e.a:n}function Oa(e){return 1+qo.max(e,function(e){return e.y})}function Na(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ra(e){var t=e.children;return t&&t.length?Ra(t[0]):e}function Ca(e){var t,n=e.children;return n&&(t=n.length)?Ca(n[t-1]):e}function Ua(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Fa(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>a&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function La(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Ia(e){return e.rangeExtent?e.rangeExtent():La(e.range())}function Pa(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function ja(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return a>o&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function Ha(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:gc}function za(e,t,n,r){var i=[],a=[],o=0,s=Math.min(e.length,t.length)-1;for(e[s]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=s;)i.push(n(e[o-1],e[o])),a.push(r(t[o-1],t[o]));return function(t){var n=qo.bisect(e,t,1,s)-1;return a[n](i[n](t))}}function Wa(e,t,n,r){function i(){var i=Math.min(e.length,t.length)>2?za:Pa,l=r?Wi:zi;return o=i(e,t,l,n),s=i(t,e,l,_i),a}function a(e){return o(e)}var o,s;return a.invert=function(e){return s(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(e){return arguments.length?(t=e,i()):t},a.rangeRound=function(e){return a.range(e).interpolate(Fi)},a.clamp=function(e){return arguments.length?(r=e,i()):r},a.interpolate=function(e){return arguments.length?(n=e,i()):n},a.ticks=function(t){return $a(e,t)},a.tickFormat=function(t,n){return Ja(e,t,n)},a.nice=function(t){return Ka(e,t),i()},a.copy=function(){return Wa(e,t,n,r)},i()}function Ba(e,t){return qo.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Ka(e,t){return ja(e,Ha(Ya(e,t)[2]))}function Ya(e,t){null==t&&(t=10);var n=La(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function $a(e,t){return qo.range.apply(qo,Ya(e,t))}function Ja(e,t,n){var r=Ya(e,t);if(n){var i=nl.exec(n);if(i.shift(),"s"===i[8]){var a=qo.formatPrefix(Math.max(cs(r[0]),cs(r[1])));return i[7]||(i[7]="."+Va(a.scale(r[2]))),i[8]="f",n=qo.format(i.join("")),function(e){return n(a.scale(e))+a.symbol}}i[7]||(i[7]="."+qa(i[8],r)),n=i.join("")}else n=",."+Va(r[2])+"f";return qo.format(n)}function Va(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function qa(e,t){var n=Va(t[2]);return e in fc?Math.abs(n-Va(Math.max(cs(t[0]),cs(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Ga(e,t,n,r){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(i(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=ja(r.map(i),n?Math:_c);return e.domain(t),r=t.map(a),o},o.ticks=function(){var e=La(r),o=[],s=e[0],l=e[1],c=Math.floor(i(s)),u=Math.ceil(i(l)),d=t%1?2:t;if(isFinite(u-c)){if(n){for(;u>c;c++)for(var p=1;d>p;p++)o.push(a(c)*p);o.push(a(c))}else for(o.push(a(c));c++<u;)for(var p=d-1;p>0;p--)o.push(a(c)*p);for(c=0;o[c]<s;c++);for(u=o.length;o[u-1]>l;u--);o=o.slice(c,u)}return o},o.tickFormat=function(e,t){if(!arguments.length)return mc;arguments.length<2?t=mc:"function"!=typeof t&&(t=qo.format(t));var r,s=Math.max(.1,e/o.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(e){return e/a(l(i(e)+r))<=s?t(e):""}},o.copy=function(){return Ga(e.copy(),t,n,r)},Ba(o,e)}function Qa(e,t,n){function r(t){return e(i(t))}var i=Xa(t),a=Xa(1/t);return r.invert=function(t){return a(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),r):n},r.ticks=function(e){return $a(n,e)},r.tickFormat=function(e,t){return Ja(n,e,t)},r.nice=function(e){return r.domain(Ka(n,e))},r.exponent=function(o){return arguments.length?(i=Xa(t=o),a=Xa(1/t),e.domain(n.map(i)),r):t},r.copy=function(){return Qa(e.copy(),t,n)},Ba(r,e)}function Xa(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Za(e,t){function n(n){return a[((i.get(n)||("range"===t.t?i.set(n,e.push(n)):0/0))-1)%a.length]}function r(t,n){return qo.range(e.length).map(function(e){return t+n*e})}var i,a,o;return n.domain=function(r){if(!arguments.length)return e;e=[],i=new s;for(var a,o=-1,l=r.length;++o<l;)i.has(a=r[o])||i.set(a,e.push(a));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(a=e,o=0,t={t:"range",a:arguments},n):a},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],c=i[1],u=(c-l)/(Math.max(1,e.length-1)+s);return a=r(e.length<2?(l+c)/2:l+u*s/2,u),o=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=i[1]<i[0],u=i[c-0],d=i[1-c],p=(d-u)/(e.length-s+2*l);return a=r(u+p*l,p),c&&a.reverse(),o=p*(1-s),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=i[1]<i[0],u=i[c-0],d=i[1-c],p=Math.floor((d-u)/(e.length-s+2*l)),h=d-u-(e.length-s)*p;return a=r(u+Math.round(h/2),p),c&&a.reverse(),o=Math.round(p*(1-s)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return La(t.a[0])},n.copy=function(){return Za(e,t)},n.domain(e)}function eo(r,i){function a(){var e=0,t=i.length;for(s=[];++e<t;)s[e-1]=qo.quantile(r,e/t);return o}function o(e){return isNaN(e=+e)?void 0:i[qo.bisect(s,e)]}var s;return o.domain=function(i){return arguments.length?(r=i.map(t).filter(n).sort(e),a()):r},o.range=function(e){return arguments.length?(i=e,a()):i},o.quantiles=function(){return s},o.invertExtent=function(e){return e=i.indexOf(e),0>e?[0/0,0/0]:[e>0?s[e-1]:r[0],e<s.length?s[e]:r[r.length-1]]},o.copy=function(){return eo(r,i)},a()}function to(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(a*(t-e))))]}function i(){return a=n.length/(t-e),o=n.length-1,r}var a,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},r.range=function(e){return arguments.length?(n=e,i()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/a+e,[t,t+1/a]},r.copy=function(){return to(e,t,n)},i()}function no(e,t){function n(n){return n>=n?t[qo.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return no(e,t)},n}function ro(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return $a(e,t)},t.tickFormat=function(t,n){return Ja(e,t,n)},t.copy=function(){return ro(e)},t}function io(e){return e.innerRadius}function ao(e){return e.outerRadius}function oo(e){return e.startAngle}function so(e){return e.endAngle}function lo(e){function t(t){function o(){c.push("M",a(e(u),s))}for(var l,c=[],u=[],d=-1,p=t.length,h=At(n),g=At(r);++d<p;)i.call(this,l=t[d],d)?u.push([+h.call(this,l,d),+g.call(this,l,d)]):u.length&&(o(),u=[]);return u.length&&o(),c.length?c.join(""):null}var n=Dr,r=kr,i=Dn,a=co,o=a.key,s=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?a=e:(a=Tc.get(e)||co).key,t):o},t.tension=function(e){return arguments.length?(s=e,t):s},t}function co(e){return e.join("L")}function uo(e){return co(e)+"Z"}function po(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ho(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function go(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function fo(e,t){return e.length<4?co(e):e[1]+vo(e.slice(1,e.length-1),yo(e,t))}function mo(e,t){return e.length<3?co(e):e[0]+vo((e.push(e[0]),e),yo([e[e.length-2]].concat(e,[e[1]]),t))}function _o(e,t){return e.length<3?co(e):e[0]+vo(e,yo(e,t))}function vo(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return co(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){s=t[1],a=e[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<t.length;c++,l++)a=e[l],s=t[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=e[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function yo(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,l=e.length;++s<l;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function bo(e){if(e.length<3)return co(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",To(Mc,o),",",To(Mc,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Ao(l,o,s);return e.pop(),l.push("L",r),l.join("")}function Eo(e){if(e.length<4)return co(e);for(var t,n=[],r=-1,i=e.length,a=[0],o=[0];++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);for(n.push(To(Mc,a)+","+To(Mc,o)),--r;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),Ao(n,a,o);return n.join("")}function So(e){for(var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);for(t=[To(Mc,o),",",To(Mc,s)],--r;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Ao(t,o,s);return t.join("")}function wo(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,l=e[n][1]-o,c=-1;++c<=n;)r=e[c],i=c/n,r[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*l);return bo(e)}function To(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Ao(e,t,n){e.push("C",To(Ac,t),",",To(Ac,n),",",To(xc,t),",",To(xc,n),",",To(Mc,t),",",To(Mc,n))}function xo(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Mo(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=xo(i,a);++t<n;)r[t]=(o+(o=xo(i=a,a=e[t+1])))/2;return r[t]=o,r}function Do(e){for(var t,n,r,i,a=[],o=Mo(e),s=-1,l=e.length-1;++s<l;)t=xo(e[s],e[s+1]),cs(t)<Os?o[s]=o[s+1]=0:(n=o[s]/t,r=o[s+1]/t,i=n*n+r*r,i>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r));for(s=-1;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}function ko(e){return e.length<3?co(e):e[0]+vo(e,Do(e))}function Oo(e){for(var t,n,r,i=-1,a=e.length;++i<a;)t=e[i],n=t[0],r=t[1]+Sc,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function No(e){function t(t){function l(){f.push("M",s(e(_),d),u,c(e(m.reverse()),d),"Z")}for(var p,h,g,f=[],m=[],_=[],v=-1,y=t.length,b=At(n),E=At(i),S=n===r?function(){return h}:At(r),w=i===a?function(){return g}:At(a);++v<y;)o.call(this,p=t[v],v)?(m.push([h=+b.call(this,p,v),g=+E.call(this,p,v)]),_.push([+S.call(this,p,v),+w.call(this,p,v)])):m.length&&(l(),m=[],_=[]);return m.length&&l(),f.length?f.join(""):null}var n=Dr,r=Dr,i=0,a=kr,o=Dn,s=co,l=s.key,c=s,u="L",d=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(i=a=e,t):a},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=Tc.get(e)||co).key,c=s.reverse||s,u=s.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(d=e,t):d},t}function Ro(e){return e.radius}function Co(e){return[e.x,e.y]}function Uo(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]+Sc;return[n*Math.cos(r),n*Math.sin(r)]}}function Fo(){return 64}function Lo(){return"circle"}function Io(e){var t=Math.sqrt(e/Ms);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Po(e,t){return gs(e,Cc),e.id=t,e}function jo(e,t,n,r){var i=e.id;return j(e,"function"==typeof n?function(e,a,o){e.__transition__[i].tween.set(t,r(n.call(e,e.__data__,a,o)))}:(n=r(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Ho(e){return null==e&&(e=""),function(){this.textContent=e}}function zo(e,t,n,r){var i=e.__transition__||(e.__transition__={active:0,count:0}),a=i[n];if(!a){var o=r.time;a=i[n]={tween:new s,time:o,ease:r.ease,delay:r.delay,duration:r.duration},++i.count,qo.timer(function(r){function s(r){return i.active>n?c():(i.active=n,a.event&&a.event.start.call(e,u,t),a.tween.forEach(function(n,r){(r=r.call(e,u,t))&&f.push(r)}),qo.timer(function(){return g.c=l(r||1)?Dn:l,1},0,o),void 0)}function l(r){if(i.active!==n)return c();for(var o=r/h,s=d(o),l=f.length;l>0;)f[--l].call(e,s);return o>=1?(a.event&&a.event.end.call(e,u,t),c()):void 0}function c(){return--i.count?delete i[n]:delete e.__transition__,1}var u=e.__data__,d=a.ease,p=a.delay,h=a.duration,g=Zs,f=[];return g.t=p+o,r>=p?s(r-p):(g.c=s,void 0)},0,o)}}function Wo(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function Bo(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function Ko(e){return e.toISOString()}function Yo(e,t,n){function r(t){return e(t)}function i(e,n){var r=e[1]-e[0],i=r/n,a=qo.bisect(Wc,i);return a==Wc.length?[t.year,Ya(e.map(function(e){return e/31536e6}),n)[2]]:a?t[i/Wc[a-1]<Wc[a]/i?a-1:a]:[Yc,Ya(e,n)[2]]}return r.invert=function(t){return $o(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map($o)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,$o(+n+1),t).length}var a=r.domain(),o=La(a),s=null==e?i(o,10):"number"==typeof e&&i(o,e);return s&&(e=s[0],t=s[1]),r.domain(ja(a,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=$o(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=$o(+t+1);return t}}:e))},r.ticks=function(e,t){var n=La(r.domain()),a=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],$o(+n[1]+1),1>t?1:t)},r.tickFormat=function(){return n},r.copy=function(){return Yo(e.copy(),t,n)},Ba(r,e)}function $o(e){return new Date(e)}function Jo(e){return JSON.parse(e.responseText)}function Vo(e){var t=Xo.createRange();return t.selectNode(Xo.body),t.createContextualFragment(e.responseText)}var qo={version:"3.4.13"};Date.now||(Date.now=function(){return+new Date});var Go=[].slice,Qo=function(e){return Go.call(e)},Xo=document,Zo=Xo.documentElement,es=window;try{Qo(Zo.childNodes)[0].nodeType}catch(ts){Qo=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n
}}try{Xo.createElement("div").style.setProperty("opacity",0,"")}catch(ns){var rs=es.Element.prototype,is=rs.setAttribute,as=rs.setAttributeNS,os=es.CSSStyleDeclaration.prototype,ss=os.setProperty;rs.setAttribute=function(e,t){is.call(this,e,t+"")},rs.setAttributeNS=function(e,t,n){as.call(this,e,t,n+"")},os.setProperty=function(e,t,n){ss.call(this,e,t+"",n)}}qo.ascending=e,qo.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},qo.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},qo.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},qo.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o&&!(null!=(n=i=e[a])&&n>=n);)n=i=void 0;for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++a<o&&!(null!=(n=i=t.call(e,e[a],a))&&n>=n);)n=void 0;for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},qo.sum=function(e,t){var r,i=0,a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)n(r=+e[o])&&(i+=r);else for(;++o<a;)n(r=+t.call(e,e[o],o))&&(i+=r);return i},qo.mean=function(e,r){var i,a=0,o=e.length,s=-1,l=o;if(1===arguments.length)for(;++s<o;)n(i=t(e[s]))?a+=i:--l;else for(;++s<o;)n(i=t(r.call(e,e[s],s)))?a+=i:--l;return l?a/l:void 0},qo.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},qo.median=function(r,i){var a,o=[],s=r.length,l=-1;if(1===arguments.length)for(;++l<s;)n(a=t(r[l]))&&o.push(a);else for(;++l<s;)n(a=t(i.call(r,r[l],l)))&&o.push(a);return o.length?qo.quantile(o.sort(e),.5):void 0};var ls=r(e);qo.bisectLeft=ls.left,qo.bisect=qo.bisectRight=ls.right,qo.bisector=function(t){return r(1===t.length?function(n,r){return e(t(n),r)}:t)},qo.shuffle=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e},qo.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},qo.pairs=function(e){for(var t,n=0,r=e.length-1,i=e[0],a=new Array(0>r?0:r);r>n;)a[n]=[t=i,i=e[++n]];return a},qo.zip=function(){if(!(r=arguments.length))return[];for(var e=-1,t=qo.min(arguments,i),n=new Array(t);++e<t;)for(var r,a=-1,o=n[e]=new Array(r);++a<r;)o[a]=arguments[a][e];return n},qo.transpose=function(e){return qo.zip.apply(qo,e)},qo.keys=function(e){var t=[];for(var n in e)t.push(n);return t},qo.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},qo.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},qo.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n};var cs=Math.abs;qo.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw new Error("infinite range");var r,i=[],o=a(cs(n)),s=-1;if(e*=o,t*=o,n*=o,0>n)for(;(r=e+n*++s)>t;)i.push(r/o);else for(;(r=e+n*++s)<t;)i.push(r/o);return i},qo.map=function(e){var t=new s;if(e instanceof s)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t};var us="__proto__",ds="\x00";o(s,{has:u,get:function(e){return this._[l(e)]},set:function(e,t){return this._[l(e)]=t},remove:d,keys:p,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:c(t),value:this._[t]});return e},size:h,empty:g,forEach:function(e){for(var t in this._)e.call(this,c(t),this._[t])}}),qo.nest=function(){function e(t,o,l){if(l>=a.length)return r?r.call(i,o):n?o.sort(n):o;for(var c,u,d,p,h=-1,g=o.length,f=a[l++],m=new s;++h<g;)(p=m.get(c=f(u=o[h])))?p.push(u):m.set(c,[u]);return t?(u=t(),d=function(n,r){u.set(n,e(t,r,l))}):(u={},d=function(n,r){u[n]=e(t,r,l)}),m.forEach(d),u}function t(e,n){if(n>=a.length)return e;var r=[],i=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),i?r.sort(function(e,t){return i(e.key,t.key)}):r}var n,r,i={},a=[],o=[];return i.map=function(t,n){return e(n,t,0)},i.entries=function(n){return t(e(qo.map,n,0),0)},i.key=function(e){return a.push(e),i},i.sortKeys=function(e){return o[a.length-1]=e,i},i.sortValues=function(e){return n=e,i},i.rollup=function(e){return r=e,i},i},qo.set=function(e){var t=new f;if(e)for(var n=0,r=e.length;r>n;++n)t.add(e[n]);return t},o(f,{has:u,add:function(e){return this._[l(e+="")]=!0,e},remove:d,values:p,size:h,empty:g,forEach:function(e){for(var t in this._)e.call(this,c(t))}}),qo.behavior={},qo.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=m(e,t,t[n]);return e};var ps=["webkit","ms","moz","Moz","o","O"];qo.dispatch=function(){for(var e=new y,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=b(e);return e},y.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},qo.event=null,qo.requote=function(e){return e.replace(hs,"\\$&")};var hs=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,gs={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},fs=function(e,t){return t.querySelector(e)},ms=function(e,t){return t.querySelectorAll(e)},_s=Zo.matches||Zo[_(Zo,"matchesSelector")],vs=function(e,t){return _s.call(e,t)};"function"==typeof Sizzle&&(fs=function(e,t){return Sizzle(e,t)[0]||null},ms=Sizzle,vs=Sizzle.matchesSelector),qo.selection=function(){return Ss};var ys=qo.selection.prototype=[];ys.select=function(e){var t,n,r,i,a=[];e=A(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return T(a)},ys.selectAll=function(e){var t,n,r=[];e=x(e);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(t=Qo(e.call(n,n.__data__,s,i))),t.parentNode=n);return T(r)};var bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};qo.ns={prefix:bs,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.slice(0,t),e=e.slice(t+1)),bs.hasOwnProperty(n)?{space:bs[n],local:e}:e}},ys.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=qo.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(M(t,e[t]));return this}return this.each(M(e,t))},ys.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=O(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!k(e[i]).test(t))return!1;return!0}for(t in e)this.each(N(t,e[t]));return this}return this.each(N(e,t))},ys.style=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t="");for(n in e)this.each(C(n,e[n],t));return this}if(2>r)return es.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(C(e,t,n))},ys.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(U(t,e[t]));return this}return this.each(U(e,t))},ys.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},ys.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},ys.append=function(e){return e=F(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},ys.insert=function(e,t){return e=F(e),t=A(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ys.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},ys.data=function(e,t){function n(e,n){var r,i,a,o=e.length,d=n.length,p=Math.min(o,d),h=new Array(d),g=new Array(d),f=new Array(o);if(t){var m,_=new s,v=new Array(o);for(r=-1;++r<o;)_.has(m=t.call(i=e[r],i.__data__,r))?f[r]=i:_.set(m,i),v[r]=m;for(r=-1;++r<d;)(i=_.get(m=t.call(n,a=n[r],r)))?i!==!0&&(h[r]=i,i.__data__=a):g[r]=L(a),_.set(m,!0);for(r=-1;++r<o;)_.get(v[r])!==!0&&(f[r]=e[r])}else{for(r=-1;++r<p;)i=e[r],a=n[r],i?(i.__data__=a,h[r]=i):g[r]=L(a);for(;d>r;++r)g[r]=L(n[r]);for(;o>r;++r)f[r]=e[r]}g.update=h,g.parentNode=h.parentNode=f.parentNode=e.parentNode,l.push(g),c.push(h),u.push(f)}var r,i,a=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++a<o;)(i=r[a])&&(e[a]=i.__data__);return e}var l=H([]),c=T([]),u=T([]);if("function"==typeof e)for(;++a<o;)n(r=this[a],e.call(r,r.parentNode.__data__,a));else for(;++a<o;)n(r=this[a],e);return c.enter=function(){return l},c.exit=function(){return u},c},ys.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},ys.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=I(e));for(var a=0,o=this.length;o>a;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return T(i)},ys.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},ys.sort=function(e){e=P.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},ys.each=function(e){return j(this,function(t,n,r){e.call(t,t.__data__,n,r)})},ys.call=function(e){var t=Qo(arguments);return e.apply(t[0]=this,t),this},ys.empty=function(){return!this.node()},ys.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],r=0,i=n.length;i>r;r++){var a=n[r];if(a)return a}return null},ys.size=function(){var e=0;return j(this,function(){++e}),e};var Es=[];qo.selection.enter=H,qo.selection.enter.prototype=Es,Es.append=ys.append,Es.empty=ys.empty,Es.node=ys.node,Es.call=ys.call,Es.size=ys.size,Es.select=function(e){for(var t,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(a=i[c])?(t.push(r[c]=n=e.call(i.parentNode,a.__data__,c,s)),n.__data__=a.__data__):t.push(null)}return T(o)},Es.insert=function(e,t){return arguments.length<2&&(t=z(this)),ys.insert.call(this,e,t)},ys.transition=function(){for(var e,t,n=kc||++Uc,r=[],i=Oc||{time:Date.now(),ease:Ti,delay:0,duration:250},a=-1,o=this.length;++a<o;){r.push(e=[]);for(var s=this[a],l=-1,c=s.length;++l<c;)(t=s[l])&&zo(t,l,n,i),e.push(t)}return Po(r,n)},ys.interrupt=function(){return this.each(W)},qo.select=function(e){var t=["string"==typeof e?fs(e,Xo):e];return t.parentNode=Zo,T([t])},qo.selectAll=function(e){var t=Qo("string"==typeof e?ms(e,Xo):e);return t.parentNode=Zo,T([t])};var Ss=qo.select(Zo);ys.on=function(e,t,n){var r=arguments.length;if(3>r){if("string"!=typeof e){2>r&&(t=!1);for(n in e)this.each(B(n,e[n],t));return this}if(2>r)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(B(e,t,n))};var ws=qo.map({mouseenter:"mouseover",mouseleave:"mouseout"});ws.forEach(function(e){"on"+e in Xo&&ws.remove(e)});var Ts="onselectstart"in Xo?null:_(Zo.style,"userSelect"),As=0;qo.mouse=function(e){return J(e,S())};var xs=/WebKit/.test(es.navigator.userAgent)?-1:0;qo.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=S().changedTouches),t)for(var r,i=0,a=t.length;a>i;++i)if((r=t[i]).identifier===n)return J(e,r)},qo.behavior.drag=function(){function e(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function t(e,t,i,a,o){return function(){function s(){var e,n,r=t(p,f);r&&(e=r[0]-y[0],n=r[1]-y[1],g|=e|n,y=r,h({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function l(){t(p,f)&&(_.on(a+m,null).on(o+m,null),v(g&&qo.event.target===d),h({type:"dragend"}))}var c,u=this,d=qo.event.target,p=u.parentNode,h=n.of(u,arguments),g=0,f=e(),m=".drag"+(null==f?"":"-"+f),_=qo.select(i()).on(a+m,s).on(o+m,l),v=$(),y=t(p,f);r?(c=r.apply(u,arguments),c=[c.x-y[0],c.y-y[1]]):c=[0,0],h({type:"dragstart"})}}var n=w(e,"drag","dragstart","dragend"),r=null,i=t(v,qo.mouse,G,"mousemove","mouseup"),a=t(V,qo.touch,q,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},qo.rebind(e,n,"on")},qo.touches=function(e,t){return arguments.length<2&&(t=S().touches),t?Qo(t).map(function(t){var n=J(e,t);return n.identifier=t.identifier,n}):[]};var Ms=Math.PI,Ds=2*Ms,ks=Ms/2,Os=1e-6,Ns=Os*Os,Rs=Ms/180,Cs=180/Ms,Us=Math.SQRT2,Fs=2,Ls=4;qo.interpolateZoom=function(e,t){function n(e){var t=e*v;if(_){var n=nt(f),o=a/(Fs*p)*(n*rt(Us*t+f)-tt(f));return[r+o*c,i+o*u,a*n/nt(Us*t+f)]}return[r+e*c,i+e*u,a*Math.exp(Us*t)]}var r=e[0],i=e[1],a=e[2],o=t[0],s=t[1],l=t[2],c=o-r,u=s-i,d=c*c+u*u,p=Math.sqrt(d),h=(l*l-a*a+Ls*d)/(2*a*Fs*p),g=(l*l-a*a-Ls*d)/(2*l*Fs*p),f=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(g*g+1)-g),_=m-f,v=(_||Math.log(l/a))/Us;return n.duration=1e3*v,n},qo.behavior.zoom=function(){function e(e){e.on(M,c).on(js+".zoom",d).on("dblclick.zoom",p).on(O,u)}function t(e){return[(e[0]-T.x)/T.k,(e[1]-T.y)/T.k]}function n(e){return[e[0]*T.k+T.x,e[1]*T.k+T.y]}function r(e){T.k=Math.max(x[0],Math.min(x[1],e))}function i(e,t){t=n(t),T.x+=e[0]-t[0],T.y+=e[1]-t[1]}function a(){y&&y.domain(v.range().map(function(e){return(e-T.x)/T.k}).map(v.invert)),S&&S.domain(b.range().map(function(e){return(e-T.y)/T.k}).map(b.invert))}function o(e){e({type:"zoomstart"})}function s(e){a(),e({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function l(e){e({type:"zoomend"})}function c(){function e(){u=1,i(qo.mouse(r),p),s(c)}function n(){d.on(D,null).on(k,null),h(u&&qo.event.target===a),l(c)}var r=this,a=qo.event.target,c=N.of(r,arguments),u=0,d=qo.select(es).on(D,e).on(k,n),p=t(qo.mouse(r)),h=$();W.call(r),o(c)}function u(){function e(){var e=qo.touches(h);return p=T.k,e.forEach(function(e){e.identifier in f&&(f[e.identifier]=t(e))}),e}function n(){var t=qo.event.target;qo.select(t).on(y,a).on(b,d),S.push(t);for(var n=qo.event.changedTouches,o=0,l=n.length;l>o;++o)f[n[o].identifier]=null;var c=e(),u=Date.now();if(1===c.length){if(500>u-_){var p=c[0],h=f[p.identifier];r(2*T.k),i(p,h),E(),s(g)}_=u}else if(c.length>1){var p=c[0],v=c[1],w=p[0]-v[0],A=p[1]-v[1];m=w*w+A*A}}function a(){for(var e,t,n,a,o=qo.touches(h),l=0,c=o.length;c>l;++l,a=null)if(n=o[l],a=f[n.identifier]){if(t)break;e=n,t=a}if(a){var u=(u=n[0]-e[0])*u+(u=n[1]-e[1])*u,d=m&&Math.sqrt(u/m);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+a[0])/2,(t[1]+a[1])/2],r(d*p)}_=null,i(e,t),s(g)}function d(){if(qo.event.touches.length){for(var t=qo.event.changedTouches,n=0,r=t.length;r>n;++n)delete f[t[n].identifier];for(var i in f)return void e()}qo.selectAll(S).on(v,null),w.on(M,c).on(O,u),A(),l(g)}var p,h=this,g=N.of(h,arguments),f={},m=0,v=".zoom-"+qo.event.changedTouches[0].identifier,y="touchmove"+v,b="touchend"+v,S=[],w=qo.select(h),A=$();W.call(h),n(),o(g),w.on(M,null).on(O,n)}function d(){var e=N.of(this,arguments);m?clearTimeout(m):(h=t(g=f||qo.mouse(this)),W.call(this),o(e)),m=setTimeout(function(){m=null,l(e)},50),E(),r(Math.pow(2,.002*Is())*T.k),i(g,h),s(e)}function p(){var e=N.of(this,arguments),n=qo.mouse(this),a=t(n),c=Math.log(T.k)/Math.LN2;o(e),r(Math.pow(2,qo.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),i(n,a),s(e),l(e)}var h,g,f,m,_,v,y,b,S,T={x:0,y:0,k:1},A=[960,500],x=Ps,M="mousedown.zoom",D="mousemove.zoom",k="mouseup.zoom",O="touchstart.zoom",N=w(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=N.of(this,arguments),t=T;kc?qo.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},o(e)}).tween("zoom:zoom",function(){var n=A[0],r=A[1],i=n/2,a=r/2,o=qo.interpolateZoom([(i-T.x)/T.k,(a-T.y)/T.k,n/T.k],[(i-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(t){var r=o(t),l=n/r[2];this.__chart__=T={x:i-r[0]*l,y:a-r[1]*l,k:l},s(e)}}).each("end.zoom",function(){l(e)}):(this.__chart__=T,o(e),s(e),l(e))})},e.translate=function(t){return arguments.length?(T={x:+t[0],y:+t[1],k:T.k},a(),e):[T.x,T.y]},e.scale=function(t){return arguments.length?(T={x:T.x,y:T.y,k:+t},a(),e):T.k},e.scaleExtent=function(t){return arguments.length?(x=null==t?Ps:[+t[0],+t[1]],e):x},e.center=function(t){return arguments.length?(f=t&&[+t[0],+t[1]],e):f},e.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],e):A},e.x=function(t){return arguments.length?(y=t,v=t.copy(),T={x:0,y:0,k:1},e):y},e.y=function(t){return arguments.length?(S=t,b=t.copy(),T={x:0,y:0,k:1},e):S},qo.rebind(e,N,"on")};var Is,Ps=[0,1/0],js="onwheel"in Xo?(Is=function(){return-qo.event.deltaY*(qo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Xo?(Is=function(){return qo.event.wheelDelta},"mousewheel"):(Is=function(){return-qo.event.detail},"MozMousePixelScroll");qo.color=at,at.prototype.toString=function(){return this.rgb()+""},qo.hsl=ot;var Hs=ot.prototype=new at;Hs.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new ot(this.h,this.s,this.l/e)},Hs.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new ot(this.h,this.s,e*this.l)},Hs.rgb=function(){return st(this.h,this.s,this.l)},qo.hcl=lt;var zs=lt.prototype=new at;zs.brighter=function(e){return new lt(this.h,this.c,Math.min(100,this.l+Ws*(arguments.length?e:1)))},zs.darker=function(e){return new lt(this.h,this.c,Math.max(0,this.l-Ws*(arguments.length?e:1)))},zs.rgb=function(){return ct(this.h,this.c,this.l).rgb()},qo.lab=ut;var Ws=18,Bs=.95047,Ks=1,Ys=1.08883,$s=ut.prototype=new at;$s.brighter=function(e){return new ut(Math.min(100,this.l+Ws*(arguments.length?e:1)),this.a,this.b)},$s.darker=function(e){return new ut(Math.max(0,this.l-Ws*(arguments.length?e:1)),this.a,this.b)},$s.rgb=function(){return dt(this.l,this.a,this.b)},qo.rgb=mt;var Js=mt.prototype=new at;Js.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&i>t&&(t=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new mt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new mt(i,i,i)},Js.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new mt(e*this.r,e*this.g,e*this.b)},Js.hsl=function(){return Et(this.r,this.g,this.b)},Js.toString=function(){return"#"+yt(this.r)+yt(this.g)+yt(this.b)};var Vs=qo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Vs.forEach(function(e,t){Vs.set(e,_t(t))}),qo.functor=At,qo.xhr=Mt(xt),qo.dsv=function(e,t){function n(e,n,a){arguments.length<3&&(a=n,n=null);var o=Dt(e,t,null==n?r:i(n),a);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:i(e)):n},o}function r(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)}}function a(t){return t.map(o).join(e)}function o(e){return s.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(u>=c)return o;if(i)return i=!1,a;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var r=e.charCodeAt(n+1);return 13===r?(i=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c>u;){var r=e.charCodeAt(u++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===e.charCodeAt(u)&&(++u,++s);else if(r!==l)continue;return e.slice(t,u-s)}return e.slice(t)}for(var r,i,a={},o={},s=[],c=e.length,u=0,d=0;(r=n())!==o;){for(var p=[];r!==a&&r!==o;)p.push(r),r=n();t&&null==(p=t(p,d++))||s.push(p)}return s},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new f,i=[];return t.forEach(function(e){for(var t in e)r.has(t)||i.push(r.add(t))}),[i.map(o).join(e)].concat(t.map(function(t){return i.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},qo.csv=qo.dsv(",","text/csv"),qo.tsv=qo.dsv("	","text/tab-separated-values");var qs,Gs,Qs,Xs,Zs,el=es[_(es,"requestAnimationFrame")]||function(e){setTimeout(e,17)};qo.timer=function(e,t,n){var r=arguments.length;2>r&&(t=0),3>r&&(n=Date.now());var i=n+t,a={c:e,t:i,f:!1,n:null};Gs?Gs.n=a:qs=a,Gs=a,Qs||(Xs=clearTimeout(Xs),Qs=1,el(Nt))},qo.timer.flush=function(){Rt(),Ct()},qo.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var tl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ft);qo.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=qo.round(e,Ut(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),tl[8+n/3]};var nl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,rl=qo.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=qo.round(e,Ut(e,t))).toFixed(Math.max(0,Math.min(20,Ut(e*(1+1e-15),t))))}}),il=qo.time={},al=Date;Pt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ol.setUTCDate.apply(this._,arguments)},setDay:function(){ol.setUTCDay.apply(this._,arguments)},setFullYear:function(){ol.setUTCFullYear.apply(this._,arguments)},setHours:function(){ol.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ol.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ol.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ol.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ol.setUTCSeconds.apply(this._,arguments)},setTime:function(){ol.setTime.apply(this._,arguments)}};var ol=Date.prototype;il.year=jt(function(e){return e=il.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),il.years=il.year.range,il.years.utc=il.year.utc.range,il.day=jt(function(e){var t=new al(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),il.days=il.day.range,il.days.utc=il.day.utc.range,il.dayOfYear=function(e){var t=il.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=il[e]=jt(function(e){return(e=il.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=il.year(e).getDay();return Math.floor((il.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});il[e+"s"]=n.range,il[e+"s"].utc=n.utc.range,il[e+"OfYear"]=function(e){var n=il.year(e).getDay();return Math.floor((il.dayOfYear(e)+(n+t)%7)/7)}}),il.week=il.sunday,il.weeks=il.sunday.range,il.weeks.utc=il.sunday.utc.range,il.weekOfYear=il.sundayOfYear;var sl={"-":"",_:" ",0:"0"},ll=/^\s*\d+/,cl=/^%/;qo.locale=function(e){return{numberFormat:Lt(e),timeFormat:zt(e)}};var ul=qo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});qo.format=ul.numberFormat,qo.geo={},cn.prototype={s:0,t:0,add:function(e){un(e,this.t,dl),un(dl.s,this.s,this),this.s?this.t+=dl.t:this.s=dl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var dl=new cn;qo.geo.stream=function(e,t){e&&pl.hasOwnProperty(e.type)?pl[e.type](e,t):dn(e,t)};var pl={Feature:function(e,t){dn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)dn(n[r].geometry,t)}},hl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){pn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],t,0)},Polygon:function(e,t){hn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)hn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)dn(n[r],t)}};qo.geo.area=function(e){return gl=0,qo.geo.stream(e,ml),gl};var gl,fl=new cn,ml={sphere:function(){gl+=4*Ms},point:v,lineStart:v,lineEnd:v,polygonStart:function(){fl.reset(),ml.lineStart=gn},polygonEnd:function(){var e=2*fl;gl+=0>e?4*Ms+e:e,ml.lineStart=ml.lineEnd=ml.point=v}};qo.geo.bounds=function(){function e(e,t){y.push(b=[u=e,p=e]),d>t&&(d=t),t>h&&(h=t)}function t(t,n){var r=fn([t*Rs,n*Rs]);if(_){var i=_n(_,r),a=[i[1],-i[0],0],o=_n(a,i);bn(o),o=En(o);var l=t-g,c=l>0?1:-1,f=o[0]*Cs*c,m=cs(l)>180;if(m^(f>c*g&&c*t>f)){var v=o[1]*Cs;v>h&&(h=v)}else if(f=(f+360)%360-180,m^(f>c*g&&c*t>f)){var v=-o[1]*Cs;d>v&&(d=v)}else d>n&&(d=n),n>h&&(h=n);m?g>t?s(u,t)>s(u,p)&&(p=t):s(t,p)>s(u,p)&&(u=t):p>=u?(u>t&&(u=t),t>p&&(p=t)):t>g?s(u,t)>s(u,p)&&(p=t):s(t,p)>s(u,p)&&(u=t)}else e(t,n);_=r,g=t}function n(){E.point=t}function r(){b[0]=u,b[1]=p,E.point=e,_=null}function i(e,n){if(_){var r=e-g;v+=cs(r)>180?r+(r>0?360:-360):r}else f=e,m=n;ml.point(e,n),t(e,n)}function a(){ml.lineStart()}function o(){i(f,m),ml.lineEnd(),cs(v)>Os&&(u=-(p=180)),b[0]=u,b[1]=p,_=null}function s(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,d,p,h,g,f,m,_,v,y,b,E={point:e,lineStart:n,lineEnd:r,polygonStart:function(){E.point=i,E.lineStart=a,E.lineEnd=o,v=0,ml.polygonStart()},polygonEnd:function(){ml.polygonEnd(),E.point=e,E.lineStart=n,E.lineEnd=r,0>fl?(u=-(p=180),d=-(h=90)):v>Os?h=90:-Os>v&&(d=-90),b[0]=u,b[1]=p}};return function(e){h=p=-(u=d=1/0),y=[],qo.geo.stream(e,E);var t=y.length;if(t){y.sort(l);for(var n,r=1,i=y[0],a=[i];t>r;++r)n=y[r],c(n[0],i)||c(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):a.push(i=n);for(var o,n,g=-1/0,t=a.length-1,r=0,i=a[t];t>=r;i=n,++r)n=a[r],(o=s(i[1],n[0]))>g&&(g=o,u=n[0],p=i[1])}return y=b=null,1/0===u||1/0===d?[[0/0,0/0],[0/0,0/0]]:[[u,d],[p,h]]}}(),qo.geo.centroid=function(e){_l=vl=yl=bl=El=Sl=wl=Tl=Al=xl=Ml=0,qo.geo.stream(e,Dl);var t=Al,n=xl,r=Ml,i=t*t+n*n+r*r;return Ns>i&&(t=Sl,n=wl,r=Tl,Os>vl&&(t=yl,n=bl,r=El),i=t*t+n*n+r*r,Ns>i)?[0/0,0/0]:[Math.atan2(n,t)*Cs,et(r/Math.sqrt(i))*Cs]};var _l,vl,yl,bl,El,Sl,wl,Tl,Al,xl,Ml,Dl={sphere:v,point:wn,lineStart:An,lineEnd:xn,polygonStart:function(){Dl.lineStart=Mn},polygonEnd:function(){Dl.lineStart=An}},kl=Rn(Dn,Ln,Pn,[-Ms,-Ms/2]),Ol=1e9;qo.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),i=a(e),i.valid=!0,i},extent:function(s){return arguments.length?(a=Wn(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(qo.geo.conicEqualArea=function(){return Kn(Yn)}).raw=Yn,qo.geo.albers=function(){return qo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},qo.geo.albersUsa=function(){function e(e){var a=e[0],o=e[1];return t=null,n(a,o),t||(r(a,o),t)||i(a,o),t}var t,n,r,i,a=qo.geo.albers(),o=qo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=qo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=a.scale(),n=a.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?o:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:a).invert(e)},e.stream=function(e){var t=a.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),s.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),s.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var c=a.scale(),u=+t[0],d=+t[1];return n=a.translate(t).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(l).point,r=o.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+Os,d+.12*c+Os],[u-.214*c-Os,d+.234*c-Os]]).stream(l).point,i=s.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+Os,d+.166*c+Os],[u-.115*c-Os,d+.234*c-Os]]).stream(l).point,e
},e.scale(1070)};var Nl,Rl,Cl,Ul,Fl,Ll,Il={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Rl=0,Il.lineStart=$n},polygonEnd:function(){Il.lineStart=Il.lineEnd=Il.point=v,Nl+=cs(Rl/2)}},Pl={point:Jn,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},jl={point:Gn,lineStart:Qn,lineEnd:Xn,polygonStart:function(){jl.lineStart=Zn},polygonEnd:function(){jl.point=Gn,jl.lineStart=Qn,jl.lineEnd=Xn}};qo.geo.path=function(){function e(e){return e&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=i(a)),qo.geo.stream(e,o)),a.result()}function t(){return o=null,e}var n,r,i,a,o,s=4.5;return e.area=function(e){return Nl=0,qo.geo.stream(e,i(Il)),Nl},e.centroid=function(e){return yl=bl=El=Sl=wl=Tl=Al=xl=Ml=0,qo.geo.stream(e,i(jl)),Ml?[Al/Ml,xl/Ml]:Tl?[Sl/Tl,wl/Tl]:El?[yl/El,bl/El]:[0/0,0/0]},e.bounds=function(e){return Fl=Ll=-(Cl=Ul=1/0),qo.geo.stream(e,i(Pl)),[[Cl,Ul],[Fl,Ll]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||nr(e):xt,t()):n},e.context=function(e){return arguments.length?(a=null==(r=e)?new Vn:new er(e),"function"!=typeof s&&a.pointRadius(s),t()):r},e.pointRadius=function(t){return arguments.length?(s="function"==typeof t?t:(a.pointRadius(+t),+t),e):s},e.projection(qo.geo.albersUsa()).context(null)},qo.geo.transform=function(e){return{stream:function(t){var n=new rr(t);for(var r in e)n[r]=e[r];return n}}},rr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},qo.geo.projection=ar,qo.geo.projectionMutator=or,(qo.geo.equirectangular=function(){return ar(lr)}).raw=lr.invert=lr,qo.geo.rotation=function(e){function t(t){return t=e(t[0]*Rs,t[1]*Rs),t[0]*=Cs,t[1]*=Cs,t}return e=ur(e[0]%360*Rs,e[1]*Rs,e.length>2?e[2]*Rs:0),t.invert=function(t){return t=e.invert(t[0]*Rs,t[1]*Rs),t[0]*=Cs,t[1]*=Cs,t},t},cr.invert=lr,qo.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=ur(-e[0]*Rs,-e[1]*Rs,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Cs,e[1]*=Cs}}),{type:"Polygon",coordinates:[i]}}var t,n,r=[0,0],i=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=gr((t=+r)*Rs,i*Rs),e):t},e.precision=function(r){return arguments.length?(n=gr(t*Rs,(i=+r)*Rs),e):i},e.angle(90)},qo.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Rs,i=e[1]*Rs,a=t[1]*Rs,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),c=Math.cos(i),u=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},qo.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return qo.range(Math.ceil(a/m)*m,i,m).map(p).concat(qo.range(Math.ceil(c/_)*_,l,_).map(h)).concat(qo.range(Math.ceil(r/g)*g,n,g).filter(function(e){return cs(e%m)>Os}).map(u)).concat(qo.range(Math.ceil(s/f)*f,o,f).filter(function(e){return cs(e%_)>Os}).map(d))}var n,r,i,a,o,s,l,c,u,d,p,h,g=10,f=g,m=90,_=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(h(l).slice(1),p(i).reverse().slice(1),h(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],a>i&&(t=a,a=i,i=t),c>l&&(t=c,c=l,l=t),e.precision(v)):[[a,c],[i,l]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(v)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(m=+t[0],_=+t[1],e):[m,_]},e.minorStep=function(t){return arguments.length?(g=+t[0],f=+t[1],e):[g,f]},e.precision=function(t){return arguments.length?(v=+t,u=mr(s,o,90),d=_r(r,n,v),p=mr(c,l,90),h=_r(a,i,v),e):v},e.majorExtent([[-180,-90+Os],[180,90-Os]]).minorExtent([[-180,-80-Os],[180,80+Os]])},qo.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,r=vr,i=yr;return e.distance=function(){return qo.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},qo.geo.interpolate=function(e,t){return br(e[0]*Rs,e[1]*Rs,t[0]*Rs,t[1]*Rs)},qo.geo.length=function(e){return Hl=0,qo.geo.stream(e,zl),Hl};var Hl,zl={sphere:v,point:v,lineStart:Er,lineEnd:v,polygonStart:v,polygonEnd:v},Wl=Sr(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(qo.geo.azimuthalEqualArea=function(){return ar(Wl)}).raw=Wl;var Bl=Sr(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},xt);(qo.geo.azimuthalEquidistant=function(){return ar(Bl)}).raw=Bl,(qo.geo.conicConformal=function(){return Kn(wr)}).raw=wr,(qo.geo.conicEquidistant=function(){return Kn(Tr)}).raw=Tr;var Kl=Sr(function(e){return 1/e},Math.atan);(qo.geo.gnomonic=function(){return ar(Kl)}).raw=Kl,Ar.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-ks]},(qo.geo.mercator=function(){return xr(Ar)}).raw=Ar;var Yl=Sr(function(){return 1},Math.asin);(qo.geo.orthographic=function(){return ar(Yl)}).raw=Yl;var $l=Sr(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(qo.geo.stereographic=function(){return ar($l)}).raw=$l,Mr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-ks]},(qo.geo.transverseMercator=function(){var e=xr(Mr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Mr,qo.geom={},qo.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=At(n),a=At(r),o=e.length,s=[],l=[];for(t=0;o>t;t++)s.push([+i.call(this,e[t],t),+a.call(this,e[t],t),t]);for(s.sort(Nr),t=0;o>t;t++)l.push([s[t][0],-s[t][1]]);var c=Or(s),u=Or(l),d=u[0]===c[0],p=u[u.length-1]===c[c.length-1],h=[];for(t=c.length-1;t>=0;--t)h.push(e[s[c[t]][2]]);for(t=+d;t<u.length-p;++t)h.push(e[s[u[t]][2]]);return h}var n=Dr,r=kr;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},qo.geom.polygon=function(e){return gs(e,Jl),e};var Jl=qo.geom.polygon.prototype=[];Jl.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},Jl.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},Jl.clip=function(e){for(var t,n,r,i,a,o,s=Ur(e),l=-1,c=this.length-Ur(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,i=this[l],a=t[(r=t.length-s)-1],n=-1;++n<r;)o=t[n],Rr(o,u,i)?(Rr(a,u,i)||e.push(Cr(a,o,u,i)),e.push(o)):Rr(a,u,i)&&e.push(Cr(a,o,u,i)),a=o;s&&e.push(e[0]),u=i}return e};var Vl,ql,Gl,Ql,Xl,Zl=[],ec=[];Wr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Kr),t.length},ei.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ti.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ai(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(ri(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ii(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(ii(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ri(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?ai(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return e.C=!1,void 0;do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ri(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ii(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ri(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ii(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ri(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ii(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},qo.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=s[0][0],i=s[0][1],a=s[1][0],o=s[1][1];return oi(n(e),s).cells.forEach(function(n,s){var l=n.edges,c=n.site,u=t[s]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=r&&c.x<=a&&c.y>=i&&c.y<=o?[[r,o],[a,o],[a,i],[r,i]]:[];u.point=e[s]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/Os)*Os,y:Math.round(o(e,t)/Os)*Os,i:t}})}var r=Dr,i=kr,a=r,o=i,s=tc;return e?t(e):(t.links=function(e){return oi(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return oi(n(e)).cells.forEach(function(n,r){for(var i,a,o=n.site,s=n.edges.sort(Kr),l=-1,c=s.length,u=s[c-1].edge,d=u.l===o?u.r:u.l;++l<c;)i=u,a=d,u=s[l].edge,d=u.l===o?u.r:u.l,r<a.i&&r<d.i&&li(o,a,d)<0&&t.push([e[r],e[a.i],e[d.i]])}),t},t.x=function(e){return arguments.length?(a=At(r=e),t):r},t.y=function(e){return arguments.length?(o=At(i=e),t):i},t.clipExtent=function(e){return arguments.length?(s=null==e?tc:e,t):s===tc?null:s},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):s===tc?null:s&&s[1]},t)};var tc=[[-1e6,-1e6],[1e6,1e6]];qo.geom.delaunay=function(e){return qo.geom.voronoi().triangles(e)},qo.geom.quadtree=function(e,t,n,r,i){function a(e){function a(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(cs(l-n)+cs(u-r)<.01)c(e,t,n,r,i,a,o,s);else{var d=e.point;e.x=e.y=e.point=null,c(e,d,l,u,i,a,o,s),c(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,i,a,o,s)}function c(e,t,n,r,i,o,s,l){var c=.5*(i+s),u=.5*(o+l),d=n>=c,p=r>=u,h=(p<<1)+d;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=di()),d?i=c:s=c,p?o=u:l=u,a(e,t,n,r,i,o,s,l)}var u,d,p,h,g,f,m,_,v,y=At(s),b=At(l);if(null!=t)f=t,m=n,_=r,v=i;else if(_=v=-(f=m=1/0),d=[],p=[],g=e.length,o)for(h=0;g>h;++h)u=e[h],u.x<f&&(f=u.x),u.y<m&&(m=u.y),u.x>_&&(_=u.x),u.y>v&&(v=u.y),d.push(u.x),p.push(u.y);else for(h=0;g>h;++h){var E=+y(u=e[h],h),S=+b(u,h);f>E&&(f=E),m>S&&(m=S),E>_&&(_=E),S>v&&(v=S),d.push(E),p.push(S)}var w=_-f,T=v-m;w>T?v=m+w:_=f+T;var A=di();if(A.add=function(e){a(A,e,+y(e,++h),+b(e,h),f,m,_,v)},A.visit=function(e){pi(e,A,f,m,_,v)},h=-1,null==t){for(;++h<g;)a(A,e[h],d[h],p[h],f,m,_,v);--h}else e.forEach(A.add);return d=p=e=u=null,A}var o,s=Dr,l=kr;return(o=arguments.length)?(s=ci,l=ui,3===o&&(i=n,r=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(s=e,a):s},a.y=function(e){return arguments.length?(l=e,a):l},a.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),a):null==t?null:[[t,n],[r,i]]},a.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),a):null==t?null:[r-t,i-n]},a)},qo.interpolateRgb=hi,qo.interpolateObject=gi,qo.interpolateNumber=fi,qo.interpolateString=mi;var nc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rc=new RegExp(nc.source,"g");qo.interpolate=_i,qo.interpolators=[function(e,t){var n=typeof t;return("string"===n?Vs.has(t)||/^(#|rgb\(|hsl\()/.test(t)?hi:mi:t instanceof at?hi:Array.isArray(t)?vi:"object"===n&&isNaN(t)?gi:fi)(e,t)}],qo.interpolateArray=vi;var ic=function(){return xt},ac=qo.map({linear:ic,poly:Ai,quad:function(){return Si},cubic:function(){return wi},sin:function(){return xi},exp:function(){return Mi},circle:function(){return Di},elastic:ki,back:Oi,bounce:function(){return Ni}}),oc=qo.map({"in":xt,out:bi,"in-out":Ei,"out-in":function(e){return Ei(bi(e))}});qo.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=ac.get(n)||ic,r=oc.get(r)||xt,yi(r(n.apply(null,Go.call(arguments,1))))},qo.interpolateHcl=Ri,qo.interpolateHsl=Ci,qo.interpolateLab=Ui,qo.interpolateRound=Fi,qo.transform=function(e){var t=Xo.createElementNS(qo.ns.prefix.svg,"g");return(qo.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Li(n?n.matrix:sc)})(e)},Li.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var sc={a:1,b:0,c:0,d:1,e:0,f:0};qo.interpolateTransform=Hi,qo.layout={},qo.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Bi(e[n]));return t}},qo.layout.chord=function(){function e(){var e,c,d,p,h,g={},f=[],m=qo.range(a),_=[];for(n=[],r=[],e=0,p=-1;++p<a;){for(c=0,h=-1;++h<a;)c+=i[p][h];f.push(c),_.push(qo.range(a)),e+=c}for(o&&m.sort(function(e,t){return o(f[e],f[t])}),s&&_.forEach(function(e,t){e.sort(function(e,n){return s(i[t][e],i[t][n])})}),e=(Ds-u*a)/e,c=0,p=-1;++p<a;){for(d=c,h=-1;++h<a;){var v=m[p],y=_[v][h],b=i[v][y],E=c,S=c+=b*e;g[v+"-"+y]={index:v,subindex:y,startAngle:E,endAngle:S,value:b}}r[v]={index:v,startAngle:d,endAngle:c,value:(c-d)/e},c+=u}for(p=-1;++p<a;)for(h=p-1;++h<a;){var w=g[p+"-"+h],T=g[h+"-"+p];(w.value||T.value)&&n.push(w.value<T.value?{source:T,target:w}:{source:w,target:T})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,i,a,o,s,l,c={},u=0;return c.matrix=function(e){return arguments.length?(a=(i=e)&&i.length,n=r=null,c):i},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(o=e,n=r=null,c):o},c.sortSubgroups=function(e){return arguments.length?(s=e,n=null,c):s},c.sortChords=function(e){return arguments.length?(l=e,n&&t(),c):l},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},qo.layout.force=function(){function e(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,l=a*a+o*o;if(l>s*s/m){if(g>l){var c=t.charge/l;e.px-=a*c,e.py-=o*c}return!0}if(t.point&&l&&g>l){var c=t.pointCharge/l;e.px-=a*c,e.py-=o*c}}return!t.charge}}function t(e){e.px=qo.event.x,e.py=qo.event.y,s.resume()}var n,r,i,a,o,s={},l=qo.dispatch("start","tick","end"),c=[1,1],u=.9,d=lc,p=cc,h=-30,g=uc,f=.1,m=.64,_=[],v=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var t,n,s,d,p,g,m,y,b,E=_.length,S=v.length;for(n=0;S>n;++n)s=v[n],d=s.source,p=s.target,y=p.x-d.x,b=p.y-d.y,(g=y*y+b*b)&&(g=r*a[n]*((g=Math.sqrt(g))-i[n])/g,y*=g,b*=g,p.x-=y*(m=d.weight/(p.weight+d.weight)),p.y-=b*m,d.x+=y*(m=1-m),d.y+=b*m);if((m=r*f)&&(y=c[0]/2,b=c[1]/2,n=-1,m))for(;++n<E;)s=_[n],s.x+=(y-s.x)*m,s.y+=(b-s.y)*m;if(h)for(Gi(t=qo.geom.quadtree(_),r,o),n=-1;++n<E;)(s=_[n]).fixed||t.visit(e(s));for(n=-1;++n<E;)s=_[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*u,s.y-=(s.py-(s.py=s.y))*u);l.tick({type:"tick",alpha:r})},s.nodes=function(e){return arguments.length?(_=e,s):_},s.links=function(e){return arguments.length?(v=e,s):v},s.size=function(e){return arguments.length?(c=e,s):c},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.friction=function(e){return arguments.length?(u=+e,s):u},s.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.chargeDistance=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.gravity=function(e){return arguments.length?(f=+e,s):f},s.theta=function(e){return arguments.length?(m=e*e,s):Math.sqrt(m)},s.alpha=function(e){return arguments.length?(e=+e,r?r=e>0?e:0:e>0&&(l.start({type:"start",alpha:r=e}),qo.timer(s.tick)),s):r},s.start=function(){function e(e,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;c>s;++s){var i=v[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,o=n[t],s=-1,c=o.length;++s<c;)if(!isNaN(a=o[s][e]))return a;return Math.random()*r}var t,n,r,l=_.length,u=v.length,g=c[0],f=c[1];for(t=0;l>t;++t)(r=_[t]).index=t,r.weight=0;for(t=0;u>t;++t)r=v[t],"number"==typeof r.source&&(r.source=_[r.source]),"number"==typeof r.target&&(r.target=_[r.target]),++r.source.weight,++r.target.weight;for(t=0;l>t;++t)r=_[t],isNaN(r.x)&&(r.x=e("x",g)),isNaN(r.y)&&(r.y=e("y",f)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(t=0;u>t;++t)i[t]=+d.call(this,v[t],t);else for(t=0;u>t;++t)i[t]=d;if(a=[],"function"==typeof p)for(t=0;u>t;++t)a[t]=+p.call(this,v[t],t);else for(t=0;u>t;++t)a[t]=p;if(o=[],"function"==typeof h)for(t=0;l>t;++t)o[t]=+h.call(this,_[t],t);else for(t=0;l>t;++t)o[t]=h;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=qo.behavior.drag().origin(xt).on("dragstart.force",$i).on("drag.force",t).on("dragend.force",Ji)),arguments.length?(this.on("mouseover.force",Vi).on("mouseout.force",qi).call(n),void 0):n},qo.rebind(s,l,"on")};var lc=20,cc=1,uc=1/0;qo.layout.hierarchy=function(){function e(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(c=n.call(e,a,a.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)o.push(u=c[l]),u.parent=a,u.depth=a.depth+1;r&&(a.value=0),a.children=c}else r&&(a.value=+r.call(e,a,a.depth)||0),delete a.children;return Zi(i,function(e){var n,i;t&&(n=e.children)&&n.sort(t),r&&(i=e.parent)&&(i.value+=e.value)}),s}var t=na,n=ea,r=ta;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(Xi(t,function(e){e.children&&(e.value=0)}),Zi(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},qo.layout.partition=function(){function e(t,n,r,i){var a=t.children;if(t.x=n,t.y=t.depth*i,t.dx=r,t.dy=i,a&&(o=a.length)){var o,s,l,c=-1;for(r=t.value?r/t.value:0;++c<o;)e(s=a[c],n,l=s.value*r,i),n+=l}}function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)r=Math.max(r,t(n[a]));return 1+r}function n(n,a){var o=r.call(this,n,a);return e(o[0],0,i[0],i[1]/t(o[0])),o}var r=qo.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Qi(n,r)},qo.layout.pie=function(){function e(a){var o=a.map(function(n,r){return+t.call(e,n,r)}),s=+("function"==typeof r?r.apply(this,arguments):r),l=(("function"==typeof i?i.apply(this,arguments):i)-s)/qo.sum(o),c=qo.range(a.length);null!=n&&c.sort(n===dc?function(e,t){return o[t]-o[e]}:function(e,t){return n(a[e],a[t])});var u=[];return c.forEach(function(e){var t;u[e]={data:a[e],value:t=o[e],startAngle:s,endAngle:s+=t*l}}),u}var t=Number,n=dc,r=0,i=Ds;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var dc={};qo.layout.stack=function(){function e(s,l){if(!(p=s.length))return s;var c=s.map(function(n,r){return t.call(e,n,r)}),u=c.map(function(t){return t.map(function(t,n){return[a.call(e,t,n),o.call(e,t,n)]})}),d=n.call(e,u,l);c=qo.permute(c,d),u=qo.permute(u,d);var p,h,g,f,m=r.call(e,u,l),_=c[0].length;for(g=0;_>g;++g)for(i.call(e,c[0][g],f=m[g],u[0][g][1]),h=1;p>h;++h)i.call(e,c[h][g],f+=u[h-1][g][1],u[h][g][1]);return s}var t=xt,n=sa,r=la,i=oa,a=ia,o=aa;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:pc.get(t)||sa,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:hc.get(t)||la,e):r},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(i=t,e):i},e};var pc=qo.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(ca),a=e.map(ua),o=qo.range(r).sort(function(e,t){return i[e]-i[t]}),s=0,l=0,c=[],u=[];for(t=0;r>t;++t)n=o[t],l>s?(s+=a[n],c.push(n)):(l+=a[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return qo.range(e.length).reverse()},"default":sa}),hc=qo.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,l=[];for(n=0;a>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;a>n;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,r,i,a,o,s,l,c,u=e.length,d=e[0],p=d.length,h=[];for(h[0]=l=c=0,n=1;p>n;++n){for(t=0,i=0;u>t;++t)i+=e[t][n][1];for(t=0,a=0,s=d[n][0]-d[n-1][0];u>t;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);t>r;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}h[n]=l-=i?a/i*s:0,c>l&&(c=l)}for(n=0;p>n;++n)h[n]-=c;return h},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;a>n;++n){for(t=0,r=0;i>t;t++)r+=e[t][n][1];if(r)for(t=0;i>t;t++)e[t][n][1]/=r;else for(t=0;i>t;t++)e[t][n][1]=o}for(n=0;a>n;++n)s[n]=0;return s},zero:la});qo.layout.histogram=function(){function e(e,a){for(var o,s,l=[],c=e.map(n,this),u=r.call(this,c,a),d=i.call(this,u,c,a),a=-1,p=c.length,h=d.length-1,g=t?1:1/p;++a<h;)o=l[a]=[],o.dx=d[a+1]-(o.x=d[a]),o.y=0;if(h>0)for(a=-1;++a<p;)s=c[a],s>=u[0]&&s<=u[1]&&(o=l[qo.bisect(d,s,1,h)-1],o.y+=g,o.push(e[a]));return l}var t=!0,n=Number,r=ga,i=pa;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=At(t),e):r},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return ha(e,t)}:At(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},qo.layout.pack=function(){function e(e,a){var o=n.call(this,e,a),s=o[0],l=i[0],c=i[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Zi(s,function(e){e.r=+u(e.value)}),Zi(s,ya),r){var d=r*(t?1:Math.max(2*s.r/l,2*s.r/c))/2;Zi(s,function(e){e.r+=d}),Zi(s,ya),Zi(s,function(e){e.r-=d})}return Sa(s,l/2,c/2,t?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var t,n=qo.layout.hierarchy().sort(fa),r=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},Qi(e,n)},qo.layout.tree=function(){function e(e,i){var u=o.call(this,e,i),d=u[0],p=t(d);if(Zi(p,n),p.parent.m=-p.z,Xi(p,r),c)Xi(d,a);else{var h=d,g=d,f=d;Xi(d,function(e){e.x<h.x&&(h=e),e.x>g.x&&(g=e),e.depth>f.depth&&(f=e)});var m=s(h,g)/2-h.x,_=l[0]/(g.x+s(g,h)/2+m),v=l[1]/(f.depth||1);Xi(d,function(e){e.x=(e.x+m)*_,e.y=e.depth*v})}return u}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;s>o;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Da(e);var a=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+s(e._,r._),e.m=e.z-a):e.z=a}else r&&(e.z=r.z+s(e._,r._));e.parent.A=i(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function i(e,t,n){if(t){for(var r,i=e,a=e,o=t,l=i.parent.children[0],c=i.m,u=a.m,d=o.m,p=l.m;o=xa(o),i=Aa(i),o&&i;)l=Aa(l),a=xa(a),a.a=e,r=o.z+d-i.z-c+s(o._,i._),r>0&&(Ma(ka(o,e,n),e,r),c+=r,u+=r),d+=o.m,c+=i.m,p+=l.m,u+=a.m;o&&!xa(a)&&(a.t=o,a.m+=d-u),i&&!Aa(l)&&(l.t=i,l.m+=c-p,n=e)}return n}function a(e){e.x*=l[0],e.y=e.depth*l[1]}var o=qo.layout.hierarchy().sort(null).value(null),s=Ta,l=[1,1],c=null;return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=null==(l=t)?a:null,e):c?null:l},e.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:a,e):c?l:null},Qi(e,o)},qo.layout.cluster=function(){function e(e,a){var o,s=t.call(this,e,a),l=s[0],c=0;Zi(l,function(e){var t=e.children;t&&t.length?(e.x=Na(t),e.y=Oa(t)):(e.x=o?c+=n(e,o):0,e.y=0,o=e)});var u=Ra(l),d=Ca(l),p=u.x-n(u,d)/2,h=d.x+n(d,u)/2;return Zi(l,i?function(e){e.x=(e.x-l.x)*r[0],e.y=(l.y-e.y)*r[1]}:function(e){e.x=(e.x-p)/(h-p)*r[0],e.y=(1-(l.y?e.y/l.y:1))*r[1]}),s}var t=qo.layout.hierarchy().sort(null).value(null),n=Ta,r=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(r=t),e):i?null:r},e.nodeSize=function(t){return arguments.length?(i=null!=(r=t),e):i?r:null},Qi(e,t)},qo.layout.treemap=function(){function e(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(0>t?0:t),n.area=isNaN(r)||0>=r?0:r}function t(n){var a=n.children;if(a&&a.length){var o,s,l,c=d(n),u=[],p=a.slice(),g=1/0,f="slice"===h?c.dx:"dice"===h?c.dy:"slice-dice"===h?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(p,c.dx*c.dy/n.value),u.area=0;(l=p.length)>0;)u.push(o=p[l-1]),u.area+=o.area,"squarify"!==h||(s=r(u,f))<=g?(p.pop(),g=s):(u.area-=u.pop().area,i(u,f,c,!1),f=Math.min(c.dx,c.dy),u.length=u.area=0,g=1/0);u.length&&(i(u,f,c,!0),u.length=u.area=0),a.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var a,o=d(t),s=r.slice(),l=[];for(e(s,o.dx*o.dy/t.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(a>n&&(a=n),n>i&&(i=n));return r*=r,t*=t,r?Math.max(t*i*g/r,r/(t*a*g)):1/0}function i(e,t,n,r){var i,a=-1,o=e.length,s=n.x,c=n.y,u=t?l(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++a<o;)i=e[a],i.x=s,i.y=c,i.dy=u,s+=i.dx=Math.min(n.x+n.dx-s,u?l(i.area/u):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++a<o;)i=e[a],i.x=s,i.y=c,i.dx=u,c+=i.dy=Math.min(n.y+n.dy-c,u?l(i.area/u):0);i.z=!1,i.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function a(r){var i=o||s(r),a=i[0];return a.x=0,a.y=0,a.dx=c[0],a.dy=c[1],o&&s.revalue(a),e([a],a.dx*a.dy/a.value),(o?n:t)(a),p&&(o=i),i}var o,s=qo.layout.hierarchy(),l=Math.round,c=[1,1],u=null,d=Ua,p=!1,h="squarify",g=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(c=e,a):c},a.padding=function(e){function t(t){var n=e.call(a,t,t.depth);return null==n?Ua(t):Fa(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Fa(t,e)}if(!arguments.length)return u;var r;return d=null==(u=e)?Ua:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,a},a.round=function(e){return arguments.length?(l=e?Math.round:Number,a):l!=Number},a.sticky=function(e){return arguments.length?(p=e,o=null,a):p},a.ratio=function(e){return arguments.length?(g=e,a):g},a.mode=function(e){return arguments.length?(h=e+"",a):h},Qi(a,s)},qo.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=qo.random.normal.apply(qo,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=qo.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},qo.scale={};var gc={floor:xt,ceil:xt};qo.scale.linear=function(){return Wa([0,1],[0,1],_i,!1)};var fc={s:1,g:1,p:1,r:1,e:1};qo.scale.log=function(){return Ga(qo.scale.linear().domain([0,1]),10,!0,[1,10])};var mc=qo.format(".0e"),_c={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};qo.scale.pow=function(){return Qa(qo.scale.linear(),1,[0,1])},qo.scale.sqrt=function(){return qo.scale.pow().exponent(.5)},qo.scale.ordinal=function(){return Za([],{t:"range",a:[[]]})},qo.scale.category10=function(){return qo.scale.ordinal().range(vc)},qo.scale.category20=function(){return qo.scale.ordinal().range(yc)},qo.scale.category20b=function(){return qo.scale.ordinal().range(bc)},qo.scale.category20c=function(){return qo.scale.ordinal().range(Ec)};var vc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(vt),yc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(vt),bc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(vt),Ec=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(vt);qo.scale.quantile=function(){return eo([],[])},qo.scale.quantize=function(){return to(0,1,[0,1])},qo.scale.threshold=function(){return no([.5],[0,1])},qo.scale.identity=function(){return ro([0,1])},qo.svg={},qo.svg.arc=function(){function e(){var e=t.apply(this,arguments),a=n.apply(this,arguments),o=r.apply(this,arguments)+Sc,s=i.apply(this,arguments)+Sc,l=(o>s&&(l=o,o=s,s=l),s-o),c=Ms>l?"0":"1",u=Math.cos(o),d=Math.sin(o),p=Math.cos(s),h=Math.sin(s);return l>=wc?e?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":e?"M"+a*u+","+a*d+"A"+a+","+a+" 0 "+c+",1 "+a*p+","+a*h+"L"+e*p+","+e*h+"A"+e+","+e+" 0 "+c+",0 "+e*u+","+e*d+"Z":"M"+a*u+","+a*d+"A"+a+","+a+" 0 "+c+",1 "+a*p+","+a*h+"L0,0Z"}var t=io,n=ao,r=oo,i=so;return e.innerRadius=function(n){return arguments.length?(t=At(n),e):t},e.outerRadius=function(t){return arguments.length?(n=At(t),e):n},e.startAngle=function(t){return arguments.length?(r=At(t),e):r},e.endAngle=function(t){return arguments.length?(i=At(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,a=(r.apply(this,arguments)+i.apply(this,arguments))/2+Sc;return[Math.cos(a)*e,Math.sin(a)*e]},e};var Sc=-ks,wc=Ds-Os;qo.svg.line=function(){return lo(xt)};var Tc=qo.map({linear:co,"linear-closed":uo,step:po,"step-before":ho,"step-after":go,basis:bo,"basis-open":Eo,"basis-closed":So,bundle:wo,cardinal:_o,"cardinal-open":fo,"cardinal-closed":mo,monotone:ko});Tc.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ac=[0,2/3,1/3,0],xc=[0,1/3,2/3,0],Mc=[0,1/6,2/3,1/6];qo.svg.line.radial=function(){var e=lo(Oo);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},ho.reverse=go,go.reverse=ho,qo.svg.area=function(){return No(xt)},qo.svg.area.radial=function(){var e=No(Oo);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},qo.svg.chord=function(){function e(e,s){var l=t(this,a,e,s),c=t(this,o,e,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,c)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,l.r,l.p0))+"Z"}function t(e,t,n,r){var i=t.call(e,n,r),a=s.call(e,i,r),o=l.call(e,i,r)+Sc,u=c.call(e,i,r)+Sc;return{r:a,a0:o,a1:u,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(u),a*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ms)+",1 "+t}function i(e,t,n,r){return"Q 0,0 "+r}var a=vr,o=yr,s=Ro,l=oo,c=so;return e.radius=function(t){return arguments.length?(s=At(t),e):s},e.source=function(t){return arguments.length?(a=At(t),e):a},e.target=function(t){return arguments.length?(o=At(t),e):o},e.startAngle=function(t){return arguments.length?(l=At(t),e):l},e.endAngle=function(t){return arguments.length?(c=At(t),e):c},e},qo.svg.diagonal=function(){function e(e,i){var a=t.call(this,e,i),o=n.call(this,e,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=vr,n=yr,r=Co;return e.source=function(n){return arguments.length?(t=At(n),e):t},e.target=function(t){return arguments.length?(n=At(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},qo.svg.diagonal.radial=function(){var e=qo.svg.diagonal(),t=Co,n=e.projection;return e.projection=function(e){return arguments.length?n(Uo(t=e)):t},e},qo.svg.symbol=function(){function e(e,r){return(Dc.get(t.call(this,e,r))||Io)(n.call(this,e,r))}var t=Lo,n=Fo;return e.type=function(n){return arguments.length?(t=At(n),e):t},e.size=function(t){return arguments.length?(n=At(t),e):n
},e};var Dc=qo.map({circle:Io,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Rc)),n=t*Rc;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Nc),n=t*Nc/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Nc),n=t*Nc/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});qo.svg.symbolTypes=Dc.keys();var kc,Oc,Nc=Math.sqrt(3),Rc=Math.tan(30*Rs),Cc=[],Uc=0;Cc.call=ys.call,Cc.empty=ys.empty,Cc.node=ys.node,Cc.size=ys.size,qo.transition=function(e){return arguments.length?kc?e.transition():e:Ss.transition()},qo.transition.prototype=Cc,Cc.select=function(e){var t,n,r,i=this.id,a=[];e=A(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]);for(var l=this[o],c=-1,u=l.length;++c<u;)(r=l[c])&&(n=e.call(r,r.__data__,c,o))?("__data__"in r&&(n.__data__=r.__data__),zo(n,c,i,r.__transition__[i]),t.push(n)):t.push(null)}return Po(a,i)},Cc.selectAll=function(e){var t,n,r,i,a,o=this.id,s=[];e=x(e);for(var l=-1,c=this.length;++l<c;)for(var u=this[l],d=-1,p=u.length;++d<p;)if(r=u[d]){a=r.__transition__[o],n=e.call(r,r.__data__,d,l),s.push(t=[]);for(var h=-1,g=n.length;++h<g;)(i=n[h])&&zo(i,h,o,a),t.push(i)}return Po(s,o)},Cc.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=I(e));for(var a=0,o=this.length;o>a;a++){i.push(t=[]);for(var n=this[a],s=0,l=n.length;l>s;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return Po(i,this.id)},Cc.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):j(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(r){r.__transition__[n].tween.set(e,t)})},Cc.attr=function(e,t){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(s);return n!==e&&(t=o(n,e),function(e){this.setAttribute(s,t(e))})})}function a(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(s.space,s.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(s.space,s.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Hi:_i,s=qo.ns.qualify(e);return jo(this,"attr."+e,t,s.local?a:i)},Cc.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(i));return r&&function(e){this.setAttribute(i,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return r&&function(e){this.setAttributeNS(i.space,i.local,r(e))}}var i=qo.ns.qualify(e);return this.tween("attr."+e,i.local?r:n)},Cc.style=function(e,t,n){function r(){this.style.removeProperty(e)}function i(t){return null==t?r:(t+="",function(){var r,i=es.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=_i(i,t),function(t){this.style.setProperty(e,r(t),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return jo(this,"style."+e,t,i)},Cc.styleTween=function(e,t,n){function r(r,i){var a=t.call(this,r,i,es.getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Cc.text=function(e){return jo(this,"text",e,Ho)},Cc.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Cc.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=qo.ease.apply(qo,arguments)),j(this,function(n){n.__transition__[t].ease=e}))},Cc.delay=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].delay:j(this,"function"==typeof e?function(n,r,i){n.__transition__[t].delay=+e.call(n,n.__data__,r,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},Cc.duration=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].duration:j(this,"function"==typeof e?function(n,r,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,r,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},Cc.each=function(e,t){var n=this.id;if(arguments.length<2){var r=Oc,i=kc;kc=n,j(this,function(t,r,i){Oc=t.__transition__[n],e.call(t,t.__data__,r,i)}),Oc=r,kc=i}else j(this,function(r){var i=r.__transition__[n];(i.event||(i.event=qo.dispatch("start","end"))).on(e,t)});return this},Cc.transition=function(){for(var e,t,n,r,i=this.id,a=++Uc,o=[],s=0,l=this.length;l>s;s++){o.push(e=[]);for(var t=this[s],c=0,u=t.length;u>c;c++)(n=t[c])&&(r=Object.create(n.__transition__[i]),r.delay+=r.duration,zo(n,c,a,r)),e.push(n)}return Po(o,a)},qo.svg.axis=function(){function e(e){e.each(function(){var e,c=qo.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),p=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,h=null==t?d.tickFormat?d.tickFormat.apply(d,s):xt:t,g=c.selectAll(".tick").data(p,d),f=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Os),m=qo.transition(g.exit()).style("opacity",Os).remove(),_=qo.transition(g.order()).style("opacity",1),v=Math.max(i,0)+o,y=Ia(d),b=c.selectAll(".domain").data([0]),E=(b.enter().append("path").attr("class","domain"),qo.transition(b));f.append("line"),f.append("text");var S,w,T,A,x=f.select("line"),M=_.select("line"),D=g.select("text").text(h),k=f.select("text"),O=_.select("text"),N="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=Wo,S="x",T="y",w="x2",A="y2",D.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),E.attr("d","M"+y[0]+","+N*a+"V0H"+y[1]+"V"+N*a)):(e=Bo,S="y",T="x",w="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),E.attr("d","M"+N*a+","+y[0]+"H0V"+y[1]+"H"+N*a)),x.attr(A,N*i),k.attr(T,N*v),M.attr(w,0).attr(A,N*i),O.attr(S,0).attr(T,N*v),d.rangeBand){var R=d,C=R.rangeBand()/2;u=d=function(e){return R(e)+C}}else u.rangeBand?u=d:m.call(e,d,u);f.call(e,u,d),_.call(e,d,d)})}var t,n=qo.scale.linear(),r=Fc,i=6,a=6,o=3,s=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Lc?t+"":Fc,e):r},e.ticks=function(){return arguments.length?(s=arguments,e):s},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,a=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Fc="bottom",Lc={top:1,right:1,bottom:1,left:1};qo.svg.brush=function(){function e(a){a.each(function(){var a=qo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(g,xt);s.exit().remove(),s.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ic[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",e.empty()?"none":null);var u,d=qo.transition(a),p=qo.transition(o);l&&(u=Ia(l),p.attr("x",u[0]).attr("width",u[1]-u[0]),n(d)),c&&(u=Ia(c),p.attr("y",u[0]).attr("height",u[1]-u[0]),r(d)),t(d)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+u[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",u[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function r(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function i(){function i(){32==qo.event.keyCode&&(D||(v=null,O[0]-=u[1],O[1]-=d[1],D=2),E())}function g(){32==qo.event.keyCode&&2==D&&(O[0]+=u[1],O[1]+=d[1],D=0,E())}function f(){var e=qo.mouse(b),i=!1;y&&(e[0]+=y[0],e[1]+=y[1]),D||(qo.event.altKey?(v||(v=[(u[0]+u[1])/2,(d[0]+d[1])/2]),O[0]=u[+(e[0]<v[0])],O[1]=d[+(e[1]<v[1])]):v=null),x&&m(e,l,0)&&(n(T),i=!0),M&&m(e,c,1)&&(r(T),i=!0),i&&(t(T),w({type:"brush",mode:D?"move":"resize"}))}function m(e,t,n){var r,i,s=Ia(t),l=s[0],c=s[1],g=O[n],f=n?d:u,m=f[1]-f[0];return D&&(l-=g,c-=m+g),r=(n?h:p)?Math.max(l,Math.min(c,e[n])):e[n],D?i=(r+=g)+m:(v&&(g=Math.max(l,Math.min(c,2*v[n]-r))),r>g?(i=r,r=g):i=g),f[0]!=r||f[1]!=i?(n?o=null:a=null,f[0]=r,f[1]=i,!0):void 0}function _(){f(),T.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),qo.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),w({type:"brushend"})}var v,y,b=this,S=qo.select(qo.event.target),w=s.of(b,arguments),T=qo.select(b),A=S.datum(),x=!/^(n|s)$/.test(A)&&l,M=!/^(e|w)$/.test(A)&&c,D=S.classed("extent"),k=$(),O=qo.mouse(b),N=qo.select(es).on("keydown.brush",i).on("keyup.brush",g);if(qo.event.changedTouches?N.on("touchmove.brush",f).on("touchend.brush",_):N.on("mousemove.brush",f).on("mouseup.brush",_),T.interrupt().selectAll("*").interrupt(),D)O[0]=u[0]-O[0],O[1]=d[0]-O[1];else if(A){var R=+/w$/.test(A),C=+/^n/.test(A);y=[u[1-R]-O[0],d[1-C]-O[1]],O[0]=u[R],O[1]=d[C]}else qo.event.altKey&&(v=O.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),qo.select("body").style("cursor",S.style("cursor")),w({type:"brushstart"}),f()}var a,o,s=w(e,"brushstart","brush","brushend"),l=null,c=null,u=[0,0],d=[0,0],p=!0,h=!0,g=Pc[0];return e.event=function(e){e.each(function(){var e=s.of(this,arguments),t={x:u,y:d,i:a,j:o},n=this.__chart__||t;this.__chart__=t,kc?qo.select(this).transition().each("start.brush",function(){a=n.i,o=n.j,u=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=vi(u,t.x),r=vi(d,t.y);return a=o=null,function(i){u=t.x=n(i),d=t.y=r(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,o=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,g=Pc[!l<<1|!c],e):l},e.y=function(t){return arguments.length?(c=t,g=Pc[!l<<1|!c],e):c},e.clamp=function(t){return arguments.length?(l&&c?(p=!!t[0],h=!!t[1]):l?p=!!t:c&&(h=!!t),e):l&&c?[p,h]:l?p:c?h:null},e.extent=function(t){var n,r,i,s,p;return arguments.length?(l&&(n=t[0],r=t[1],c&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(p=n,n=r,r=p),(n!=u[0]||r!=u[1])&&(u=[n,r])),c&&(i=t[0],s=t[1],l&&(i=i[1],s=s[1]),o=[i,s],c.invert&&(i=c(i),s=c(s)),i>s&&(p=i,i=s,s=p),(i!=d[0]||s!=d[1])&&(d=[i,s])),e):(l&&(a?(n=a[0],r=a[1]):(n=u[0],r=u[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(p=n,n=r,r=p))),c&&(o?(i=o[0],s=o[1]):(i=d[0],s=d[1],c.invert&&(i=c.invert(i),s=c.invert(s)),i>s&&(p=i,i=s,s=p))),l&&c?[[n,i],[r,s]]:l?[n,r]:c&&[i,s])},e.clear=function(){return e.empty()||(u=[0,0],d=[0,0],a=o=null),e},e.empty=function(){return!!l&&u[0]==u[1]||!!c&&d[0]==d[1]},qo.rebind(e,s,"on")};var Ic={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],jc=il.format=ul.timeFormat,Hc=jc.utc,zc=Hc("%Y-%m-%dT%H:%M:%S.%LZ");jc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ko:zc,Ko.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Ko.toString=zc.toString,il.second=jt(function(e){return new al(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),il.seconds=il.second.range,il.seconds.utc=il.second.utc.range,il.minute=jt(function(e){return new al(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),il.minutes=il.minute.range,il.minutes.utc=il.minute.utc.range,il.hour=jt(function(e){var t=e.getTimezoneOffset()/60;return new al(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),il.hours=il.hour.range,il.hours.utc=il.hour.utc.range,il.month=jt(function(e){return e=il.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),il.months=il.month.range,il.months.utc=il.month.utc.range;var Wc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Bc=[[il.second,1],[il.second,5],[il.second,15],[il.second,30],[il.minute,1],[il.minute,5],[il.minute,15],[il.minute,30],[il.hour,1],[il.hour,3],[il.hour,6],[il.hour,12],[il.day,1],[il.day,2],[il.week,1],[il.month,1],[il.month,3],[il.year,1]],Kc=jc.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Dn]]),Yc={range:function(e,t,n){return qo.range(Math.ceil(e/n)*n,+t,n).map($o)},floor:xt,ceil:xt};Bc.year=il.year,il.scale=function(){return Yo(qo.scale.linear(),Bc,Kc)};var $c=Bc.map(function(e){return[e[0].utc,e[1]]}),Jc=Hc.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Dn]]);$c.year=il.year.utc,il.scale.utc=function(){return Yo(qo.scale.linear(),$c,Jc)},qo.text=Mt(function(e){return e.responseText}),qo.json=function(e,t){return Dt(e,"application/json",Jo,t)},qo.html=function(e,t){return Dt(e,"text/html",Vo,t)},qo.xml=Mt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define(qo):"object"==typeof module&&module.exports&&(module.exports=qo),this.d3=qo}(),function(e){"use strict";function t(e){var t=this.internal=new n(this);t.loadConfig(e),t.init(),function r(e,t,n){Object.keys(e).forEach(function(i){t[i]=e[i].bind(n),Object.keys(e[i]).length>0&&r(e[i],t[i],n)})}(i,this,this)}function n(t){var n=this;n.d3=e.d3?e.d3:"undefined"!=typeof require?require("d3"):void 0,n.api=t,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function r(e,t){function n(e,t){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+y)+", 0)"})}function r(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})}function i(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function a(e){var t,n,r=[];if(e.ticks)return e.ticks.apply(e,p);for(n=e.domain(),t=Math.ceil(n[0]);t<n[1];t++)r.push(t);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r}function o(){var e,n=g.copy();return t.isCategory&&(e=g.domain(),n.domain([e[0],e[1]-1])),n}function s(e){return d?d(e):e}function l(e){if(S)return S;var t={h:11.5,w:5.5};return e.select("text").text(s).each(function(e){var n=this.getBoundingClientRect(),r=s(e),i=n.height,a=r?n.width/r.length:void 0;i&&a&&(t.h=i,t.w=a)}).text(""),S=t,t}function c(c){c.each(function(){function c(e,n){function r(e,t){a=void 0;for(var s=1;s<t.length;s++)if(" "===t.charAt(s)&&(a=s),i=t.substr(0,s+1),o=H.w*i.length,o>n)return r(e.concat(t.substr(0,a?a:s)),t.slice(a?a+1:s));return e.concat(t)}var i,a,o,l=s(e),c=[];return"[object Array]"===Object.prototype.toString.call(l)?l:((!n||0>=n)&&(n=B?95:t.isCategory?Math.ceil(A(x[1])-A(x[0]))-12:110),r(c,l+""))}function d(e,n){var r=H.h;return 0===n&&(r="left"===f||"right"===f?-((z[e.index]-1)*(H.h/2)-(t.isCategory?2:3)):".71em"),r}function p(e){var t=g(e)+y;return N[0]<t&&t<N[1]?m:0}var b,E,S,w=e.select(this),T=this.__chart__||g,A=this.__chart__=o(),x=v?v:a(A),M=w.selectAll(".tick").data(x,A),D=M.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),k=M.exit().remove(),O=e.transition(M).style("opacity",1),N=g.rangeExtent?g.rangeExtent():i(g.range()),R=w.selectAll(".domain").data([0]),C=(R.enter().append("path").attr("class","domain"),e.transition(R));D.append("line"),D.append("text");var U=D.select("line"),F=O.select("line"),L=D.select("text"),I=O.select("text");t.isCategory?(y=Math.ceil((A(1)-A(0))/2),E=h?0:y,S=h?y:0):y=E=0;var P,j,H=l(w.select(".tick")),z=[],W=Math.max(m,0)+_,B="left"===f||"right"===f;switch(P=M.select("text"),j=P.selectAll("tspan").data(function(e,n){var r=t.tickMultiline?c(e,t.tickWidth):[].concat(s(e));return z[n]=r.length,r.map(function(e){return{index:n,splitted:e}})}),j.enter().append("tspan"),j.exit().remove(),j.text(function(e){return e.splitted}),f){case"bottom":b=n,U.attr("y2",m),L.attr("y",W),F.attr("x1",E).attr("x2",E).attr("y2",p),I.attr("x",0).attr("y",W),P.style("text-anchor","middle"),j.attr("x",0).attr("dy",d),C.attr("d","M"+N[0]+","+u+"V0H"+N[1]+"V"+u);break;case"top":b=n,U.attr("y2",-m),L.attr("y",-W),F.attr("x2",0).attr("y2",-m),I.attr("x",0).attr("y",-W),P.style("text-anchor","middle"),j.attr("x",0).attr("dy","0em"),C.attr("d","M"+N[0]+","+-u+"V0H"+N[1]+"V"+-u);break;case"left":b=r,U.attr("x2",-m),L.attr("x",-W),F.attr("x2",-m).attr("y1",S).attr("y2",S),I.attr("x",-W).attr("y",y),P.style("text-anchor","end"),j.attr("x",-W).attr("dy",d),C.attr("d","M"+-u+","+N[0]+"H0V"+N[1]+"H"+-u);break;case"right":b=r,U.attr("x2",m),L.attr("x",W),F.attr("x2",m).attr("y2",0),I.attr("x",W).attr("y",0),P.style("text-anchor","start"),j.attr("x",W).attr("dy",d),C.attr("d","M"+u+","+N[0]+"H0V"+N[1]+"H"+u)}if(A.rangeBand){var K=A,Y=K.rangeBand()/2;T=A=function(e){return K(e)+Y}}else T.rangeBand?T=A:k.call(b,A);D.call(b,T),O.call(b,A)})}var u,d,p,h,g=e.scale.linear(),f="bottom",m=6,_=3,v=null,y=0,b=!0;return t=t||{},u=t.withOuterTick?6:0,c.scale=function(e){return arguments.length?(g=e,c):g},c.orient=function(e){return arguments.length?(f=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",c):f},c.tickFormat=function(e){return arguments.length?(d=e,c):d},c.tickCentered=function(e){return arguments.length?(h=e,c):h},c.tickOffset=function(){return y},c.ticks=function(){return arguments.length?(p=arguments,c):p},c.tickCulling=function(e){return arguments.length?(b=e,c):b},c.tickValues=function(e){if("function"==typeof e)v=function(){return e(g.domain())};else{if(!arguments.length)return v;v=e}return c},c}var i,a,o={version:"0.4.5"};o.generate=function(e){return new t(e)},o.chart={fn:t.prototype,internal:{fn:n.prototype}},i=o.chart.fn,a=o.chart.internal.fn,a.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},a.initParams=function(){var e=this,t=e.d3,n=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=n.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=n.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=n.axis_rotated?"left":"bottom",e.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",e.y2Orient=n.axis_rotated?n.axis_y_inner?"bottom":"top":n.axis_y_inner?"left":"right",e.subXOrient=n.axis_rotated?"left":"bottom",e.isLegendRight="right"===n.legend_position,e.isLegendInset="inset"===n.legend_position,e.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,e.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},a.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},a.initWithData=function(t){var n,r,i=this,a=i.d3,o=i.config,s=!0;i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),i.selectChart="function"==typeof o.bindto.node?o.bindto:a.select(o.bindto),i.selectChart.empty()&&(i.selectChart=a.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),s=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(t),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(o.data_hide===!0?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(o.legend_hide===!0?i.mapToIds(i.data.targets):o.legend_hide),i.hasType("gauge")&&(o.legend_show=!1),i.updateSizes(),i.updateScales(),i.x.domain(a.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),o.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),n=i.svg.append("defs"),i.clipChart=i.appendClip(n,i.clipId),i.clipXAxis=i.appendClip(n,i.clipIdForXAxis),i.clipYAxis=i.appendClip(n,i.clipIdForYAxis),i.clipGrid=i.appendClip(n,i.clipIdForGrid),i.clipSubchart=i.appendClip(n,i.clipIdForSubchart),i.updateSvgSize(),r=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),r.append("text").attr("class",l.text+" "+l.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),r.append("g").attr("clip-path",i.clipPath).attr("class",l.chart),o.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),r.insert("rect",o.zoom_privileged?null:"g."+l.regions).attr("class",l.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.initAxis(),i.updateTargets(i.data.targets),s&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==e.onresize&&(e.onresize=i.generateResize()),e.onresize.add&&(e.onresize.add(function(){o.onresize.call(i)}),e.onresize.add(function(){i.api.flush()}),e.onresize.add(function(){o.onresized.call(i)})),i.api.element=i.selectChart.node()},a.smoothLines=function(e,t){var n=this;"grid"===t&&e.each(function(){var e=n.d3.select(this),t=e.attr("x1"),r=e.attr("x2"),i=e.attr("y1"),a=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(a)})})},a.updateSizes=function(){var e=this,t=e.config,n=e.legend?e.getLegendHeight():0,r=e.legend?e.getLegendWidth():0,i=e.isLegendRight||e.isLegendInset?0:n,a=e.hasArcType(),o=t.axis_rotated||a?0:e.getHorizontalAxisHeight("x"),s=t.subchart_show&&!a?t.subchart_size_height+o:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:a?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+i+e.getCurrentPaddingBottom(),left:s+(a?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:a?0:e.getCurrentPaddingRight(),bottom:o+s+i+e.getCurrentPaddingBottom(),left:a?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:0/0,bottom:20+i,left:e.rotated_padding_left}:{top:e.currentHeight-s-i,right:0/0,bottom:o+i,left:e.margin.left},e.margin3={top:0,right:0/0,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(n,r),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?r+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&a&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},a.updateTargets=function(e){var t=this,n=t.config;t.updateTargetsForText(e),t.updateTargetsForBar(e),t.updateTargetsForLine(e),t.updateTargetsForArc&&t.updateTargetsForArc(e),t.updateTargetsForSubchart&&t.updateTargetsForSubchart(e),t.svg.selectAll("."+l.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(n.transition_duration).style("opacity",1)},a.redraw=function(e,t){var n,r,i,a,o,s,c,u,d,p,h,g,f,m,_,v,b,E,S,w,T,A,x,M,D,k,O,N,R,C=this,U=C.main,F=C.d3,L=C.config,I=C.getShapeIndices(C.isAreaType),P=C.getShapeIndices(C.isBarType),j=C.getShapeIndices(C.isLineType),H=C.hasArcType(),z=C.filterTargetsToShow(C.data.targets),W=C.xv.bind(C);if(e=e||{},n=y(e,"withY",!0),r=y(e,"withSubchart",!0),i=y(e,"withTransition",!0),s=y(e,"withTransform",!1),c=y(e,"withUpdateXDomain",!1),u=y(e,"withUpdateOrgXDomain",!1),d=y(e,"withTrimXDomain",!0),f=y(e,"withUpdateXAxis",c),p=y(e,"withLegend",!1),h=y(e,"withEventRect",!0),g=y(e,"withDimension",!0),a=y(e,"withTransitionForExit",i),o=y(e,"withTransitionForAxis",i),S=i?L.transition_duration:0,w=a?S:0,T=o?S:0,t=t||C.generateAxisTransitions(T),p&&L.legend_show?C.updateLegend(C.mapToIds(C.data.targets),e,t):g&&C.updateDimension(!0),C.isCategorized()&&0===z.length&&C.x.domain([0,C.axes.x.selectAll(".tick").size()]),z.length?(C.updateXDomain(z,c,u,d),L.axis_x_tick_values||(M=L.axis_x_tick_fit||L.axis_x_tick_count?C.generateTickValues(C.mapTargetsToUniqueXs(z),L.axis_x_tick_count,C.isTimeSeries()):void 0,C.xAxis.tickValues(M),C.subXAxis.tickValues(M))):(C.xAxis.tickValues([]),C.subXAxis.tickValues([])),L.zoom_rescale&&!e.flow&&(O=C.x.orgDomain()),C.y.domain(C.getYDomain(z,"y",O)),C.y2.domain(C.getYDomain(z,"y2",O)),!L.axis_y_tick_values&&L.axis_y_tick_count&&C.yAxis.tickValues(C.generateTickValues(C.y.domain(),L.axis_y_tick_count)),!L.axis_y2_tick_values&&L.axis_y2_tick_count&&C.y2Axis.tickValues(C.generateTickValues(C.y2.domain(),L.axis_y2_tick_count)),C.redrawAxis(t,H),C.updateAxisLabels(i),(c||f)&&z.length)if(L.axis_x_tick_culling&&M){for(D=1;D<M.length;D++)if(M.length/D<L.axis_x_tick_culling_max){k=D;break}C.svg.selectAll("."+l.axisX+" .tick text").each(function(e){var t=M.indexOf(e);t>=0&&F.select(this).style("display",t%k?"none":"block")})}else C.svg.selectAll("."+l.axisX+" .tick text").style("display","block");m=C.generateDrawArea?C.generateDrawArea(I,!1):void 0,_=C.generateDrawBar?C.generateDrawBar(P):void 0,v=C.generateDrawLine?C.generateDrawLine(j,!1):void 0,b=C.generateXYForText(I,P,j,!0),E=C.generateXYForText(I,P,j,!1),n&&(C.subY.domain(C.getYDomain(z,"y")),C.subY2.domain(C.getYDomain(z,"y2"))),C.tooltip.style("display","none"),C.updateXgridFocus(),U.select("text."+l.text+"."+l.empty).attr("x",C.width/2).attr("y",C.height/2).text(L.data_empty_label_text).transition().style("opacity",z.length?0:1),C.redrawGrid(S),C.redrawRegion(S),C.redrawBar(w),C.redrawLine(w),C.redrawArea(w),C.redrawCircle(),C.hasDataLabel()&&C.redrawText(w),C.redrawArc&&C.redrawArc(S,w,s),C.redrawSubchart&&C.redrawSubchart(r,t,S,w,I,P,j),U.selectAll("."+l.selectedCircles).filter(C.isBarType.bind(C)).selectAll("circle").remove(),L.interaction_enabled&&!e.flow&&h&&(C.redrawEventRect(),C.updateZoom&&C.updateZoom()),C.updateCircleY(),N=(C.config.axis_rotated?C.circleY:C.circleX).bind(C),R=(C.config.axis_rotated?C.circleX:C.circleY).bind(C),F.transition().duration(S).each(function(){var t=[];C.addTransitionForBar(t,_),C.addTransitionForLine(t,v),C.addTransitionForArea(t,m),C.addTransitionForCircle(t,N,R),C.addTransitionForText(t,b,E,e.flow),C.addTransitionForRegion(t),C.addTransitionForGrid(t),e.flow&&(A=C.generateWait(),t.forEach(function(e){A.add(e)}),x=C.generateFlow({targets:z,flow:e.flow,duration:S,drawBar:_,drawLine:v,drawArea:m,cx:N,cy:R,xv:W,xForText:b,yForText:E}))}).call(A||function(){},x||function(){}),C.mapToIds(C.data.targets).forEach(function(e){C.withoutFadeIn[e]=!0})},a.updateAndRedraw=function(e){var t,n=this,r=n.config;e=e||{},e.withTransition=y(e,"withTransition",!0),e.withTransform=y(e,"withTransform",!1),e.withLegend=y(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=y(e,"withTransitionForTransform",e.withTransition),n.updateSizes(),e.withLegend&&r.legend_show||(t=n.generateAxisTransitions(e.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(e.withTransitionForTransform,t)),n.redraw(e,t)},a.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},a.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},a.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},a.isCustomX=function(){var e=this,t=e.config;return!e.isTimeSeries()&&(t.data_x||v(t.data_xs))},a.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},a.getTranslate=function(e){var t,n,r=this,i=r.config;return"main"===e?(t=f(r.margin.left),n=f(r.margin.top)):"context"===e?(t=f(r.margin2.left),n=f(r.margin2.top)):"legend"===e?(t=r.margin3.left,n=r.margin3.top):"x"===e?(t=0,n=i.axis_rotated?0:r.height):"y"===e?(t=0,n=i.axis_rotated?r.height:0):"y2"===e?(t=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===e?(t=0,n=i.axis_rotated?0:r.height2):"arc"===e&&(t=r.arcWidth/2,n=r.arcHeight/2),"translate("+t+","+n+")"},a.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},a.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},a.opacityForCircle=function(e){var t=this.config.point_show?1:0;return c(e.value)?this.isScatterType(e)?.5:t:0},a.opacityForText=function(){return this.hasDataLabel()?1:0},a.xx=function(e){return e?this.x(e.x):null},a.xv=function(e){var t=this;return Math.ceil(t.x(t.isTimeSeries()?t.parseDate(e.value):e.value))},a.yv=function(e){var t=this,n=e.axis&&"y2"===e.axis?t.y2:t.y;return Math.ceil(n(e.value))},a.subxx=function(e){return e?this.subX(e.x):null},a.transformMain=function(e,t){var n,r,i,a=this;t&&t.axisX?n=t.axisX:(n=a.main.select("."+l.axisX),e&&(n=n.transition())),t&&t.axisY?r=t.axisY:(r=a.main.select("."+l.axisY),e&&(r=r.transition())),t&&t.axisY2?i=t.axisY2:(i=a.main.select("."+l.axisY2),e&&(i=i.transition())),(e?a.main.transition():a.main).attr("transform",a.getTranslate("main")),n.attr("transform",a.getTranslate("x")),r.attr("transform",a.getTranslate("y")),i.attr("transform",a.getTranslate("y2")),a.main.select("."+l.chartArcs).attr("transform",a.getTranslate("arc"))
},a.transformAll=function(e,t){var n=this;n.transformMain(e,t),n.config.subchart_show&&n.transformContext(e,t),n.legend&&n.transformLegend(e)},a.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+l.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},a.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},a.observeInserted=function(t){var n=this,r=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(r.disconnect(),n.intervalForObserveInserted=e.setInterval(function(){t.node().parentNode&&(e.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})});r.observe(t.node(),{attributes:!0,childList:!0,characterData:!0})},a.generateResize=function(){function e(){t.forEach(function(e){e()})}var t=[];return e.add=function(e){t.push(e)},e},a.endall=function(e,t){var n=0;e.each(function(){++n}).each("end",function(){--n||t.apply(this,arguments)})},a.generateWait=function(){var e=[],t=function(t,n){var r=setInterval(function(){var t=0;e.forEach(function(e){if(e.empty())return t+=1,void 0;try{e.transition()}catch(n){t+=1}}),t===e.length&&(clearInterval(r),n&&n())},10)};return t.add=function(t){e.push(t)},t},a.parseDate=function(t){var n,r=this;return n=t instanceof Date?t:"number"==typeof t?new Date(t):r.dataTimeFormat(r.config.data_xFormat).parse(t),(!n||isNaN(+n))&&e.console.error("Failed to parse x '"+t+"' to Date object"),n},a.getDefaultConfig=function(){var e={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_ondragstart:function(){},data_ondragend:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_contents:function(e,t,n,r){return this.getTooltipContent?this.getTooltipContent(e,t,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},a.additionalConfig={},a.loadConfig=function(e){function t(){var e=r.shift();return e&&n&&"object"==typeof n&&e in n?(n=n[e],t()):e?void 0:n}var n,r,i,a=this.config;Object.keys(a).forEach(function(o){n=e,r=o.split("_"),i=t(),h(i)&&(a[o]=i)})},a.getScale=function(e,t,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},a.getX=function(e,t,n,r){var i,a=this,o=a.getScale(e,t,a.isTimeSeries()),s=n?o.domain(n):o;a.isCategorized()?(r=r||function(){return 0},o=function(e,t){var n=s(e)+r(e);return t?n:Math.ceil(n)}):o=function(e,t){var n=s(e);return t?n:Math.ceil(n)};for(i in s)o[i]=s[i];return o.orgDomain=function(){return s.domain()},a.isCategorized()&&(o.domain=function(e){return arguments.length?(s.domain(e),o):(e=this.orgDomain(),[e[0],e[1]+1])}),o},a.getY=function(e,t,n){var r=this.getScale(e,t,this.isTimeSeriesY());return n&&r.domain(n),r},a.getYScale=function(e){return"y2"===this.getAxisId(e)?this.y2:this.y},a.getSubYScale=function(e){return"y2"===this.getAxisId(e)?this.subY2:this.subY},a.updateScales=function(){var e=this,t=e.config,n=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,n?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,n?t.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,n?t.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,n?t.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,n?t.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.getXAxisTickFormat(),e.xAxisTickValues=e.getXAxisTickValues(),e.yAxisTickValues=e.getYAxisTickValues(),e.y2AxisTickValues=e.getY2AxisTickValues(),e.xAxis=e.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.getYAxis(e.y,e.yOrient,t.axis_y_tick_format,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.getYAxis(e.y2,e.y2Orient,t.axis_y2_tick_format,e.y2AxisTickValues,t.axis_y2_tick_outer),n||(e.brush&&e.brush.scale(e.subX),t.zoom_enabled&&e.zoom.scale(e.x)),e.updateArc&&e.updateArc()},a.getYDomainMin=function(e){var t,n,r,i,a,o,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(o=s.hasNegativeValueInTargets(e),t=0;t<l.data_groups.length;t++)if(i=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==i.length)for(r=i[0],o&&u[r]&&u[r].forEach(function(e,t){u[r][t]=0>e?e:0}),n=1;n<i.length;n++)a=i[n],u[a]&&u[a].forEach(function(e,t){s.getAxisId(a)!==s.getAxisId(r)||!u[r]||o&&+e>0||(u[r][t]+=+e)});return s.d3.min(Object.keys(u).map(function(e){return s.d3.min(u[e])}))},a.getYDomainMax=function(e){var t,n,r,i,a,o,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(l.data_groups.length>0)for(o=s.hasPositiveValueInTargets(e),t=0;t<l.data_groups.length;t++)if(i=l.data_groups[t].filter(function(e){return c.indexOf(e)>=0}),0!==i.length)for(r=i[0],o&&u[r]&&u[r].forEach(function(e,t){u[r][t]=e>0?e:0}),n=1;n<i.length;n++)a=i[n],u[a]&&u[a].forEach(function(e,t){s.getAxisId(a)!==s.getAxisId(r)||!u[r]||o&&0>+e||(u[r][t]+=+e)});return s.d3.max(Object.keys(u).map(function(e){return s.d3.max(u[e])}))},a.getYDomain=function(e,t,n){var r,i,a,o,s,l,u,d,p,h,g=this,f=g.config,_=e.filter(function(e){return g.getAxisId(e.id)===t}),y=n?g.filterByXDomain(_,n):_,b="y2"===t?f.axis_y2_min:f.axis_y_min,E="y2"===t?f.axis_y2_max:f.axis_y_max,S=c(b)?b:g.getYDomainMin(y),w=c(E)?E:g.getYDomainMax(y),T="y2"===t?f.axis_y2_center:f.axis_y_center,A=g.hasType("bar",y)&&f.bar_zerobased||g.hasType("area",y)&&f.area_zerobased,x=g.hasDataLabel()&&f.axis_rotated,M=g.hasDataLabel()&&!f.axis_rotated;return S>w&&(c(b)?w=S+10:S=w-10),0===y.length?"y2"===t?g.y2.domain():g.y.domain():(isNaN(S)&&(S=0),isNaN(w)&&(w=S),S===w&&(0>S?w=0:S=0),p=S>=0&&w>=0,h=0>=S&&0>=w,(c(b)&&p||c(E)&&h)&&(A=!1),A&&(p&&(S=0),h&&(w=0)),r=Math.abs(w-S),i=a=o=.1*r,T&&(s=Math.max(Math.abs(S),Math.abs(w)),w=s-T,S=T-s),x?(l=g.getDataLabelLength(S,w,t,"width"),u=m(g.y.range()),d=[l[0]/u,l[1]/u],a+=r*(d[1]/(1-d[0]-d[1])),o+=r*(d[0]/(1-d[0]-d[1]))):M&&(l=g.getDataLabelLength(S,w,t,"height"),a+=l[1],o+=l[0]),"y"===t&&v(f.axis_y_padding)&&(a=g.getAxisPadding(f.axis_y_padding,"top",i,r),o=g.getAxisPadding(f.axis_y_padding,"bottom",i,r)),"y2"===t&&v(f.axis_y2_padding)&&(a=g.getAxisPadding(f.axis_y2_padding,"top",i,r),o=g.getAxisPadding(f.axis_y2_padding,"bottom",i,r)),A&&(p&&(o=S),h&&(a=-w)),[S-o,w+a])},a.getXDomainMin=function(e){var t=this,n=t.config;return h(n.axis_x_min)?t.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},a.getXDomainMax=function(e){var t=this,n=t.config;return h(n.axis_x_max)?t.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},a.getXDomainPadding=function(e){var t,n,r,i,a=this,o=a.config,s=e[1]-e[0];return a.isCategorized()?n=0:a.hasType("bar")?(t=a.getMaxDataCount(),n=t>1?s/(t-1)/2:.5):n=.01*s,"object"==typeof o.axis_x_padding&&v(o.axis_x_padding)?(r=c(o.axis_x_padding.left)?o.axis_x_padding.left:n,i=c(o.axis_x_padding.right)?o.axis_x_padding.right:n):r=i="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:r,right:i}},a.getXDomain=function(e){var t=this,n=[t.getXDomainMin(e),t.getXDomainMax(e)],r=n[0],i=n[1],a=t.getXDomainPadding(n),o=0,s=0;return r-i!==0||t.isCategorized()||(t.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(o=t.isTimeSeries()?new Date(r.getTime()-a.left):r-a.left),(i||0===i)&&(s=t.isTimeSeries()?new Date(i.getTime()+a.right):i+a.right),[o,s]},a.updateXDomain=function(e,t,n,r,i){var a=this,o=a.config;return n&&(a.x.domain(i?i:a.d3.extent(a.getXDomain(e))),a.orgXDomain=a.x.domain(),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent(),a.subX.domain(a.x.domain()),a.brush&&a.brush.scale(a.subX)),t&&(a.x.domain(i?i:!a.brush||a.brush.empty()?a.orgXDomain:a.brush.extent()),o.zoom_enabled&&a.zoom.scale(a.x).updateScaleExtent()),r&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},a.trimXDomain=function(e){var t=this;return e[0]<=t.orgXDomain[0]&&(e[1]=+e[1]+(t.orgXDomain[0]-e[0]),e[0]=t.orgXDomain[0]),t.orgXDomain[1]<=e[1]&&(e[0]=+e[0]-(e[1]-t.orgXDomain[1]),e[1]=t.orgXDomain[1]),e},a.isX=function(e){var t=this,n=t.config;return n.data_x&&e===n.data_x||v(n.data_xs)&&b(n.data_xs,e)},a.isNotX=function(e){return!this.isX(e)},a.getXKey=function(e){var t=this,n=t.config;return n.data_x?n.data_x:v(n.data_xs)?n.data_xs[e]:null},a.getXValuesOfXKey=function(e,t){var n,r=this,i=t&&v(t)?r.mapToIds(t):[];return i.forEach(function(t){r.getXKey(t)===e&&(n=r.data.xs[t])}),n},a.getIndexByX=function(e){var t=this,n=t.filterByX(t.data.targets,e);return n.length?n[0].index:null},a.getXValue=function(e,t){var n=this;return e in n.data.xs&&n.data.xs[e]&&c(n.data.xs[e][t])?n.data.xs[e][t]:t},a.getOtherTargetXs=function(){var e=this,t=Object.keys(e.data.xs);return t.length?e.data.xs[t[0]]:null},a.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},a.addXs=function(e){var t=this;Object.keys(e).forEach(function(n){t.config.data_xs[n]=e[n]})},a.hasMultipleX=function(e){return this.d3.set(Object.keys(e).map(function(t){return e[t]})).size()>1},a.isMultipleX=function(){return v(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},a.addName=function(e){var t,n=this;return e&&(t=n.config.data_names[e.id],e.name=t?t:e.id),e},a.getValueOnIndex=function(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null},a.updateTargetX=function(e,t){var n=this;e.forEach(function(e){e.values.forEach(function(r,i){r.x=n.generateTargetX(t[i],e.id,i)}),n.data.xs[e.id]=t})},a.updateTargetXs=function(e,t){var n=this;e.forEach(function(e){t[e.id]&&n.updateTargetX([e],t[e.id])})},a.generateTargetX=function(e,t,n){var r,i=this;return r=i.isTimeSeries()?e?i.parseDate(e):i.parseDate(i.getXValue(t,n)):i.isCustomX()&&!i.isCategorized()?c(e)?+e:i.getXValue(t,n):n},a.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},a.updateXs=function(){var e=this;e.data.targets.length&&(e.xs=[],e.data.targets[0].values.forEach(function(t){e.xs[t.index]=t.x}))},a.getPrevX=function(e){var t=this.xs[e-1];return"undefined"!=typeof t?t:null},a.getNextX=function(e){var t=this.xs[e+1];return"undefined"!=typeof t?t:null},a.getMaxDataCount=function(){var e=this;return e.d3.max(e.data.targets,function(e){return e.values.length})},a.getMaxDataCountTarget=function(e){var t,n=e.length,r=0;return n>1?e.forEach(function(e){e.values.length>r&&(t=e,r=e.values.length)}):t=n?e[0]:null,t},a.getEdgeX=function(e){var t=this;return e.length?[t.d3.min(e,function(e){return e.values[0].x}),t.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},a.mapToIds=function(e){return e.map(function(e){return e.id})},a.mapToTargetIds=function(e){var t=this;return e?d(e)?[e]:e:t.mapToIds(t.data.targets)},a.hasTarget=function(e,t){var n,r=this.mapToIds(e);for(n=0;n<r.length;n++)if(r[n]===t)return!0;return!1},a.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},a.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},a.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},a.mapTargetsToUniqueXs=function(e){var t=this,n=t.d3.set(t.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return t.isTimeSeries()?n.map(function(e){return new Date(+e)}):n.map(function(e){return+e})},a.addHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.concat(e)},a.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0})},a.addHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.concat(e)},a.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},a.getValuesAsIdKeyed=function(e){var t={};return e.forEach(function(e){t[e.id]=[],e.values.forEach(function(n){t[e.id].push(n.value)})}),t},a.checkValueInTargets=function(e,t){var n,r,i,a=Object.keys(e);for(n=0;n<a.length;n++)for(i=e[a[n]].values,r=0;r<i.length;r++)if(t(i[r].value))return!0;return!1},a.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return 0>e})},a.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e>0})},a.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},a.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},a.orderTargets=function(e){var t=this,n=t.config,r=t.isOrderAsc(),i=t.isOrderDesc();return r||i?e.sort(function(e,t){var n=function(e,t){return e+Math.abs(t.value)},i=e.values.reduce(n,0),a=t.values.reduce(n,0);return r?a-i:i-a}):u(n.data_order)&&e.sort(n.data_order),e},a.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t===0})},a.filterRemoveNull=function(e){return e.filter(function(e){return c(e.value)})},a.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},a.hasDataLabel=function(){var e=this.config;return"boolean"==typeof e.data_labels&&e.data_labels?!0:"object"==typeof e.data_labels&&v(e.data_labels)?!0:!1},a.getDataLabelLength=function(e,t,n,r){var i=this,a=[0,0],o=1.3;return i.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return i.formatByAxisId(n)(e)}).each(function(e,t){a[t]=this.getBoundingClientRect()[r]*o}).remove(),a},a.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},a.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},a.findSameXOfValues=function(e,t){var n,r=e[t].x,i=[];for(n=t-1;n>=0&&r===e[n].x;n--)i.push(e[n]);for(n=t;n<e.length&&r===e[n].x;n++)i.push(e[n]);return i},a.findClosestFromTargets=function(e,t){var n,r=this;return n=e.map(function(e){return r.findClosest(e.values,t)}),r.findClosest(n,t)},a.findClosest=function(e,t){var n,r=this,i=100;return e.filter(function(e){return e&&r.isBarType(e.id)}).forEach(function(e){var t=r.main.select("."+l.bars+r.getTargetSelectorSuffix(e.id)+" ."+l.bar+"-"+e.index).node();!n&&r.isWithinBar(t)&&(n=e)}),e.filter(function(e){return e&&!r.isBarType(e.id)}).forEach(function(e){var a=r.dist(e,t);i>a&&(i=a,n=e)}),n},a.dist=function(e,t){var n=this,r=n.config,i=r.axis_rotated?1:0,a=r.axis_rotated?0:1,o=n.circleY(e,e.index),s=n.x(e.x);return Math.pow(s-t[i],2)+Math.pow(o-t[a],2)},a.convertValuesToStep=function(e){var t,n=[].concat(e);if(!this.isCategorized())return e;for(t=e.length+1;t>0;t--)n[t]=n[t-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[e.length+1]={x:n[e.length].x+1,value:n[e.length].value,id:n[e.length].id},n},a.updateDataAttributes=function(e,t){var n=this,r=n.config,i=r["data_"+e];return"undefined"==typeof t?i:(Object.keys(t).forEach(function(e){i[e]=t[e]}),n.redraw({withLegend:!0}),i)},a.convertUrlToData=function(e,t,n,r){var i=this,a=t?t:"csv";i.d3.xhr(e,function(e,t){var o;o="json"===a?i.convertJsonToData(JSON.parse(t.response),n):"tsv"===a?i.convertTsvToData(t.response):i.convertCsvToData(t.response),r.call(i,o)})},a.convertXsvToData=function(e,t){var n,r=t.parseRows(e);return 1===r.length?(n=[{}],r[0].forEach(function(e){n[0][e]=null})):n=t.parse(e),n},a.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},a.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},a.convertJsonToData=function(e,t){var n,r,i=this,a=[];return t?(n=t.value,t.x&&(n.push(t.x),i.config.data_x=t.x),a.push(n),e.forEach(function(e){var t=[];n.forEach(function(n){var r=p(e[n])?null:e[n];t.push(r)}),a.push(t)}),r=i.convertRowsToData(a)):(Object.keys(e).forEach(function(t){a.push([t].concat(e[t]))}),r=i.convertColumnsToData(a)),r},a.convertRowsToData=function(e){var t,n,r=e[0],i={},a=[];for(t=1;t<e.length;t++){for(i={},n=0;n<e[t].length;n++){if(p(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");i[r[n]]=e[t][n]}a.push(i)}return a},a.convertColumnsToData=function(e){var t,n,r,i=[];for(t=0;t<e.length;t++)for(r=e[t][0],n=1;n<e[t].length;n++){if(p(i[n-1])&&(i[n-1]={}),p(e[t][n]))throw new Error("Source data is missing a component at ("+t+","+n+")!");i[n-1][r]=e[t][n]}return i},a.convertDataToTargets=function(e,t){var n,r=this,i=r.config,a=r.d3.keys(e[0]).filter(r.isNotX,r),o=r.d3.keys(e[0]).filter(r.isX,r);return a.forEach(function(n){var a=r.getXKey(n);r.isCustomX()||r.isTimeSeries()?o.indexOf(a)>=0?r.data.xs[n]=(t&&r.data.xs[n]?r.data.xs[n]:[]).concat(e.map(function(e){return e[a]}).filter(c).map(function(e,t){return r.generateTargetX(e,n,t)})):i.data_x?r.data.xs[n]=r.getOtherTargetXs():v(i.data_xs)&&(r.data.xs[n]=r.getXValuesOfXKey(a,r.data.targets)):r.data.xs[n]=e.map(function(e,t){return t})}),a.forEach(function(e){if(!r.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),n=a.map(function(t,n){var a=i.data_idConverter(t);return{id:a,id_org:t,values:e.map(function(e,o){var s=r.getXKey(t),l=e[s],c=r.generateTargetX(l,t,o);return r.isCustomX()&&r.isCategorized()&&0===n&&l&&(0===o&&(i.axis_x_categories=[]),i.axis_x_categories.push(l)),(p(e[t])||r.data.xs[t].length<=o)&&(c=void 0),{x:c,value:null===e[t]||isNaN(e[t])?null:+e[t],id:a}}).filter(function(e){return h(e.x)})}}),n.forEach(function(e){var t;i.data_xSort&&(e.values=e.values.sort(function(e,t){var n=e.x||0===e.x?e.x:1/0,r=t.x||0===t.x?t.x:1/0;return n-r})),t=0,e.values.forEach(function(e){e.index=t++}),r.data.xs[e.id].sort(function(e,t){return e-t})}),i.data_type&&r.setTargetType(r.mapToIds(n).filter(function(e){return!(e in i.data_types)}),i.data_type),n.forEach(function(e){r.addCache(e.id_org,e)}),n},a.load=function(e,t){var n=this;e&&(t.filter&&(e=e.filter(t.filter)),(t.type||t.types)&&e.forEach(function(e){n.setTargetType(e.id,t.types?t.types[e.id]:t.type)}),n.data.targets.forEach(function(t){for(var n=0;n<e.length;n++)if(t.id===e[n].id){t.values=e[n].values,e.splice(n,1);break}}),n.data.targets=n.data.targets.concat(e)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()},a.loadFromArgs=function(e){var t=this;e.data?t.load(t.convertDataToTargets(e.data),e):e.url?t.convertUrlToData(e.url,e.mimeType,e.keys,function(n){t.load(t.convertDataToTargets(n),e)}):e.json?t.load(t.convertDataToTargets(t.convertJsonToData(e.json,e.keys)),e):e.rows?t.load(t.convertDataToTargets(t.convertRowsToData(e.rows)),e):e.columns?t.load(t.convertDataToTargets(t.convertColumnsToData(e.columns)),e):t.load(null,e)},a.unload=function(e,t){var n=this;return t||(t=function(){}),e=e.filter(function(e){return n.hasTarget(n.data.targets,e)}),e&&0!==e.length?(n.svg.selectAll(e.map(function(e){return n.selectorTarget(e)})).transition().style("opacity",0).remove().call(n.endall,t),e.forEach(function(e){n.withoutFadeIn[e]=!1,n.legend&&n.legend.selectAll("."+l.legendItem+n.getTargetSelectorSuffix(e)).remove(),n.data.targets=n.data.targets.filter(function(t){return t.id!==e})}),void 0):(t(),void 0)},a.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},a.initEventRect=function(){var e=this;e.main.select("."+l.chart).append("g").attr("class",l.eventRects).style("fill-opacity",0)},a.redrawEventRect=function(){var e,t,n=this,r=n.config,i=n.isMultipleX(),a=n.main.select("."+l.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(l.eventRectsMultiple,i).classed(l.eventRectsSingle,!i);a.selectAll("."+l.eventRect).remove(),n.eventRect=a.selectAll("."+l.eventRect),i?(e=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(e.enter()),n.updateEventRect(e)):(t=n.getMaxDataCountTarget(n.data.targets),a.datum(t?t.values:[]),n.eventRect=a.selectAll("."+l.eventRect),e=n.eventRect.data(function(e){return e}),n.generateEventRectsForSingleX(e.enter()),n.updateEventRect(e),e.exit().remove())},a.updateEventRect=function(e){var t,n,r,i,a,o,s=this,l=s.config;e=e||s.eventRect.data(function(e){return e}),s.isMultipleX()?(t=0,n=0,r=s.width,i=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(a=s.getEventRectWidth(),o=function(e){return s.x(e.x)-a/2}):(s.updateXs(),a=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index);return null===t&&null===n?l.axis_rotated?s.height:s.width:(null===t&&(t=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(t))/2))},o=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index),r=s.data.xs[e.id][e.index];return null===t&&null===n?0:(null===t&&(t=s.x.domain()[0]),(s.x(r)+s.x(t))/2)}),t=l.axis_rotated?0:o,n=l.axis_rotated?o:0,r=l.axis_rotated?s.width:a,i=l.axis_rotated?a:s.height),e.attr("class",s.classEvent.bind(s)).attr("x",t).attr("y",n).attr("width",r).attr("height",i)},a.generateEventRectsForSingleX=function(e){var t=this,n=t.d3,r=t.config;e.append("rect").attr("class",t.classEvent.bind(t)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(e){var n,i,a=e.index;t.dragging||t.flowing||t.hasArcType()||(n=t.data.targets.map(function(e){return t.addName(t.getValueOnIndex(e.values,a))}),i=[],Object.keys(r.data_names).forEach(function(e){for(var t=0;t<n.length;t++)if(n[t]&&n[t].id===e){i.push(n[t]),n.shift(t);break}}),n=i.concat(n),r.point_focus_expand_enabled&&t.expandCircles(a,null,!0),t.expandBars(a,null,!0),t.main.selectAll("."+l.shape+"-"+a).each(function(e){r.data_onmouseover.call(t.api,e)}))}).on("mouseout",function(e){var n=e.index;t.hasArcType()||(t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars(),t.main.selectAll("."+l.shape+"-"+n).each(function(e){r.data_onmouseout.call(t.api,e)}))}).on("mousemove",function(e){var i,a=e.index,o=t.svg.select("."+l.eventRect+"-"+a);t.dragging||t.flowing||t.hasArcType()||(t.isStepType(e)&&"step-after"===t.config.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,a))&&(a-=1),i=t.filterTargetsToShow(t.data.targets).map(function(e){return t.addName(t.getValueOnIndex(e.values,a))}),r.tooltip_grouped&&(t.showTooltip(i,n.mouse(this)),t.showXGridFocus(i)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&t.main.selectAll("."+l.shape+"-"+a).each(function(){n.select(this).classed(l.EXPANDED,!0),r.data_selection_enabled&&o.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(t.hideXGridFocus(),t.hideTooltip(),r.data_selection_grouped||(t.unexpandCircles(a),t.unexpandBars(a)))}).filter(function(e){return t.isWithinShape(this,e)}).each(function(e){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(e))&&o.style("cursor","pointer"),r.tooltip_grouped||(t.showTooltip([e],n.mouse(this)),t.showXGridFocus([e]),r.point_focus_expand_enabled&&t.expandCircles(a,e.id,!0),t.expandBars(a,e.id,!0))}))}).on("click",function(e){var i=e.index;if(!t.hasArcType()&&t.toggleShape){if(t.cancelClick)return t.cancelClick=!1,void 0;t.isStepType(e)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<t.x(t.getXValue(e.id,i))&&(i-=1),t.main.selectAll("."+l.shape+"-"+i).each(function(e){(r.data_selection_grouped||t.isWithinShape(this,e))&&(t.toggleShape(this,e,i),t.config.data_onclick.call(t.api,e,this))})}}).call(n.behavior.drag().origin(Object).on("drag",function(){t.drag(n.mouse(this))}).on("dragstart",function(){t.dragstart(n.mouse(this))}).on("dragend",function(){t.dragend()}))},a.generateEventRectsForMultipleXs=function(e){function t(){n.svg.select("."+l.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,r=n.d3,i=n.config;e.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",l.eventRect).on("mouseout",function(){n.hasArcType()||t()}).on("mousemove",function(){var e,a,o,s,c=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(c)){if(e=r.mouse(this),a=n.findClosestFromTargets(c,e),!n.mouseover||a&&a.id===n.mouseover.id||(i.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!a)return t(),void 0;o=n.isScatterType(a)||!i.tooltip_grouped?[a]:n.filterByX(c,a.x),s=o.map(function(e){return n.addName(e)}),n.showTooltip(s,e),i.point_focus_expand_enabled&&n.expandCircles(a.index,a.id,!0),n.expandBars(a.index,a.id,!0),n.showXGridFocus(s),(n.isBarType(a.id)||n.dist(a,e)<100)&&(n.svg.select("."+l.eventRect).style("cursor","pointer"),n.mouseover||(i.data_onmouseover.call(n.api,a),n.mouseover=a))}}).on("click",function(){var e,t,a=n.filterTargetsToShow(n.data.targets);n.hasArcType(a)||(e=r.mouse(this),t=n.findClosestFromTargets(a,e),t&&(n.isBarType(t.id)||n.dist(t,e)<100)&&n.main.selectAll("."+l.shapes+n.getTargetSelectorSuffix(t.id)).select("."+l.shape+"-"+t.index).each(function(){(i.data_selection_grouped||n.isWithinShape(this,t))&&(n.toggleShape(this,t,t.index),n.config.data_onclick.call(n.api,t,this))}))}).call(r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}))},a.dispatchEvent=function(t,n,r){var i=this,a="."+l.eventRect+(i.isMultipleX()?"":"-"+n),o=i.main.select(a).node(),s=o.getBoundingClientRect(),c=s.left+(r?r[0]:0),u=s.top+(r?r[1]:0),d=document.createEvent("MouseEvents");d.initMouseEvent(t,!0,!0,e,0,c,u,c,u,!1,!1,!1,!1,0,null),o.dispatchEvent(d)},a.getCurrentWidth=function(){var e=this,t=e.config;return t.size_width?t.size_width:e.getParentWidth()},a.getCurrentHeight=function(){var e=this,t=e.config,n=t.size_height?t.size_height:e.getParentHeight();return n>0?n:320/(e.hasType("gauge")?2:1)},a.getCurrentPaddingTop=function(){var e=this.config;return c(e.padding_top)?e.padding_top:0},a.getCurrentPaddingBottom=function(){var e=this.config;return c(e.padding_bottom)?e.padding_bottom:0},a.getCurrentPaddingLeft=function(e){var t=this,n=t.config;return c(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(g(t.getAxisWidthByAxisId("x",e)),40):1:!n.axis_y_show||n.axis_y_inner?t.getYAxisLabelPosition().isOuter?30:1:g(t.getAxisWidthByAxisId("y",e))},a.getCurrentPaddingRight=function(){var e=this,t=e.config,n=10,r=e.isLegendRight?e.getLegendWidth()+20:0;return c(t.padding_right)?t.padding_right+1:t.axis_rotated?n+r:!t.axis_y2_show||t.axis_y2_inner?n+r+(e.getY2AxisLabelPosition().isOuter?20:0):g(e.getAxisWidthByAxisId("y2"))+r},a.getParentRectValue=function(e){for(var t,n=this.selectChart.node();n&&"BODY"!==n.tagName&&!(t=n.getBoundingClientRect()[e]);)n=n.parentNode;return t},a.getParentWidth=function(){return this.getParentRectValue("width")},a.getParentHeight=function(){var e=this.selectChart.style("height");return e.indexOf("px")>0?+e.replace("px",""):0},a.getSvgLeft=function(e){var t=this,n=t.config,r=n.axis_rotated?l.axisX:l.axisY,i=t.main.select("."+r).node(),a=i?i.getBoundingClientRect():{right:0},o=t.selectChart.node().getBoundingClientRect(),s=t.hasArcType(),c=a.right-o.left-(s?0:t.getCurrentPaddingLeft(e));return c>0?c:0},a.getAxisWidthByAxisId=function(e,t){var n=this,r=n.getAxisLabelPositionById(e);return n.getMaxTickWidth(e,t)+(r.isInner?20:40)},a.getHorizontalAxisHeight=function(e){var t=this,n=t.config,r=30;return"x"!==e||n.axis_x_show?"x"===e&&n.axis_x_height?n.axis_x_height:"y"!==e||n.axis_y_show?"y2"!==e||n.axis_y2_show?("x"===e&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=t.getMaxTickWidth(e)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),r+(t.getAxisLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):t.rotated_padding_top:!n.legend_show||t.isLegendRight||t.isLegendInset?1:10:8},a.getEventRectWidth=function(){var e,t,n,r,i,a,o=this,s=o.getMaxDataCountTarget(o.data.targets);return s?(e=s.values[0],t=s.values[s.values.length-1],n=o.x(t.x)-o.x(e.x),0===n?o.config.axis_rotated?o.height:o.width:(r=o.getMaxDataCount(),i=o.hasType("bar")?(r-(o.isCategorized()?.25:1))/r:1,a=r>1?n*i/(r-1):n,1>a?1:a)):0
},a.getShapeIndices=function(e){var t,n,r=this,i=r.config,a={},o=0;return r.filterTargetsToShow(r.data.targets.filter(e,r)).forEach(function(e){for(t=0;t<i.data_groups.length;t++)if(!(i.data_groups[t].indexOf(e.id)<0))for(n=0;n<i.data_groups[t].length;n++)if(i.data_groups[t][n]in a){a[e.id]=a[i.data_groups[t][n]];break}p(a[e.id])&&(a[e.id]=o++)}),a.__max__=o-1,a},a.getShapeX=function(e,t,n,r){var i=this,a=r?i.subX:i.x;return function(r){var i=r.id in n?n[r.id]:0;return r.x||0===r.x?a(r.x)-e*(t/2-i):0}},a.getShapeY=function(e){var t=this;return function(n){var r=e?t.getSubYScale(n.id):t.getYScale(n.id);return r(n.value)}},a.getShapeOffset=function(e,t,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(e,r))),a=i.map(function(e){return e.id});return function(e,o){var s=n?r.getSubYScale(e.id):r.getYScale(e.id),l=s(0),c=l;return i.forEach(function(n){var i=r.isStepType(e)?r.convertValuesToStep(n.values):n.values;n.id!==e.id&&t[n.id]===t[e.id]&&a.indexOf(n.id)<a.indexOf(e.id)&&i[o].value*e.value>=0&&(c+=s(i[o].value)-l)}),c}},a.isWithinShape=function(e,t){var n,r=this,i=r.d3.select(e);return r.isTargetToShow(t.id)?"circle"===e.nodeName?n=r.isStepType(t)?r.isWithinStep(e,r.getYScale(t.id)(t.value)):r.isWithinCircle(e,1.5*r.pointSelectR(t)):"path"===e.nodeName&&(n=i.classed(l.bar)?r.isWithinBar(e):!0):n=!1,n},a.getInterpolate=function(e){var t=this;return t.isSplineType(e)?"cardinal":t.isStepType(e)?t.config.line_step_type:"linear"},a.initLine=function(){var e=this;e.main.select("."+l.chart).append("g").attr("class",l.chartLines)},a.updateTargetsForLine=function(e){var t,n,r=this,i=r.config,a=r.classChartLine.bind(r),o=r.classLines.bind(r),s=r.classAreas.bind(r),c=r.classCircles.bind(r),u=r.classFocus.bind(r);t=r.main.select("."+l.chartLines).selectAll("."+l.chartLine).data(e).attr("class",function(e){return a(e)+u(e)}),n=t.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o),n.append("g").attr("class",s),n.append("g").attr("class",function(e){return r.generateClass(l.selectedCircles,e.id)}),n.append("g").attr("class",c).style("cursor",function(e){return i.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(e){r.main.selectAll("."+l.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+l.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},a.redrawLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+l.lines).selectAll("."+l.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},a.addTransitionForLine=function(e,t){var n=this;e.push(n.mainLine.transition().attr("d",t).style("stroke",n.color).style("opacity",1))},a.generateDrawLine=function(e,t){var n=this,r=n.config,i=n.d3.svg.line(),a=n.generateGetLinePoints(e,t),o=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return r.data_groups.length>0?a(e,t)[0][1]:o.call(n,e.id)(e.value)};return i=r.axis_rotated?i.x(l).y(s):i.x(s).y(l),r.line_connectNull||(i=i.defined(function(e){return null!=e.value})),function(e){var a,s=r.line_connectNull?n.filterRemoveNull(e.values):e.values,l=t?n.x:n.subX,c=o.call(n,e.id),u=0,d=0;return n.isLineType(e)?r.data_regions[e.id]?a=n.lineWithRegions(s,l,c,r.data_regions[e.id]):(n.isStepType(e)&&(s=n.convertValuesToStep(s)),a=i.interpolate(n.getInterpolate(e))(s)):(s[0]&&(u=l(s[0].x),d=c(s[0].value)),a=r.axis_rotated?"M "+d+" "+u:"M "+u+" "+d),a?a:"M 0 0"}},a.generateGetLinePoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,a=n.getShapeX(0,i,e,!!t),o=n.getShapeY(!!t),s=n.getShapeOffset(n.isLineType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var i=l.call(n,e.id)(0),c=s(e,t)||i,u=a(e),d=o(e);return r.axis_rotated&&(0<e.value&&i>d||e.value<0&&d>i)&&(d=i),[[u,d-(i-c)],[u,d-(i-c)],[u,d-(i-c)],[u,d-(i-c)]]}},a.lineWithRegions=function(e,t,n,r){function i(e,t){var n;for(n=0;n<t.length;n++)if(t[n].start<e&&e<=t[n].end)return!0;return!1}var a,o,s,l,c,u,d,g,f,m,_,v,y=this,b=y.config,E=-1,S="M",w=[];if(h(r))for(a=0;a<r.length;a++)w[a]={},w[a].start=p(r[a].start)?e[0].x:y.isTimeSeries()?y.parseDate(r[a].start):r[a].start,w[a].end=p(r[a].end)?e[e.length-1].x:y.isTimeSeries()?y.parseDate(r[a].end):r[a].end;for(_=b.axis_rotated?function(e){return n(e.value)}:function(e){return t(e.x)},v=b.axis_rotated?function(e){return t(e.x)}:function(e){return n(e.value)},s=y.isTimeSeries()?function(e,r,i,a){var o=e.x.getTime(),s=r.x-e.x,l=new Date(o+s*i),u=new Date(o+s*(i+a));return"M"+t(l)+" "+n(c(i))+" "+t(u)+" "+n(c(i+a))}:function(e,r,i,a){return"M"+t(l(i),!0)+" "+n(c(i))+" "+t(l(i+a),!0)+" "+n(c(i+a))},a=0;a<e.length;a++){if(p(w)||!i(e[a].x,w))S+=" "+_(e[a])+" "+v(e[a]);else for(l=y.getScale(e[a-1].x,e[a].x,y.isTimeSeries()),c=y.getScale(e[a-1].value,e[a].value),u=t(e[a].x)-t(e[a-1].x),d=n(e[a].value)-n(e[a-1].value),g=Math.sqrt(Math.pow(u,2)+Math.pow(d,2)),f=2/g,m=2*f,o=f;1>=o;o+=m)S+=s(e[a-1],e[a],o,f);E=e[a].x}return S},a.redrawArea=function(e){var t=this,n=t.d3;t.mainArea=t.main.selectAll("."+l.areas).selectAll("."+l.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},a.addTransitionForArea=function(e,t){var n=this;e.push(n.mainArea.transition().attr("d",t).style("fill",n.color).style("opacity",n.orgAreaOpacity))},a.generateDrawArea=function(e,t){var n=this,r=n.config,i=n.d3.svg.area(),a=n.generateGetAreaPoints(e,t),o=t?n.getSubYScale:n.getYScale,s=function(e){return(t?n.subxx:n.xx).call(n,e)},l=function(e,t){return r.data_groups.length>0?a(e,t)[0][1]:o.call(n,e.id)(0)},c=function(e,t){return r.data_groups.length>0?a(e,t)[1][1]:o.call(n,e.id)(e.value)};return i=r.axis_rotated?i.x0(l).x1(c).y(s):i.x(s).y0(l).y1(c),r.line_connectNull||(i=i.defined(function(e){return null!==e.value})),function(e){var t,a=r.line_connectNull?n.filterRemoveNull(e.values):e.values,o=0,s=0;return n.isAreaType(e)?(n.isStepType(e)&&(a=n.convertValuesToStep(a)),t=i.interpolate(n.getInterpolate(e))(a)):(a[0]&&(o=n.x(a[0].x),s=n.getYScale(e.id)(a[0].value)),t=r.axis_rotated?"M "+s+" "+o:"M "+o+" "+s),t?t:"M 0 0"}},a.generateGetAreaPoints=function(e,t){var n=this,r=n.config,i=e.__max__+1,a=n.getShapeX(0,i,e,!!t),o=n.getShapeY(!!t),s=n.getShapeOffset(n.isAreaType,e,!!t),l=t?n.getSubYScale:n.getYScale;return function(e,t){var i=l.call(n,e.id)(0),c=s(e,t)||i,u=a(e),d=o(e);return r.axis_rotated&&(0<e.value&&i>d||e.value<0&&d>i)&&(d=i),[[u,c],[u,d-(i-c)],[u,d-(i-c)],[u,c]]}},a.redrawCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+l.circles).selectAll("."+l.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},a.addTransitionForCircle=function(e,t,n){var r=this;e.push(r.mainCircle.transition().style("opacity",r.opacityForCircle.bind(r)).style("fill",r.color).attr("cx",t).attr("cy",n)),e.push(r.main.selectAll("."+l.selectedCircle).transition().attr("cx",t).attr("cy",n))},a.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},a.updateCircleY=function(){var e,t,n=this;n.config.data_groups.length>0?(e=n.getShapeIndices(n.isLineType),t=n.generateGetLinePoints(e),n.circleY=function(e,n){return t(e,n)[0][1]}):n.circleY=function(e){return n.getYScale(e.id)(e.value)}},a.getCircles=function(e,t){var n=this;return(t?n.main.selectAll("."+l.circles+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+l.circle+(c(e)?"-"+e:""))},a.expandCircles=function(e,t,n){var r=this,i=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(e,t).classed(l.EXPANDED,!0).attr("r",i)},a.unexpandCircles=function(e){var t=this,n=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(l.EXPANDED)}).classed(l.EXPANDED,!1).attr("r",n)},a.pointR=function(e){var t=this,n=t.config;return t.isStepType(e)?0:u(n.point_r)?n.point_r(e):n.point_r},a.pointExpandedR=function(e){var t=this,n=t.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*t.pointR(e):t.pointR(e)},a.pointSelectR=function(e){var t=this,n=t.config;return n.point_select_r?n.point_select_r:4*t.pointR(e)},a.isWithinCircle=function(e,t){var n=this.d3,r=n.mouse(e),i=n.select(e),a=+i.attr("cx"),o=+i.attr("cy");return Math.sqrt(Math.pow(a-r[0],2)+Math.pow(o-r[1],2))<t},a.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},a.initBar=function(){var e=this;e.main.select("."+l.chart).append("g").attr("class",l.chartBars)},a.updateTargetsForBar=function(e){var t,n,r=this,i=r.config,a=r.classChartBar.bind(r),o=r.classBars.bind(r),s=r.classFocus.bind(r);t=r.main.select("."+l.chartBars).selectAll("."+l.chartBar).data(e).attr("class",function(e){return a(e)+s(e)}),n=t.enter().append("g").attr("class",a).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o).style("cursor",function(e){return i.data_selection_isselectable(e)?"pointer":null})},a.redrawBar=function(e){var t=this,n=t.barData.bind(t),r=t.classBar.bind(t),i=t.initialOpacity.bind(t),a=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll("."+l.bars).selectAll("."+l.bar).data(n),t.mainBar.enter().append("path").attr("class",r).style("stroke",a).style("fill",a),t.mainBar.style("opacity",i),t.mainBar.exit().transition().duration(e).style("opacity",0).remove()},a.addTransitionForBar=function(e,t){var n=this;e.push(n.mainBar.transition().attr("d",t).style("fill",n.color).style("opacity",1))},a.getBarW=function(e,t){var n=this,r=n.config,i="number"==typeof r.bar_width?r.bar_width:t?2*e.tickOffset()*r.bar_width_ratio/t:0;return r.bar_width_max&&i>r.bar_width_max?r.bar_width_max:i},a.getBars=function(e,t){var n=this;return(t?n.main.selectAll("."+l.bars+n.getTargetSelectorSuffix(t)):n.main).selectAll("."+l.bar+(c(e)?"-"+e:""))},a.expandBars=function(e,t,n){var r=this;n&&r.unexpandBars(),r.getBars(e,t).classed(l.EXPANDED,!0)},a.unexpandBars=function(e){var t=this;t.getBars(e).classed(l.EXPANDED,!1)},a.generateDrawBar=function(e,t){var n=this,r=n.config,i=n.generateGetBarPoints(e,t);return function(e,t){var n=i(e,t),a=r.axis_rotated?1:0,o=r.axis_rotated?0:1,s="M "+n[0][a]+","+n[0][o]+" L"+n[1][a]+","+n[1][o]+" L"+n[2][a]+","+n[2][o]+" L"+n[3][a]+","+n[3][o]+" z";return s}},a.generateGetBarPoints=function(e,t){var n=this,r=t?n.subXAxis:n.xAxis,i=e.__max__+1,a=n.getBarW(r,i),o=n.getShapeX(a,i,e,!!t),s=n.getShapeY(!!t),l=n.getShapeOffset(n.isBarType,e,!!t),c=t?n.getSubYScale:n.getYScale;return function(e,t){var r=c.call(n,e.id)(0),i=l(e,t)||r,u=o(e),d=s(e);return n.config.axis_rotated&&(0<e.value&&r>d||e.value<0&&d>r)&&(d=r),[[u,i],[u,d-(r-i)],[u+a,d-(r-i)],[u+a,i]]}},a.isWithinBar=function(e){var t=this.d3.mouse(e),n=e.getBoundingClientRect(),r=e.pathSegList.getItem(0),i=e.pathSegList.getItem(1),a=Math.min(r.x,i.x),o=Math.min(r.y,i.y),s=n.width,l=n.height,c=2,u=a-c,d=a+s+c,p=o+l+c,h=o-c;return u<t[0]&&t[0]<d&&h<t[1]&&t[1]<p},a.initText=function(){var e=this;e.main.select("."+l.chart).append("g").attr("class",l.chartTexts),e.mainText=e.d3.selectAll([])},a.updateTargetsForText=function(e){var t,n,r=this,i=r.classChartText.bind(r),a=r.classTexts.bind(r),o=r.classFocus.bind(r);t=r.main.select("."+l.chartTexts).selectAll("."+l.chartText).data(e).attr("class",function(e){return i(e)+o(e)}),n=t.enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a)},a.redrawText=function(e){var t=this,n=t.config,r=t.barOrLineData.bind(t),i=t.classText.bind(t);t.mainText=t.main.selectAll("."+l.texts).selectAll("."+l.text).data(r),t.mainText.enter().append("text").attr("class",i).attr("text-anchor",function(e){return n.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return t.color(e)}).style("fill-opacity",0),t.mainText.text(function(e,n,r){return t.formatByAxisId(t.getAxisId(e.id))(e.value,e.id,n,r)}),t.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},a.addTransitionForText=function(e,t,n,r){var i=this,a=r?0:i.opacityForText.bind(i);e.push(i.mainText.transition().attr("x",t).attr("y",n).style("fill",i.color).style("fill-opacity",a))},a.getTextRect=function(e,t){var n,r=this.d3.select("body").classed("c3",!0),i=r.append("svg").style("visibility","hidden");return i.selectAll(".dummy").data([e]).enter().append("text").classed(t?t:"",!0).text(e).each(function(){n=this.getBoundingClientRect()}),i.remove(),r.classed("c3",!1),n},a.generateXYForText=function(e,t,n,r){var i=this,a=i.generateGetAreaPoints(t,!1),o=i.generateGetBarPoints(t,!1),s=i.generateGetLinePoints(n,!1),l=r?i.getXForText:i.getYForText;return function(e,t){var n=i.isAreaType(e)?a:i.isBarType(e)?o:s;return l.call(i,n(e,t),e,this)}},a.getXForText=function(e,t,n){var r,i,a=this,o=n.getBoundingClientRect();return a.config.axis_rotated?(i=a.isBarType(t)?4:6,r=e[2][1]+i*(t.value<0?-1:1)):r=a.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null!==t.value?r:r>a.width?a.width-o.width:r},a.getYForText=function(e,t,n){var r,i=this,a=n.getBoundingClientRect();return r=i.config.axis_rotated?(e[0][0]+e[2][0]+.6*a.height)/2:e[2][1]+(t.value<0?a.height:i.isBarType(t)?-3:-6),null!==t.value?r:r<a.height?a.height:r},a.setTargetType=function(e,t){var n=this,r=n.config;n.mapToTargetIds(e).forEach(function(e){n.withoutFadeIn[e]=t===r.data_types[e],r.data_types[e]=t}),e||(r.data_type=t)},a.hasType=function(e,t){var n=this,r=n.config.data_types,i=!1;return t=t||n.data.targets,t&&t.length?t.forEach(function(t){var n=r[t.id];(n&&n.indexOf(e)>=0||!n&&"line"===e)&&(i=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(t){r[t]===e&&(i=!0)}):i=n.config.data_type===e,i},a.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},a.isLineType=function(e){var t=this.config,n=d(e)?e:e.id;return!t.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[n])>=0},a.isStepType=function(e){var t=d(e)?e:e.id;return["step","area-step"].indexOf(this.config.data_types[t])>=0},a.isSplineType=function(e){var t=d(e)?e:e.id;return["spline","area-spline"].indexOf(this.config.data_types[t])>=0},a.isAreaType=function(e){var t=d(e)?e:e.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[t])>=0},a.isBarType=function(e){var t=d(e)?e:e.id;return"bar"===this.config.data_types[t]},a.isScatterType=function(e){var t=d(e)?e:e.id;return"scatter"===this.config.data_types[t]},a.isPieType=function(e){var t=d(e)?e:e.id;return"pie"===this.config.data_types[t]},a.isGaugeType=function(e){var t=d(e)?e:e.id;return"gauge"===this.config.data_types[t]},a.isDonutType=function(e){var t=d(e)?e:e.id;return"donut"===this.config.data_types[t]},a.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},a.lineData=function(e){return this.isLineType(e)?[e]:[]},a.arcData=function(e){return this.isArcType(e.data)?[e]:[]},a.barData=function(e){return this.isBarType(e)?e.values:[]},a.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},a.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},a.initGrid=function(){var e=this,t=e.config,n=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",l.grid),t.grid_x_show&&e.grid.append("g").attr("class",l.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",l.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",l.xgridFocus).append("line").attr("class",l.xgridFocus),e.xgrid=n.selectAll([]),t.grid_lines_front||e.initGridLines()},a.initGridLines=function(){var e=this,t=e.d3;e.gridLines=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",l.grid+" "+l.gridLines),e.gridLines.append("g").attr("class",l.xgridLines),e.gridLines.append("g").attr("class",l.ygridLines),e.xgridLines=t.selectAll([])},a.updateXGrid=function(e){var t=this,n=t.config,r=t.d3,i=t.generateGridData(n.grid_x_type,t.x),a=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=n.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-a},y2:function(e){return t.x(e)-a}}:{x1:function(e){return t.x(e)+a},x2:function(e){return t.x(e)+a},y1:0,y2:t.height},t.xgrid=t.main.select("."+l.xgrids).selectAll("."+l.xgrid).data(i),t.xgrid.enter().append("line").attr("class",l.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},a.updateYGrid=function(){var e=this,t=e.config,n=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+l.ygrids).selectAll("."+l.ygrid).data(n),e.ygrid.enter().append("line").attr("class",l.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},a.redrawGrid=function(e){var t,n,r,i=this,a=i.main,o=i.config;i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),a.select("line."+l.xgridFocus).style("visibility","hidden"),o.grid_x_show&&i.updateXGrid(),i.xgridLines=a.select("."+l.xgridLines).selectAll("."+l.xgridLine).data(o.grid_x_lines),t=i.xgridLines.enter().append("g").attr("class",function(e){return l.xgridLine+(e["class"]?" "+e["class"]:"")}),t.append("line").style("opacity",0),t.append("text").attr("text-anchor","end").attr("transform",o.axis_rotated?"":"rotate(-90)").attr("dx",o.axis_rotated?0:-i.margin.top).attr("dy",-5).style("opacity",0),i.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),o.grid_y_show&&i.updateYGrid(),i.ygridLines=a.select("."+l.ygridLines).selectAll("."+l.ygridLine).data(o.grid_y_lines),n=i.ygridLines.enter().append("g").attr("class",function(e){return l.ygridLine+(e["class"]?" "+e["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor","end").attr("transform",o.axis_rotated?"rotate(-90)":"").attr("dx",o.axis_rotated?0:-i.margin.top).attr("dy",-5).style("opacity",0),r=i.yv.bind(i),i.ygridLines.select("line").transition().duration(e).attr("x1",o.axis_rotated?r:0).attr("x2",o.axis_rotated?r:i.width).attr("y1",o.axis_rotated?0:r).attr("y2",o.axis_rotated?i.height:r).style("opacity",1),i.ygridLines.select("text").transition().duration(e).attr("x",o.axis_rotated?0:i.width).attr("y",r).text(function(e){return e.text}).style("opacity",1),i.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},a.addTransitionForGrid=function(e){var t=this,n=t.config,r=t.xv.bind(t);e.push(t.xgridLines.select("line").transition().attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?t.width:r).attr("y1",n.axis_rotated?r:t.margin.top).attr("y2",n.axis_rotated?r:t.height).style("opacity",1)),e.push(t.xgridLines.select("text").transition().attr("x",n.axis_rotated?t.width:0).attr("y",r).text(function(e){return e.text}).style("opacity",1))},a.showXGridFocus=function(e){var t=this,n=t.config,r=e.filter(function(e){return e&&c(e.value)}),i=t.main.selectAll("line."+l.xgridFocus),a=t.xx.bind(t);n.tooltip_show&&(t.hasType("scatter")||t.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",a).attr(n.axis_rotated?"y2":"x2",a),t.smoothLines(i,"grid")))},a.hideXGridFocus=function(){this.main.select("line."+l.xgridFocus).style("visibility","hidden")},a.updateXgridFocus=function(){var e=this,t=e.config;e.main.select("line."+l.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?e.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:e.height)},a.generateGridData=function(e,t){var n,r,i,a,o=this,s=[],c=o.main.select("."+l.axisX).selectAll(".tick").size();if("year"===e)for(n=o.getXDomain(),r=n[0].getFullYear(),i=n[1].getFullYear(),a=r;i>=a;a++)s.push(new Date(a+"-01-01 00:00:00"));else s=t.ticks(10),s.length>c&&(s=s.filter(function(e){return(""+e).indexOf(".")<0}));return s},a.getGridFilterToRemove=function(e){return e?function(t){var n=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t["class"]===e["class"])&&(n=!0)}),n}:function(){return!0}},a.removeGridLines=function(e,t){var n=this,r=n.config,i=n.getGridFilterToRemove(e),a=function(e){return!i(e)},o=t?l.xgridLines:l.ygridLines,s=t?l.xgridLine:l.ygridLine;n.main.select("."+o).selectAll("."+s).filter(i).transition().duration(r.transition_duration).style("opacity",0).remove(),t?r.grid_x_lines=r.grid_x_lines.filter(a):r.grid_y_lines=r.grid_y_lines.filter(a)},a.initTooltip=function(){var e,t=this,n=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",l.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(t.isTimeSeries()&&d(n.tooltip_init_x)){for(n.tooltip_init_x=t.parseDate(n.tooltip_init_x),e=0;e<t.data.targets[0].values.length&&t.data.targets[0].values[e].x-n.tooltip_init_x!==0;e++);n.tooltip_init_x=e}t.tooltip.html(n.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[n.tooltip_init_x])}),t.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},a.getTooltipContent=function(e,t,n,r){var i,a,o,s,c,u,d=this,p=d.config,h=p.tooltip_format_title||t,g=p.tooltip_format_name||function(e){return e},f=p.tooltip_format_value||n;for(a=0;a<e.length;a++)e[a]&&(e[a].value||0===e[a].value)&&(i||(o=h?h(e[a].x):e[a].x,i="<table class='"+l.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),c=g(e[a].name,e[a].ratio,e[a].id,e[a].index),s=f(e[a].value,e[a].ratio,e[a].id,e[a].index),u=d.levelColor?d.levelColor(e[a].value):r(e[a].id),i+="<tr class='"+l.tooltipName+"-"+e[a].id+"'>",i+="<td class='name'><span style='background-color:"+u+"'></span>"+c+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>");return i+"</table>"},a.showTooltip=function(e,t){var n,r,i,a,o,s,l,u=this,d=u.config,p=u.hasArcType(),h=e.filter(function(e){return e&&c(e.value)});0!==h.length&&d.tooltip_show&&(u.tooltip.html(d.tooltip_contents.call(u,e,u.getXAxisTickFormat(),u.getYFormat(p),u.color)).style("display","block"),n=u.tooltip.property("offsetWidth"),r=u.tooltip.property("offsetHeight"),p?(a=u.width/2+t[0],s=u.height/2+t[1]+20):(i=u.getSvgLeft(!0),d.axis_rotated?(a=i+t[0]+100,o=a+n,l=u.currentWidth-u.getCurrentPaddingRight(),s=u.x(h[0].x)+20):(a=i+u.getCurrentPaddingLeft(!0)+u.x(h[0].x)+20,o=a+n,l=i+u.currentWidth-u.getCurrentPaddingRight(),s=t[1]+15),o>l&&(a=u.x(h[0].x)-n+u.getCurrentPaddingLeft(!0)-20),s+r>u.currentHeight&&(s-=r+30)),0>s&&(s=0),u.tooltip.style("top",s+"px").style("left",a+"px"))},a.hideTooltip=function(){this.tooltip.style("display","none")},a.initLegend=function(){var e=this;return e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),e.config.legend_show?(e.updateLegendWithDefaults(),void 0):(e.legend.style("visibility","hidden"),e.hiddenLegendIds=e.mapToIds(e.data.targets),void 0)},a.updateLegendWithDefaults=function(){var e=this;e.updateLegend(e.mapToIds(e.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},a.updateSizeForLegend=function(e,t){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-e-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-t-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-e,right:0/0,bottom:0,left:n.isLegendRight?n.currentWidth-t:n.isLegendInset?i.left:0}},a.transformLegend=function(e){var t=this;(e?t.legend.transition():t.legend).attr("transform",t.getTranslate("legend"))},a.updateLegendStep=function(e){this.legendStep=e},a.updateLegendItemWidth=function(e){this.legendItemWidth=e},a.updateLegendItemHeight=function(e){this.legendItemHeight=e},a.getLegendWidth=function(){var e=this;return e.config.legend_show?e.isLegendRight||e.isLegendInset?e.legendItemWidth*(e.legendStep+1):e.currentWidth:0},a.getLegendHeight=function(){var e=this,t=0;return e.config.legend_show&&(t=e.isLegendRight?e.currentHeight:Math.max(20,e.legendItemHeight)*(e.legendStep+1)),t},a.opacityForLegend=function(e){return e.classed(l.legendItemHidden)?null:1},a.opacityForUnfocusedLegend=function(e){return e.classed(l.legendItemHidden)?null:.3},a.toggleFocusLegend=function(e,t){var n=this;e=n.mapToTargetIds(e),n.legend.selectAll("."+l.legendItem).classed(l.legendItemFocused,function(n){return e.indexOf(n)>=0&&t}).transition().duration(100).style("opacity",function(r){var i=e.indexOf(r)>=0&&t?n.opacityForLegend:n.opacityForUnfocusedLegend;return i.call(n,n.d3.select(this))})},a.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+l.legendItem).classed(l.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},a.showLegend=function(e){var t=this,n=t.config;n.legend_show||(n.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},a.hideLegend=function(e){var t=this,n=t.config;n.legend_show&&_(e)&&(n.legend_show=!1,t.legend.style("visibility","hidden")),t.addHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("opacity",0).style("visibility","hidden")};var s={};a.clearLegendItemTextBoxCache=function(){s={}},a.updateLegend=function(e,t,n){function r(e,t){return s[t]||(s[t]=S.getTextRect(e.textContent,l.legendItem)),s[t]}function i(t,n,i){function a(e,t){t||(o=(g-O-h)/2,D>o&&(o=(g-h)/2,O=0,L++)),F[e]=L,U[L]=S.isLegendInset?10:o,N[e]=O,O+=h}var o,s,l=0===i,c=i===e.length-1,u=r(t,n),d=u.width+k+(!c||S.isLegendRight||S.isLegendInset?A:0),p=u.height+T,h=S.isLegendRight||S.isLegendInset?p:d,g=S.isLegendRight||S.isLegendInset?S.getLegendHeight():S.getLegendWidth();return l&&(O=0,L=0,x=0,M=0),w.legend_show&&!S.isLegendToShow(n)?(R[n]=C[n]=F[n]=N[n]=0,void 0):(R[n]=d,C[n]=p,(!x||d>=x)&&(x=d),(!M||p>=M)&&(M=p),s=S.isLegendRight||S.isLegendInset?M:x,w.legend_equally?(Object.keys(R).forEach(function(e){R[e]=x}),Object.keys(C).forEach(function(e){C[e]=M}),o=(g-s*e.length)/2,D>o?(O=0,L=0,e.forEach(function(e){a(e)})):a(n,!0)):a(n),void 0)}var a,o,c,u,d,p,g,f,m,_,v,b,E,S=this,w=S.config,T=4,A=10,x=0,M=0,D=10,k=15,O=0,N={},R={},C={},U=[0],F={},L=0,I=S.legend.selectAll("."+l.legendItemFocused).size();t=t||{},f=y(t,"withTransition",!0),m=y(t,"withTransitionForTransform",!0),S.isLegendInset&&(L=w.legend_inset_step?w.legend_inset_step:e.length,S.updateLegendStep(L)),S.isLegendRight?(a=function(e){return x*F[e]},u=function(e){return U[F[e]]+N[e]}):S.isLegendInset?(a=function(e){return x*F[e]+10},u=function(e){return U[F[e]]+N[e]}):(a=function(e){return U[F[e]]+N[e]},u=function(e){return M*F[e]}),o=function(e,t){return a(e,t)+14},d=function(e,t){return u(e,t)+9},c=function(e,t){return a(e,t)},p=function(e,t){return u(e,t)-5},g=S.legend.selectAll("."+l.legendItem).data(e).enter().append("g").attr("class",function(e){return S.generateClass(l.legendItem,e)}).style("visibility",function(e){return S.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){w.legend_item_onclick?w.legend_item_onclick.call(S,e):S.d3.event.altKey?(S.api.hide(),S.api.show(e)):(S.api.toggle(e),S.isTargetToShow(e)?S.api.focus(e):S.api.revert())}).on("mouseover",function(e){S.d3.select(this).classed(l.legendItemFocused,!0),!S.transiting&&S.isTargetToShow(e)&&S.api.focus(e),w.legend_item_onmouseover&&w.legend_item_onmouseover.call(S,e)}).on("mouseout",function(e){S.d3.select(this).classed(l.legendItemFocused,!1),S.api.revert(),w.legend_item_onmouseout&&w.legend_item_onmouseout.call(S,e)}),g.append("text").text(function(e){return h(w.data_names[e])?w.data_names[e]:e}).each(function(e,t){i(this,e,t)}).style("pointer-events","none").attr("x",S.isLegendRight||S.isLegendInset?o:-200).attr("y",S.isLegendRight||S.isLegendInset?-200:d),g.append("rect").attr("class",l.legendItemEvent).style("fill-opacity",0).attr("x",S.isLegendRight||S.isLegendInset?c:-200).attr("y",S.isLegendRight||S.isLegendInset?-200:p),g.append("rect").attr("class",l.legendItemTile).style("pointer-events","none").style("fill",S.color).attr("x",S.isLegendRight||S.isLegendInset?o:-200).attr("y",S.isLegendRight||S.isLegendInset?-200:u).attr("width",10).attr("height",10),E=S.legend.select("."+l.legendBackground+" rect"),S.isLegendInset&&x>0&&0===E.size()&&(E=S.legend.insert("g","."+l.legendItem).attr("class",l.legendBackground).append("rect")),_=S.legend.selectAll("text").data(e).text(function(e){return h(w.data_names[e])?w.data_names[e]:e}).each(function(e,t){i(this,e,t)}),(f?_.transition():_).attr("x",o).attr("y",d),v=S.legend.selectAll("rect."+l.legendItemEvent).data(e),(f?v.transition():v).attr("width",function(e){return R[e]}).attr("height",function(e){return C[e]}).attr("x",c).attr("y",p),b=S.legend.selectAll("rect."+l.legendItemTile).data(e),(f?b.transition():b).style("fill",S.color).attr("x",a).attr("y",u),E&&(f?E.transition():E).attr("height",S.getLegendHeight()-12).attr("width",x*(L+1)+10),S.legend.selectAll("."+l.legendItem).classed(l.legendItemHidden,function(e){return!S.isTargetToShow(e)}).transition().style("opacity",function(e){var t=S.d3.select(this);return S.isTargetToShow(e)?!I||t.classed(l.legendItemFocused)?S.opacityForLegend(t):S.opacityForUnfocusedLegend(t):null}),S.updateLegendItemWidth(x),S.updateLegendItemHeight(M),S.updateLegendStep(L),S.updateSizes(),S.updateScales(),S.updateSvgSize(),S.transformAll(m,n),S.legendHasRendered=!0},a.initAxis=function(){var e=this,t=e.config,n=e.main;e.axes.x=n.append("g").attr("class",l.axis+" "+l.axisX).attr("clip-path",e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",l.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",e.textAnchorForXAxisLabel.bind(e)),e.axes.y=n.append("g").attr("class",l.axis+" "+l.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",l.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",e.textAnchorForYAxisLabel.bind(e)),e.axes.y2=n.append("g").attr("class",l.axis+" "+l.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",l.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",e.textAnchorForY2AxisLabel.bind(e))},a.getXAxis=function(e,t,n,i,a){var o=this,s=o.config,l={isCategory:o.isCategorized(),withOuterTick:a,tickMultiline:s.axis_x_tick_multiline,tickWidth:s.axis_x_tick_width},c=r(o.d3,l).scale(e).orient(t);return o.isTimeSeries()&&i&&(i=i.map(function(e){return o.parseDate(e)})),c.tickFormat(n).tickValues(i),o.isCategorized()?(c.tickCentered(s.axis_x_tick_centered),_(s.axis_x_tick_culling)&&(s.axis_x_tick_culling=!1)):c.tickOffset=function(){var e=this.scale(),t=o.getEdgeX(o.data.targets),n=e(t[1])-e(t[0]),r=n?n:s.axis_rotated?o.height:o.width;return r/o.getMaxDataCount()/2},c},a.getYAxis=function(e,t,n,i,a){var o={withOuterTick:a},s=r(this.d3,o).scale(e).orient(t).tickFormat(n);return this.isTimeSeriesY()?s.ticks(this.d3.time[this.config.axis_y_tick_time_value],this.config.axis_y_tick_time_interval):s.tickValues(i),s},a.getAxisId=function(e){var t=this.config;return e in t.data_axes?t.data_axes[e]:"y"},a.getXAxisTickFormat=function(){var e=this,t=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(e){return 0>e?e.toFixed(0):e};return t.axis_x_tick_format&&(u(t.axis_x_tick_format)?n=t.axis_x_tick_format:e.isTimeSeries()&&(n=function(n){return n?e.axisTimeFormat(t.axis_x_tick_format)(n):""})),u(n)?function(t){return n.call(e,t)}:n},a.getAxisTickValues=function(e,t){return e?e:t?t.tickValues():void 0
},a.getXAxisTickValues=function(){return this.getAxisTickValues(this.config.axis_x_tick_values,this.xAxis)},a.getYAxisTickValues=function(){return this.getAxisTickValues(this.config.axis_y_tick_values,this.yAxis)},a.getY2AxisTickValues=function(){return this.getAxisTickValues(this.config.axis_y2_tick_values,this.y2Axis)},a.getAxisLabelOptionByAxisId=function(e){var t,n=this,r=n.config;return"y"===e?t=r.axis_y_label:"y2"===e?t=r.axis_y2_label:"x"===e&&(t=r.axis_x_label),t},a.getAxisLabelText=function(e){var t=this.getAxisLabelOptionByAxisId(e);return d(t)?t:t?t.text:null},a.setAxisLabelText=function(e,t){var n=this,r=n.config,i=n.getAxisLabelOptionByAxisId(e);d(i)?"y"===e?r.axis_y_label=t:"y2"===e?r.axis_y2_label=t:"x"===e&&(r.axis_x_label=t):i&&(i.text=t)},a.getAxisLabelPosition=function(e,t){var n=this.getAxisLabelOptionByAxisId(e),r=n&&"object"==typeof n&&n.position?n.position:t;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},a.getXAxisLabelPosition=function(){return this.getAxisLabelPosition("x",this.config.axis_rotated?"inner-top":"inner-right")},a.getYAxisLabelPosition=function(){return this.getAxisLabelPosition("y",this.config.axis_rotated?"inner-right":"inner-top")},a.getY2AxisLabelPosition=function(){return this.getAxisLabelPosition("y2",this.config.axis_rotated?"inner-right":"inner-top")},a.getAxisLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},a.textForXAxisLabel=function(){return this.getAxisLabelText("x")},a.textForYAxisLabel=function(){return this.getAxisLabelText("y")},a.textForY2AxisLabel=function(){return this.getAxisLabelText("y2")},a.xForAxisLabel=function(e,t){var n=this;return e?t.isLeft?0:t.isCenter?n.width/2:n.width:t.isBottom?-n.height:t.isMiddle?-n.height/2:0},a.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},a.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},a.xForXAxisLabel=function(){return this.xForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())},a.xForYAxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())},a.xForY2AxisLabel=function(){return this.xForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())},a.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.config.axis_rotated,this.getXAxisLabelPosition())},a.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,this.getYAxisLabelPosition())},a.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.config.axis_rotated,this.getY2AxisLabelPosition())},a.dyForXAxisLabel=function(){var e=this,t=e.config,n=e.getXAxisLabelPosition();return t.axis_rotated?n.isInner?"1.2em":-25-e.getMaxTickWidth("x"):n.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},a.dyForYAxisLabel=function(){var e=this,t=e.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:e.getMaxTickWidth("y")+10)},a.dyForY2AxisLabel=function(){var e=this,t=e.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},a.textAnchorForXAxisLabel=function(){var e=this;return e.textAnchorForAxisLabel(!e.config.axis_rotated,e.getXAxisLabelPosition())},a.textAnchorForYAxisLabel=function(){var e=this;return e.textAnchorForAxisLabel(e.config.axis_rotated,e.getYAxisLabelPosition())},a.textAnchorForY2AxisLabel=function(){var e=this;return e.textAnchorForAxisLabel(e.config.axis_rotated,e.getY2AxisLabelPosition())},a.xForRotatedTickText=function(e){return 8*Math.sin(Math.PI*(e/180))},a.yForRotatedTickText=function(e){return 11.5-2.5*(e/15)*(e>0?1:-1)},a.rotateTickText=function(e,t,n){e.selectAll(".tick text").style("text-anchor",n>0?"start":"end"),t.selectAll(".tick text").attr("y",this.yForRotatedTickText(n)).attr("transform","rotate("+n+")").selectAll("tspan").attr("dx",this.xForRotatedTickText(n))},a.getMaxTickWidth=function(e,t){var n,r,i,a=this,o=a.config,s=0;return t&&a.currentMaxTickWidths[e]?a.currentMaxTickWidths[e]:(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===e?(r=a.y.copy().domain(a.getYDomain(n,"y")),i=a.getYAxis(r,a.yOrient,o.axis_y_tick_format,a.yAxisTickValues)):"y2"===e?(r=a.y2.copy().domain(a.getYDomain(n,"y2")),i=a.getYAxis(r,a.y2Orient,o.axis_y2_tick_format,a.y2AxisTickValues)):(r=a.x.copy().domain(a.getXDomain(n)),i=a.getXAxis(r,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues)),a.d3.select("body").append("g").style("visibility","hidden").call(i).each(function(){a.d3.select(this).selectAll("text tspan").each(function(){var e=this.getBoundingClientRect();e.left>0&&s<e.width&&(s=e.width)})}).remove()),a.currentMaxTickWidths[e]=0>=s?a.currentMaxTickWidths[e]:s,a.currentMaxTickWidths[e])},a.updateAxisLabels=function(e){var t=this,n=t.main.select("."+l.axisX+" ."+l.axisXLabel),r=t.main.select("."+l.axisY+" ."+l.axisYLabel),i=t.main.select("."+l.axisY2+" ."+l.axisY2Label);(e?n.transition():n).attr("x",t.xForXAxisLabel.bind(t)).attr("dx",t.dxForXAxisLabel.bind(t)).attr("dy",t.dyForXAxisLabel.bind(t)).text(t.textForXAxisLabel.bind(t)),(e?r.transition():r).attr("x",t.xForYAxisLabel.bind(t)).attr("dx",t.dxForYAxisLabel.bind(t)).attr("dy",t.dyForYAxisLabel.bind(t)).text(t.textForYAxisLabel.bind(t)),(e?i.transition():i).attr("x",t.xForY2AxisLabel.bind(t)).attr("dx",t.dxForY2AxisLabel.bind(t)).attr("dy",t.dyForY2AxisLabel.bind(t)).text(t.textForY2AxisLabel.bind(t))},a.getAxisPadding=function(e,t,n,r){var i="ratio"===e.unit?r:1;return c(e[t])?e[t]*i:n},a.generateTickValues=function(e,t,n){var r,i,a,o,s,l,c,d=e;if(t)if(r=u(t)?t():t,1===r)d=[e[0]];else if(2===r)d=[e[0],e[e.length-1]];else if(r>2){for(o=r-2,i=e[0],a=e[e.length-1],s=(a-i)/(o+1),d=[i],l=0;o>l;l++)c=+i+s*(l+1),d.push(n?new Date(c):c);d.push(a)}return n||(d=d.sort(function(e,t){return e-t})),d},a.generateAxisTransitions=function(e){var t=this,n=t.axes;return{axisX:e?n.x.transition().duration(e):n.x,axisY:e?n.y.transition().duration(e):n.y,axisY2:e?n.y2.transition().duration(e):n.y2,axisSubX:e?n.subx.transition().duration(e):n.subx}},a.redrawAxis=function(e,t){var n=this,r=n.config;n.axes.x.style("opacity",t?0:1),n.axes.y.style("opacity",t?0:1),n.axes.y2.style("opacity",t?0:1),n.axes.subx.style("opacity",t?0:1),e.axisX.call(n.xAxis),e.axisY.call(n.yAxis),e.axisY2.call(n.y2Axis),e.axisSubX.call(n.subXAxis),!r.axis_rotated&&r.axis_x_tick_rotate&&(n.rotateTickText(n.axes.x,e.axisX,r.axis_x_tick_rotate),n.rotateTickText(n.axes.subx,e.axisSubX,r.axis_x_tick_rotate))},a.getClipPath=function(t){var n=e.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+t+")"},a.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},a.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},a.getAxisClipY=function(e){return e?-20:-this.margin.top},a.getXAxisClipX=function(){var e=this;return e.getAxisClipX(!e.config.axis_rotated)},a.getXAxisClipY=function(){var e=this;return e.getAxisClipY(!e.config.axis_rotated)},a.getYAxisClipX=function(){var e=this;return e.config.axis_y_inner?-1:e.getAxisClipX(e.config.axis_rotated)},a.getYAxisClipY=function(){var e=this;return e.getAxisClipY(e.config.axis_rotated)},a.getAxisClipWidth=function(e){var t=this,n=Math.max(30,t.margin.left),r=Math.max(30,t.margin.right);return e?t.width+2+n+r:t.margin.left+20},a.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+8},a.getXAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(!e.config.axis_rotated)},a.getXAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(!e.config.axis_rotated)},a.getYAxisClipWidth=function(){var e=this;return e.getAxisClipWidth(e.config.axis_rotated)+(e.config.axis_y_inner?20:0)},a.getYAxisClipHeight=function(){var e=this;return e.getAxisClipHeight(e.config.axis_rotated)},a.initPie=function(){var e=this,t=e.d3,n=e.config;e.pie=t.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),n.data_order||e.pie.sort(null)},a.updateRadius=function(){var e=this,t=e.config,n=t.gauge_width||t.donut_width;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2,e.radius=.95*e.radiusExpanded,e.innerRadiusRatio=n?(e.radius-n)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0},a.updateArc=function(){var e=this;e.svgArc=e.getSvgArc(),e.svgArcExpanded=e.getSvgArcExpanded(),e.svgArcExpandedSub=e.getSvgArcExpanded(.98)},a.updateAngle=function(e){var t,n,r=this,i=r.config,a=!1,o=0,s=i.gauge_min,l=i.gauge_max;return r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(t){a||t.data.id!==e.data.id||(a=!0,e=t,e.index=o),o++}),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),r.isGaugeType(e.data)&&(t=Math.PI/(l-s),n=e.value<s?0:e.value<l?e.value-s:l-s,e.startAngle=-1*(Math.PI/2),e.endAngle=e.startAngle+t*n),a?e:null},a.getSvgArc=function(){var e=this,t=e.d3.svg.arc().outerRadius(e.radius).innerRadius(e.innerRadius),n=function(n,r){var i;return r?t(n):(i=e.updateAngle(n),i?t(i):"M 0 0")};return n.centroid=t.centroid,n},a.getSvgArcExpanded=function(e){var t=this,n=t.d3.svg.arc().outerRadius(t.radiusExpanded*(e?e:1)).innerRadius(t.innerRadius);return function(e){var r=t.updateAngle(e);return r?n(r):"M 0 0"}},a.getArc=function(e,t,n){return n||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},a.transformForArcLabel=function(e){var t,n,r,i,a,o=this,s=o.updateAngle(e),l="";return s&&!o.hasType("gauge")&&(t=this.svgArc.centroid(s),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?0:t[1],i=Math.sqrt(n*n+r*r),a=o.radius&&i?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/i:0,l="translate("+n*a+","+r*a+")"),l},a.getArcRatio=function(e){var t=this,n=t.hasType("gauge")?Math.PI:2*Math.PI;return e?(e.endAngle-e.startAngle)/n:null},a.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},a.textForArcLabel=function(e){var t,n,r,i,a,o=this;return o.shouldShowArcLabel()?(t=o.updateAngle(e),n=t?t.value:null,r=o.getArcRatio(t),i=e.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(r)?(a=o.getArcLabelFormat(),a?a(n,r,i):o.defaultArcValueFormat(n,r)):""):""},a.expandArc=function(t){var n,r=this;return r.transiting?(n=e.setInterval(function(){r.transiting||(e.clearInterval(n),r.legend.selectAll(".c3-legend-item-focused").size()>0&&r.expandArc(t))},10),void 0):(t=r.mapToTargetIds(t),r.svg.selectAll(r.selectorTargets(t,"."+l.chartArc)).each(function(e){r.shouldExpand(e.data.id)&&r.d3.select(this).selectAll("path").transition().duration(50).attr("d",r.svgArcExpanded).transition().duration(100).attr("d",r.svgArcExpandedSub).each(function(e){r.isDonutType(e.data)})}),void 0)},a.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+l.chartArc)).selectAll("path").transition().duration(50).attr("d",t.svgArc),t.svg.selectAll("."+l.arc).style("opacity",1))},a.shouldExpand=function(e){var t=this,n=t.config;return t.isDonutType(e)&&n.donut_expand||t.isGaugeType(e)&&n.gauge_expand||t.isPieType(e)&&n.pie_expand},a.shouldShowArcLabel=function(){var e=this,t=e.config,n=!0;return e.hasType("donut")?n=t.donut_label_show:e.hasType("pie")&&(n=t.pie_label_show),n},a.meetsArcLabelThreshold=function(e){var t=this,n=t.config,r=t.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return e>=r},a.getArcLabelFormat=function(){var e=this,t=e.config,n=t.pie_label_format;return e.hasType("gauge")?n=t.gauge_label_format:e.hasType("donut")&&(n=t.donut_label_format),n},a.getArcTitle=function(){var e=this;return e.hasType("donut")?e.config.donut_title:""},a.updateTargetsForArc=function(e){var t,n,r=this,i=r.main,a=r.classChartArc.bind(r),o=r.classArcs.bind(r),s=r.classFocus.bind(r);t=i.select("."+l.chartArcs).selectAll("."+l.chartArc).data(r.pie(e)).attr("class",function(e){return a(e)+s(e.data)}),n=t.enter().append("g").attr("class",a),n.append("g").attr("class",o),n.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},a.initArc=function(){var e=this;e.arcs=e.main.select("."+l.chart).append("g").attr("class",l.chartArcs).attr("transform",e.getTranslate("arc")),e.arcs.append("text").attr("class",l.chartArcsTitle).style("text-anchor","middle").text(e.getArcTitle())},a.redrawArc=function(e,t,n){var r,i=this,a=i.d3,o=i.config,s=i.main;r=s.selectAll("."+l.arcs).selectAll("."+l.arc).data(i.arcData.bind(i)),r.enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(e){return i.color(e.data)}).style("cursor",function(e){return o.data_selection_isselectable(e)?"pointer":null}).style("opacity",0).each(function(e){i.isGaugeType(e.data)&&(e.startAngle=e.endAngle=-1*(Math.PI/2)),this._current=e}).on("mouseover",function(e){var t,n;i.transiting||(t=i.updateAngle(e),n=i.convertToArcData(t),i.expandArc(t.data.id),i.api.focus(t.data.id),i.toggleFocusLegend(t.data.id,!0),i.config.data_onmouseover(n,this))}).on("mousemove",function(e){var t=i.updateAngle(e),n=i.convertToArcData(t),r=[n];i.showTooltip(r,a.mouse(this))}).on("mouseout",function(e){var t,n;i.transiting||(t=i.updateAngle(e),n=i.convertToArcData(t),i.unexpandArc(t.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(n,this))}).on("click",function(e,t){var n=i.updateAngle(e),r=i.convertToArcData(n);i.toggleShape&&i.toggleShape(this,r,t),i.config.data_onclick.call(i.api,r,this)}),r.attr("transform",function(e){return!i.isGaugeType(e.data)&&n?"scale(0)":""}).style("opacity",function(e){return e===this._current?0:1}).each(function(){i.transiting=!0}).transition().duration(e).attrTween("d",function(e){var t,n=i.updateAngle(e);return n?(isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),t=a.interpolate(this._current,n),this._current=t(0),function(n){var r=t(n);return r.data=e.data,i.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(e){return i.levelColor?i.levelColor(e.data.values[0].value):i.color(e.data.id)}).style("opacity",1).call(i.endall,function(){i.transiting=!1}),r.exit().transition().duration(t).style("opacity",0).remove(),s.selectAll("."+l.chartArc).select("text").style("opacity",0).attr("class",function(e){return i.isGaugeType(e.data)?l.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(e){return i.isGaugeType(e.data)?Math.round(i.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return i.isTargetToShow(e.data.id)&&i.isArcType(e.data)?1:0}),s.select("."+l.chartArcsTitle).style("opacity",i.hasType("donut")||i.hasType("gauge")?1:0),i.hasType("gauge")&&(i.arcs.select("."+l.chartArcsBackground).attr("d",function(){var e={data:[{value:o.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return i.getArc(e,!0,!0)}),i.arcs.select("."+l.chartArcsGaugeUnit).attr("dy",".75em").text(o.gauge_label_show?o.gauge_units:""),i.arcs.select("."+l.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/2)+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_min:""),i.arcs.select("."+l.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/2+"px").attr("dy","1.2em").text(o.gauge_label_show?o.gauge_max:""))},a.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",l.chartArcsBackground),e.append("text").attr("class",l.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",l.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",l.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},a.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},a.initRegion=function(){var e=this;e.region=e.main.append("g").attr("clip-path",e.clipPath).attr("class",l.regions)},a.redrawRegion=function(e){var t=this,n=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+l.regions).selectAll("."+l.region).data(n.regions),t.mainRegion.enter().append("g").attr("class",t.classRegion.bind(t)).append("rect").style("fill-opacity",0),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},a.addTransitionForRegion=function(e){var t=this,n=t.regionX.bind(t),r=t.regionY.bind(t),i=t.regionWidth.bind(t),a=t.regionHeight.bind(t);e.push(t.mainRegion.selectAll("rect").transition().attr("x",n).attr("y",r).attr("width",i).attr("height",a).style("fill-opacity",function(e){return c(e.opacity)?e.opacity:.1}))},a.regionX=function(e){var t,n=this,r=n.config,i="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?"start"in e?i(e.start):0:0:r.axis_rotated?0:"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0},a.regionY=function(e){var t,n=this,r=n.config,i="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?0:"end"in e?i(e.end):0:r.axis_rotated?"start"in e?n.x(n.isTimeSeries()?n.parseDate(e.start):e.start):0:0},a.regionWidth=function(e){var t,n=this,r=n.config,i=n.regionX(e),a="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?"end"in e?a(e.end):n.width:n.width:r.axis_rotated?n.width:"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.width,i>t?0:t-i},a.regionHeight=function(e){var t,n=this,r=n.config,i=this.regionY(e),a="y"===e.axis?n.y:n.y2;return t="y"===e.axis||"y2"===e.axis?r.axis_rotated?n.height:"start"in e?a(e.start):n.height:r.axis_rotated?"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.height:n.height,i>t?0:t-i},a.isRegionOnX=function(e){return!e.axis||"x"===e.axis},a.drag=function(e){var t,n,r,i,a,o,s,c,u=this,d=u.config,p=u.main,h=u.d3;u.hasArcType()||d.data_selection_enabled&&(!d.zoom_enabled||u.zoom.altDomain)&&d.data_selection_multiple&&(t=u.dragStart[0],n=u.dragStart[1],r=e[0],i=e[1],a=Math.min(t,r),o=Math.max(t,r),s=d.data_selection_grouped?u.margin.top:Math.min(n,i),c=d.data_selection_grouped?u.height:Math.max(n,i),p.select("."+l.dragarea).attr("x",a).attr("y",s).attr("width",o-a).attr("height",c-s),p.selectAll("."+l.shapes).selectAll("."+l.shape).filter(function(e){return d.data_selection_isselectable(e)}).each(function(e,t){var n,r,i,d,p,g,f=h.select(this),m=f.classed(l.SELECTED),_=f.classed(l.INCLUDED),v=!1;if(f.classed(l.circle))n=1*f.attr("cx"),r=1*f.attr("cy"),p=u.togglePoint,v=n>a&&o>n&&r>s&&c>r;else{if(!f.classed(l.bar))return;g=E(this),n=g.x,r=g.y,i=g.width,d=g.height,p=u.togglePath,v=!(n>o||a>n+i||r>c||s>r+d)}v^_&&(f.classed(l.INCLUDED,!_),f.classed(l.SELECTED,!m),p.call(u,!m,f,e,t))}))},a.dragstart=function(e){var t=this,n=t.config;t.hasArcType()||n.data_selection_enabled&&(t.dragStart=e,t.main.select("."+l.chart).append("rect").attr("class",l.dragarea).style("opacity",.1),t.dragging=!0,t.config.data_ondragstart.call(t.api))},a.dragend=function(){var e=this,t=e.config;e.hasArcType()||t.data_selection_enabled&&(e.main.select("."+l.dragarea).transition().duration(100).style("opacity",0).remove(),e.main.selectAll("."+l.shape).classed(l.INCLUDED,!1),e.dragging=!1,e.config.data_ondragend.call(e.api))},a.selectPoint=function(e,t,n){var r=this,i=r.config,a=(i.axis_rotated?r.circleY:r.circleX).bind(r),o=(i.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);i.data_onselected.call(r.api,t,e.node()),r.main.select("."+l.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+l.selectedCircle+"-"+n).data([t]).enter().append("circle").attr("class",function(){return r.generateClass(l.selectedCircle,n)}).attr("cx",a).attr("cy",o).attr("stroke",function(){return r.color(t)}).attr("r",function(e){return 1.4*r.pointSelectR(e)}).transition().duration(100).attr("r",s)},a.unselectPoint=function(e,t,n){var r=this;r.config.data_onunselected(t,e.node()),r.main.select("."+l.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+l.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},a.togglePoint=function(e,t,n,r){e?this.selectPoint(t,n,r):this.unselectPoint(t,n,r)},a.selectPath=function(e,t){var n=this;n.config.data_onselected.call(n,t,e.node()),e.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(t)).brighter(.75)})},a.unselectPath=function(e,t){var n=this;n.config.data_onunselected.call(n,t,e.node()),e.transition().duration(100).style("fill",function(){return n.color(t)})},a.togglePath=function(e,t,n,r){e?this.selectPath(t,n,r):this.unselectPath(t,n,r)},a.getToggle=function(e,t){var n,r=this;return"circle"===e.nodeName?n=r.isStepType(t)?function(){}:r.togglePoint:"path"===e.nodeName&&(n=r.togglePath),n},a.toggleShape=function(e,t,n){var r=this,i=r.d3,a=r.config,o=i.select(e),s=o.classed(l.SELECTED),c=r.getToggle(e,t).bind(r);a.data_selection_enabled&&a.data_selection_isselectable(t)&&(a.data_selection_multiple||r.main.selectAll("."+l.shapes+(a.data_selection_grouped?r.getTargetSelectorSuffix(t.id):"")).selectAll("."+l.shape).each(function(e,t){var n=i.select(this);n.classed(l.SELECTED)&&c(!1,n.classed(l.SELECTED,!1),e,t)}),o.classed(l.SELECTED,!s),c(!s,o,t,n))},a.initBrush=function(){var e=this,t=e.d3;e.brush=t.svg.brush().on("brush",function(){e.redrawForBrush()}),e.brush.update=function(){return e.context&&e.context.select("."+l.brush).call(this),this},e.brush.scale=function(t){return e.config.axis_rotated?this.y(t):this.x(t)}},a.initSubchart=function(){var e=this,t=e.config,n=e.context=e.svg.append("g").attr("transform",e.getTranslate("context"));t.subchart_show||n.style("visibility","hidden"),n.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",l.chart),n.select("."+l.chart).append("g").attr("class",l.chartBars),n.select("."+l.chart).append("g").attr("class",l.chartLines),n.append("g").attr("clip-path",e.clipPath).attr("class",l.brush).call(e.brush).selectAll("rect").attr(t.axis_rotated?"width":"height",t.axis_rotated?e.width2:e.height2),e.axes.subx=n.append("g").attr("class",l.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis)},a.updateTargetsForSubchart=function(e){var t,n,r,i,a=this,o=a.context,s=a.config,c=a.classChartBar.bind(a),u=a.classBars.bind(a),d=a.classChartLine.bind(a),p=a.classLines.bind(a),h=a.classAreas.bind(a);s.subchart_show&&(i=o.select("."+l.chartBars).selectAll("."+l.chartBar).data(e).attr("class",c),r=i.enter().append("g").style("opacity",0).attr("class",c),r.append("g").attr("class",u),n=o.select("."+l.chartLines).selectAll("."+l.chartLine).data(e).attr("class",d),t=n.enter().append("g").style("opacity",0).attr("class",d),t.append("g").attr("class",p),t.append("g").attr("class",h))},a.redrawSubchart=function(e,t,n,r,i,a,o){var s,c,u,d,p,h,g=this,f=g.d3,m=g.context,_=g.config,v=g.barData.bind(g),y=g.lineData.bind(g),b=g.classBar.bind(g),E=g.classLine.bind(g),S=g.classArea.bind(g),w=g.initialOpacity.bind(g);_.subchart_show&&(f.event&&"zoom"===f.event.type&&g.brush.extent(g.x.orgDomain()).update(),e&&(g.brush.empty()||g.brush.extent(g.x.orgDomain()).update(),d=g.generateDrawArea(i,!0),p=g.generateDrawBar(a,!0),h=g.generateDrawLine(o,!0),u=m.selectAll("."+l.bars).selectAll("."+l.bar).data(v),u.enter().append("path").attr("class",b).style("stroke","none").style("fill",g.color),u.style("opacity",w).transition().duration(n).attr("d",p).style("opacity",1),u.exit().transition().duration(n).style("opacity",0).remove(),s=m.selectAll("."+l.lines).selectAll("."+l.line).data(y),s.enter().append("path").attr("class",E).style("stroke",g.color),s.style("opacity",w).transition().duration(n).attr("d",h).style("opacity",1),s.exit().transition().duration(n).style("opacity",0).remove(),c=m.selectAll("."+l.areas).selectAll("."+l.area).data(y),c.enter().append("path").attr("class",S).style("fill",g.color).style("opacity",function(){return g.orgAreaOpacity=+f.select(this).style("opacity"),0}),c.style("opacity",0).transition().duration(n).attr("d",d).style("fill",g.color).style("opacity",g.orgAreaOpacity),c.exit().transition().duration(r).style("opacity",0).remove()))},a.redrawForBrush=function(){var e=this,t=e.x;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),e.config.subchart_onbrush.call(e.api,t.orgDomain())},a.transformContext=function(e,t){var n,r=this;t&&t.axisSubX?n=t.axisSubX:(n=r.context.select("."+l.axisX),e&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},a.getDefaultExtent=function(){var e=this,t=e.config,n=u(t.axis_x_extent)?t.axis_x_extent(e.getXDomain(e.data.targets)):t.axis_x_extent;return e.isTimeSeries()&&(n=[e.parseDate(n[0]),e.parseDate(n[1])]),n},a.initZoom=function(){var e,t=this,n=t.d3,r=t.config;t.zoom=n.behavior.zoom().on("zoomstart",function(){e=n.event.sourceEvent,t.zoom.altDomain=n.event.sourceEvent.altKey?t.x.orgDomain():null,r.zoom_onzoomstart.call(t.api,n.event.sourceEvent)}).on("zoom",function(){t.redrawForZoom.call(t)}).on("zoomend",function(){var i=n.event.sourceEvent;i&&e.x===i.x&&e.y===i.y||(t.redrawEventRect(),t.updateZoom(),r.zoom_onzoomend.call(t.api,t.x.orgDomain()))}),t.zoom.scale=function(e){return r.axis_rotated?this.y(e):this.x(e)},t.zoom.orgScaleExtent=function(){var e=r.zoom_extent?r.zoom_extent:[1,10];return[e[0],Math.max(t.getMaxDataCount()/e[1],e[1])]},t.zoom.updateScaleExtent=function(){var e=m(t.x.orgDomain())/m(t.orgXDomain),n=this.orgScaleExtent();return this.scaleExtent([n[0]*e,n[1]*e]),this}},a.updateZoom=function(){var e=this,t=e.config.zoom_enabled?e.zoom:function(){};e.main.select("."+l.zoomRect).call(t).on("dblclick.zoom",null),e.main.selectAll("."+l.eventRect).call(t).on("dblclick.zoom",null)},a.redrawForZoom=function(){var e=this,t=e.d3,n=e.config,r=e.zoom,i=e.x;if(n.zoom_enabled&&0!==e.filterTargetsToShow(e.data.targets).length){if("mousemove"===t.event.sourceEvent.type&&r.altDomain)return i.domain(r.altDomain),r.scale(i).updateScaleExtent(),void 0;e.isCategorized()&&i.orgDomain()[0]===e.orgXDomain[0]&&i.domain([e.orgXDomain[0]-1e-10,i.orgDomain()[1]]),e.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),n.zoom_onzoom.call(e.api,i.orgDomain())}},a.generateColor=function(){var e=this,t=e.config,n=e.d3,r=t.data_colors,i=v(t.color_pattern)?t.color_pattern:n.scale.category10().range(),a=t.data_color,o=[];return function(e){var t,n=e.id||e;return r[n]instanceof Function?t=r[n](e):r[n]?t=r[n]:(o.indexOf(n)<0&&o.push(n),t=i[o.indexOf(n)%i.length],r[n]=t),a instanceof Function?a(t,e):t}},a.generateLevelColor=function(){var e=this,t=e.config,n=t.color_pattern,r=t.color_threshold,i="value"===r.unit,a=r.values&&r.values.length?r.values:[],o=r.max||100;return v(t.color_threshold)?function(e){var t,r,s=n[n.length-1];for(t=0;t<a.length;t++)if(r=i?e:100*e/o,r<a[t]){s=n[t];break}return s}:null},a.getYFormat=function(e){var t=this,n=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.yFormat,r=e&&!t.hasType("gauge")?t.defaultArcValueFormat:t.y2Format;return function(e,i,a){var o="y2"===t.getAxisId(a)?r:n;return o.call(t,e,i)}},a.yFormat=function(e){var t=this,n=t.config,r=n.axis_y_tick_format?n.axis_y_tick_format:t.defaultValueFormat;return r(e)},a.y2Format=function(e){var t=this,n=t.config,r=n.axis_y2_tick_format?n.axis_y2_tick_format:t.defaultValueFormat;return r(e)},a.defaultValueFormat=function(e){return c(e)?+e:""},a.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},a.formatByAxisId=function(e){var t=this,n=t.config.data_labels,r=function(e){return c(e)?+e:""};return"function"==typeof n.format?r=n.format:"object"==typeof n.format&&n.format[e]&&(r=n.format[e]),r},a.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},a.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},a.getCaches=function(e){var t,n=[];for(t=0;t<e.length;t++)e[t]in this.cache&&n.push(this.cloneTarget(this.cache[e[t]]));return n};var l=a.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};a.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},a.classText=function(e){return this.generateClass(l.text,e.index)},a.classTexts=function(e){return this.generateClass(l.texts,e.id)},a.classShape=function(e){return this.generateClass(l.shape,e.index)},a.classShapes=function(e){return this.generateClass(l.shapes,e.id)},a.classLine=function(e){return this.classShape(e)+this.generateClass(l.line,e.id)},a.classLines=function(e){return this.classShapes(e)+this.generateClass(l.lines,e.id)},a.classCircle=function(e){return this.classShape(e)+this.generateClass(l.circle,e.index)},a.classCircles=function(e){return this.classShapes(e)+this.generateClass(l.circles,e.id)},a.classBar=function(e){return this.classShape(e)+this.generateClass(l.bar,e.index)},a.classBars=function(e){return this.classShapes(e)+this.generateClass(l.bars,e.id)},a.classArc=function(e){return this.classShape(e.data)+this.generateClass(l.arc,e.data.id)},a.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(l.arcs,e.data.id)},a.classArea=function(e){return this.classShape(e)+this.generateClass(l.area,e.id)},a.classAreas=function(e){return this.classShapes(e)+this.generateClass(l.areas,e.id)},a.classRegion=function(e,t){return this.generateClass(l.region,t)+" "+("class"in e?e["class"]:"")},a.classEvent=function(e){return this.generateClass(l.eventRect,e.index)},a.classTarget=function(e){var t=this,n=t.config.data_classes[e],r="";return n&&(r=" "+l.target+"-"+n),t.generateClass(l.target,e)+r},a.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},a.classFocused=function(e){return" "+(this.focusedTargetIds.indexOf(e.id)>=0?l.focused:"")},a.classDefocused=function(e){return" "+(this.defocusedTargetIds.indexOf(e.id)>=0?l.defocused:"")},a.classChartText=function(e){return l.chartText+this.classTarget(e.id)},a.classChartLine=function(e){return l.chartLine+this.classTarget(e.id)},a.classChartBar=function(e){return l.chartBar+this.classTarget(e.id)},a.classChartArc=function(e){return l.chartArc+this.classTarget(e.data.id)},a.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},a.selectorTarget=function(e,t){return(t||"")+"."+l.target+this.getTargetSelectorSuffix(e)},a.selectorTargets=function(e,t){var n=this;return e=e||[],e.length?e.map(function(e){return n.selectorTarget(e,t)
}):null},a.selectorLegend=function(e){return"."+l.legendItem+this.getTargetSelectorSuffix(e)},a.selectorLegends=function(e){var t=this;return e.length?e.map(function(e){return t.selectorLegend(e)}):null};var c=a.isValue=function(e){return e||0===e},u=a.isFunction=function(e){return"function"==typeof e},d=a.isString=function(e){return"string"==typeof e},p=a.isUndefined=function(e){return"undefined"==typeof e},h=a.isDefined=function(e){return"undefined"!=typeof e},g=a.ceil10=function(e){return 10*Math.ceil(e/10)},f=a.asHalfPixel=function(e){return Math.ceil(e)+.5},m=a.diffDomain=function(e){return e[1]-e[0]},_=a.isEmpty=function(e){return!e||d(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length},v=a.notEmpty=function(e){return Object.keys(e).length>0},y=a.getOption=function(e,t,n){return h(e[t])?e[t]:n},b=a.hasValue=function(e,t){var n=!1;return Object.keys(e).forEach(function(r){e[r]===t&&(n=!0)}),n},E=a.getPathBox=function(e){var t=e.getBoundingClientRect(),n=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)],r=n[0].x,i=Math.min(n[0].y,n[1].y);return{x:r,y:i,width:t.width,height:t.height}};i.focus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),t.classed(l.focused,!0).classed(l.defocused,!1),n.hasArcType()&&n.expandArc(e),n.toggleFocusLegend(e,!0),n.focusedTargetIds=e,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},i.defocus=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e.filter(n.isTargetToShow,n))),this.revert(),t.classed(l.focused,!1).classed(l.defocused,!0),n.hasArcType()&&n.unexpandArc(e),n.toggleFocusLegend(e,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),n.defocusedTargetIds=e},i.revert=function(e){var t,n=this.internal;e=n.mapToTargetIds(e),t=n.svg.selectAll(n.selectorTargets(e)),t.classed(l.focused,!1).classed(l.defocused,!1),n.hasArcType()&&n.unexpandArc(e),n.revertLegend(),n.focusedTargetIds=[],n.defocusedTargetIds=[]},i.show=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.removeHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),t.withLegend&&r.showLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},i.hide=function(e,t){var n,r=this.internal;e=r.mapToTargetIds(e),t=t||{},r.addHiddenTargetIds(e),n=r.svg.selectAll(r.selectorTargets(e)),n.transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),t.withLegend&&r.hideLegend(e),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},i.toggle=function(e){var t=this,n=this.internal;n.mapToTargetIds(e).forEach(function(e){n.isTargetToShow(e)?t.hide(e):t.show(e)})},i.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},i.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},i.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},i.load=function(e){var t=this.internal,n=t.config;return e.xs&&t.addXs(e.xs),"classes"in e&&Object.keys(e.classes).forEach(function(t){n.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(n.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){n.data_axes[t]=e.axes[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?(t.load(t.getCaches(e.cacheIds),e.done),void 0):("unload"in e?t.unload(t.mapToTargetIds("boolean"==typeof e.unload&&e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e),void 0)},i.unload=function(e){var t=this.internal;e=e||{},e instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},i.flow=function(e){var t,n,r,i,a,o,s,l,u=this.internal,d=[],p=u.getMaxDataCount(),g=0,f=0;if(e.json)n=u.convertJsonToData(e.json,e.keys);else if(e.rows)n=u.convertRowsToData(e.rows);else{if(!e.columns)return;n=u.convertColumnsToData(e.columns)}t=u.convertDataToTargets(n,!0),u.data.targets.forEach(function(e){var n,r,i=!1;for(n=0;n<t.length;n++)if(e.id===t[n].id){for(i=!0,e.values[e.values.length-1]&&(f=e.values[e.values.length-1].index+1),g=t[n].values.length,r=0;g>r;r++)t[n].values[r].index=f+r,u.isTimeSeries()||(t[n].values[r].x=f+r);e.values=e.values.concat(t[n].values),t.splice(n,1);break}i||d.push(e.id)}),u.data.targets.forEach(function(e){var t,n;for(t=0;t<d.length;t++)if(e.id===d[t])for(f=e.values[e.values.length-1].index+1,n=0;g>n;n++)e.values.push({id:e.id,index:f+n,x:u.isTimeSeries()?u.getOtherTargetX(f+n):f+n,value:null})}),u.data.targets.length&&t.forEach(function(e){var t,n=[];for(t=u.data.targets[0].values[0].index;f>t;t++)n.push({id:e.id,index:t,x:u.isTimeSeries()?u.getOtherTargetX(t):t,value:null});e.values.forEach(function(e){e.index+=f,u.isTimeSeries()||(e.x+=f)}),e.values=n.concat(e.values)}),u.data.targets=u.data.targets.concat(t),r=u.getMaxDataCount(),a=u.data.targets[0],o=a.values[0],h(e.to)?(g=0,l=u.isTimeSeries()?u.parseDate(e.to):e.to,a.values.forEach(function(e){e.x<l&&g++})):h(e.length)&&(g=e.length),p?1===p&&u.isTimeSeries()&&(s=(a.values[a.values.length-1].x-o.x)/2,i=[new Date(+o.x-s),new Date(+o.x+s)],u.updateXDomain(null,!0,!0,!1,i)):(s=u.isTimeSeries()?a.values.length>1?a.values[a.values.length-1].x-o.x:o.x-u.getXDomain(u.data.targets)[0]:1,i=[o.x-s,o.x],u.updateXDomain(null,!0,!0,!1,i)),u.updateTargets(u.data.targets),u.redraw({flow:{index:o.index,length:g,duration:c(e.duration)?e.duration:u.config.transition_duration,done:e.done,orgDataCount:p},withLegend:!0,withTransition:p>1,withTrimXDomain:!1,withUpdateXAxis:!0})},a.generateFlow=function(e){var t=this,n=t.config,r=t.d3;return function(){var i,a,o,s=e.targets,c=e.flow,u=e.drawBar,d=e.drawLine,p=e.drawArea,h=e.cx,g=e.cy,f=e.xv,_=e.xForText,v=e.yForText,y=e.duration,b=1,E=c.index,S=c.length,w=t.getValueOnIndex(t.data.targets[0].values,E),T=t.getValueOnIndex(t.data.targets[0].values,E+S),A=t.x.domain(),x=c.duration||y,M=c.done||function(){},D=t.generateWait(),k=t.xgrid||r.selectAll([]),O=t.xgridLines||r.selectAll([]),N=t.mainRegion||r.selectAll([]),R=t.mainText||r.selectAll([]),C=t.mainBar||r.selectAll([]),U=t.mainLine||r.selectAll([]),F=t.mainArea||r.selectAll([]),L=t.mainCircle||r.selectAll([]);t.flowing=!0,t.data.targets.forEach(function(e){e.values.splice(0,S)}),o=t.updateXDomain(s,!0,!0),t.updateXGrid&&t.updateXGrid(!0),c.orgDataCount?i=1===c.orgDataCount||w.x===T.x?t.x(A[0])-t.x(o[0]):t.isTimeSeries()?t.x(A[0])-t.x(o[0]):t.x(w.x)-t.x(T.x):1!==t.data.targets[0].values.length?i=t.x(A[0])-t.x(o[0]):t.isTimeSeries()?(w=t.getValueOnIndex(t.data.targets[0].values,0),T=t.getValueOnIndex(t.data.targets[0].values,t.data.targets[0].values.length-1),i=t.x(w.x)-t.x(T.x)):i=m(o)/2,b=m(A)/m(o),a="translate("+i+",0) scale("+b+",1)",t.hideXGridFocus(),t.hideTooltip(),r.transition().ease("linear").duration(x).each(function(){D.add(t.axes.x.transition().call(t.xAxis)),D.add(C.transition().attr("transform",a)),D.add(U.transition().attr("transform",a)),D.add(F.transition().attr("transform",a)),D.add(L.transition().attr("transform",a)),D.add(R.transition().attr("transform",a)),D.add(N.filter(t.isRegionOnX).transition().attr("transform",a)),D.add(k.transition().attr("transform",a)),D.add(O.transition().attr("transform",a))}).call(D,function(){var e,r=[],i=[],a=[];if(S){for(e=0;S>e;e++)r.push("."+l.shape+"-"+(E+e)),i.push("."+l.text+"-"+(E+e)),a.push("."+l.eventRect+"-"+(E+e));t.svg.selectAll("."+l.shapes).selectAll(r).remove(),t.svg.selectAll("."+l.texts).selectAll(i).remove(),t.svg.selectAll("."+l.eventRects).selectAll(a).remove(),t.svg.select("."+l.xgrid).remove()}k.attr("transform",null).attr(t.xgridAttr),O.attr("transform",null),O.select("line").attr("x1",n.axis_rotated?0:f).attr("x2",n.axis_rotated?t.width:f),O.select("text").attr("x",n.axis_rotated?t.width:0).attr("y",f),C.attr("transform",null).attr("d",u),U.attr("transform",null).attr("d",d),F.attr("transform",null).attr("d",p),L.attr("transform",null).attr("cx",h).attr("cy",g),R.attr("transform",null).attr("x",_).attr("y",v).style("fill-opacity",t.opacityForText.bind(t)),N.attr("transform",null),N.select("rect").filter(t.isRegionOnX).attr("x",t.regionX.bind(t)).attr("width",t.regionWidth.bind(t)),n.interaction_enabled&&t.redrawEventRect(),M(),t.flowing=!1})}},i.selected=function(e){var t=this.internal,n=t.d3;return n.merge(t.main.selectAll("."+l.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+l.shape).filter(function(){return n.select(this).classed(l.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},i.select=function(e,t,n){var r=this.internal,i=r.d3,a=r.config;a.data_selection_enabled&&r.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(o,s){var c=i.select(this),u=o.data?o.data.id:o.id,d=r.getToggle(this,o).bind(r),p=a.data_selection_grouped||!e||e.indexOf(u)>=0,g=!t||t.indexOf(s)>=0,f=c.classed(l.SELECTED);c.classed(l.line)||c.classed(l.area)||(p&&g?a.data_selection_isselectable(o)&&!f&&d(!0,c.classed(l.SELECTED,!0),o,s):h(n)&&n&&f&&d(!1,c.classed(l.SELECTED,!1),o,s))})},i.unselect=function(e,t){var n=this.internal,r=n.d3,i=n.config;i.data_selection_enabled&&n.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(a,o){var s=r.select(this),c=a.data?a.data.id:a.id,u=n.getToggle(this,a).bind(n),d=i.data_selection_grouped||!e||e.indexOf(c)>=0,p=!t||t.indexOf(o)>=0,h=s.classed(l.SELECTED);s.classed(l.line)||s.classed(l.area)||d&&p&&i.data_selection_isselectable(a)&&h&&u(!1,s.classed(l.SELECTED,!1),a,o)})},i.transform=function(e,t){var n=this.internal,r=["pie","donut"].indexOf(e)>=0?{withTransform:!0}:null;n.transformTo(t,e,r)},a.transformTo=function(e,t,n){var r=this,i=!r.hasArcType(),a=n||{withTransitionForAxis:i};a.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(e,t),r.updateAndRedraw(a)},i.groups=function(e){var t=this.internal,n=t.config;return p(e)?n.data_groups:(n.data_groups=e,t.redraw(),n.data_groups)},i.xgrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_x_lines=e,t.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},i.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e?e:[]))},i.xgrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!0)},i.ygrids=function(e){var t=this.internal,n=t.config;return e?(n.grid_y_lines=e,t.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},i.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e?e:[]))},i.ygrids.remove=function(e){var t=this.internal;t.removeGridLines(e,!1)},i.regions=function(e){var t=this.internal,n=t.config;return e?(n.regions=e,t.redrawWithoutRescale(),n.regions):n.regions},i.regions.add=function(e){var t=this.internal,n=t.config;return e?(n.regions=n.regions.concat(e),t.redrawWithoutRescale(),n.regions):n.regions},i.regions.remove=function(e){var t,n,r,i=this.internal,a=i.config;return e=e||{},t=i.getOption(e,"duration",a.transition_duration),n=i.getOption(e,"classes",[l.region]),r=i.main.select("."+l.regions).selectAll(n.map(function(e){return"."+e})),(t?r.transition().duration(t):r).style("opacity",0).remove(),a.regions=a.regions.filter(function(e){var t=!1;return e["class"]?(e["class"].split(" ").forEach(function(e){n.indexOf(e)>=0&&(t=!0)}),!t):!0}),a.regions},i.data=function(e){var t=this.internal.data.targets;return"undefined"==typeof e?t:t.filter(function(t){return[].concat(e).indexOf(t.id)>=0})},i.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},i.data.values=function(e){var t,n=null;return e&&(t=this.data(e),n=t[0]?t[0].values.map(function(e){return e.value}):null),n},i.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},i.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},i.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},i.category=function(e,t){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[e]=t,n.redraw()),r.axis_x_categories[e]},i.categories=function(e){var t=this.internal,n=t.config;return arguments.length?(n.axis_x_categories=e,t.redraw(),n.axis_x_categories):n.axis_x_categories},i.color=function(e){var t=this.internal;return t.color(e)},i.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},i.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},i.axis=function(){},i.axis.labels=function(e){var t=this.internal;arguments.length&&(Object.keys(e).forEach(function(n){t.setAxisLabelText(n,e[n])}),t.updateAxisLabels())},i.axis.max=function(e){var t=this.internal,n=t.config;return arguments.length?("object"==typeof e?(c(e.x)&&(n.axis_x_max=e.x),c(e.y)&&(n.axis_y_max=e.y),c(e.y2)&&(n.axis_y2_max=e.y2)):n.axis_y_max=n.axis_y2_max=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}),void 0):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},i.axis.min=function(e){var t=this.internal,n=t.config;return arguments.length?("object"==typeof e?(c(e.x)&&(n.axis_x_min=e.x),c(e.y)&&(n.axis_y_min=e.y),c(e.y2)&&(n.axis_y2_min=e.y2)):n.axis_y_min=n.axis_y2_min=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}),void 0):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},i.axis.range=function(e){return arguments.length?(h(e.max)&&this.axis.max(e.max),h(e.min)&&this.axis.min(e.min),void 0):{max:this.axis.max(),min:this.axis.min()}},i.legend=function(){},i.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},i.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},i.resize=function(e){var t=this.internal,n=t.config;n.size_width=e?e.width:null,n.size_height=e?e.height:null,this.flush()},i.flush=function(){var e=this.internal;e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},i.destroy=function(){var t=this.internal;t.data.targets=void 0,t.data.xs={},t.selectChart.classed("c3",!1).html(""),e.clearInterval(t.intervalForObserveInserted),e.onresize=null},i.tooltip=function(){},i.tooltip.show=function(e){var t,n,r=this.internal;e.mouse&&(n=e.mouse),e.data?r.isMultipleX()?(n=[r.x(e.data.x),r.getYScale(e.data.id)(e.data.value)],t=null):t=c(e.data.index)?e.data.index:r.getIndexByX(e.data.x):"undefined"!=typeof e.x?t=r.getIndexByX(e.x):"undefined"!=typeof e.index&&(t=e.index),r.dispatchEvent("mouseover",t,n),r.dispatchEvent("mousemove",t,n)},i.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var S;"function"==typeof define&&define.amd?define("c3",["d3"],o):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=o:e.c3=o}(window),/*!
 * zeroclipboard
 * The Zero Clipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie, and a JavaScript interface.
 * Copyright 2012 Jon Rohan, James M. Greene, .
 * Released under the MIT license
 * http://jonrohan.github.com/ZeroClipboard/
 * v1.1.7
 */
function(){"use strict";var e,t=function(e,t){var n=e.style[t];if(e.currentStyle?n=e.currentStyle[t]:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),"auto"==n&&"cursor"==t)for(var r=["a"],i=0;i<r.length;i++)if(e.tagName.toLowerCase()==r[i])return"pointer";return n},n=function(e){if(p.prototype._singleton){e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),p.prototype._singleton.setCurrent(t)}},r=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},i=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},a=function(e,t){if(e.addClass)return e.addClass(t),e;if(t&&"string"==typeof t){var n=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var r=" "+e.className+" ",i=e.className,a=0,o=n.length;o>a;a++)r.indexOf(" "+n[a]+" ")<0&&(i+=" "+n[a]);e.className=i.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},o=function(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&"string"==typeof t||void 0===t){var n=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var r=(" "+e.className+" ").replace(/[\n\t]/g," "),i=0,a=n.length;a>i;i++)r=r.replace(" "+n[i]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},s=function(e){var n={left:0,top:0,width:e.width||e.offsetWidth||0,height:e.height||e.offsetHeight||0,zIndex:9999},r=t(e,"zIndex");for(r&&"auto"!=r&&(n.zIndex=parseInt(r,10));e;){var i=parseInt(t(e,"borderLeftWidth"),10),a=parseInt(t(e,"borderTopWidth"),10);n.left+=isNaN(e.offsetLeft)?0:e.offsetLeft,n.left+=isNaN(i)?0:i,n.top+=isNaN(e.offsetTop)?0:e.offsetTop,n.top+=isNaN(a)?0:a,e=e.offsetParent}return n},l=function(e){return(e.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},c=function(e){var t=[];return e.trustedDomains&&("string"==typeof e.trustedDomains?t.push("trustedDomain="+e.trustedDomains):t.push("trustedDomain="+e.trustedDomains.join(","))),t.join("&")},u=function(e,t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},d=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},p=function(e,t){if(e&&(p.prototype._singleton||this).glue(e),p.prototype._singleton)return p.prototype._singleton;p.prototype._singleton=this,this.options={};for(var n in g)this.options[n]=g[n];for(var r in t)this.options[r]=t[r];this.handlers={},p.detectFlashSupport()&&f()},h=[];p.prototype.setCurrent=function(n){e=n,this.reposition(),n.getAttribute("title")&&this.setTitle(n.getAttribute("title")),this.setHandCursor("pointer"==t(n,"cursor"))},p.prototype.setText=function(e){e&&""!==e&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e))},p.prototype.setTitle=function(e){e&&""!==e&&this.htmlBridge.setAttribute("title",e)},p.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},p.prototype.setHandCursor=function(e){this.ready()&&this.flashBridge.setHandCursor(e)},p.version="1.1.7";var g={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};p.setDefaults=function(e){for(var t in e)g[t]=e[t]},p.destroy=function(){p.prototype._singleton.unglue(h);var e=p.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete p.prototype._singleton},p.detectFlashSupport=function(){var e=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e};var f=function(){var e=p.prototype._singleton,t=document.getElementById("global-zeroclipboard-html-bridge");if(!t){var n='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+l(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+c(e.options)+'"/>         <embed src="'+e.options.moviePath+l(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+c(e.options)+'"           scale="exactfit">         </embed>       </object>';t=document.createElement("div"),t.id="global-zeroclipboard-html-bridge",t.setAttribute("class","global-zeroclipboard-container"),t.setAttribute("data-clipboard-ready",!1),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="15px",t.style.height="15px",t.style.zIndex="9999",t.innerHTML=n,document.body.appendChild(t)}e.htmlBridge=t,e.flashBridge=document["global-zeroclipboard-flash-bridge"]||t.children[0].lastElementChild};p.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),o(e,this.options.activeClass),e=null,this.options.text=null},p.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===e||e===!0},p.prototype.reposition=function(){if(!e)return!1;var t=s(e);this.htmlBridge.style.top=t.top+"px",this.htmlBridge.style.left=t.left+"px",this.htmlBridge.style.width=t.width+"px",this.htmlBridge.style.height=t.height+"px",this.htmlBridge.style.zIndex=t.zIndex+1,this.setSize(t.width,t.height)},p.dispatch=function(e,t){p.prototype._singleton.receiveEvent(e,t)},p.prototype.on=function(e,t){for(var n=e.toString().split(/\s/g),r=0;r<n.length;r++)e=n[r].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!p.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},p.prototype.addEventListener=p.prototype.on,p.prototype.off=function(e,t){for(var n=e.toString().split(/\s/g),r=0;r<n.length;r++){e=n[r].toLowerCase().replace(/^on/,"");for(var i in this.handlers)i===e&&this.handlers[i]===t&&delete this.handlers[i]}},p.prototype.removeEventListener=p.prototype.off,p.prototype.receiveEvent=function(t,n){t=t.toString().toLowerCase().replace(/^on/,"");var r=e;switch(t){case"load":if(n&&parseFloat(n.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return this.receiveEvent("onWrongFlash",{flashVersion:n.flashVersion}),void 0;this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":a(r,this.options.hoverClass);break;case"mouseout":o(r,this.options.hoverClass),this.resetBridge();break;case"mousedown":a(r,this.options.activeClass);break;case"mouseup":o(r,this.options.activeClass);break;case"datarequested":var i=r.getAttribute("data-clipboard-target"),s=i?document.getElementById(i):null;if(s){var l=s.value||s.textContent||s.innerText;l&&this.setText(l)}else{var c=r.getAttribute("data-clipboard-text");c&&this.setText(c)}break;case"complete":this.options.text=null}if(this.handlers[t]){var u=this.handlers[t];"function"==typeof u?u.call(r,this,n):"string"==typeof u&&window[u].call(r,this,n)}},p.prototype.glue=function(e){e=d(e);for(var t=0;t<e.length;t++)-1==u(e[t],h)&&(h.push(e[t]),r(e[t],"mouseover",n))},p.prototype.unglue=function(e){e=d(e);for(var t=0;t<e.length;t++){i(e[t],"mouseover",n);var r=u(e[t],h);-1!=r&&h.splice(r,1)}},"undefined"!=typeof module?module.exports=p:"function"==typeof define&&define.amd?define(function(){return p}):window.ZeroClipboard=p}(),function(){function e(e,t){var n=new Function("constructor","return function "+e+'()\n{\n    // wrapper function created dynamically for "'+e+'" constructor to allow instances to be identified in the debugger\n    constructor.apply(this, arguments);\n};');return n(t)}var t=Backbone.View.extend,n="__name__",r=function(r,i){if(r&&r.hasOwnProperty(n)){var a=r[n],o=r.hasOwnProperty("constructor")?r.constructor:this;r=_.extend(r,{constructor:e(a,o)})}return t.call(this,r,i)};Backbone.Model.extend=Backbone.Collection.extend=Backbone.Router.extend=Backbone.View.extend=r}(),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={included:function(e){e.prototype.atomicSet=function(e,t,n){var r=this,i=_.chain(e).pairs().reject(function(e){return r.get(e[0])===e[1]}).value();r.set(e,_.defaults({silent:!0},t)),n(),t.silent||_.isEmpty(i)||(_.each(i,function(e){r.trigger("change:"+e[0],r,e[1],t)}),r.trigger("change",r,t))}}};_.namespace(t,"mixins.models").atomicSet=n}.call(this),function(){"use strict";function e(e,t){throw"Model failed validation: "+t}var t=this,n=_.namespace(t,"tracker"),r={included:function(t){t.prototype.setBang=function(t,n,r){var i;_.isObject(t)||null===t||void 0===t?(i=t,r=n):(i={},i[t]=n),this.on("invalid",e);var a=this.set(i,_.extend({validate:!0},r));return this.off("invalid",e),a}}};_.namespace(n,"mixins.models").setBang=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={included:function(e){e.prototype.index=function(){return this.collection?this.collection.indexOf(this):-1}}};_.namespace(t,"mixins.models").index=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={included:function(e){_.extend(e.prototype,{initialize:_.wrap(e.prototype.initialize,function(e){return this._pendingCommandCount=0,e.apply(this,_.rest(arguments))}),hasPendingCommands:function(){return this._pendingCommandCount>0},incrementPendingCommandCount:function(){1===++this._pendingCommandCount&&this.trigger("persisting",this)},decrementPendingCommandCount:function(){this._pendingCommandCount>0&&0===--this._pendingCommandCount&&this.trigger("persisted",this)}})}};_.namespace(t,"mixins.models").pendingCommandCounting=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={addEnvelope:function(e){return e.match(/\?\w+/)?e+"&envelope=true":e.match(/\?$/)?e+"envelope=true":e+"?envelope=true"}};_.namespace(t,"helpers").envelope=n}.call(this),function(){"use strict";function e(e){return r=r||document.createElement("a"),r.href=e,_.pick(r,"protocol","hostname","port","pathname","search","hash","host")}function t(){throw new Error('A "url" property or function must be specified')}function n(e,t){this._options=_.clone(t),o.apply(this,arguments)}var r,i=this,a=_.namespace(i,"tracker"),o=Backbone.Model.extend({isEqual:function(e){return _.isEqual(this.attributes,e.attributes)},isNew:function(){return Backbone.Model.prototype.isNew.apply(this)&&!this.hasPendingCommands()},isPendingCreate:function(){return!this.id&&this.hasPendingCommands()},sync:function(e,t,n){n=n||{};var r=n.url||_.result(this,"url");return n.url=a.helpers.envelope.addEnvelope(r),Backbone.sync(e,t,n)},url:function(){var n=_.result(this,"urlRoot")||_.result(this.collection,"url")||t();if(this.isNew())return n;var r=e(n),i=_.startsWith(r.pathname,"/")?r.pathname:"/"+r.pathname,a=i+("/"===i.charAt(i.length-1)?"":"/")+encodeURIComponent(this.id)+r.search+r.hash;return _.startsWith(n,"/")?a:r.protocol+"//"+r.host+a}},a.mixins.include);o.include(a.associations(a),a.mixins.models.atomicSet,a.mixins.models.setBang,a.mixins.models.index,a.mixins.models.pendingCommandCounting),_.extend(n,o),n.prototype=new o,a.Model=n}.call(this),function(){"use strict";function e(e){var t=this,n=e[0],r=e[1],a=!!i(n).result("jquery"),o=t._modelCallbacks,s=e[2];o.push(e),i.each(n&&r,function(e,r){i.each(r.split(" "),function(r){i.chain([e]).flatten().each(function(e){var o=i.isFunction(e)?e:t[e];a?s?n.on(r,s,o):n.on(r,o):n.on(r,o,s)})})})}function t(){var e=this,t=e._modelCallbacks;i.each(t,function(t){var n=t[0],r=t[1],a=t[2],o=!!i.result(n,"jquery");i.each(n&&r,function(t,r){i.each(r.split(" "),function(r){i.chain([t]).flatten().each(function(t){var s=i.isFunction(t)?t:e[t];o?a?n.off(r,a,s):n.off(r,s):n.off(r,s)})})})})}function n(e){var t=this.undelegateEvents;this.undelegateEvents(),this.undelegateEvents=function(){},e.call(this),this.undelegateEvents=t}var r=this,i=r._,a=r.Backbone,o={included:function(r){i.extend(r.prototype,{initialize:i.wrap(r.prototype.initialize,function(e,t,n){this._modelCallbacks=[],e.call(this,t,n)}),delegateEvents:i.wrap(r.prototype.delegateEvents,function(t){var r=this,a=i.rest(arguments);if(i.isEmpty(a)){if(a=i.result(r,"events"),i.isEmpty(a))return t.call(this);i.isArray(a)||(a=[a])}n.call(this,function(){i.chain(a).toArray().compact().each(function(n){var a=i(n);a.isArray()?e.call(r,n):a.each(function(e,n){i.chain([e]).flatten().each(function(e){t.call(r,i.tap({},function(t){t[n]=e}))})})})})}),undelegateEvents:i.wrap(r.prototype.undelegateEvents,function(e){return t.call(this),e.call(this)}),remove:i.wrap(r.prototype.remove,function(e){return this.undelegateEvents(),e.call(this)})})}};a.extensions=i.extend(a.extensions||{},{delegateEvents:o})}.call(this),function(){"use strict";function e(e,t){this.originalViews=t||{},this.views=t||{},this.parentView=e}var t=this,n=_.namespace(t,"tracker");e.prototype.value=function(){return _.chain(this.views).values().flatten().compact().value()},e.prototype.map=function(e,t){return _.map(this.value(),e,t)},e.prototype.each=function(e,t){return _.each(this.value(),e,t)},e.prototype.first=function(e,t){return _.first(this.value(),e,t)},e.prototype.last=function(e,t){return _.last(this.value(),e,t)},e.prototype.pluck=function(e,t){return _.pluck(this.value(),e,t)},e.prototype.isEmpty=function(){return _.isEmpty(this.value())},e.prototype.size=function(){return _.size(this.value())},e.prototype.find=function(e,t){return _.find(this.value(),e,t)},e.prototype.any=function(e,t){return _.any(this.value(),e,t)},e.prototype.hasChanged=function(e){return e=e||{},_(this.value()).any(function(t){return t.views().hasChanged(e)||t.hasChanged&&t.hasChanged(e)})},e.prototype.save=function(){return $.when.apply(null,_.chain(this.value()).map(function(e){var t=[];return t.push(e.views().save()),e.save&&t.push(e.save()),t}).flatten().compact().value())},e.prototype.preventsSave=function(){return _(this.value()).any(function(e){return e.views().preventsSave()||e.preventsSave&&e.preventsSave()})},e.prototype.isValid=function(){return _(this.value()).all(function(e){return e.views().isValid()&&(!e.isValid||e.isValid())})},e.prototype.addView=function(e,t){var n=this.views,r=this.originalViews;return 1===arguments.length&&(t=e,e=""),r[e]=r[e]?r[e].concat(t):[t],n[e]=r[e],this},e.prototype.removeView=function(){var e=this.originalViews;this.remove(),_(this.views).each(function(t,n){e[n]=_(e[n]).difference(t)})},e.prototype.attach=function(){var e=this.parentView;return _(this.views).each(function(t,n){var r=n.length?e.$(n):e.$el;r.append.apply(r,_(t).chain().compact().pluck("el").value())}),this},e.prototype.empty=function(){var e=this.parentView;return _(this.views).each(function(t,n){n.length?e.$(n).empty():e.$el.empty()}),this},e.prototype.detach=function(){return this.invoke("detach"),this},e.prototype.render=function(){return this.invoke("render"),this},e.prototype.remove=function(){return this.invoke("remove"),this},e.prototype.pick=function(){var e={},t=this.views;return _.each(arguments,function(n){n&&(_.isString(n)?e[n]=(e[n]||[]).concat(_.clone(t[n])):_.each(t,function(t,r){_.include(t,n)&&(e[r]=(e[r]||[]).concat(n))}))}),this.views=e,this},e.prototype.invoke=function(e){return _.invoke(this.value(),e),this},e.prototype.$trigger=function(e,t){return _.invoke(this.value(),"$trigger",e,t),this},n.Views=e}.call(this),this.Handlebars={},function(e){e.VERSION="1.0.rc.1",e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,n="[object Function]";e.registerHelper("blockHelperMissing",function(r,i){var a=i.inverse||function(){},o=i.fn,s=t.call(r);return s===n&&(r=r.call(this)),r===!0?o(this):r===!1||null==r?a(this):"[object Array]"===s?r.length>0?e.helpers.each(r,i):a(this):o(r)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.registerHelper("each",function(t,n){var r,i=n.fn,a=n.inverse,o="";if(n.data&&(r=e.createFrame(n.data)),t&&t.length>0)for(var s=0,l=t.length;l>s;s++)r&&(r.index=s),o+=i(t[s],{data:r});else o=a(this);return o}),e.registerHelper("if",function(r,i){var a=t.call(r);return a===n&&(r=r.call(this)),!r||e.Utils.isEmpty(r)?i.inverse(this):i.fn(this)}),e.registerHelper("unless",function(t,n){var r=n.fn,i=n.inverse;return n.fn=i,n.inverse=r,e.helpers["if"].call(this,t,n)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t){e.log(t)})}(this.Handlebars),Handlebars.Exception=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,n=/[&<>"'`]/,r=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():null==e||e===!1?"":n.test(e)?e.replace(t,r):e},isEmpty:function(e){return"undefined"==typeof e?!0:null===e?!0:e===!1?!0:"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1}}}(),Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var r=this.programs[e];return n?Handlebars.VM.program(t,n):r?r:r=this.programs[e]=Handlebars.VM.program(t)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,r){return r=r||{},e.call(t,Handlebars,n,r.helpers,r.partials,r.data)}},programWithDepth:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(r,i){return i=i||{},e.apply(this,[r,i.data||t].concat(n))}},program:function(e,t){return function(n,r){return r=r||{},e(n,r.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,r,i,a){var o={helpers:r,partials:i,data:a};if(void 0===e)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,o);if(Handlebars.compile)return i[t]=Handlebars.compile(e,{data:void 0!==a}),i[t](n,o);throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode")}},Handlebars.template=Handlebars.VM.template,/**
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 0.11.4
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2012, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)
 */
function(e){function t(){var t=n(this);return isNaN(t.datetime)||e(this).text(r(t.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:a.datetime(t)});var n=e.trim(t.text());!(n.length>0)||a.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function r(e){return a.inWords(i(e))}function i(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return t instanceof Date?r(t):"string"==typeof t?r(e.timeago.parse(t)):"number"==typeof t?r(new Date(t)):r(e.timeago.datetime(t))};var a=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,i){var a=e.isFunction(n)?n(i,t):n,o=r.numbers&&r.numbers[i]||i;return a.replace(/%d/i,o)}var r=this.settings.strings,i=r.prefixAgo,a=r.suffixAgo;this.settings.allowFuture&&0>t&&(i=r.prefixFromNow,a=r.suffixFromNow);var o=Math.abs(t)/1e3,s=o/60,l=s/60,c=l/24,u=c/365,d=45>o&&n(r.seconds,Math.round(o))||90>o&&n(r.minute,1)||45>s&&n(r.minutes,Math.round(s))||90>s&&n(r.hour,1)||24>l&&n(r.hours,Math.round(l))||42>l&&n(r.day,1)||30>c&&n(r.days,Math.round(c))||45>c&&n(r.month,1)||365>c&&n(r.months,Math.round(c/30))||1.5>u&&n(r.year,1)||n(r.years,Math.round(u)),p=void 0===r.wordSeparator?" ":r.wordSeparator;return e.trim([i,d,a].join(p))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)},datetime:function(t){var n=a.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return a.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}}),e.fn.timeago=function(){var e=this;e.each(t);var n=a.settings;return n.refreshMillis>0&&setInterval(function(){e.each(t)},n.refreshMillis),e},document.createElement("abbr"),document.createElement("time")}(jQuery),/*
 jQuery Browser Plugin
 * Version 2.3
 * 2008-09-17 19:27:05
 * URL: http://jquery.thewikies.com/browser
 * Description: jQuery Browser Plugin extends browser detection capabilities and can assign browser selectors to CSS classes.
 * Author: Nate Cavanaugh, Minhchau Dang, & Jonathan Neal
 * Copyright: Copyright (c) 2008 Jonathan Neal under dual MIT/GPL license.
 * JSLint: This javascript file passes JSLint verification.
 */
function(e){e.browserTest=function(t,n){var r="unknown",i="X",a=function(e,t){for(var n=0;n<t.length;n+=1)e=e.replace(t[n][0],t[n][1]);return e},o=function(t,n,o,s){var l={name:a((n.exec(t)||[r,r])[1],o)};return l[l.name]=!0,l.version=(s.exec(t)||[i,i,i,i])[3],l.name.match(/safari/)&&l.version>400&&(l.version="2.0"),"presto"===l.name&&(l.version=e.browser.version>9.27?"futhark":"linear_b"),l.versionNumber=parseFloat(l.version,10)||0,l.versionX=l.version!==i?(l.version+"").substr(0,1):i,l.className=l.name+l.versionX,l};t=t.replace(/FluidApp Version\/([a-z0-9\.\+]*?)/,""),t=(t.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?a(t,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):t).toLowerCase(),e.browser=e.extend(n?{}:e.browser,o(t,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),e.layout=o(t,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),e.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[r])[0].replace("sunos","solaris")},n||e("html").addClass([e.os.name,e.browser.name,e.browser.className,e.layout.name,e.layout.className].join(" "))},e.browserTest(navigator.userAgent)}(jQuery),function(){this.JST||(this.JST={}),this.JST["templates/_dropdown"]=function(){Handlebars.registerPartial("_dropdown",Handlebars.template(function(e,t,n,r,i){function a(){return" disabled"}function o(e,t){var r,i,a="";return a+='\n    <input type="hidden" name="',i=n.name,i?r=i.call(e,{hash:{}}):(r=e.name,r=typeof r===y?r():r),a+=b(r)+'" value="',i=n.value,i?r=i.call(e,{hash:{}}):(r=e.value,r=typeof r===y?r():r),a+=b(r)+'" ',r=e.data_type,r=n["if"].call(e,r,{hash:{},inverse:E.noop,fn:E.program(4,s,t)}),(r||0===r)&&(a+=r),a+=" ",r=e.disabled,r=n["if"].call(e,r,{hash:{},inverse:E.noop,fn:E.program(6,l,t)}),(r||0===r)&&(a+=r),a+=" />\n  "}function s(e){var t,r,i="";return i+=' data-type="',r=n.data_type,r?t=r.call(e,{hash:{}}):(t=e.data_type,t=typeof t===y?t():t),i+=b(t)+'"'}function l(){return'disabled="disabled"'}function c(){return" search"}function u(e){var t,r,i="";return i+='\n      <div class="search_item"><input type="text" id="',r=n.id,r?t=r.call(e,{hash:{}}):(t=e.id,t=typeof t===y?t():t),i+=b(t)+'_search" class="search"></div>\n      '}function d(){return'\n          <li class="no_search_results hidden">No results match.</li>\n        '}function p(e,t,r){var i,a,o="";return o+='\n          <li data-value="',a=n.value,a?i=a.call(e,{hash:{}}):(i=e.value,i=typeof i===y?i():i),o+=b(i)+'" data-index="',a=n.index,a?i=a.call(e,{hash:{}}):(i=e.index,i=typeof i===y?i():i),o+=b(i)+'" class="dropdown_item',i=e.selected,i=n["if"].call(e,i,{hash:{},inverse:E.noop,fn:E.program(15,h,t)}),(i||0===i)&&(o+=i),i=e.inactive,i=n["if"].call(e,i,{hash:{},inverse:E.noop,fn:E.program(17,g,t)}),(i||0===i)&&(o+=i),o+='"><a class="item_',i=e.value,a=n.dasherize,i=a?a.call(e,i,{hash:{}}):S.call(e,"dasherize",i,{hash:{}}),o+=b(i)+" ",a=n.cssClass,a?i=a.call(e,{hash:{}}):(i=e.cssClass,i=typeof i===y?i():i),o+=b(i)+'" id="',i=e.value,a=n.dasherize,i=a?a.call(e,i,{hash:{}}):S.call(e,"dasherize",i,{hash:{}}),o+=b(i)+"_",i=r.id,i=typeof i===y?i():i,o+=b(i)+"\"><span><span class='dropdown_label'>",a=n.text,a?i=a.call(e,{hash:{}}):(i=e.text,i=typeof i===y?i():i),o+=b(i)+"</span>",a=n.description,a?i=a.call(e,{hash:{},inverse:E.noop,fn:E.program(19,f,t)}):(i=e.description,i=typeof i===y?i():i),n.description||(i=w.call(e,i,{hash:{},inverse:E.noop,fn:E.program(19,f,t)})),(i||0===i)&&(o+=i),o+="</span></a></li>\n        "}function h(){return" selected"}function g(){return" hidden"}function f(e){var t="";return t+="<span class='dropdown_description'> ",e=typeof e===y?e():e,t+=b(e)+"</span>"}n=n||e.helpers;var m,_,v="",y="function",b=this.escapeExpression,E=this,S=n.helperMissing,w=n.blockHelperMissing;return v+='<div class="dropdown ',_=n["class"],_?m=_.call(t,{hash:{}}):(m=t["class"],m=typeof m===y?m():m),v+=b(m),m=t.disabled,m=n["if"].call(t,m,{hash:{},inverse:E.noop,fn:E.program(1,a,i)}),(m||0===m)&&(v+=m),v+='">\n  ',m=t.no_named_input,m=n.unless.call(t,m,{hash:{},inverse:E.noop,fn:E.program(3,o,i)}),(m||0===m)&&(v+=m),v+='\n  <input type="text" id="',_=n.id,_?m=_.call(t,{hash:{}}):(m=t.id,m=typeof m===y?m():m),v+=b(m)+'_honeypot" tabindex="',_=n.tabindex,_?m=_.call(t,{hash:{}}):(m=t.tabindex,m=typeof m===y?m():m),v+=b(m)+'" class="honeypot">\n  <a id="',_=n.id,_?m=_.call(t,{hash:{}}):(m=t.id,m=typeof m===y?m():m),v+=b(m)+'" class="selection item_',m=t.value,_=n.dasherize,m=_?_.call(t,m,{hash:{}}):S.call(t,"dasherize",m,{hash:{}}),v+=b(m)+'" tabindex="-1"><span>',_=n.text,_?m=_.call(t,{hash:{}}):(m=t.text,m=typeof m===y?m():m),(m||0===m)&&(v+=m),v+='</span></a>\n  <a id="',_=n.id,_?m=_.call(t,{hash:{}}):(m=t.id,m=typeof m===y?m():m),v+=b(m)+'_arrow" class="arrow target" tabindex="-1"></a>\n  <section>\n\n    <div class="dropdown_menu',m=t.search,m=n["if"].call(t,m,{hash:{},inverse:E.noop,fn:E.program(8,c,i)}),(m||0===m)&&(v+=m),v+='">\n      ',m=t.search,m=n["if"].call(t,m,{hash:{},inverse:E.noop,fn:E.program(10,u,i)}),(m||0===m)&&(v+=m),v+="\n\n      <ul>\n        ",m=t.search,m=n["if"].call(t,m,{hash:{},inverse:E.noop,fn:E.program(12,d,i)}),(m||0===m)&&(v+=m),v+="\n        ",_=n.options,_?m=_.call(t,{hash:{},inverse:E.noop,fn:E.programWithDepth(p,i,t)}):(m=t.options,m=typeof m===y?m():m),n.options||(m=w.call(t,m,{hash:{},inverse:E.noop,fn:E.programWithDepth(p,i,t)})),(m||0===m)&&(v+=m),v+="\n      </ul>\n    </div>\n  </section>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/_editor"]=function(){Handlebars.registerPartial("_editor",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+=" ",r=n["class"],r?t=r.call(e,{hash:{}}):(t=e["class"],t=typeof t===u?t():t),i+=d(t)}function o(e){var t,r,i="";return i+=" ",r=n.key,r?t=r.call(e,{hash:{}}):(t=e.key,t=typeof t===u?t():t),i+=d(t)+'="',r=n.value,r?t=r.call(e,{hash:{}}):(t=e.value,t=typeof t===u?t():t),i+=d(t)+'"'}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing;return c+='<textarea id="',l=n.id,l?s=l.call(t,{hash:{}}):(s=t.id,s=typeof s===u?s():s),c+=d(s)+'" class="editor tracker_markup',s=t["class"],s=n["if"].call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}),(s||0===s)&&(c+=s),c+='"',l=n.options,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(3,o,i)}):(s=t.options,s=typeof s===u?s():s),n.options||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(3,o,i)})),(s||0===s)&&(c+=s),c+=">",l=n.value,l?s=l.call(t,{hash:{}}):(s=t.value,s=typeof s===u?s():s),c+=d(s)+"</textarea>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/_estimator"]=function(){Handlebars.registerPartial("_estimator",Handlebars.template(function(e,t,n,r,i){function a(e,t,r){var i,a="";return a+='\n    <label class="estimate_',e=typeof e===h?e():e,a+=p(e)+'"',i=r.is_custom_point_scale,i=n.unless.call(e,i,{hash:{},inverse:g.noop,fn:g.program(2,o,t)}),(i||0===i)&&(a+=i),a+=">\n      ",e=typeof e===h?e():e,a+=p(e)+'\n      <input type="radio" value="',e=typeof e===h?e():e,a+=p(e)+'" data-type="number" name="',i=r.name,i=typeof i===h?i():i,a+=p(i)+'" />\n    </label>\n  '}function o(e){var t,r,i="";return i+=' title="Estimate story as ',r=n.pluralize,t=r?r.call(e,"point",e,{hash:{}}):d.call(e,"pluralize","point",e,{hash:{}}),i+=p(t)+'"'}function s(){return'\n    <label class="more">&#43;</label>\n  '}n=n||e.helpers;var l,c,u="",d=n.helperMissing,p=this.escapeExpression,h="function",g=this,f=n.blockHelperMissing;return u+='<span class="estimate">\n  ',c=n.point_scale,c?l=c.call(t,{hash:{},inverse:g.noop,fn:g.programWithDepth(a,i,t)}):(l=t.point_scale,l=typeof l===h?l():l),n.point_scale||(l=f.call(t,l,{hash:{},inverse:g.noop,fn:g.programWithDepth(a,i,t)})),(l||0===l)&&(u+=l),u+="\n  ",l=t.has_more_points,l=n["if"].call(t,l,{hash:{},inverse:g.noop,fn:g.program(4,s,i)}),(l||0===l)&&(u+=l),u+="\n</span>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/_reveal_link"]=function(){Handlebars.registerPartial("_reveal_link",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+=" ",r=n.key,r?t=r.call(e,{hash:{}}):(t=e.key,t=typeof t===u?t():t),i+=d(t)+'="',r=n.value,r?t=r.call(e,{hash:{}}):(t=e.value,t=typeof t===u?t():t),(t||0===t)&&(i+=t),i+='"'}function o(e){var t,r,i="";return i+='<span class="locator" title="Reveal this ',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===u?t():t),i+=d(t)+'"></span>'}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing;return c+="<a",l=n.attrs,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(s=t.attrs,s=typeof s===u?s():s),n.attrs||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(s||0===s)&&(c+=s),c+=">",l=n.text,l?s=l.call(t,{hash:{}}):(s=t.text,s=typeof s===u?s():s),(s||0===s)&&(c+=s),s=t.icon,s=n["if"].call(t,s,{hash:{},inverse:p.noop,fn:p.program(3,o,i)}),(s||0===s)&&(c+=s),c+="</a>\n"}))}.call(this)}.call(this);// Copyright (C) 2008 Google Inc.
var html4={};html4.eflags={OPTIONAL_ENDTAG:1,BREAKS_FLOW:2,EMPTY:4,NAVIGATES:8,CDATA:16,RCDATA:32,UNSAFE:64,FOLDABLE:128},html4.atype={SCRIPT:1,STYLE:2,IDREF:3,NAME:4,NMTOKENS:5,URI:6,FRAME:7},html4.ELEMENTS={a:html4.eflags.NAVIGATES,abbr:0,acronym:0,address:0,applet:html4.eflags.UNSAFE,area:html4.eflags.EMPTY|html4.eflags.NAVIGATES,b:0,base:html4.eflags.UNSAFE|html4.eflags.EMPTY,basefont:html4.eflags.UNSAFE|html4.eflags.EMPTY,bdo:0,big:0,blockquote:html4.eflags.BREAKS_FLOW,body:html4.eflags.FOLDABLE|html4.eflags.OPTIONAL_ENDTAG|html4.eflags.UNSAFE,br:html4.eflags.EMPTY|html4.eflags.BREAKS_FLOW,button:0,caption:0,center:html4.eflags.BREAKS_FLOW,cite:0,code:0,col:html4.eflags.EMPTY,colgroup:html4.eflags.OPTIONAL_ENDTAG,dd:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW,del:0,dfn:0,dir:html4.eflags.BREAKS_FLOW,div:html4.eflags.BREAKS_FLOW,dl:html4.eflags.BREAKS_FLOW,dt:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW,em:0,fieldset:0,font:0,form:html4.eflags.BREAKS_FLOW|html4.eflags.NAVIGATES,frame:html4.eflags.UNSAFE|html4.eflags.EMPTY,frameset:html4.eflags.UNSAFE,h1:html4.eflags.BREAKS_FLOW,h2:html4.eflags.BREAKS_FLOW,h3:html4.eflags.BREAKS_FLOW,h4:html4.eflags.BREAKS_FLOW,h5:html4.eflags.BREAKS_FLOW,h6:html4.eflags.BREAKS_FLOW,head:html4.eflags.FOLDABLE|html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW|html4.eflags.UNSAFE,hr:html4.eflags.EMPTY|html4.eflags.BREAKS_FLOW,html:html4.eflags.FOLDABLE|html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW|html4.eflags.UNSAFE,i:0,iframe:html4.eflags.UNSAFE,img:html4.eflags.EMPTY,input:html4.eflags.EMPTY,ins:0,isindex:html4.eflags.UNSAFE|html4.eflags.EMPTY|html4.eflags.BREAKS_FLOW|html4.eflags.NAVIGATES,kbd:0,label:0,legend:0,li:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW,link:html4.eflags.UNSAFE|html4.eflags.EMPTY,map:0,menu:html4.eflags.BREAKS_FLOW,meta:html4.eflags.UNSAFE|html4.eflags.EMPTY,noframes:html4.eflags.UNSAFE|html4.eflags.BREAKS_FLOW,noscript:html4.eflags.UNSAFE,object:html4.eflags.UNSAFE,ol:html4.eflags.BREAKS_FLOW,optgroup:0,option:html4.eflags.OPTIONAL_ENDTAG,p:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW,param:html4.eflags.UNSAFE|html4.eflags.EMPTY,plaintext:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.UNSAFE|html4.eflags.CDATA,pre:html4.eflags.BREAKS_FLOW,q:0,s:0,samp:0,script:html4.eflags.UNSAFE|html4.eflags.CDATA,select:0,small:0,span:0,strike:0,strong:0,style:html4.eflags.UNSAFE|html4.eflags.CDATA,sub:0,sup:0,table:html4.eflags.BREAKS_FLOW,tbody:html4.eflags.OPTIONAL_ENDTAG,td:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW,textarea:html4.eflags.RCDATA,tfoot:html4.eflags.OPTIONAL_ENDTAG,th:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW,thead:html4.eflags.OPTIONAL_ENDTAG,title:html4.eflags.UNSAFE|html4.eflags.BREAKS_FLOW|html4.eflags.RCDATA,tr:html4.eflags.OPTIONAL_ENDTAG|html4.eflags.BREAKS_FLOW,tt:0,u:0,ul:html4.eflags.BREAKS_FLOW,"var":0,xmp:html4.eflags.CDATA},html4.ATTRIBS={abbr:0,accept:0,"accept-charset":0,action:html4.atype.URI,align:0,alink:0,alt:0,archive:html4.atype.URI,axis:0,background:html4.atype.URI,bgcolor:0,border:0,cellpadding:0,cellspacing:0,"char":0,charoff:0,charset:0,checked:0,cite:html4.atype.URI,"class":html4.atype.NMTOKENS,classid:html4.atype.URI,clear:0,code:0,codebase:html4.atype.URI,codetype:0,color:0,cols:0,colspan:0,compact:0,content:0,coords:0,data:html4.atype.URI,datetime:0,declare:0,defer:0,dir:0,disabled:0,enctype:0,face:0,"for":html4.atype.IDREF,frame:0,frameborder:0,headers:0,height:0,href:html4.atype.URI,hreflang:0,hspace:0,id:html4.atype.IDREF,ismap:0,label:0,lang:0,language:0,link:0,longdesc:html4.atype.URI,marginheight:0,marginwidth:0,maxlength:0,media:0,method:0,multiple:0,name:html4.atype.NAME,nohref:0,noresize:0,noshade:0,nowrap:0,object:0,onblur:html4.atype.SCRIPT,onchange:html4.atype.SCRIPT,onclick:html4.atype.SCRIPT,ondblclick:html4.atype.SCRIPT,onfocus:html4.atype.SCRIPT,onkeydown:html4.atype.SCRIPT,onkeypress:html4.atype.SCRIPT,onkeyup:html4.atype.SCRIPT,onload:html4.atype.SCRIPT,onmousedown:html4.atype.SCRIPT,onmousemove:html4.atype.SCRIPT,onmouseout:html4.atype.SCRIPT,onmouseover:html4.atype.SCRIPT,onmouseup:html4.atype.SCRIPT,onreset:html4.atype.SCRIPT,onselect:html4.atype.SCRIPT,onsubmit:html4.atype.SCRIPT,onunload:html4.atype.SCRIPT,profile:html4.atype.URI,prompt:0,readonly:0,rel:0,rev:0,rows:0,rowspan:0,rules:0,scheme:0,scope:0,scrolling:0,selected:0,shape:0,size:0,span:0,src:html4.atype.URI,standby:0,start:0,style:html4.atype.STYLE,summary:0,tabindex:0,target:html4.atype.FRAME,text:0,title:0,type:0,usemap:html4.atype.URI,valign:0,value:0,valuetype:0,version:0,vlink:0,vspace:0,width:0};// Copyright (C) 2011 Google Inc.
var lexCss,decodeCss;// Copyright (C) 2010 Google Inc.
if(function(){function e(e){var t=parseInt(e.substring(1),16);return t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):t==t?String.fromCharCode(t):e[1]<" "?"":e[1]}function t(e,t){return'"'+e.replace(/[\u0000-\u001f\\\"<>]/g,t)+'"'}function n(e){return i[e]||(i[e]="\\"+e.charCodeAt(0).toString(16)+" ")}function r(e){return a[e]||(a[e]=("">e?"%0":"%")+e.charCodeAt(0).toString(16))}var i={"\\":"\\\\"},a={"\\":"%5c"},o="[\\t\\n\\f ]",s=o+"*",l="[\\n\\f]",c="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[\\u0080-\\ud7ff\\ue000-\\ufffd]|"+c,d="[0-9a-fA-F]{1,6}"+o+"?",p="(?:"+d+"|[\\u0020-\\u007e\\u0080-\\ud7ff\\ue000\\ufffd]|"+c+")",h="\\\\"+p,g="(?:[\\t\\x21\\x23-\\x26\\x28-\\x5b\\x5d-\\x7e]|"+u+"|"+h+")",f="[^'\"\\n\\f\\\\]|\\\\[\\s\\S]",m="\"(?:'|"+f+')*"|\'(?:"|'+f+")*'",_="[-+]?(?:[0-9]+(?:[.][0-9]+)?|[.][0-9]+)",v="(?:[a-zA-Z_]|"+u+"|"+h+")",y="(?:[a-zA-Z0-9_-]|"+u+"|"+h+")",b="-?"+v+y+"*",E="(?:@?-?"+v+"|#)"+y+"*",S=_+"(?:%|"+b+")?",w="url[(]"+s+"(?:"+m+"|"+g+"*)"+s+"[)]",T="U[+][0-9A-F?]{1,6}(?:-[0-9A-F]{1,6})?",A="<!--",x="-->",M=o+"+",D="/(?:[*][^*]*[*]+(?:[^/][^*]*[*]+)*/|/[^\\n\\f]*)",k="(?!url[(])"+b+"[(]",O="[~|^$*]=",N="[^\"'\\\\/]|/(?![/*])",R="\\uFEFF",C=new RegExp([R,T,w,k,E,m,S,A,x,M,D,O,N].join("|"),"gi");decodeCss=function(t){return t.replace(new RegExp("\\\\(?:"+p+"|"+l+")","g"),e)},lexCss=function(e){e=""+e;for(var i=e.replace(/\r\n?/g,"\n").match(C)||[],a=0,o=" ",l=0,c=i.length;c>l;++l){var u=decodeCss(i[l]),d=u.length,p=u.charCodeAt(0);u=p=='"'.charCodeAt(0)||p=="'".charCodeAt(0)?t(u.substring(1,d-1),n):p=="/".charCodeAt(0)&&d>1||"\\"==u||u==x||u==A||"﻿"==u||p<=" ".charCodeAt(0)?" ":/url\(/i.test(u)?"url("+t(u.replace(new RegExp("^url\\("+s+"[\"']?|[\"']?"+s+"\\)$","gi"),""),r)+")":u,(o!=u||" "!=u)&&(i[a++]=o=u)}return i.length=a,i}}(),"undefined"!=typeof window&&(window.lexCss=lexCss,window.decodeCss=decodeCss),"i"!=="I".toLowerCase())throw"I/i problem";var parseCssStylesheet,parseCssDeclarations;// Copyright (C) 2006 Google Inc.
if(function(){function e(e,n,i,a){if(i>n){var o=e[n];return"@"===o.charAt(0)?t(e,n,i,a,!0):r(e,n,i,a)}return n}function t(e,t,r,i,a){for(var o=t++;r>t&&"{"!==e[t]&&";"!==e[t];)++t;if(r>t&&(a||";"===e[t])){var s=o+1,l=t;r>s&&" "===e[s]&&++s,l>s&&" "===e[l-1]&&--l,i.startAtrule&&i.startAtrule(e[o].toLowerCase(),e.slice(s,l)),t="{"===e[t]?n(e,t,r,i):t+1,i.endAtrule&&i.endAtrule()}return t}function n(e,i,a,o){for(++i,o.startBlock&&o.startBlock();a>i;){var s=e[i].charAt(0);if("}"==s){++i;break}" "===s||";"===s?i+=1:i="@"===s?t(e,i,a,o,!1):"{"===s?n(e,i,a,o):r(e,i,a,o)}return o.endBlock&&o.endBlock(),i}function r(e,t,n,r){var o=t,s=i(e,t,n,!0);if(0>s)return s=~s,t===s?s+1:s;t=s,s>o&&" "===e[s-1]&&--s;var l=e[t];if(++t,"{"!==l)return t;for(r.startRuleset&&r.startRuleset(e.slice(o,s));n>t;){if(l=e[t],"}"===l){++t;break}" "===l?t+=1:t=a(e,t,n,r)}return r.endRuleset&&r.endRuleset(),n>t?t+1:t}function i(e,t,n,r){for(var i,a=[],o=-1;n>t;++t)if(i=e[t].charAt(0),"["===i||"("===i)a[++o]=i;else if("]"===i&&"["===a[o]||")"===i&&"("===a[o])--o;else if("{"===i||"}"===i||";"===i||"@"===i||":"===i&&!r)break;return o>=0&&(t=~(t+1)),t}function a(e,t,n,r){var a=e[t++];if(!o.test(a))return t+1;var s;if(n>t&&" "===e[t]&&++t,t==n||":"!==e[t]){for(;n>t&&";"!==(s=e[t])&&"}"!==s;)++t;return t}++t,n>t&&" "===e[t]&&++t;var l=t,c=i(e,t,n,!1);if(0>c)c=~c;else{for(var u=[],d=0,p=l;c>p;++p)s=e[p]," "!==s&&(u[d++]=s);if(n>c){do{if(s=e[c],";"===s||"}"===s)break;d=0}while(++c<n);";"===s&&++c}d&&r.declaration&&r.declaration(a.toLowerCase(),u)}return c}parseCssStylesheet=function(t,n){var r=lexCss(t);n.startStylesheet&&n.startStylesheet();for(var i=0,a=r.length;a>i;)i=" "===r[i]?i+1:e(r,i,a,n);n.endStylesheet&&n.endStylesheet()};var o=/^-?[a-z]/i;parseCssDeclarations=function(e,t){for(var n=lexCss(e),r=0,i=n.length;i>r;)r=" "!==n[r]?a(n,r,i,t):r+1}}(),"undefined"!=typeof window&&(window.parseCssStylesheet=parseCssStylesheet,window.parseCssDeclarations=parseCssDeclarations),"i"!=="I".toLowerCase())throw"I/i problem";var html=function(e){function t(e){if(O.hasOwnProperty(e))return O[e];var t=e.match(N);if(t)return String.fromCharCode(parseInt(t[1],10));if(t=e.match(R))return String.fromCharCode(parseInt(t[1],16));if(U&&C.test(e)){U.innerHTML="&"+e+";";var n=U.textContent;return O[e]=n,n}return"&"+e+";"}function n(e,n){return t(n)}function r(e){return e.replace(F,"")}function i(e){return e.replace(L,n)}function a(e){return(""+e).replace(P,"&amp;").replace(H,"&lt;").replace(z,"&gt;").replace(W,"&#34;")}function o(e){return e.replace(j,"&amp;$1").replace(H,"&lt;").replace(z,"&gt;")}function s(e){var t={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,n){return l(e,t,n)}}function l(e,t,n){var r=d(e),i={noMoreGT:!1,noMoreEndComments:!1};u(t,r,0,i,n)}function c(e,t,n,r,i){return function(){u(e,t,n,r,i)}}function u(t,n,r,i,a){try{t.startDoc&&0==r&&t.startDoc(a);for(var o,s,l,u=r,d=n.length;d>u;){var f=n[u++],m=n[u];switch(f){case"&":I.test(m)?(t.pcdata&&t.pcdata("&"+m,a,$,c(t,n,u,i,a)),u++):t.pcdata&&t.pcdata("&amp;",a,$,c(t,n,u,i,a));break;case"</":(o=/^([-\w:]+)[^\'\"]*/.exec(m))?o[0].length===m.length&&">"===n[u+1]?(u+=2,l=o[1].toLowerCase(),t.endTag&&t.endTag(l,a,$,c(t,n,u,i,a))):u=p(n,u,t,a,$,i):t.pcdata&&t.pcdata("&lt;/",a,$,c(t,n,u,i,a));break;case"<":if(o=/^([-\w:]+)\s*\/?/.exec(m))if(o[0].length===m.length&&">"===n[u+1]){u+=2,l=o[1].toLowerCase(),t.startTag&&t.startTag(l,[],a,$,c(t,n,u,i,a));var _=e.ELEMENTS[l];if(_&Y){var v={name:l,next:u,eflags:_};u=g(n,v,t,a,$,i)}}else u=h(n,u,t,a,$,i);else t.pcdata&&t.pcdata("&lt;",a,$,c(t,n,u,i,a));break;case"<!--":if(!i.noMoreEndComments){for(s=u+1;d>s&&(">"!==n[s]||!/--$/.test(n[s-1]));s++);if(d>s){if(t.comment){var y=n.slice(u,s).join("");t.comment(y.substr(0,y.length-2),a,$,c(t,n,s+1,i,a))}u=s+1}else i.noMoreEndComments=!0}i.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",a,$,c(t,n,u,i,a));break;case"<!":if(/^\w/.test(m)){if(!i.noMoreGT){for(s=u+1;d>s&&">"!==n[s];s++);d>s?u=s+1:i.noMoreGT=!0}i.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",a,$,c(t,n,u,i,a))}else t.pcdata&&t.pcdata("&lt;!",a,$,c(t,n,u,i,a));break;case"<?":if(!i.noMoreGT){for(s=u+1;d>s&&">"!==n[s];s++);d>s?u=s+1:i.noMoreGT=!0}i.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",a,$,c(t,n,u,i,a));break;case">":t.pcdata&&t.pcdata("&gt;",a,$,c(t,n,u,i,a));break;case"":break;default:t.pcdata&&t.pcdata(f,a,$,c(t,n,u,i,a))}}t.endDoc&&t.endDoc(a)}catch(b){if(b!==$)throw b}}function d(e){var t=/(<\/|<\!--|<[!?]|[&<>])/g;if(e+="",K)return e.split(t);for(var n,r=[],i=0;null!==(n=t.exec(e));)r.push(e.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(e.substring(i)),r}function p(e,t,n,r,i,a){var o=f(e,t);return o?(n.endTag&&n.endTag(o.name,r,i,c(n,e,t,a,r)),o.next):e.length}function h(e,t,n,r,i,a){var o=f(e,t);return o?(n.startTag&&n.startTag(o.name,o.attrs,r,i,c(n,e,o.next,a,r)),o.eflags&Y?g(e,o,n,r,i,a):o.next):e.length}function g(t,n,r,i,a,s){var l=t.length;J.hasOwnProperty(n.name)||(J[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var u=J[n.name],d=n.next,p=n.next+1;l>p&&("</"!==t[p-1]||!u.test(t[p]));p++);l>p&&(p-=1);var h=t.slice(d,p).join("");if(n.eflags&e.eflags.CDATA)r.cdata&&r.cdata(h,i,a,c(r,t,p,s,i));else{if(!(n.eflags&e.eflags.RCDATA))throw new Error("bug");r.rcdata&&r.rcdata(o(h),i,a,c(r,t,p,s,i))}return p}function f(t,n){var r=/^([-\w:]+)/.exec(t[n]),i={};i.name=r[1].toLowerCase(),i.eflags=e.ELEMENTS[i.name];for(var a=t[n].substr(r[0].length),o=n+1,s=t.length;s>o&&">"!==t[o];o++)a+=t[o];if(o>=s)return void 0;for(var l=[];""!==a;)if(r=B.exec(a)){if(r[4]&&!r[5]||r[6]&&!r[7]){for(var c=r[4]||r[6],u=!1,d=[a,t[o++]];s>o;o++){if(u){if(">"===t[o])break}else 0<=t[o].indexOf(c)&&(u=!0);d.push(t[o])}if(o>=s)break;a=d.join("");continue}var p=r[1].toLowerCase(),h=r[2]?m(r[3]):"";l.push(p,h),a=a.substr(r[0].length)}else a=a.replace(/^[\s\S][^a-z\s]*/,"");return i.attrs=l,i.next=o+1,i}function m(e){var t=e.charCodeAt(0);return(34===t||39===t)&&(e=e.substr(1,e.length-2)),i(r(e))}function _(t){var n,r,i=function(e,t){r||t.push(e)};return s({startDoc:function(){n=[],r=!1},startTag:function(i,o,s){if(!r&&e.ELEMENTS.hasOwnProperty(i)){var l=e.ELEMENTS[i];if(!(l&e.eflags.FOLDABLE)){var c=t(i,o);if(!c)return r=!(l&e.eflags.EMPTY),void 0;if("object"!=typeof c)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in c))throw new Error("tagPolicy gave no attribs");o=c.attribs;var u,d;if("tagName"in c?(d=c.tagName,u=e.ELEMENTS[d]):(d=i,u=l),l&e.eflags.OPTIONAL_ENDTAG){var p=n[n.length-1];!p||p.orig!==i||p.rep===d&&i===d||s.push("</",p.rep,">")}l&e.eflags.EMPTY||n.push({orig:i,rep:d}),s.push("<",d);for(var h=0,g=o.length;g>h;h+=2){var f=o[h],m=o[h+1];null!==m&&void 0!==m&&s.push(" ",f,'="',a(m),'"')}s.push(">"),l&e.eflags.EMPTY&&!(u&e.eflags.EMPTY)&&s.push("</",d,">")}}},endTag:function(t,i){if(r)return r=!1,void 0;if(e.ELEMENTS.hasOwnProperty(t)){var a=e.ELEMENTS[t];if(!(a&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var o;if(a&e.eflags.OPTIONAL_ENDTAG)for(o=n.length;--o>=0;){var s=n[o].orig;if(s===t)break;if(!(e.ELEMENTS[s]&e.eflags.OPTIONAL_ENDTAG))return}else for(o=n.length;--o>=0&&n[o].orig!==t;);if(0>o)return;for(var l=n.length;--l>o;){var c=n[l].rep;e.ELEMENTS[c]&e.eflags.OPTIONAL_ENDTAG||i.push("</",c,">")}o<n.length&&(t=n[o].rep),n.length=o,i.push("</",t,">")}}},pcdata:i,rcdata:i,cdata:i,endDoc:function(e){for(;n.length;n.length--)e.push("</",n[n.length-1].rep,">")}})}function v(e,t,n,r,i){if(!i)return null;try{var a=URI.parse(""+e);if(a&&(!a.hasScheme()||V.test(a.getScheme()))){var o=i(a,t,n,r);return o?o.toString():null}}catch(s){return null}return null}function y(e,t,n,r,i){if(n||e(t+" removed",{change:"removed",tagName:t}),r!==i){var a="changed";r&&!i?a="removed":!r&&i&&(a="added"),e(t+"."+n+" "+a,{change:a,tagName:t,attribName:n,oldValue:r,newValue:i})}}function b(e,t,n){var r;return r=t+"::"+n,e.hasOwnProperty(r)?e[r]:(r="*::"+n,e.hasOwnProperty(r)?e[r]:void 0)}function E(t,n){return b(e.LOADERTYPES,t,n)}function S(t,n){return b(e.URIEFFECTS,t,n)}function w(t,n,r,i,a){for(var o=0;o<n.length;o+=2){var s,l=n[o],c=n[o+1],u=c,d=null;if(s=t+"::"+l,(e.ATTRIBS.hasOwnProperty(s)||(s="*::"+l,e.ATTRIBS.hasOwnProperty(s)))&&(d=e.ATTRIBS[s]),null!==d)switch(d){case e.atype.NONE:break;case e.atype.SCRIPT:c=null,a&&y(a,t,l,u,c);break;case e.atype.STYLE:if("undefined"==typeof M){c=null,a&&y(a,t,l,u,c);break}var p=[];M(c,{declaration:function(t,n){var i=t.toLowerCase(),a=k[i];a&&(D(i,a,n,r?function(t){return v(t,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:i},r)}:null),p.push(t+": "+n.join(" ")))}}),c=p.length>0?p.join(" ; "):null,a&&y(a,t,l,u,c);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:c=i?i(c):c,a&&y(a,t,l,u,c);break;case e.atype.URI:c=v(c,S(t,l),E(t,l),{TYPE:"MARKUP",XML_ATTR:l,XML_TAG:t},r),a&&y(a,t,l,u,c);break;case e.atype.URI_FRAGMENT:c&&"#"===c.charAt(0)?(c=c.substring(1),c=i?i(c):c,null!==c&&void 0!==c&&(c="#"+c)):c=null,a&&y(a,t,l,u,c);break;default:c=null,a&&y(a,t,l,u,c)}else c=null,a&&y(a,t,l,u,c);n[o+1]=c}return n}function T(t,n,r){return function(i,a){return e.ELEMENTS[i]&e.eflags.UNSAFE?(r&&y(r,i,void 0,void 0,void 0),void 0):{attribs:w(i,a,t,n,r)}}}function A(e,t){var n=[];return _(t)(e,n),n.join("")}function x(e,t,n,r){var i=T(t,n,r);return A(e,i)}var M,D,k;"undefined"!=typeof window&&(M=window.parseCssDeclarations,D=window.sanitizeCssProperty,k=window.cssSchema);var O={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},N=/^#(\d+)$/,R=/^#x([0-9A-Fa-f]+)$/,C=/^[A-Za-z][A-za-z0-9]+$/,U="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null,F=/\0/g,L=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,I=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,P=/&/g,j=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,H=/[<]/g,z=/>/g,W=/\"/g,B=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),K=3==="a,b".split(/(,)/).length,Y=e.eflags.CDATA|e.eflags.RCDATA,$={},J={},V=/^(?:https?|mailto)$/i,q={};return q.escapeAttrib=q.escapeAttrib=a,q.makeHtmlSanitizer=q.makeHtmlSanitizer=_,q.makeSaxParser=q.makeSaxParser=s,q.makeTagPolicy=q.makeTagPolicy=T,q.normalizeRCData=q.normalizeRCData=o,q.sanitize=q.sanitize=x,q.sanitizeAttribs=q.sanitizeAttribs=w,q.sanitizeWithPolicy=q.sanitizeWithPolicy=A,q.unescapeEntities=q.unescapeEntities=i,q}(html4),html_sanitize=html.sanitize;"undefined"!=typeof window&&(window.html=html,window.html_sanitize=html_sanitize),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.wrap(e.Handlebars.partials._reveal_link,function(e){return _.trim(e.apply(this,_.rest(arguments)))}),r={prependHost:function(e){var n=t.location.protocol.split(":")[0],r=n+"://"+t.location.hostname;return t.location.port.length&&(r+=":"+t.location.port),r+e},revealLink:function(t,r,i,a){a=a||{};var o=_.omit(a,"href","class","text","expand");return a.attrs=_.chain({href:a.href||"#",tabindex:"-1","class":_.compact(["reveal",t,a.expand&&"expand",a["class"]]).join(" "),"data-project-id":i,"data-type":t,"data-id":r}).defaults(o).map(function(e,t){return{key:t,value:e}}).value(),n(_.extend(a,{type:t,text:a.text&&e.html_sanitize(a.text)}))},otherProjectRevealLink:function(t,r,i,a){a=a||{};var o=_.omit(a,"href","class","text");return a.attrs=_.chain({href:a.href,tabindex:"-1","class":_.compact([t,a["class"]]).join(" "),"data-type":t,"data-id":r,target:"_blank"}).defaults(o).map(function(e,t){return{key:t,value:e}}).value(),n(_.extend(a,{text:a.text&&e.html_sanitize(a.text)}))}};_.namespace(t,"helpers").links=r}.call(this),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||l.defaults,this.rules=c.normal,this.options.gfm&&(this.rules=this.options.tables?c.tables:c.gfm)}function t(e,t){if(this.options=t||l.defaults,this.links=e,this.rules=u.normal,this.renderer=this.options.renderer||new n,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?u.breaks:u.gfm:this.options.pedantic&&(this.rules=u.pedantic)}function n(){}function r(e){this.tokens=[],this.token=null,this.options=e||l.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer}function i(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function o(){}function s(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function l(t,n,a){if(a||"function"==typeof n){a||(a=n,n=null),n=s({},l.defaults,n||{});var o,c,u=n.highlight;try{o=e.lex(t,n)}catch(d){return a(d)}c=o.length;var p=function(){var e,t;try{e=r.parse(o,n)}catch(i){t=i}return n.highlight=u,t?a(t):a(null,e)};return p()}try{return n&&(n=s({},l.defaults,n)),r.parse(e.lex(t,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||l.defaults).silent)return"<p>An error occured:</p><pre>"+i(d.message+"",!0)+"</pre>";throw d}}var c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:o,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:o,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:o,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=a(c.item,"gm")(/bull/g,c.bullet)(),c.list=a(c.list)(/bull/g,c.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",c.html=a(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=a(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=s({},c),c.gfm=s({},c.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),c.gfm.paragraph=a(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=s({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=c,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t){for(var n,r,i,a,o,s,l,u,d,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),s={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<s.align.length;u++)s.align[u]=/^ *-+: *$/.test(s.align[u])?"right":/^ *:-+: *$/.test(s.align[u])?"center":/^ *:-+ *$/.test(s.align[u])?"left":null;for(u=0;u<s.cells.length;u++)s.cells[u]=s.cells[u].split(/ *\| */);this.tokens.push(s)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),a=i[2],this.tokens.push({type:"list_start",ordered:a.length>1}),i=i[0].match(this.rules.item),n=!1,d=i.length,u=0;d>u;u++)s=i[u],l=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&u!==d-1&&(o=c.bullet.exec(i[u+1])[0],a===o||a.length>1&&o.length>1||(e=i.slice(u+1).join("\n")+e,u=d-1)),r=n||/\n\n(?!\s*$)/.test(s),u!==d-1&&(n="\n"===s.charAt(s.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),s={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<s.align.length;u++)s.align[u]=/^ *-+: *$/.test(s.align[u])?"right":/^ *:-+: *$/.test(s.align[u])?"center":/^ *:-+ *$/.test(s.align[u])?"left":null;for(u=0;u<s.cells.length;u++)s.cells[u]=s.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:o,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_([\s\S]*?[^_\s])_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:o,text:/^[\s\S]+?(?=[\\<!\[_*`:]| {2,}\n|$)/};u._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,u._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,u.link=a(u.link)("inside",u._inside)("href",u._href)(),u.reflink=a(u.reflink)("inside",u._inside)(),u.normal=s({},u),u.pedantic=s({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),u.gfm=s({},u.normal,{escape:a(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:a(u.text)("]|","~]|")("|","|https?://|")()}),u.breaks=s({},u.gfm,{br:a(u.br)("{2,}","*")(),text:a(u.gfm.text)("{2,}","*")()}),t.rules=u,t.output=function(e,n,r){var i=new t(n,r);return i.output(e)},t.prototype.output=function(e){for(var t,n,r,a,o="";e;)if(a=this.rules.escape.exec(e))e=e.substring(a[0].length),o+=a[1];else if(a=this.rules.autolink.exec(e))e=e.substring(a[0].length),"@"===a[2]?(n=":"===a[1].charAt(6)?this.mangle(a[1].substring(7)):this.mangle(a[1]),r=this.mangle("mailto:")+n):(n=i(a[1]),r=n),o+=this.renderer.link(r,null,n);else if(a=this.rules.url.exec(e))e=e.substring(a[0].length),n=i(a[1]),r=n,o+=this.renderer.link(r,null,n);else if(a=this.rules.tag.exec(e))e=e.substring(a[0].length),o+=this.options.sanitize?i(a[0]):a[0];else if(a=this.rules.link.exec(e))e=e.substring(a[0].length),o+=this.outputLink(a,{href:a[2],title:a[3]});else if((a=this.rules.reflink.exec(e))||(a=this.rules.nolink.exec(e))){if(e=e.substring(a[0].length),t=(a[2]||a[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=a[0].charAt(0),e=a[0].substring(1)+e;continue}o+=this.outputLink(a,t)}else if(a=this.rules.strong.exec(e))e=e.substring(a[0].length),o+=this.renderer.strong(this.output(a[2]||a[1]));else if(a=this.rules.em.exec(e))e=e.substring(a[0].length),o+=this.renderer.em(this.output(a[2]||a[1]));else if(a=this.rules.code.exec(e))e=e.substring(a[0].length),o+=this.renderer.codespan(i(a[2],!0));else if(a=this.rules.br.exec(e))e=e.substring(a[0].length),o+=this.renderer.br();else if(a=this.rules.del.exec(e))e=e.substring(a[0].length),o+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(e))e=e.substring(a[0].length),o+=i(this.smartypants(a[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return o},t.prototype.outputLink=function(e,t){var n=i(t.href),r=t.title?i(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,i(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t){return t?'<pre><code class="lang-'+t+'">'+i(e)+"\n</code></pre>\n":"<pre><code>"+i(e,!0)+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t){return"<h"+t+">"+e+"</h"+t+">\n"},n.prototype.hr=function(){return"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=">"},r.parse=function(e,t,n){var i=new r(t,n);return i.parse(e)},r.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth);case"code":return this.renderer.code(this.token.text,this.token.lang);case"table":var e,t,n,r,i,a="",o="";for(n="",e=0;e<this.token.header.length;e++)r={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(a+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(a,o);case"blockquote_start":for(var o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(var o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(var o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},o.exec=o,l.options=l.setOptions=function(e){return s(l.defaults,e),l},l.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,smartypants:!1,renderer:new n},l.Parser=r,l.parser=r.parse,l.Renderer=n,l.Lexer=e,l.lexer=e.lex,l.InlineLexer=t,l.inlineLexer=t.output,l.parse=l,"object"==typeof exports?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):this.marked=l}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(e,t){var n="function"==typeof define,r="undefined"!=typeof module&&module.exports;n?define(t):r?module.exports=t():this[e]=t()}("jEmoji",function(){function e(e){var t=Object.keys(e);return t.sort(function(e,t){return t.length-e.length}),new RegExp("("+t.join("|")+")","g")}function t(t){return l||(l=e(s)),t.replace(l,function(e,t){var n=s[t];return'<span class="emoji emoji'+n[2]+'" title="'+n[1]+'"></span>'})}function n(t){return b||(b=e(c)),t.replace(b,function(e,t){return c[t]})}function r(t){return E||(E=e(u)),t.replace(E,function(e,t){return u[t]})}function i(t){return S||(S=e(d)),t.replace(S,function(e,t){return d[t]})}function a(t){return w||(w=e(p)),t.replace(w,function(e,t){return p[t]})}var o={},s=o.EMOJI_MAP={"👬":["U+1F46C","man and man holding hands","1f46c",["-","-"],["-","-"],["","U+E428"],["󾆠","U+FE1A0"]],"👭":["U+1F46D","woman and woman holding hands","1f46d",["-","-"],["-","-"],["","U+E428"],["󾆠","U+FE1A0"]],"🌲":["U+1F332","evergreen tree","1f332",["-","-"],["","U+EB49"],["","U+E305"],["󾁍","U+FE04D"]],"🌳":["U+1F333","deciduous tree","1f333",["-","-"],["","U+EB49"],["","U+E305"],["󾁍","U+FE04D"]],"🍋":["U+1F34B","lemon","1f34b",["-","-"],["","U+EABA"],["","U+E346"],["󾁒","U+FE052"]],"😎":["U+1F60E","smiling face with sunglasses","1f60e",["","U+E726"],["","U+E5C4"],["","U+E106"],["󾌧","U+FE327"]],"😀":["U+1F600","grinning face","1f600",["","U+E753"],["","U+EB80"],["","U+E404"],["󾌳","U+FE333"]],"☁":["U+2601","cloud","2601",["","U+E63F"],["","U+E48D"],["","U+E049"],["󾀁","U+FE001"]],"☔":["U+2614","umbrella with rain drops","2614",["","U+E640"],["","U+E48C"],["","U+E04B"],["󾀂","U+FE002"]],"⛄":["U+26C4","snowman without snow","26c4",["","U+E641"],["","U+E485"],["","U+E048"],["󾀃","U+FE003"]],"⚡":["U+26A1","high voltage sign","26a1",["","U+E642"],["","U+E487"],["","U+E13D"],["󾀄","U+FE004"]],"🌀":["U+1F300","cyclone","1f300",["","U+E643"],["","U+E469"],["","U+E443"],["󾀅","U+FE005"]],"🌁":["U+1F301","foggy","1f301",["","U+E644"],["","U+E598"],["-","-"],["󾀆","U+FE006"]],"🌂":["U+1F302","closed umbrella","1f302",["","U+E645"],["","U+EAE8"],["","U+E43C"],["󾀇","U+FE007"]],"🌃":["U+1F303","night with stars","1f303",["","U+E6B3"],["","U+EAF1"],["","U+E44B"],["󾀈","U+FE008"]],"🌄":["U+1F304","sunrise over mountains","1f304",["","U+E63E"],["","U+EAF4"],["","U+E04D"],["󾀉","U+FE009"]],"🌅":["U+1F305","sunrise","1f305",["","U+E63E"],["","U+EAF4"],["","U+E449"],["󾀊","U+FE00A"]],"🌆":["U+1F306","cityscape at dusk","1f306",["-","-"],["","U+E5DA"],["","U+E146"],["󾀋","U+FE00B"]],"🌇":["U+1F307","sunset over buildings","1f307",["","U+E63E"],["","U+E5DA"],["","U+E44A"],["󾀌","U+FE00C"]],"🌈":["U+1F308","rainbow","1f308",["-","-"],["","U+EAF2"],["","U+E44C"],["󾀍","U+FE00D"]],"❄":["U+2744","snowflake","2744",["-","-"],["","U+E48A"],["-","-"],["󾀎","U+FE00E"]],"⛅":["U+26C5","sun behind cloud","26c5",["","U+E63E U+E63F"],["","U+E48E"],["","U+E04A U+E049"],["󾀏","U+FE00F"]],"🌉":["U+1F309","bridge at night","1f309",["","U+E6B3"],["","U+E4BF"],["","U+E44B"],["󾀐","U+FE010"]],"🌊":["U+1F30A","water wave","1f30a",["","U+E73F"],["","U+EB7C"],["","U+E43E"],["󾀸","U+FE038"]],"🌋":["U+1F30B","volcano","1f30b",["-","-"],["","U+EB53"],["-","-"],["󾀺","U+FE03A"]],"🌌":["U+1F30C","milky way","1f30c",["","U+E6B3"],["","U+EB5F"],["","U+E44B"],["󾀻","U+FE03B"]],"🌏":["U+1F30F","earth globe asia-australia","1f30f",["-","-"],["","U+E5B3"],["-","-"],["󾀹","U+FE039"]],"🌑":["U+1F311","new moon symbol","1f311",["","U+E69C"],["","U+E5A8"],["-","-"],["󾀑","U+FE011"]],"🌔":["U+1F314","waxing gibbous moon symbol","1f314",["","U+E69D"],["","U+E5A9"],["","U+E04C"],["󾀒","U+FE012"]],"🌓":["U+1F313","first quarter moon symbol","1f313",["","U+E69E"],["","U+E5AA"],["","U+E04C"],["󾀓","U+FE013"]],"🌙":["U+1F319","crescent moon","1f319",["","U+E69F"],["","U+E486"],["","U+E04C"],["󾀔","U+FE014"]],"🌕":["U+1F315","full moon symbol","1f315",["","U+E6A0"],["-","-"],["-","-"],["󾀕","U+FE015"]],"🌛":["U+1F31B","first quarter moon with face","1f31b",["","U+E69E"],["","U+E489"],["","U+E04C"],["󾀖","U+FE016"]],"🌟":["U+1F31F","glowing star","1f31f",["-","-"],["","U+E48B"],["","U+E335"],["󾭩","U+FEB69"]],"🌠":["U+1F320","shooting star","1f320",["-","-"],["","U+E468"],["-","-"],["󾭪","U+FEB6A"]],"🕐":["U+1F550","clock face one oclock","1f550",["","U+E6BA"],["","U+E594"],["","U+E024"],["󾀞","U+FE01E"]],"🕑":["U+1F551","clock face two oclock","1f551",["","U+E6BA"],["","U+E594"],["","U+E025"],["󾀟","U+FE01F"]],"🕒":["U+1F552","clock face three oclock","1f552",["","U+E6BA"],["","U+E594"],["","U+E026"],["󾀠","U+FE020"]],"🕓":["U+1F553","clock face four oclock","1f553",["","U+E6BA"],["","U+E594"],["","U+E027"],["󾀡","U+FE021"]],"🕔":["U+1F554","clock face five oclock","1f554",["","U+E6BA"],["","U+E594"],["","U+E028"],["󾀢","U+FE022"]],"🕕":["U+1F555","clock face six oclock","1f555",["","U+E6BA"],["","U+E594"],["","U+E029"],["󾀣","U+FE023"]],"🕖":["U+1F556","clock face seven oclock","1f556",["","U+E6BA"],["","U+E594"],["","U+E02A"],["󾀤","U+FE024"]],"🕗":["U+1F557","clock face eight oclock","1f557",["","U+E6BA"],["","U+E594"],["","U+E02B"],["󾀥","U+FE025"]],"🕘":["U+1F558","clock face nine oclock","1f558",["","U+E6BA"],["","U+E594"],["","U+E02C"],["󾀦","U+FE026"]],"🕙":["U+1F559","clock face ten oclock","1f559",["","U+E6BA"],["","U+E594"],["","U+E02D"],["󾀧","U+FE027"]],"🕚":["U+1F55A","clock face eleven oclock","1f55a",["","U+E6BA"],["","U+E594"],["","U+E02E"],["󾀨","U+FE028"]],"🕛":["U+1F55B","clock face twelve oclock","1f55b",["","U+E6BA"],["","U+E594"],["","U+E02F"],["󾀩","U+FE029"]],"⌚":["U+231A","watch","231a",["","U+E71F"],["","U+E57A"],["-","-"],["󾀝","U+FE01D"]],"⌛":["U+231B","hourglass","231b",["","U+E71C"],["","U+E57B"],["-","-"],["󾀜","U+FE01C"]],"⏰":["U+23F0","alarm clock","23f0",["","U+E6BA"],["","U+E594"],["","U+E02D"],["󾀪","U+FE02A"]],"⏳":["U+23F3","hourglass with flowing sand","23f3",["","U+E71C"],["","U+E47C"],["-","-"],["󾀛","U+FE01B"]],"♈":["U+2648","aries","2648",["","U+E646"],["","U+E48F"],["","U+E23F"],["󾀫","U+FE02B"]],"♉":["U+2649","taurus","2649",["","U+E647"],["","U+E490"],["","U+E240"],["󾀬","U+FE02C"]],"♊":["U+264A","gemini","264a",["","U+E648"],["","U+E491"],["","U+E241"],["󾀭","U+FE02D"]],"♋":["U+264B","cancer","264b",["","U+E649"],["","U+E492"],["","U+E242"],["󾀮","U+FE02E"]],"♌":["U+264C","leo","264c",["","U+E64A"],["","U+E493"],["","U+E243"],["󾀯","U+FE02F"]],"♍":["U+264D","virgo","264d",["","U+E64B"],["","U+E494"],["","U+E244"],["󾀰","U+FE030"]],"♎":["U+264E","libra","264e",["","U+E64C"],["","U+E495"],["","U+E245"],["󾀱","U+FE031"]],"♏":["U+264F","scorpius","264f",["","U+E64D"],["","U+E496"],["","U+E246"],["󾀲","U+FE032"]],"♐":["U+2650","sagittarius","2650",["","U+E64E"],["","U+E497"],["","U+E247"],["󾀳","U+FE033"]],"♑":["U+2651","capricorn","2651",["","U+E64F"],["","U+E498"],["","U+E248"],["󾀴","U+FE034"]],"♒":["U+2652","aquarius","2652",["","U+E650"],["","U+E499"],["","U+E249"],["󾀵","U+FE035"]],"♓":["U+2653","pisces","2653",["","U+E651"],["","U+E49A"],["","U+E24A"],["󾀶","U+FE036"]],"⛎":["U+26CE","ophiuchus","26ce",["-","-"],["","U+E49B"],["","U+E24B"],["󾀷","U+FE037"]],"🍀":["U+1F340","four leaf clover","1f340",["","U+E741"],["","U+E513"],["","U+E110"],["󾀼","U+FE03C"]],"🌷":["U+1F337","tulip","1f337",["","U+E743"],["","U+E4E4"],["","U+E304"],["󾀽","U+FE03D"]],"🌱":["U+1F331","seedling","1f331",["","U+E746"],["","U+EB7D"],["","U+E110"],["󾀾","U+FE03E"]],"🍁":["U+1F341","maple leaf","1f341",["","U+E747"],["","U+E4CE"],["","U+E118"],["󾀿","U+FE03F"]],"🌸":["U+1F338","cherry blossom","1f338",["","U+E748"],["","U+E4CA"],["","U+E030"],["󾁀","U+FE040"]],"🌹":["U+1F339","rose","1f339",["-","-"],["","U+E5BA"],["","U+E032"],["󾁁","U+FE041"]],"🍂":["U+1F342","fallen leaf","1f342",["","U+E747"],["","U+E5CD"],["","U+E119"],["󾁂","U+FE042"]],"🍃":["U+1F343","leaf fluttering in wind","1f343",["-","-"],["","U+E5CD"],["","U+E447"],["󾁃","U+FE043"]],"🌺":["U+1F33A","hibiscus","1f33a",["-","-"],["","U+EA94"],["","U+E303"],["󾁅","U+FE045"]],"🌻":["U+1F33B","sunflower","1f33b",["-","-"],["","U+E4E3"],["","U+E305"],["󾁆","U+FE046"]],"🌴":["U+1F334","palm tree","1f334",["-","-"],["","U+E4E2"],["","U+E307"],["󾁇","U+FE047"]],"🌵":["U+1F335","cactus","1f335",["-","-"],["","U+EA96"],["","U+E308"],["󾁈","U+FE048"]],"🌾":["U+1F33E","ear of rice","1f33e",["-","-"],["-","-"],["","U+E444"],["󾁉","U+FE049"]],"🌽":["U+1F33D","ear of maize","1f33d",["-","-"],["","U+EB36"],["-","-"],["󾁊","U+FE04A"]],"🍄":["U+1F344","mushroom","1f344",["-","-"],["","U+EB37"],["-","-"],["󾁋","U+FE04B"]],"🌰":["U+1F330","chestnut","1f330",["-","-"],["","U+EB38"],["-","-"],["󾁌","U+FE04C"]],"🌼":["U+1F33C","blossom","1f33c",["-","-"],["","U+EB49"],["","U+E305"],["󾁍","U+FE04D"]],"🌿":["U+1F33F","herb","1f33f",["","U+E741"],["","U+EB82"],["","U+E110"],["󾁎","U+FE04E"]],"🍒":["U+1F352","cherries","1f352",["","U+E742"],["","U+E4D2"],["-","-"],["󾁏","U+FE04F"]],"🍌":["U+1F34C","banana","1f34c",["","U+E744"],["","U+EB35"],["-","-"],["󾁐","U+FE050"]],"🍎":["U+1F34E","red apple","1f34e",["","U+E745"],["","U+EAB9"],["","U+E345"],["󾁑","U+FE051"]],"🍊":["U+1F34A","tangerine","1f34a",["-","-"],["","U+EABA"],["","U+E346"],["󾁒","U+FE052"]],"🍓":["U+1F353","strawberry","1f353",["-","-"],["","U+E4D4"],["","U+E347"],["󾁓","U+FE053"]],"🍉":["U+1F349","watermelon","1f349",["-","-"],["","U+E4CD"],["","U+E348"],["󾁔","U+FE054"]],"🍅":["U+1F345","tomato","1f345",["-","-"],["","U+EABB"],["","U+E349"],["󾁕","U+FE055"]],"🍆":["U+1F346","aubergine","1f346",["-","-"],["","U+EABC"],["","U+E34A"],["󾁖","U+FE056"]],"🍈":["U+1F348","melon","1f348",["-","-"],["","U+EB32"],["-","-"],["󾁗","U+FE057"]],"🍍":["U+1F34D","pineapple","1f34d",["-","-"],["","U+EB33"],["-","-"],["󾁘","U+FE058"]],"🍇":["U+1F347","grapes","1f347",["-","-"],["","U+EB34"],["-","-"],["󾁙","U+FE059"]],"🍑":["U+1F351","peach","1f351",["-","-"],["","U+EB39"],["-","-"],["󾁚","U+FE05A"]],"🍏":["U+1F34F","green apple","1f34f",["","U+E745"],["","U+EB5A"],["","U+E345"],["󾁛","U+FE05B"]],"👀":["U+1F440","eyes","1f440",["","U+E691"],["","U+E5A4"],["","U+E419"],["󾆐","U+FE190"]],"👂":["U+1F442","ear","1f442",["","U+E692"],["","U+E5A5"],["","U+E41B"],["󾆑","U+FE191"]],"👃":["U+1F443","nose","1f443",["-","-"],["","U+EAD0"],["","U+E41A"],["󾆒","U+FE192"]],"👄":["U+1F444","mouth","1f444",["","U+E6F9"],["","U+EAD1"],["","U+E41C"],["󾆓","U+FE193"]],"👅":["U+1F445","tongue","1f445",["","U+E728"],["","U+EB47"],["","U+E409"],["󾆔","U+FE194"]],"💄":["U+1F484","lipstick","1f484",["","U+E710"],["","U+E509"],["","U+E31C"],["󾆕","U+FE195"]],"💅":["U+1F485","nail polish","1f485",["-","-"],["","U+EAA0"],["","U+E31D"],["󾆖","U+FE196"]],"💆":["U+1F486","face massage","1f486",["-","-"],["","U+E50B"],["","U+E31E"],["󾆗","U+FE197"]],"💇":["U+1F487","haircut","1f487",["","U+E675"],["","U+EAA1"],["","U+E31F"],["󾆘","U+FE198"]],"💈":["U+1F488","barber pole","1f488",["-","-"],["","U+EAA2"],["","U+E320"],["󾆙","U+FE199"]],"👤":["U+1F464","bust in silhouette","1f464",["","U+E6B1"],["-","-"],["-","-"],["󾆚","U+FE19A"]],"👦":["U+1F466","boy","1f466",["","U+E6F0"],["","U+E4FC"],["","U+E001"],["󾆛","U+FE19B"]],"👧":["U+1F467","girl","1f467",["","U+E6F0"],["","U+E4FA"],["","U+E002"],["󾆜","U+FE19C"]],"👨":["U+1F468","man","1f468",["","U+E6F0"],["","U+E4FC"],["","U+E004"],["󾆝","U+FE19D"]],"👩":["U+1F469","woman","1f469",["","U+E6F0"],["","U+E4FA"],["","U+E005"],["󾆞","U+FE19E"]],"👪":["U+1F46A","family","1f46a",["-","-"],["","U+E501"],["-","-"],["󾆟","U+FE19F"]],"👫":["U+1F46B","man and woman holding hands","1f46b",["-","-"],["-","-"],["","U+E428"],["󾆠","U+FE1A0"]],"👮":["U+1F46E","police officer","1f46e",["-","-"],["","U+E5DD"],["","U+E152"],["󾆡","U+FE1A1"]],"👯":["U+1F46F","woman with bunny ears","1f46f",["-","-"],["","U+EADB"],["","U+E429"],["󾆢","U+FE1A2"]],"👰":["U+1F470","bride with veil","1f470",["-","-"],["","U+EAE9"],["-","-"],["󾆣","U+FE1A3"]],"👱":["U+1F471","person with blond hair","1f471",["-","-"],["","U+EB13"],["","U+E515"],["󾆤","U+FE1A4"]],"👲":["U+1F472","man with gua pi mao","1f472",["-","-"],["","U+EB14"],["","U+E516"],["󾆥","U+FE1A5"]],"👳":["U+1F473","man with turban","1f473",["-","-"],["","U+EB15"],["","U+E517"],["󾆦","U+FE1A6"]],"👴":["U+1F474","older man","1f474",["-","-"],["","U+EB16"],["","U+E518"],["󾆧","U+FE1A7"]],"👵":["U+1F475","older woman","1f475",["-","-"],["","U+EB17"],["","U+E519"],["󾆨","U+FE1A8"]],"👶":["U+1F476","baby","1f476",["-","-"],["","U+EB18"],["","U+E51A"],["󾆩","U+FE1A9"]],"👷":["U+1F477","construction worker","1f477",["-","-"],["","U+EB19"],["","U+E51B"],["󾆪","U+FE1AA"]],"👸":["U+1F478","princess","1f478",["-","-"],["","U+EB1A"],["","U+E51C"],["󾆫","U+FE1AB"]],"👹":["U+1F479","japanese ogre","1f479",["-","-"],["","U+EB44"],["-","-"],["󾆬","U+FE1AC"]],"👺":["U+1F47A","japanese goblin","1f47a",["-","-"],["","U+EB45"],["-","-"],["󾆭","U+FE1AD"]],"👻":["U+1F47B","ghost","1f47b",["-","-"],["","U+E4CB"],["","U+E11B"],["󾆮","U+FE1AE"]],"👼":["U+1F47C","baby angel","1f47c",["-","-"],["","U+E5BF"],["","U+E04E"],["󾆯","U+FE1AF"]],"👽":["U+1F47D","extraterrestrial alien","1f47d",["-","-"],["","U+E50E"],["","U+E10C"],["󾆰","U+FE1B0"]],"👾":["U+1F47E","alien monster","1f47e",["-","-"],["","U+E4EC"],["","U+E12B"],["󾆱","U+FE1B1"]],"👿":["U+1F47F","imp","1f47f",["-","-"],["","U+E4EF"],["","U+E11A"],["󾆲","U+FE1B2"]],"💀":["U+1F480","skull","1f480",["-","-"],["","U+E4F8"],["","U+E11C"],["󾆳","U+FE1B3"]],"💁":["U+1F481","information desk person","1f481",["-","-"],["-","-"],["","U+E253"],["󾆴","U+FE1B4"]],"💂":["U+1F482","guardsman","1f482",["-","-"],["-","-"],["","U+E51E"],["󾆵","U+FE1B5"]],"💃":["U+1F483","dancer","1f483",["-","-"],["","U+EB1C"],["","U+E51F"],["󾆶","U+FE1B6"]],"🐌":["U+1F40C","snail","1f40c",["","U+E74E"],["","U+EB7E"],["-","-"],["󾆹","U+FE1B9"]],"🐍":["U+1F40D","snake","1f40d",["-","-"],["","U+EB22"],["","U+E52D"],["󾇓","U+FE1D3"]],"🐎":["U+1F40E","horse","1f40e",["","U+E754"],["","U+E4D8"],["","U+E134"],["󾟜","U+FE7DC"]],"🐔":["U+1F414","chicken","1f414",["-","-"],["","U+EB23"],["","U+E52E"],["󾇔","U+FE1D4"]],"🐗":["U+1F417","boar","1f417",["-","-"],["","U+EB24"],["","U+E52F"],["󾇕","U+FE1D5"]],"🐫":["U+1F42B","bactrian camel","1f42b",["-","-"],["","U+EB25"],["","U+E530"],["󾇖","U+FE1D6"]],"🐘":["U+1F418","elephant","1f418",["-","-"],["","U+EB1F"],["","U+E526"],["󾇌","U+FE1CC"]],"🐨":["U+1F428","koala","1f428",["-","-"],["","U+EB20"],["","U+E527"],["󾇍","U+FE1CD"]],"🐒":["U+1F412","monkey","1f412",["-","-"],["","U+E4D9"],["","U+E528"],["󾇎","U+FE1CE"]],"🐑":["U+1F411","sheep","1f411",["-","-"],["","U+E48F"],["","U+E529"],["󾇏","U+FE1CF"]],"🐙":["U+1F419","octopus","1f419",["-","-"],["","U+E5C7"],["","U+E10A"],["󾇅","U+FE1C5"]],"🐚":["U+1F41A","spiral shell","1f41a",["-","-"],["","U+EAEC"],["","U+E441"],["󾇆","U+FE1C6"]],"🐛":["U+1F41B","bug","1f41b",["-","-"],["","U+EB1E"],["","U+E525"],["󾇋","U+FE1CB"]],"🐜":["U+1F41C","ant","1f41c",["-","-"],["","U+E4DD"],["-","-"],["󾇚","U+FE1DA"]],"🐝":["U+1F41D","honeybee","1f41d",["-","-"],["","U+EB57"],["-","-"],["󾇡","U+FE1E1"]],"🐞":["U+1F41E","lady beetle","1f41e",["-","-"],["","U+EB58"],["-","-"],["󾇢","U+FE1E2"]],"🐠":["U+1F420","tropical fish","1f420",["","U+E751"],["","U+EB1D"],["","U+E522"],["󾇉","U+FE1C9"]],"🐡":["U+1F421","blowfish","1f421",["","U+E751"],["","U+E4D3"],["","U+E019"],["󾇙","U+FE1D9"]],"🐢":["U+1F422","turtle","1f422",["-","-"],["","U+E5D4"],["-","-"],["󾇜","U+FE1DC"]],"🐤":["U+1F424","baby chick","1f424",["","U+E74F"],["","U+E4E0"],["","U+E523"],["󾆺","U+FE1BA"]],"🐥":["U+1F425","front-facing baby chick","1f425",["","U+E74F"],["","U+EB76"],["","U+E523"],["󾆻","U+FE1BB"]],"🐦":["U+1F426","bird","1f426",["","U+E74F"],["","U+E4E0"],["","U+E521"],["󾇈","U+FE1C8"]],"🐣":["U+1F423","hatching chick","1f423",["","U+E74F"],["","U+E5DB"],["","U+E523"],["󾇝","U+FE1DD"]],"🐧":["U+1F427","penguin","1f427",["","U+E750"],["","U+E4DC"],["","U+E055"],["󾆼","U+FE1BC"]],"🐩":["U+1F429","poodle","1f429",["","U+E6A1"],["","U+E4DF"],["","U+E052"],["󾇘","U+FE1D8"]],"🐟":["U+1F41F","fish","1f41f",["","U+E751"],["","U+E49A"],["","U+E019"],["󾆽","U+FE1BD"]],"🐬":["U+1F42C","dolphin","1f42c",["-","-"],["","U+EB1B"],["","U+E520"],["󾇇","U+FE1C7"]],"🐭":["U+1F42D","mouse face","1f42d",["-","-"],["","U+E5C2"],["","U+E053"],["󾇂","U+FE1C2"]],"🐯":["U+1F42F","tiger face","1f42f",["-","-"],["","U+E5C0"],["","U+E050"],["󾇀","U+FE1C0"]],"🐱":["U+1F431","cat face","1f431",["","U+E6A2"],["","U+E4DB"],["","U+E04F"],["󾆸","U+FE1B8"]],"🐳":["U+1F433","spouting whale","1f433",["-","-"],["","U+E470"],["","U+E054"],["󾇃","U+FE1C3"]],"🐴":["U+1F434","horse face","1f434",["","U+E754"],["","U+E4D8"],["","U+E01A"],["󾆾","U+FE1BE"]],"🐵":["U+1F435","monkey face","1f435",["-","-"],["","U+E4D9"],["","U+E109"],["󾇄","U+FE1C4"]],"🐶":["U+1F436","dog face","1f436",["","U+E6A1"],["","U+E4E1"],["","U+E052"],["󾆷","U+FE1B7"]],"🐷":["U+1F437","pig face","1f437",["","U+E755"],["","U+E4DE"],["","U+E10B"],["󾆿","U+FE1BF"]],"🐻":["U+1F43B","bear face","1f43b",["-","-"],["","U+E5C1"],["","U+E051"],["󾇁","U+FE1C1"]],"🐹":["U+1F439","hamster face","1f439",["-","-"],["-","-"],["","U+E524"],["󾇊","U+FE1CA"]],"🐺":["U+1F43A","wolf face","1f43a",["","U+E6A1"],["","U+E4E1"],["","U+E52A"],["󾇐","U+FE1D0"]],"🐮":["U+1F42E","cow face","1f42e",["-","-"],["","U+EB21"],["","U+E52B"],["󾇑","U+FE1D1"]],"🐰":["U+1F430","rabbit face","1f430",["-","-"],["","U+E4D7"],["","U+E52C"],["󾇒","U+FE1D2"]],"🐸":["U+1F438","frog face","1f438",["-","-"],["","U+E4DA"],["","U+E531"],["󾇗","U+FE1D7"]],"🐾":["U+1F43E","paw prints","1f43e",["","U+E698"],["","U+E4EE"],["","U+E536"],["󾇛","U+FE1DB"]],"🐲":["U+1F432","dragon face","1f432",["-","-"],["","U+EB3F"],["-","-"],["󾇞","U+FE1DE"]],"🐼":["U+1F43C","panda face","1f43c",["-","-"],["","U+EB46"],["-","-"],["󾇟","U+FE1DF"]],"🐽":["U+1F43D","pig nose","1f43d",["","U+E755"],["","U+EB48"],["","U+E10B"],["󾇠","U+FE1E0"]],"😠":["U+1F620","angry face","1f620",["","U+E6F1"],["","U+E472"],["","U+E059"],["󾌠","U+FE320"]],"😩":["U+1F629","weary face","1f629",["","U+E6F3"],["","U+EB67"],["","U+E403"],["󾌡","U+FE321"]],"😲":["U+1F632","astonished face","1f632",["","U+E6F4"],["","U+EACA"],["","U+E410"],["󾌢","U+FE322"]],"😞":["U+1F61E","disappointed face","1f61e",["","U+E6F2"],["","U+EAC0"],["","U+E058"],["󾌣","U+FE323"]],"😵":["U+1F635","dizzy face","1f635",["","U+E6F4"],["","U+E5AE"],["","U+E406"],["󾌤","U+FE324"]],"😰":["U+1F630","face with open mouth and cold sweat","1f630",["","U+E723"],["","U+EACB"],["","U+E40F"],["󾌥","U+FE325"]],"😒":["U+1F612","unamused face","1f612",["","U+E725"],["","U+EAC9"],["","U+E40E"],["󾌦","U+FE326"]],"😍":["U+1F60D","smiling face with heart-shaped eyes","1f60d",["","U+E726"],["","U+E5C4"],["","U+E106"],["󾌧","U+FE327"]],"😤":["U+1F624","face with look of triumph","1f624",["","U+E753"],["","U+EAC1"],["","U+E404"],["󾌨","U+FE328"]],"😜":["U+1F61C","face with stuck-out tongue and winking eye","1f61c",["","U+E728"],["","U+E4E7"],["","U+E105"],["󾌩","U+FE329"]],"😝":["U+1F61D","face with stuck-out tongue and tightly-closed eyes","1f61d",["","U+E728"],["","U+E4E7"],["","U+E409"],["󾌪","U+FE32A"]],"😋":["U+1F60B","face savouring delicious food","1f60b",["","U+E752"],["","U+EACD"],["","U+E056"],["󾌫","U+FE32B"]],"😘":["U+1F618","face throwing a kiss","1f618",["","U+E726"],["","U+EACF"],["","U+E418"],["󾌬","U+FE32C"]],"😚":["U+1F61A","kissing face with closed eyes","1f61a",["","U+E726"],["","U+EACE"],["","U+E417"],["󾌭","U+FE32D"]],"😷":["U+1F637","face with medical mask","1f637",["-","-"],["","U+EAC7"],["","U+E40C"],["󾌮","U+FE32E"]],"😳":["U+1F633","flushed face","1f633",["","U+E72A"],["","U+EAC8"],["","U+E40D"],["󾌯","U+FE32F"]],"😃":["U+1F603","smiling face with open mouth","1f603",["","U+E6F0"],["","U+E471"],["","U+E057"],["󾌰","U+FE330"]],"😅":["U+1F605","smiling face with open mouth and cold sweat","1f605",["","U+E722"],["","U+E471 U+E5B1"],["","U+E415 U+E331"],["󾌱","U+FE331"]],"😆":["U+1F606","smiling face with open mouth and tightly-closed eyes","1f606",["","U+E72A"],["","U+EAC5"],["","U+E40A"],["󾌲","U+FE332"]],"😁":["U+1F601","grinning face with smiling eyes","1f601",["","U+E753"],["","U+EB80"],["","U+E404"],["󾌳","U+FE333"]],"😂":["U+1F602","face with tears of joy","1f602",["","U+E72A"],["","U+EB64"],["","U+E412"],["󾌴","U+FE334"]],"😊":["U+1F60A","smiling face with smiling eyes","1f60a",["","U+E6F0"],["","U+EACD"],["","U+E056"],["󾌵","U+FE335"]],"☺":["U+263A","white smiling face","263a",["","U+E6F0"],["","U+E4FB"],["","U+E414"],["󾌶","U+FE336"]],"😄":["U+1F604","smiling face with open mouth and smiling eyes","1f604",["","U+E6F0"],["","U+E471"],["","U+E415"],["󾌸","U+FE338"]],"😢":["U+1F622","crying face","1f622",["","U+E72E"],["","U+EB69"],["","U+E413"],["󾌹","U+FE339"]],"😭":["U+1F62D","loudly crying face","1f62d",["","U+E72D"],["","U+E473"],["","U+E411"],["󾌺","U+FE33A"]],"😨":["U+1F628","fearful face","1f628",["","U+E757"],["","U+EAC6"],["","U+E40B"],["󾌻","U+FE33B"]],"😣":["U+1F623","persevering face","1f623",["","U+E72B"],["","U+EAC2"],["","U+E406"],["󾌼","U+FE33C"]],"😡":["U+1F621","pouting face","1f621",["","U+E724"],["","U+EB5D"],["","U+E416"],["󾌽","U+FE33D"]],"😌":["U+1F60C","relieved face","1f60c",["","U+E721"],["","U+EAC5"],["","U+E40A"],["󾌾","U+FE33E"]],"😖":["U+1F616","confounded face","1f616",["","U+E6F3"],["","U+EAC3"],["","U+E407"],["󾌿","U+FE33F"]],"😔":["U+1F614","pensive face","1f614",["","U+E720"],["","U+EAC0"],["","U+E403"],["󾍀","U+FE340"]],"😱":["U+1F631","face screaming in fear","1f631",["","U+E757"],["","U+E5C5"],["","U+E107"],["󾍁","U+FE341"]],"😪":["U+1F62A","sleepy face","1f62a",["","U+E701"],["","U+EAC4"],["","U+E408"],["󾍂","U+FE342"]],"😏":["U+1F60F","smirking face","1f60f",["","U+E72C"],["","U+EABF"],["","U+E402"],["󾍃","U+FE343"]],"😓":["U+1F613","face with cold sweat","1f613",["","U+E723"],["","U+E5C6"],["","U+E108"],["󾍄","U+FE344"]],"😥":["U+1F625","disappointed but relieved face","1f625",["","U+E723"],["","U+E5C6"],["","U+E401"],["󾍅","U+FE345"]],"😫":["U+1F62B","tired face","1f62b",["","U+E72B"],["","U+E474"],["","U+E406"],["󾍆","U+FE346"]],"😉":["U+1F609","winking face","1f609",["","U+E729"],["","U+E5C3"],["","U+E405"],["󾍇","U+FE347"]],"😺":["U+1F63A","smiling cat face with open mouth","1f63a",["","U+E6F0"],["","U+EB61"],["","U+E057"],["󾍈","U+FE348"]],"😸":["U+1F638","grinning cat face with smiling eyes","1f638",["","U+E753"],["","U+EB7F"],["","U+E404"],["󾍉","U+FE349"]],"😹":["U+1F639","cat face with tears of joy","1f639",["","U+E72A"],["","U+EB63"],["","U+E412"],["󾍊","U+FE34A"]],"😽":["U+1F63D","kissing cat face with closed eyes","1f63d",["","U+E726"],["","U+EB60"],["","U+E418"],["󾍋","U+FE34B"]],"😻":["U+1F63B","smiling cat face with heart-shaped eyes","1f63b",["","U+E726"],["","U+EB65"],["","U+E106"],["󾍌","U+FE34C"]],"😿":["U+1F63F","crying cat face","1f63f",["","U+E72E"],["","U+EB68"],["","U+E413"],["󾍍","U+FE34D"]],"😾":["U+1F63E","pouting cat face","1f63e",["","U+E724"],["","U+EB5E"],["","U+E416"],["󾍎","U+FE34E"]],"😼":["U+1F63C","cat face with wry smile","1f63c",["","U+E753"],["","U+EB6A"],["","U+E404"],["󾍏","U+FE34F"]],"🙀":["U+1F640","weary cat face","1f640",["","U+E6F3"],["","U+EB66"],["","U+E403"],["󾍐","U+FE350"]],"🙅":["U+1F645","face with no good gesture","1f645",["","U+E72F"],["","U+EAD7"],["","U+E423"],["󾍑","U+FE351"]],"🙆":["U+1F646","face with ok gesture","1f646",["","U+E70B"],["","U+EAD8"],["","U+E424"],["󾍒","U+FE352"]],"🙇":["U+1F647","person bowing deeply","1f647",["-","-"],["","U+EAD9"],["","U+E426"],["󾍓","U+FE353"]],"🙈":["U+1F648","see-no-evil monkey","1f648",["-","-"],["","U+EB50"],["-","-"],["󾍔","U+FE354"]],"🙊":["U+1F64A","speak-no-evil monkey","1f64a",["-","-"],["","U+EB51"],["-","-"],["󾍕","U+FE355"]],"🙉":["U+1F649","hear-no-evil monkey","1f649",["-","-"],["","U+EB52"],["-","-"],["󾍖","U+FE356"]],"🙋":["U+1F64B","happy person raising one hand","1f64b",["-","-"],["","U+EB85"],["","U+E012"],["󾍗","U+FE357"]],"🙌":["U+1F64C","person raising both hands in celebration","1f64c",["-","-"],["","U+EB86"],["","U+E427"],["󾍘","U+FE358"]],"🙍":["U+1F64D","person frowning","1f64d",["","U+E6F3"],["","U+EB87"],["","U+E403"],["󾍙","U+FE359"]],"🙎":["U+1F64E","person with pouting face","1f64e",["","U+E6F1"],["","U+EB88"],["","U+E416"],["󾍚","U+FE35A"]],"🙏":["U+1F64F","person with folded hands","1f64f",["-","-"],["","U+EAD2"],["","U+E41D"],["󾍛","U+FE35B"]],"🏠":["U+1F3E0","house building","1f3e0",["","U+E663"],["","U+E4AB"],["","U+E036"],["󾒰","U+FE4B0"]],"🏡":["U+1F3E1","house with garden","1f3e1",["","U+E663"],["","U+EB09"],["","U+E036"],["󾒱","U+FE4B1"]],"🏢":["U+1F3E2","office building","1f3e2",["","U+E664"],["","U+E4AD"],["","U+E038"],["󾒲","U+FE4B2"]],"🏣":["U+1F3E3","japanese post office","1f3e3",["","U+E665"],["","U+E5DE"],["","U+E153"],["󾒳","U+FE4B3"]],"🏥":["U+1F3E5","hospital","1f3e5",["","U+E666"],["","U+E5DF"],["","U+E155"],["󾒴","U+FE4B4"]],"🏦":["U+1F3E6","bank","1f3e6",["","U+E667"],["","U+E4AA"],["","U+E14D"],["󾒵","U+FE4B5"]],"🏧":["U+1F3E7","automated teller machine","1f3e7",["","U+E668"],["","U+E4A3"],["","U+E154"],["󾒶","U+FE4B6"]],"🏨":["U+1F3E8","hotel","1f3e8",["","U+E669"],["","U+EA81"],["","U+E158"],["󾒷","U+FE4B7"]],"🏩":["U+1F3E9","love hotel","1f3e9",["","U+E669 U+E6EF"],["","U+EAF3"],["","U+E501"],["󾒸","U+FE4B8"]],"🏪":["U+1F3EA","convenience store","1f3ea",["","U+E66A"],["","U+E4A4"],["","U+E156"],["󾒹","U+FE4B9"]],"🏫":["U+1F3EB","school","1f3eb",["","U+E73E"],["","U+EA80"],["","U+E157"],["󾒺","U+FE4BA"]],"⛪":["U+26EA","church","26ea",["-","-"],["","U+E5BB"],["","U+E037"],["󾒻","U+FE4BB"]],"⛲":["U+26F2","fountain","26f2",["-","-"],["","U+E5CF"],["","U+E121"],["󾒼","U+FE4BC"]],"🏬":["U+1F3EC","department store","1f3ec",["-","-"],["","U+EAF6"],["","U+E504"],["󾒽","U+FE4BD"]],"🏯":["U+1F3EF","japanese castle","1f3ef",["-","-"],["","U+EAF7"],["","U+E505"],["󾒾","U+FE4BE"]],"🏰":["U+1F3F0","european castle","1f3f0",["-","-"],["","U+EAF8"],["","U+E506"],["󾒿","U+FE4BF"]],"🏭":["U+1F3ED","factory","1f3ed",["-","-"],["","U+EAF9"],["","U+E508"],["󾓀","U+FE4C0"]],"⚓":["U+2693","anchor","2693",["","U+E661"],["","U+E4A9"],["","U+E202"],["󾓁","U+FE4C1"]],"🏮":["U+1F3EE","izakaya lantern","1f3ee",["","U+E74B"],["","U+E4BD"],["","U+E30B"],["󾓂","U+FE4C2"]],"🗻":["U+1F5FB","mount fuji","1f5fb",["","U+E740"],["","U+E5BD"],["","U+E03B"],["󾓃","U+FE4C3"]],"🗼":["U+1F5FC","tokyo tower","1f5fc",["-","-"],["","U+E4C0"],["","U+E509"],["󾓄","U+FE4C4"]],"🗽":["U+1F5FD","statue of liberty","1f5fd",["-","-"],["-","-"],["","U+E51D"],["󾓆","U+FE4C6"]],"🗾":["U+1F5FE","silhouette of japan","1f5fe",["-","-"],["","U+E572"],["-","-"],["󾓇","U+FE4C7"]],"🗿":["U+1F5FF","moyai","1f5ff",["-","-"],["","U+EB6C"],["-","-"],["󾓈","U+FE4C8"]],"👞":["U+1F45E","mans shoe","1f45e",["","U+E699"],["","U+E5B7"],["","U+E007"],["󾓌","U+FE4CC"]],"👟":["U+1F45F","athletic shoe","1f45f",["","U+E699"],["","U+EB2B"],["","U+E007"],["󾓍","U+FE4CD"]],"👠":["U+1F460","high-heeled shoe","1f460",["","U+E674"],["","U+E51A"],["","U+E13E"],["󾓖","U+FE4D6"]],"👡":["U+1F461","womans sandal","1f461",["","U+E674"],["","U+E51A"],["","U+E31A"],["󾓗","U+FE4D7"]],"👢":["U+1F462","womans boots","1f462",["-","-"],["","U+EA9F"],["","U+E31B"],["󾓘","U+FE4D8"]],"👣":["U+1F463","footprints","1f463",["","U+E698"],["","U+EB2A"],["","U+E536"],["󾕓","U+FE553"]],"👓":["U+1F453","eyeglasses","1f453",["","U+E69A"],["","U+E4FE"],["-","-"],["󾓎","U+FE4CE"]],"👕":["U+1F455","t-shirt","1f455",["","U+E70E"],["","U+E5B6"],["","U+E006"],["󾓏","U+FE4CF"]],"👖":["U+1F456","jeans","1f456",["","U+E711"],["","U+EB77"],["-","-"],["󾓐","U+FE4D0"]],"👑":["U+1F451","crown","1f451",["","U+E71A"],["","U+E5C9"],["","U+E10E"],["󾓑","U+FE4D1"]],"👔":["U+1F454","necktie","1f454",["-","-"],["","U+EA93"],["","U+E302"],["󾓓","U+FE4D3"]],"👒":["U+1F452","womans hat","1f452",["-","-"],["","U+EA9E"],["","U+E318"],["󾓔","U+FE4D4"]],"👗":["U+1F457","dress","1f457",["-","-"],["","U+EB6B"],["","U+E319"],["󾓕","U+FE4D5"]],"👘":["U+1F458","kimono","1f458",["-","-"],["","U+EAA3"],["","U+E321"],["󾓙","U+FE4D9"]],"👙":["U+1F459","bikini","1f459",["-","-"],["","U+EAA4"],["","U+E322"],["󾓚","U+FE4DA"]],"👚":["U+1F45A","womans clothes","1f45a",["","U+E70E"],["","U+E50D"],["","U+E006"],["󾓛","U+FE4DB"]],"👛":["U+1F45B","purse","1f45b",["","U+E70F"],["","U+E504"],["-","-"],["󾓜","U+FE4DC"]],"👜":["U+1F45C","handbag","1f45c",["","U+E682"],["","U+E49C"],["","U+E323"],["󾓰","U+FE4F0"]],"👝":["U+1F45D","pouch","1f45d",["","U+E6AD"],["-","-"],["-","-"],["󾓱","U+FE4F1"]],"💰":["U+1F4B0","money bag","1f4b0",["","U+E715"],["","U+E4C7"],["","U+E12F"],["󾓝","U+FE4DD"]],"💱":["U+1F4B1","currency exchange","1f4b1",["-","-"],["-","-"],["","U+E149"],["󾓞","U+FE4DE"]],"💹":["U+1F4B9","chart with upwards trend and yen sign","1f4b9",["-","-"],["","U+E5DC"],["","U+E14A"],["󾓟","U+FE4DF"]],"💲":["U+1F4B2","heavy dollar sign","1f4b2",["","U+E715"],["","U+E579"],["","U+E12F"],["󾓠","U+FE4E0"]],"💳":["U+1F4B3","credit card","1f4b3",["-","-"],["","U+E57C"],["-","-"],["󾓡","U+FE4E1"]],"💴":["U+1F4B4","banknote with yen sign","1f4b4",["","U+E6D6"],["","U+E57D"],["-","-"],["󾓢","U+FE4E2"]],"💵":["U+1F4B5","banknote with dollar sign","1f4b5",["","U+E715"],["","U+E585"],["","U+E12F"],["󾓣","U+FE4E3"]],"💸":["U+1F4B8","money with wings","1f4b8",["-","-"],["","U+EB5B"],["-","-"],["󾓤","U+FE4E4"]],"🇨🇳":["U+1F1E8 U+1F1F3","regional indicator symbol letters cn","1f1e81f1f3",["-","-"],["","U+EB11"],["","U+E513"],["󾓭","U+FE4ED"]],"🇩🇪":["U+1F1E9 U+1F1EA","regional indicator symbol letters de","1f1e91f1ea",["-","-"],["","U+EB0E"],["","U+E50E"],["󾓨","U+FE4E8"]],"🇪🇸":["U+1F1EA U+1F1F8","regional indicator symbol letters es","1f1ea1f1f8",["-","-"],["","U+E5D5"],["","U+E511"],["󾓫","U+FE4EB"]],"🇫🇷":["U+1F1EB U+1F1F7","regional indicator symbol letters fr","1f1eb1f1f7",["-","-"],["","U+EAFA"],["","U+E50D"],["󾓧","U+FE4E7"]],"🇬🇧":["U+1F1EC U+1F1E7","regional indicator symbol letters gb","1f1ec1f1e7",["-","-"],["","U+EB10"],["","U+E510"],["󾓪","U+FE4EA"]],"🇮🇹":["U+1F1EE U+1F1F9","regional indicator symbol letters it","1f1ee1f1f9",["-","-"],["","U+EB0F"],["","U+E50F"],["󾓩","U+FE4E9"]],"🇯🇵":["U+1F1EF U+1F1F5","regional indicator symbol letters jp","1f1ef1f1f5",["-","-"],["","U+E4CC"],["","U+E50B"],["󾓥","U+FE4E5"]],"🇰🇷":["U+1F1F0 U+1F1F7","regional indicator symbol letters kr","1f1f01f1f7",["-","-"],["","U+EB12"],["","U+E514"],["󾓮","U+FE4EE"]],"🇷🇺":["U+1F1F7 U+1F1FA","regional indicator symbol letters ru","1f1f71f1fa",["-","-"],["","U+E5D6"],["","U+E512"],["󾓬","U+FE4EC"]],"🇺🇸":["U+1F1FA U+1F1F8","regional indicator symbol letters us","1f1fa1f1f8",["-","-"],["","U+E573"],["","U+E50C"],["󾓦","U+FE4E6"]],"🔥":["U+1F525","fire","1f525",["-","-"],["","U+E47B"],["","U+E11D"],["󾓶","U+FE4F6"]],"🔦":["U+1F526","electric torch","1f526",["","U+E6FB"],["","U+E583"],["-","-"],["󾓻","U+FE4FB"]],"🔧":["U+1F527","wrench","1f527",["","U+E718"],["","U+E587"],["-","-"],["󾓉","U+FE4C9"]],"🔨":["U+1F528","hammer","1f528",["-","-"],["","U+E5CB"],["","U+E116"],["󾓊","U+FE4CA"]],"🔩":["U+1F529","nut and bolt","1f529",["-","-"],["","U+E581"],["-","-"],["󾓋","U+FE4CB"]],"🔪":["U+1F52A","hocho","1f52a",["-","-"],["","U+E57F"],["-","-"],["󾓺","U+FE4FA"]],"🔫":["U+1F52B","pistol","1f52b",["-","-"],["","U+E50A"],["","U+E113"],["󾓵","U+FE4F5"]],"🔮":["U+1F52E","crystal ball","1f52e",["-","-"],["","U+EA8F"],["","U+E23E"],["󾓷","U+FE4F7"]],"🔯":["U+1F52F","six pointed star with middle dot","1f52f",["-","-"],["","U+EA8F"],["","U+E23E"],["󾓸","U+FE4F8"]],"🔰":["U+1F530","japanese symbol for beginner","1f530",["-","-"],["","U+E480"],["","U+E209"],["󾁄","U+FE044"]],"🔱":["U+1F531","trident emblem","1f531",["","U+E71A"],["","U+E5C9"],["","U+E031"],["󾓒","U+FE4D2"]],"💉":["U+1F489","syringe","1f489",["-","-"],["","U+E510"],["","U+E13B"],["󾔉","U+FE509"]],"💊":["U+1F48A","pill","1f48a",["-","-"],["","U+EA9A"],["","U+E30F"],["󾔊","U+FE50A"]],"🅰":["U+1F170","negative squared latin capital letter a","1f170",["-","-"],["","U+EB26"],["","U+E532"],["󾔋","U+FE50B"]],"🅱":["U+1F171","negative squared latin capital letter b","1f171",["-","-"],["","U+EB27"],["","U+E533"],["󾔌","U+FE50C"]],"🆎":["U+1F18E","negative squared ab","1f18e",["-","-"],["","U+EB29"],["","U+E534"],["󾔍","U+FE50D"]],"🅾":["U+1F17E","negative squared latin capital letter o","1f17e",["-","-"],["","U+EB28"],["","U+E535"],["󾔎","U+FE50E"]],"🎀":["U+1F380","ribbon","1f380",["","U+E684"],["","U+E59F"],["","U+E314"],["󾔏","U+FE50F"]],"🎁":["U+1F381","wrapped present","1f381",["","U+E685"],["","U+E4CF"],["","U+E112"],["󾔐","U+FE510"]],"🎂":["U+1F382","birthday cake","1f382",["","U+E686"],["","U+E5A0"],["","U+E34B"],["󾔑","U+FE511"]],"🎄":["U+1F384","christmas tree","1f384",["","U+E6A4"],["","U+E4C9"],["","U+E033"],["󾔒","U+FE512"]],"🎅":["U+1F385","father christmas","1f385",["-","-"],["","U+EAF0"],["","U+E448"],["󾔓","U+FE513"]],"🎌":["U+1F38C","crossed flags","1f38c",["-","-"],["","U+E5D9"],["","U+E143"],["󾔔","U+FE514"]],"🎆":["U+1F386","fireworks","1f386",["-","-"],["","U+E5CC"],["","U+E117"],["󾔕","U+FE515"]],"🎈":["U+1F388","balloon","1f388",["-","-"],["","U+EA9B"],["","U+E310"],["󾔖","U+FE516"]],"🎉":["U+1F389","party popper","1f389",["-","-"],["","U+EA9C"],["","U+E312"],["󾔗","U+FE517"]],"🎍":["U+1F38D","pine decoration","1f38d",["-","-"],["","U+EAE3"],["","U+E436"],["󾔘","U+FE518"]],"🎎":["U+1F38E","japanese dolls","1f38e",["-","-"],["","U+EAE4"],["","U+E438"],["󾔙","U+FE519"]],"🎓":["U+1F393","graduation cap","1f393",["-","-"],["","U+EAE5"],["","U+E439"],["󾔚","U+FE51A"]],"🎒":["U+1F392","school satchel","1f392",["-","-"],["","U+EAE6"],["","U+E43A"],["󾔛","U+FE51B"]],"🎏":["U+1F38F","carp streamer","1f38f",["-","-"],["","U+EAE7"],["","U+E43B"],["󾔜","U+FE51C"]],"🎇":["U+1F387","firework sparkler","1f387",["-","-"],["","U+EAEB"],["","U+E440"],["󾔝","U+FE51D"]],"🎐":["U+1F390","wind chime","1f390",["-","-"],["","U+EAED"],["","U+E442"],["󾔞","U+FE51E"]],"🎃":["U+1F383","jack-o-lantern","1f383",["-","-"],["","U+EAEE"],["","U+E445"],["󾔟","U+FE51F"]],"🎊":["U+1F38A","confetti ball","1f38a",["-","-"],["","U+E46F"],["-","-"],["󾔠","U+FE520"]],"🎋":["U+1F38B","tanabata tree","1f38b",["-","-"],["","U+EB3D"],["-","-"],["󾔡","U+FE521"]],"🎑":["U+1F391","moon viewing ceremony","1f391",["-","-"],["","U+EAEF"],["","U+E446"],["󾀗","U+FE017"]],"📟":["U+1F4DF","pager","1f4df",["","U+E65A"],["","U+E59B"],["-","-"],["󾔢","U+FE522"]],"☎":["U+260E","black telephone","260e",["","U+E687"],["","U+E596"],["","U+E009"],["󾔣","U+FE523"]],"📞":["U+1F4DE","telephone receiver","1f4de",["","U+E687"],["","U+E51E"],["","U+E009"],["󾔤","U+FE524"]],"📱":["U+1F4F1","mobile phone","1f4f1",["","U+E688"],["","U+E588"],["","U+E00A"],["󾔥","U+FE525"]],"📲":["U+1F4F2","mobile phone with rightwards arrow at left","1f4f2",["","U+E6CE"],["","U+EB08"],["","U+E104"],["󾔦","U+FE526"]],"📝":["U+1F4DD","memo","1f4dd",["","U+E689"],["","U+EA92"],["","U+E301"],["󾔧","U+FE527"]],"📠":["U+1F4E0","fax machine","1f4e0",["","U+E6D0"],["","U+E520"],["","U+E00B"],["󾔨","U+FE528"]],"✉":["U+2709","envelope","2709",["","U+E6D3"],["","U+E521"],["","U+E103"],["󾔩","U+FE529"]],"📨":["U+1F4E8","incoming envelope","1f4e8",["","U+E6CF"],["","U+E591"],["","U+E103"],["󾔪","U+FE52A"]],"📩":["U+1F4E9","envelope with downwards arrow above","1f4e9",["","U+E6CF"],["","U+EB62"],["","U+E103"],["󾔫","U+FE52B"]],"📪":["U+1F4EA","closed mailbox with lowered flag","1f4ea",["","U+E665"],["","U+E51B"],["","U+E101"],["󾔬","U+FE52C"]],"📫":["U+1F4EB","closed mailbox with raised flag","1f4eb",["","U+E665"],["","U+EB0A"],["","U+E101"],["󾔭","U+FE52D"]],"📮":["U+1F4EE","postbox","1f4ee",["","U+E665"],["","U+E51B"],["","U+E102"],["󾔮","U+FE52E"]],"📰":["U+1F4F0","newspaper","1f4f0",["-","-"],["","U+E58B"],["-","-"],["󾠢","U+FE822"]],"📢":["U+1F4E2","public address loudspeaker","1f4e2",["-","-"],["","U+E511"],["","U+E142"],["󾔯","U+FE52F"]],"📣":["U+1F4E3","cheering megaphone","1f4e3",["-","-"],["","U+E511"],["","U+E317"],["󾔰","U+FE530"]],"📡":["U+1F4E1","satellite antenna","1f4e1",["-","-"],["","U+E4A8"],["","U+E14B"],["󾔱","U+FE531"]],"📤":["U+1F4E4","outbox tray","1f4e4",["-","-"],["","U+E592"],["-","-"],["󾔳","U+FE533"]],"📥":["U+1F4E5","inbox tray","1f4e5",["-","-"],["","U+E593"],["-","-"],["󾔴","U+FE534"]],"📦":["U+1F4E6","package","1f4e6",["","U+E685"],["","U+E51F"],["","U+E112"],["󾔵","U+FE535"]],"📧":["U+1F4E7","e-mail symbol","1f4e7",["","U+E6D3"],["","U+EB71"],["","U+E103"],["󾮒","U+FEB92"]],"🔠":["U+1F520","input symbol for latin capital letters","1f520",["-","-"],["","U+EAFD"],["-","-"],["󾭼","U+FEB7C"]],"🔡":["U+1F521","input symbol for latin small letters","1f521",["-","-"],["","U+EAFE"],["-","-"],["󾭽","U+FEB7D"]],"🔢":["U+1F522","input symbol for numbers","1f522",["-","-"],["","U+EAFF"],["-","-"],["󾭾","U+FEB7E"]],"🔣":["U+1F523","input symbol for symbols","1f523",["-","-"],["","U+EB00"],["-","-"],["󾭿","U+FEB7F"]],"🔤":["U+1F524","input symbol for latin letters","1f524",["-","-"],["","U+EB55"],["-","-"],["󾮀","U+FEB80"]],"✒":["U+2712","black nib","2712",["","U+E6AE"],["","U+EB03"],["-","-"],["󾔶","U+FE536"]],"💺":["U+1F4BA","seat","1f4ba",["","U+E6B2"],["-","-"],["","U+E11F"],["󾔷","U+FE537"]],"💻":["U+1F4BB","personal computer","1f4bb",["","U+E716"],["","U+E5B8"],["","U+E00C"],["󾔸","U+FE538"]],"✏":["U+270F","pencil","270f",["","U+E719"],["","U+E4A1"],["","U+E301"],["󾔹","U+FE539"]],"📎":["U+1F4CE","paperclip","1f4ce",["","U+E730"],["","U+E4A0"],["-","-"],["󾔺","U+FE53A"]],"💼":["U+1F4BC","briefcase","1f4bc",["","U+E682"],["","U+E5CE"],["","U+E11E"],["󾔻","U+FE53B"]],"💽":["U+1F4BD","minidisc","1f4bd",["-","-"],["","U+E582"],["","U+E316"],["󾔼","U+FE53C"]],"💾":["U+1F4BE","floppy disk","1f4be",["-","-"],["","U+E562"],["","U+E316"],["󾔽","U+FE53D"]],"💿":["U+1F4BF","optical disc","1f4bf",["","U+E68C"],["","U+E50C"],["","U+E126"],["󾠝","U+FE81D"]],"📀":["U+1F4C0","dvd","1f4c0",["","U+E68C"],["","U+E50C"],["","U+E127"],["󾠞","U+FE81E"]],"✂":["U+2702","black scissors","2702",["","U+E675"],["","U+E516"],["","U+E313"],["󾔾","U+FE53E"]],"📍":["U+1F4CD","round pushpin","1f4cd",["-","-"],["","U+E560"],["-","-"],["󾔿","U+FE53F"]],"📃":["U+1F4C3","page with curl","1f4c3",["","U+E689"],["","U+E561"],["","U+E301"],["󾕀","U+FE540"]],"📄":["U+1F4C4","page facing up","1f4c4",["","U+E689"],["","U+E569"],["","U+E301"],["󾕁","U+FE541"]],"📅":["U+1F4C5","calendar","1f4c5",["-","-"],["","U+E563"],["-","-"],["󾕂","U+FE542"]],"📁":["U+1F4C1","file folder","1f4c1",["-","-"],["","U+E58F"],["-","-"],["󾕃","U+FE543"]],"📂":["U+1F4C2","open file folder","1f4c2",["-","-"],["","U+E590"],["-","-"],["󾕄","U+FE544"]],"📓":["U+1F4D3","notebook","1f4d3",["","U+E683"],["","U+E56B"],["","U+E148"],["󾕅","U+FE545"]],"📖":["U+1F4D6","open book","1f4d6",["","U+E683"],["","U+E49F"],["","U+E148"],["󾕆","U+FE546"]],"📔":["U+1F4D4","notebook with decorative cover","1f4d4",["","U+E683"],["","U+E49D"],["","U+E148"],["󾕇","U+FE547"]],"📕":["U+1F4D5","closed book","1f4d5",["","U+E683"],["","U+E568"],["","U+E148"],["󾔂","U+FE502"]],"📗":["U+1F4D7","green book","1f4d7",["","U+E683"],["","U+E565"],["","U+E148"],["󾓿","U+FE4FF"]],"📘":["U+1F4D8","blue book","1f4d8",["","U+E683"],["","U+E566"],["","U+E148"],["󾔀","U+FE500"]],"📙":["U+1F4D9","orange book","1f4d9",["","U+E683"],["","U+E567"],["","U+E148"],["󾔁","U+FE501"]],"📚":["U+1F4DA","books","1f4da",["","U+E683"],["","U+E56F"],["","U+E148"],["󾔃","U+FE503"]],"📛":["U+1F4DB","name badge","1f4db",["-","-"],["","U+E51D"],["-","-"],["󾔄","U+FE504"]],"📜":["U+1F4DC","scroll","1f4dc",["","U+E70A"],["","U+E55F"],["-","-"],["󾓽","U+FE4FD"]],"📋":["U+1F4CB","clipboard","1f4cb",["","U+E689"],["","U+E564"],["","U+E301"],["󾕈","U+FE548"]],"📆":["U+1F4C6","tear-off calendar","1f4c6",["-","-"],["","U+E56A"],["-","-"],["󾕉","U+FE549"]],"📊":["U+1F4CA","bar chart","1f4ca",["-","-"],["","U+E574"],["","U+E14A"],["󾕊","U+FE54A"]],"📈":["U+1F4C8","chart with upwards trend","1f4c8",["-","-"],["","U+E575"],["","U+E14A"],["󾕋","U+FE54B"]],"📉":["U+1F4C9","chart with downwards trend","1f4c9",["-","-"],["","U+E576"],["-","-"],["󾕌","U+FE54C"]],"📇":["U+1F4C7","card index","1f4c7",["","U+E683"],["","U+E56C"],["","U+E148"],["󾕍","U+FE54D"]],"📌":["U+1F4CC","pushpin","1f4cc",["-","-"],["","U+E56D"],["-","-"],["󾕎","U+FE54E"]],"📒":["U+1F4D2","ledger","1f4d2",["","U+E683"],["","U+E56E"],["","U+E148"],["󾕏","U+FE54F"]],"📏":["U+1F4CF","straight ruler","1f4cf",["-","-"],["","U+E570"],["-","-"],["󾕐","U+FE550"]],"📐":["U+1F4D0","triangular ruler","1f4d0",["-","-"],["","U+E4A2"],["-","-"],["󾕑","U+FE551"]],"📑":["U+1F4D1","bookmark tabs","1f4d1",["","U+E689"],["","U+EB0B"],["","U+E301"],["󾕒","U+FE552"]],"🎽":["U+1F3BD","running shirt with sash","1f3bd",["","U+E652"],["-","-"],["-","-"],["󾟐","U+FE7D0"]],"⚾":["U+26BE","baseball","26be",["","U+E653"],["","U+E4BA"],["","U+E016"],["󾟑","U+FE7D1"]],"⛳":["U+26F3","flag in hole","26f3",["","U+E654"],["","U+E599"],["","U+E014"],["󾟒","U+FE7D2"]],"🎾":["U+1F3BE","tennis racquet and ball","1f3be",["","U+E655"],["","U+E4B7"],["","U+E015"],["󾟓","U+FE7D3"]],"⚽":["U+26BD","soccer ball","26bd",["","U+E656"],["","U+E4B6"],["","U+E018"],["󾟔","U+FE7D4"]],"🎿":["U+1F3BF","ski and ski boot","1f3bf",["","U+E657"],["","U+EAAC"],["","U+E013"],["󾟕","U+FE7D5"]],"🏀":["U+1F3C0","basketball and hoop","1f3c0",["","U+E658"],["","U+E59A"],["","U+E42A"],["󾟖","U+FE7D6"]],"🏁":["U+1F3C1","chequered flag","1f3c1",["","U+E659"],["","U+E4B9"],["","U+E132"],["󾟗","U+FE7D7"]],"🏂":["U+1F3C2","snowboarder","1f3c2",["","U+E712"],["","U+E4B8"],["-","-"],["󾟘","U+FE7D8"]],"🏃":["U+1F3C3","runner","1f3c3",["","U+E733"],["","U+E46B"],["","U+E115"],["󾟙","U+FE7D9"]],"🏄":["U+1F3C4","surfer","1f3c4",["","U+E712"],["","U+EB41"],["","U+E017"],["󾟚","U+FE7DA"]],"🏆":["U+1F3C6","trophy","1f3c6",["-","-"],["","U+E5D3"],["","U+E131"],["󾟛","U+FE7DB"]],"🏈":["U+1F3C8","american football","1f3c8",["-","-"],["","U+E4BB"],["","U+E42B"],["󾟝","U+FE7DD"]],"🏊":["U+1F3CA","swimmer","1f3ca",["-","-"],["","U+EADE"],["","U+E42D"],["󾟞","U+FE7DE"]],"🚃":["U+1F683","railway car","1f683",["","U+E65B"],["","U+E4B5"],["","U+E01E"],["󾟟","U+FE7DF"]],"🚇":["U+1F687","metro","1f687",["","U+E65C"],["","U+E5BC"],["","U+E434"],["󾟠","U+FE7E0"]],"Ⓜ":["U+24C2","circled latin capital letter m","24c2",["","U+E65C"],["","U+E5BC"],["","U+E434"],["󾟡","U+FE7E1"]],"🚄":["U+1F684","high-speed train","1f684",["","U+E65D"],["","U+E4B0"],["","U+E435"],["󾟢","U+FE7E2"]],"🚅":["U+1F685","high-speed train with bullet nose","1f685",["","U+E65D"],["","U+E4B0"],["","U+E01F"],["󾟣","U+FE7E3"]],"🚗":["U+1F697","automobile","1f697",["","U+E65E"],["","U+E4B1"],["","U+E01B"],["󾟤","U+FE7E4"]],"🚙":["U+1F699","recreational vehicle","1f699",["","U+E65F"],["","U+E4B1"],["","U+E42E"],["󾟥","U+FE7E5"]],"🚌":["U+1F68C","bus","1f68c",["","U+E660"],["","U+E4AF"],["","U+E159"],["󾟦","U+FE7E6"]],"🚏":["U+1F68F","bus stop","1f68f",["-","-"],["","U+E4A7"],["","U+E150"],["󾟧","U+FE7E7"]],"🚢":["U+1F6A2","ship","1f6a2",["","U+E661"],["","U+EA82"],["","U+E202"],["󾟨","U+FE7E8"]],"✈":["U+2708","airplane","2708",["","U+E662"],["","U+E4B3"],["","U+E01D"],["󾟩","U+FE7E9"]],"⛵":["U+26F5","sailboat","26f5",["","U+E6A3"],["","U+E4B4"],["","U+E01C"],["󾟪","U+FE7EA"]],"🚉":["U+1F689","station","1f689",["-","-"],["","U+EB6D"],["","U+E039"],["󾟬","U+FE7EC"]],"🚀":["U+1F680","rocket","1f680",["-","-"],["","U+E5C8"],["","U+E10D"],["󾟭","U+FE7ED"]],"🚤":["U+1F6A4","speedboat","1f6a4",["","U+E6A3"],["","U+E4B4"],["","U+E135"],["󾟮","U+FE7EE"]],"🚕":["U+1F695","taxi","1f695",["","U+E65E"],["","U+E4B1"],["","U+E15A"],["󾟯","U+FE7EF"]],"🚚":["U+1F69A","delivery truck","1f69a",["-","-"],["","U+E4B2"],["","U+E42F"],["󾟱","U+FE7F1"]],"🚒":["U+1F692","fire engine","1f692",["-","-"],["","U+EADF"],["","U+E430"],["󾟲","U+FE7F2"]],"🚑":["U+1F691","ambulance","1f691",["-","-"],["","U+EAE0"],["","U+E431"],["󾟳","U+FE7F3"]],"🚓":["U+1F693","police car","1f693",["-","-"],["","U+EAE1"],["","U+E432"],["󾟴","U+FE7F4"]],"⛽":["U+26FD","fuel pump","26fd",["","U+E66B"],["","U+E571"],["","U+E03A"],["󾟵","U+FE7F5"]],"🅿":["U+1F17F","negative squared latin capital letter p","1f17f",["","U+E66C"],["","U+E4A6"],["","U+E14F"],["󾟶","U+FE7F6"]],"🚥":["U+1F6A5","horizontal traffic light","1f6a5",["","U+E66D"],["","U+E46A"],["","U+E14E"],["󾟷","U+FE7F7"]],"🚧":["U+1F6A7","construction sign","1f6a7",["-","-"],["","U+E5D7"],["","U+E137"],["󾟸","U+FE7F8"]],"🚨":["U+1F6A8","police cars revolving light","1f6a8",["-","-"],["","U+EB73"],["","U+E432"],["󾟹","U+FE7F9"]],"♨":["U+2668","hot springs","2668",["","U+E6F7"],["","U+E4BC"],["","U+E123"],["󾟺","U+FE7FA"]],"⛺":["U+26FA","tent","26fa",["-","-"],["","U+E5D0"],["","U+E122"],["󾟻","U+FE7FB"]],"🎠":["U+1F3A0","carousel horse","1f3a0",["","U+E679"],["-","-"],["-","-"],["󾟼","U+FE7FC"]],"🎡":["U+1F3A1","ferris wheel","1f3a1",["-","-"],["","U+E46D"],["","U+E124"],["󾟽","U+FE7FD"]],"🎢":["U+1F3A2","roller coaster","1f3a2",["-","-"],["","U+EAE2"],["","U+E433"],["󾟾","U+FE7FE"]],"🎣":["U+1F3A3","fishing pole and fish","1f3a3",["","U+E751"],["","U+EB42"],["","U+E019"],["󾟿","U+FE7FF"]],"🎤":["U+1F3A4","microphone","1f3a4",["","U+E676"],["","U+E503"],["","U+E03C"],["󾠀","U+FE800"]],"🎥":["U+1F3A5","movie camera","1f3a5",["","U+E677"],["","U+E517"],["","U+E03D"],["󾠁","U+FE801"]],"🎦":["U+1F3A6","cinema","1f3a6",["","U+E677"],["","U+E517"],["","U+E507"],["󾠂","U+FE802"]],"🎧":["U+1F3A7","headphone","1f3a7",["","U+E67A"],["","U+E508"],["","U+E30A"],["󾠃","U+FE803"]],"🎨":["U+1F3A8","artist palette","1f3a8",["","U+E67B"],["","U+E59C"],["","U+E502"],["󾠄","U+FE804"]],"🎩":["U+1F3A9","top hat","1f3a9",["","U+E67C"],["","U+EAF5"],["","U+E503"],["󾠅","U+FE805"]],"🎪":["U+1F3AA","circus tent","1f3aa",["","U+E67D"],["","U+E59E"],["-","-"],["󾠆","U+FE806"]],"🎫":["U+1F3AB","ticket","1f3ab",["","U+E67E"],["","U+E49E"],["","U+E125"],["󾠇","U+FE807"]],"🎬":["U+1F3AC","clapper board","1f3ac",["","U+E6AC"],["","U+E4BE"],["","U+E324"],["󾠈","U+FE808"]],"🎭":["U+1F3AD","performing arts","1f3ad",["-","-"],["","U+E59D"],["","U+E503"],["󾠉","U+FE809"]],"🎮":["U+1F3AE","video game","1f3ae",["","U+E68B"],["","U+E4C6"],["-","-"],["󾠊","U+FE80A"]],"🀄":["U+1F004","mahjong tile red dragon","1f004",["-","-"],["","U+E5D1"],["","U+E12D"],["󾠋","U+FE80B"]],"🎯":["U+1F3AF","direct hit","1f3af",["-","-"],["","U+E4C5"],["","U+E130"],["󾠌","U+FE80C"]],"🎰":["U+1F3B0","slot machine","1f3b0",["-","-"],["","U+E46E"],["","U+E133"],["󾠍","U+FE80D"]],"🎱":["U+1F3B1","billiards","1f3b1",["-","-"],["","U+EADD"],["","U+E42C"],["󾠎","U+FE80E"]],"🎲":["U+1F3B2","game die","1f3b2",["-","-"],["","U+E4C8"],["-","-"],["󾠏","U+FE80F"]],"🎳":["U+1F3B3","bowling","1f3b3",["-","-"],["","U+EB43"],["-","-"],["󾠐","U+FE810"]],"🎴":["U+1F3B4","flower playing cards","1f3b4",["-","-"],["","U+EB6E"],["-","-"],["󾠑","U+FE811"]],"🃏":["U+1F0CF","playing card black joker","1f0cf",["-","-"],["","U+EB6F"],["-","-"],["󾠒","U+FE812"]],"🎵":["U+1F3B5","musical note","1f3b5",["","U+E6F6"],["","U+E5BE"],["","U+E03E"],["󾠓","U+FE813"]],"🎶":["U+1F3B6","multiple musical notes","1f3b6",["","U+E6FF"],["","U+E505"],["","U+E326"],["󾠔","U+FE814"]],"🎷":["U+1F3B7","saxophone","1f3b7",["-","-"],["-","-"],["","U+E040"],["󾠕","U+FE815"]],"🎸":["U+1F3B8","guitar","1f3b8",["-","-"],["","U+E506"],["","U+E041"],["󾠖","U+FE816"]],"🎹":["U+1F3B9","musical keyboard","1f3b9",["-","-"],["","U+EB40"],["-","-"],["󾠗","U+FE817"]],"🎺":["U+1F3BA","trumpet","1f3ba",["-","-"],["","U+EADC"],["","U+E042"],["󾠘","U+FE818"]],"🎻":["U+1F3BB","violin","1f3bb",["-","-"],["","U+E507"],["-","-"],["󾠙","U+FE819"]],"🎼":["U+1F3BC","musical score","1f3bc",["","U+E6FF"],["","U+EACC"],["","U+E326"],["󾠚","U+FE81A"]],"〽":["U+303D","part alternation mark","303d",["-","-"],["-","-"],["","U+E12C"],["󾠛","U+FE81B"]],"📷":["U+1F4F7","camera","1f4f7",["","U+E681"],["","U+E515"],["","U+E008"],["󾓯","U+FE4EF"]],"📹":["U+1F4F9","video camera","1f4f9",["","U+E677"],["","U+E57E"],["","U+E03D"],["󾓹","U+FE4F9"]],"📺":["U+1F4FA","television","1f4fa",["","U+E68A"],["","U+E502"],["","U+E12A"],["󾠜","U+FE81C"]],"📻":["U+1F4FB","radio","1f4fb",["-","-"],["","U+E5B9"],["","U+E128"],["󾠟","U+FE81F"]],"📼":["U+1F4FC","videocassette","1f4fc",["-","-"],["","U+E580"],["","U+E129"],["󾠠","U+FE820"]],"💋":["U+1F48B","kiss mark","1f48b",["","U+E6F9"],["","U+E4EB"],["","U+E003"],["󾠣","U+FE823"]],"💌":["U+1F48C","love letter","1f48c",["","U+E717"],["","U+EB78"],["","U+E103 U+E328"],["󾠤","U+FE824"]],"💍":["U+1F48D","ring","1f48d",["","U+E71B"],["","U+E514"],["","U+E034"],["󾠥","U+FE825"]],"💎":["U+1F48E","gem stone","1f48e",["","U+E71B"],["","U+E514"],["","U+E035"],["󾠦","U+FE826"]],"💏":["U+1F48F","kiss","1f48f",["","U+E6F9"],["","U+E5CA"],["","U+E111"],["󾠧","U+FE827"]],"💐":["U+1F490","bouquet","1f490",["-","-"],["","U+EA95"],["","U+E306"],["󾠨","U+FE828"]],"💑":["U+1F491","couple with heart","1f491",["","U+E6ED"],["","U+EADA"],["","U+E425"],["󾠩","U+FE829"]],"💒":["U+1F492","wedding","1f492",["-","-"],["","U+E5BB"],["","U+E43D"],["󾠪","U+FE82A"]],"🔞":["U+1F51E","no one under eighteen symbol","1f51e",["-","-"],["","U+EA83"],["","U+E207"],["󾬥","U+FEB25"]],"©":["U+00A9","copyright sign","a9",["","U+E731"],["","U+E558"],["","U+E24E"],["󾬩","U+FEB29"]],"®":["U+00AE","registered sign","ae",["","U+E736"],["","U+E559"],["","U+E24F"],["󾬭","U+FEB2D"]],"™":["U+2122","trade mark sign","2122",["","U+E732"],["","U+E54E"],["","U+E537"],["󾬪","U+FEB2A"]],ℹ:["U+2139","information source","2139",["-","-"],["","U+E533"],["-","-"],["󾭇","U+FEB47"]],"#⃣":["U+0023 U+20E3","hash key","2320e3",["","U+E6E0"],["","U+EB84"],["","U+E210"],["󾠬","U+FE82C"]],"1⃣":["U+0031 U+20E3","keycap 1","3120e3",["","U+E6E2"],["","U+E522"],["","U+E21C"],["󾠮","U+FE82E"]],"2⃣":["U+0032 U+20E3","keycap 2","3220e3",["","U+E6E3"],["","U+E523"],["","U+E21D"],["󾠯","U+FE82F"]],"3⃣":["U+0033 U+20E3","keycap 3","3320e3",["","U+E6E4"],["","U+E524"],["","U+E21E"],["󾠰","U+FE830"]],"4⃣":["U+0034 U+20E3","keycap 4","3420e3",["","U+E6E5"],["","U+E525"],["","U+E21F"],["󾠱","U+FE831"]],"5⃣":["U+0035 U+20E3","keycap 5","3520e3",["","U+E6E6"],["","U+E526"],["","U+E220"],["󾠲","U+FE832"]],"6⃣":["U+0036 U+20E3","keycap 6","3620e3",["","U+E6E7"],["","U+E527"],["","U+E221"],["󾠳","U+FE833"]],"7⃣":["U+0037 U+20E3","keycap 7","3720e3",["","U+E6E8"],["","U+E528"],["","U+E222"],["󾠴","U+FE834"]],"8⃣":["U+0038 U+20E3","keycap 8","3820e3",["","U+E6E9"],["","U+E529"],["","U+E223"],["󾠵","U+FE835"]],"9⃣":["U+0039 U+20E3","keycap 9","3920e3",["","U+E6EA"],["","U+E52A"],["","U+E224"],["󾠶","U+FE836"]],"0⃣":["U+0030 U+20E3","keycap 0","3020e3",["","U+E6EB"],["","U+E5AC"],["","U+E225"],["󾠷","U+FE837"]],"🔟":["U+1F51F","keycap ten","1f51f",["-","-"],["","U+E52B"],["-","-"],["󾠻","U+FE83B"]],"📶":["U+1F4F6","antenna with bars","1f4f6",["-","-"],["","U+EA84"],["","U+E20B"],["󾠸","U+FE838"]],"📳":["U+1F4F3","vibration mode","1f4f3",["-","-"],["","U+EA90"],["","U+E250"],["󾠹","U+FE839"]],"📴":["U+1F4F4","mobile phone off","1f4f4",["-","-"],["","U+EA91"],["","U+E251"],["󾠺","U+FE83A"]],"🍔":["U+1F354","hamburger","1f354",["","U+E673"],["","U+E4D6"],["","U+E120"],["󾥠","U+FE960"]],"🍙":["U+1F359","rice ball","1f359",["","U+E749"],["","U+E4D5"],["","U+E342"],["󾥡","U+FE961"]],"🍰":["U+1F370","shortcake","1f370",["","U+E74A"],["","U+E4D0"],["","U+E046"],["󾥢","U+FE962"]],"🍜":["U+1F35C","steaming bowl","1f35c",["","U+E74C"],["","U+E5B4"],["","U+E340"],["󾥣","U+FE963"]],"🍞":["U+1F35E","bread","1f35e",["","U+E74D"],["","U+EAAF"],["","U+E339"],["󾥤","U+FE964"]],"🍳":["U+1F373","cooking","1f373",["-","-"],["","U+E4D1"],["","U+E147"],["󾥥","U+FE965"]],"🍦":["U+1F366","soft ice cream","1f366",["-","-"],["","U+EAB0"],["","U+E33A"],["󾥦","U+FE966"]],"🍟":["U+1F35F","french fries","1f35f",["-","-"],["","U+EAB1"],["","U+E33B"],["󾥧","U+FE967"]],"🍡":["U+1F361","dango","1f361",["-","-"],["","U+EAB2"],["","U+E33C"],["󾥨","U+FE968"]],"🍘":["U+1F358","rice cracker","1f358",["-","-"],["","U+EAB3"],["","U+E33D"],["󾥩","U+FE969"]],"🍚":["U+1F35A","cooked rice","1f35a",["","U+E74C"],["","U+EAB4"],["","U+E33E"],["󾥪","U+FE96A"]],"🍝":["U+1F35D","spaghetti","1f35d",["-","-"],["","U+EAB5"],["","U+E33F"],["󾥫","U+FE96B"]],"🍛":["U+1F35B","curry and rice","1f35b",["-","-"],["","U+EAB6"],["","U+E341"],["󾥬","U+FE96C"]],"🍢":["U+1F362","oden","1f362",["-","-"],["","U+EAB7"],["","U+E343"],["󾥭","U+FE96D"]],"🍣":["U+1F363","sushi","1f363",["-","-"],["","U+EAB8"],["","U+E344"],["󾥮","U+FE96E"]],"🍱":["U+1F371","bento box","1f371",["-","-"],["","U+EABD"],["","U+E34C"],["󾥯","U+FE96F"]],"🍲":["U+1F372","pot of food","1f372",["-","-"],["","U+EABE"],["","U+E34D"],["󾥰","U+FE970"]],"🍧":["U+1F367","shaved ice","1f367",["-","-"],["","U+EAEA"],["","U+E43F"],["󾥱","U+FE971"]],"🍖":["U+1F356","meat on bone","1f356",["-","-"],["","U+E4C4"],["-","-"],["󾥲","U+FE972"]],"🍥":["U+1F365","fish cake with swirl design","1f365",["","U+E643"],["","U+E4ED"],["-","-"],["󾥳","U+FE973"]],"🍠":["U+1F360","roasted sweet potato","1f360",["-","-"],["","U+EB3A"],["-","-"],["󾥴","U+FE974"]],"🍕":["U+1F355","slice of pizza","1f355",["-","-"],["","U+EB3B"],["-","-"],["󾥵","U+FE975"]],"🍗":["U+1F357","poultry leg","1f357",["-","-"],["","U+EB3C"],["-","-"],["󾥶","U+FE976"]],"🍨":["U+1F368","ice cream","1f368",["-","-"],["","U+EB4A"],["-","-"],["󾥷","U+FE977"]],"🍩":["U+1F369","doughnut","1f369",["-","-"],["","U+EB4B"],["-","-"],["󾥸","U+FE978"]],"🍪":["U+1F36A","cookie","1f36a",["-","-"],["","U+EB4C"],["-","-"],["󾥹","U+FE979"]],"🍫":["U+1F36B","chocolate bar","1f36b",["-","-"],["","U+EB4D"],["-","-"],["󾥺","U+FE97A"]],"🍬":["U+1F36C","candy","1f36c",["-","-"],["","U+EB4E"],["-","-"],["󾥻","U+FE97B"]],"🍭":["U+1F36D","lollipop","1f36d",["-","-"],["","U+EB4F"],["-","-"],["󾥼","U+FE97C"]],"🍮":["U+1F36E","custard","1f36e",["-","-"],["","U+EB56"],["-","-"],["󾥽","U+FE97D"]],"🍯":["U+1F36F","honey pot","1f36f",["-","-"],["","U+EB59"],["-","-"],["󾥾","U+FE97E"]],"🍤":["U+1F364","fried shrimp","1f364",["-","-"],["","U+EB70"],["-","-"],["󾥿","U+FE97F"]],"🍴":["U+1F374","fork and knife","1f374",["","U+E66F"],["","U+E4AC"],["","U+E043"],["󾦀","U+FE980"]],"☕":["U+2615","hot beverage","2615",["","U+E670"],["","U+E597"],["","U+E045"],["󾦁","U+FE981"]],"🍸":["U+1F378","cocktail glass","1f378",["","U+E671"],["","U+E4C2"],["","U+E044"],["󾦂","U+FE982"]],"🍺":["U+1F37A","beer mug","1f37a",["","U+E672"],["","U+E4C3"],["","U+E047"],["󾦃","U+FE983"]],"🍵":["U+1F375","teacup without handle","1f375",["","U+E71E"],["","U+EAAE"],["","U+E338"],["󾦄","U+FE984"]],"🍶":["U+1F376","sake bottle and cup","1f376",["","U+E74B"],["","U+EA97"],["","U+E30B"],["󾦅","U+FE985"]],"🍷":["U+1F377","wine glass","1f377",["","U+E756"],["","U+E4C1"],["","U+E044"],["󾦆","U+FE986"]],"🍻":["U+1F37B","clinking beer mugs","1f37b",["","U+E672"],["","U+EA98"],["","U+E30C"],["󾦇","U+FE987"]],"🍹":["U+1F379","tropical drink","1f379",["","U+E671"],["","U+EB3E"],["","U+E044"],["󾦈","U+FE988"]],"↗":["U+2197","north east arrow","2197",["","U+E678"],["","U+E555"],["","U+E236"],["󾫰","U+FEAF0"]],"↘":["U+2198","south east arrow","2198",["","U+E696"],["","U+E54D"],["","U+E238"],["󾫱","U+FEAF1"]],"↖":["U+2196","north west arrow","2196",["","U+E697"],["","U+E54C"],["","U+E237"],["󾫲","U+FEAF2"]],"↙":["U+2199","south west arrow","2199",["","U+E6A5"],["","U+E556"],["","U+E239"],["󾫳","U+FEAF3"]],"⤴":["U+2934","arrow pointing rightwards then curving upwards","2934",["","U+E6F5"],["","U+EB2D"],["","U+E236"],["󾫴","U+FEAF4"]],"⤵":["U+2935","arrow pointing rightwards then curving downwards","2935",["","U+E700"],["","U+EB2E"],["","U+E238"],["󾫵","U+FEAF5"]],"↔":["U+2194","left right arrow","2194",["","U+E73C"],["","U+EB7A"],["-","-"],["󾫶","U+FEAF6"]],"↕":["U+2195","up down arrow","2195",["","U+E73D"],["","U+EB7B"],["-","-"],["󾫷","U+FEAF7"]],"⬆":["U+2B06","upwards black arrow","2b06",["-","-"],["","U+E53F"],["","U+E232"],["󾫸","U+FEAF8"]],"⬇":["U+2B07","downwards black arrow","2b07",["-","-"],["","U+E540"],["","U+E233"],["󾫹","U+FEAF9"]],"➡":["U+27A1","black rightwards arrow","27a1",["-","-"],["","U+E552"],["","U+E234"],["󾫺","U+FEAFA"]],"⬅":["U+2B05","leftwards black arrow","2b05",["-","-"],["","U+E553"],["","U+E235"],["󾫻","U+FEAFB"]],"▶":["U+25B6","black right-pointing triangle","25b6",["-","-"],["","U+E52E"],["","U+E23A"],["󾫼","U+FEAFC"]],"◀":["U+25C0","black left-pointing triangle","25c0",["-","-"],["","U+E52D"],["","U+E23B"],["󾫽","U+FEAFD"]],"⏩":["U+23E9","black right-pointing double triangle","23e9",["-","-"],["","U+E530"],["","U+E23C"],["󾫾","U+FEAFE"]],"⏪":["U+23EA","black left-pointing double triangle","23ea",["-","-"],["","U+E52F"],["","U+E23D"],["󾫿","U+FEAFF"]],"⏫":["U+23EB","black up-pointing double triangle","23eb",["-","-"],["","U+E545"],["-","-"],["󾬃","U+FEB03"]],"⏬":["U+23EC","black down-pointing double triangle","23ec",["-","-"],["","U+E544"],["-","-"],["󾬂","U+FEB02"]],"🔺":["U+1F53A","up-pointing red triangle","1f53a",["-","-"],["","U+E55A"],["-","-"],["󾭸","U+FEB78"]],"🔻":["U+1F53B","down-pointing red triangle","1f53b",["-","-"],["","U+E55B"],["-","-"],["󾭹","U+FEB79"]],"🔼":["U+1F53C","up-pointing small red triangle","1f53c",["-","-"],["","U+E543"],["-","-"],["󾬁","U+FEB01"]],"🔽":["U+1F53D","down-pointing small red triangle","1f53d",["-","-"],["","U+E542"],["-","-"],["󾬀","U+FEB00"]],"⭕":["U+2B55","heavy large circle","2b55",["","U+E6A0"],["","U+EAAD"],["","U+E332"],["󾭄","U+FEB44"]],"❌":["U+274C","cross mark","274c",["-","-"],["","U+E550"],["","U+E333"],["󾭅","U+FEB45"]],"❎":["U+274E","negative squared cross mark","274e",["-","-"],["","U+E551"],["","U+E333"],["󾭆","U+FEB46"]],"❗":["U+2757","heavy exclamation mark symbol","2757",["","U+E702"],["","U+E482"],["","U+E021"],["󾬄","U+FEB04"]],"⁉":["U+2049","exclamation question mark","2049",["","U+E703"],["","U+EB2F"],["-","-"],["󾬅","U+FEB05"]],"‼":["U+203C","double exclamation mark","203c",["","U+E704"],["","U+EB30"],["-","-"],["󾬆","U+FEB06"]],"❓":["U+2753","black question mark ornament","2753",["-","-"],["","U+E483"],["","U+E020"],["󾬉","U+FEB09"]],"❔":["U+2754","white question mark ornament","2754",["-","-"],["","U+E483"],["","U+E336"],["󾬊","U+FEB0A"]],"❕":["U+2755","white exclamation mark ornament","2755",["","U+E702"],["","U+E482"],["","U+E337"],["󾬋","U+FEB0B"]],"〰":["U+3030","wavy dash","3030",["","U+E709"],["-","-"],["-","-"],["󾬇","U+FEB07"]],"➰":["U+27B0","curly loop","27b0",["","U+E70A"],["","U+EB31"],["-","-"],["󾬈","U+FEB08"]],"➿":["U+27BF","double curly loop","27bf",["","U+E6DF"],["-","-"],["","U+E211"],["󾠫","U+FE82B"]],"❤":["U+2764","heavy black heart","2764",["","U+E6EC"],["","U+E595"],["","U+E022"],["󾬌","U+FEB0C"]],"💓":["U+1F493","beating heart","1f493",["","U+E6ED"],["","U+EB75"],["","U+E327"],["󾬍","U+FEB0D"]],"💔":["U+1F494","broken heart","1f494",["","U+E6EE"],["","U+E477"],["","U+E023"],["󾬎","U+FEB0E"]],"💕":["U+1F495","two hearts","1f495",["","U+E6EF"],["","U+E478"],["","U+E327"],["󾬏","U+FEB0F"]],"💖":["U+1F496","sparkling heart","1f496",["","U+E6EC"],["","U+EAA6"],["","U+E327"],["󾬐","U+FEB10"]],"💗":["U+1F497","growing heart","1f497",["","U+E6ED"],["","U+EB75"],["","U+E328"],["󾬑","U+FEB11"]],"💘":["U+1F498","heart with arrow","1f498",["","U+E6EC"],["","U+E4EA"],["","U+E329"],["󾬒","U+FEB12"]],"💙":["U+1F499","blue heart","1f499",["","U+E6EC"],["","U+EAA7"],["","U+E32A"],["󾬓","U+FEB13"]],"💚":["U+1F49A","green heart","1f49a",["","U+E6EC"],["","U+EAA8"],["","U+E32B"],["󾬔","U+FEB14"]],"💛":["U+1F49B","yellow heart","1f49b",["","U+E6EC"],["","U+EAA9"],["","U+E32C"],["󾬕","U+FEB15"]],"💜":["U+1F49C","purple heart","1f49c",["","U+E6EC"],["","U+EAAA"],["","U+E32D"],["󾬖","U+FEB16"]],"💝":["U+1F49D","heart with ribbon","1f49d",["","U+E6EC"],["","U+EB54"],["","U+E437"],["󾬗","U+FEB17"]],"💞":["U+1F49E","revolving hearts","1f49e",["","U+E6ED"],["","U+E5AF"],["","U+E327"],["󾬘","U+FEB18"]],"💟":["U+1F49F","heart decoration","1f49f",["","U+E6F8"],["","U+E595"],["","U+E204"],["󾬙","U+FEB19"]],"♥":["U+2665","black heart suit","2665",["","U+E68D"],["","U+EAA5"],["","U+E20C"],["󾬚","U+FEB1A"]],"♠":["U+2660","black spade suit","2660",["","U+E68E"],["","U+E5A1"],["","U+E20E"],["󾬛","U+FEB1B"]],"♦":["U+2666","black diamond suit","2666",["","U+E68F"],["","U+E5A2"],["","U+E20D"],["󾬜","U+FEB1C"]],"♣":["U+2663","black club suit","2663",["","U+E690"],["","U+E5A3"],["","U+E20F"],["󾬝","U+FEB1D"]],"🚬":["U+1F6AC","smoking symbol","1f6ac",["","U+E67F"],["","U+E47D"],["","U+E30E"],["󾬞","U+FEB1E"]],"🚭":["U+1F6AD","no smoking symbol","1f6ad",["","U+E680"],["","U+E47E"],["","U+E208"],["󾬟","U+FEB1F"]],"♿":["U+267F","wheelchair symbol","267f",["","U+E69B"],["","U+E47F"],["","U+E20A"],["󾬠","U+FEB20"]],"🚩":["U+1F6A9","triangular flag on post","1f6a9",["","U+E6DE"],["","U+EB2C"],["-","-"],["󾬢","U+FEB22"]],"⚠":["U+26A0","warning sign","26a0",["","U+E737"],["","U+E481"],["","U+E252"],["󾬣","U+FEB23"]],"⛔":["U+26D4","no entry","26d4",["","U+E72F"],["","U+E484"],["","U+E137"],["󾬦","U+FEB26"]],"♻":["U+267B","black universal recycling symbol","267b",["","U+E735"],["","U+EB79"],["-","-"],["󾬬","U+FEB2C"]],"🚲":["U+1F6B2","bicycle","1f6b2",["","U+E71D"],["","U+E4AE"],["","U+E136"],["󾟫","U+FE7EB"]],"🚶":["U+1F6B6","pedestrian","1f6b6",["","U+E733"],["","U+EB72"],["","U+E201"],["󾟰","U+FE7F0"]],"🚹":["U+1F6B9","mens symbol","1f6b9",["-","-"],["-","-"],["","U+E138"],["󾬳","U+FEB33"]],"🚺":["U+1F6BA","womens symbol","1f6ba",["-","-"],["-","-"],["","U+E139"],["󾬴","U+FEB34"]],"🛀":["U+1F6C0","bath","1f6c0",["","U+E6F7"],["","U+E5D8"],["","U+E13F"],["󾔅","U+FE505"]],"🚻":["U+1F6BB","restroom","1f6bb",["","U+E66E"],["","U+E4A5"],["","U+E151"],["󾔆","U+FE506"]],"🚽":["U+1F6BD","toilet","1f6bd",["","U+E66E"],["","U+E4A5"],["","U+E140"],["󾔇","U+FE507"]],"🚾":["U+1F6BE","water closet","1f6be",["","U+E66E"],["","U+E4A5"],["","U+E309"],["󾔈","U+FE508"]],"🚼":["U+1F6BC","baby symbol","1f6bc",["-","-"],["","U+EB18"],["","U+E13A"],["󾬵","U+FEB35"]],"🚪":["U+1F6AA","door","1f6aa",["","U+E714"],["-","-"],["-","-"],["󾓳","U+FE4F3"]],"🚫":["U+1F6AB","no entry sign","1f6ab",["","U+E738"],["","U+E541"],["-","-"],["󾭈","U+FEB48"]],"✔":["U+2714","heavy check mark","2714",["-","-"],["","U+E557"],["-","-"],["󾭉","U+FEB49"]],"🆑":["U+1F191","squared cl","1f191",["","U+E6DB"],["","U+E5AB"],["-","-"],["󾮄","U+FEB84"]],"🆒":["U+1F192","squared cool","1f192",["-","-"],["","U+EA85"],["","U+E214"],["󾬸","U+FEB38"]],"🆓":["U+1F193","squared free","1f193",["","U+E6D7"],["","U+E578"],["-","-"],["󾬡","U+FEB21"]],"🆔":["U+1F194","squared id","1f194",["","U+E6D8"],["","U+EA88"],["","U+E229"],["󾮁","U+FEB81"]],"🆕":["U+1F195","squared new","1f195",["","U+E6DD"],["","U+E5B5"],["","U+E212"],["󾬶","U+FEB36"]],"🆖":["U+1F196","squared ng","1f196",["","U+E72F"],["-","-"],["-","-"],["󾬨","U+FEB28"]],"🆗":["U+1F197","squared ok","1f197",["","U+E70B"],["","U+E5AD"],["","U+E24D"],["󾬧","U+FEB27"]],"🆘":["U+1F198","squared sos","1f198",["-","-"],["","U+E4E8"],["-","-"],["󾭏","U+FEB4F"]],"🆙":["U+1F199","squared up with exclamation mark","1f199",["-","-"],["","U+E50F"],["","U+E213"],["󾬷","U+FEB37"]],"🆚":["U+1F19A","squared vs","1f19a",["-","-"],["","U+E5D2"],["","U+E12E"],["󾬲","U+FEB32"]],"🈁":["U+1F201","squared katakana koko","1f201",["-","-"],["-","-"],["","U+E203"],["󾬤","U+FEB24"]],"🈂":["U+1F202","squared katakana sa","1f202",["-","-"],["","U+EA87"],["","U+E228"],["󾬿","U+FEB3F"]],"🈲":["U+1F232","squared cjk unified ideograph-7981","1f232",["","U+E738"],["-","-"],["-","-"],["󾬮","U+FEB2E"]],"🈳":["U+1F233","squared cjk unified ideograph-7a7a","1f233",["","U+E739"],["","U+EA8A"],["","U+E22B"],["󾬯","U+FEB2F"]],"🈴":["U+1F234","squared cjk unified ideograph-5408","1f234",["","U+E73A"],["-","-"],["-","-"],["󾬰","U+FEB30"]],"🈵":["U+1F235","squared cjk unified ideograph-6e80","1f235",["","U+E73B"],["","U+EA89"],["","U+E22A"],["󾬱","U+FEB31"]],"🈶":["U+1F236","squared cjk unified ideograph-6709","1f236",["-","-"],["-","-"],["","U+E215"],["󾬹","U+FEB39"]],"🈚":["U+1F21A","squared cjk unified ideograph-7121","1f21a",["-","-"],["-","-"],["","U+E216"],["󾬺","U+FEB3A"]],"🈷":["U+1F237","squared cjk unified ideograph-6708","1f237",["-","-"],["-","-"],["","U+E217"],["󾬻","U+FEB3B"]],"🈸":["U+1F238","squared cjk unified ideograph-7533","1f238",["-","-"],["-","-"],["","U+E218"],["󾬼","U+FEB3C"]],"🈹":["U+1F239","squared cjk unified ideograph-5272","1f239",["-","-"],["","U+EA86"],["","U+E227"],["󾬾","U+FEB3E"]],"🈯":["U+1F22F","squared cjk unified ideograph-6307","1f22f",["-","-"],["","U+EA8B"],["","U+E22C"],["󾭀","U+FEB40"]],"🈺":["U+1F23A","squared cjk unified ideograph-55b6","1f23a",["-","-"],["","U+EA8C"],["","U+E22D"],["󾭁","U+FEB41"]],"㊙":["U+3299","circled ideograph secret","3299",["","U+E734"],["","U+E4F1"],["","U+E315"],["󾬫","U+FEB2B"]],"㊗":["U+3297","circled ideograph congratulation","3297",["-","-"],["","U+EA99"],["","U+E30D"],["󾭃","U+FEB43"]],"🉐":["U+1F250","circled ideograph advantage","1f250",["-","-"],["","U+E4F7"],["","U+E226"],["󾬽","U+FEB3D"]],"🉑":["U+1F251","circled ideograph accept","1f251",["-","-"],["","U+EB01"],["-","-"],["󾭐","U+FEB50"]],"➕":["U+2795","heavy plus sign","2795",["-","-"],["","U+E53C"],["-","-"],["󾭑","U+FEB51"]],"➖":["U+2796","heavy minus sign","2796",["-","-"],["","U+E53D"],["-","-"],["󾭒","U+FEB52"]],"✖":["U+2716","heavy multiplication x","2716",["-","-"],["","U+E54F"],["","U+E333"],["󾭓","U+FEB53"]],"➗":["U+2797","heavy division sign","2797",["-","-"],["","U+E554"],["-","-"],["󾭔","U+FEB54"]],"💠":["U+1F4A0","diamond shape with a dot inside","1f4a0",["","U+E6F8"],["-","-"],["-","-"],["󾭕","U+FEB55"]],"💡":["U+1F4A1","electric light bulb","1f4a1",["","U+E6FB"],["","U+E476"],["","U+E10F"],["󾭖","U+FEB56"]],"💢":["U+1F4A2","anger symbol","1f4a2",["","U+E6FC"],["","U+E4E5"],["","U+E334"],["󾭗","U+FEB57"]],"💣":["U+1F4A3","bomb","1f4a3",["","U+E6FE"],["","U+E47A"],["","U+E311"],["󾭘","U+FEB58"]],"💤":["U+1F4A4","sleeping symbol","1f4a4",["","U+E701"],["","U+E475"],["","U+E13C"],["󾭙","U+FEB59"]],"💥":["U+1F4A5","collision symbol","1f4a5",["","U+E705"],["","U+E5B0"],["-","-"],["󾭚","U+FEB5A"]],"💦":["U+1F4A6","splashing sweat symbol","1f4a6",["","U+E706"],["","U+E5B1"],["","U+E331"],["󾭛","U+FEB5B"]],"💧":["U+1F4A7","droplet","1f4a7",["","U+E707"],["","U+E4E6"],["","U+E331"],["󾭜","U+FEB5C"]],"💨":["U+1F4A8","dash symbol","1f4a8",["","U+E708"],["","U+E4F4"],["","U+E330"],["󾭝","U+FEB5D"]],"💩":["U+1F4A9","pile of poo","1f4a9",["-","-"],["","U+E4F5"],["","U+E05A"],["󾓴","U+FE4F4"]],"💪":["U+1F4AA","flexed biceps","1f4aa",["-","-"],["","U+E4E9"],["","U+E14C"],["󾭞","U+FEB5E"]],"💫":["U+1F4AB","dizzy symbol","1f4ab",["-","-"],["","U+EB5C"],["","U+E407"],["󾭟","U+FEB5F"]],"💬":["U+1F4AC","speech balloon","1f4ac",["-","-"],["","U+E4FD"],["-","-"],["󾔲","U+FE532"]],"✨":["U+2728","sparkles","2728",["","U+E6FA"],["","U+EAAB"],["","U+E32E"],["󾭠","U+FEB60"]],"✴":["U+2734","eight pointed black star","2734",["","U+E6F8"],["","U+E479"],["","U+E205"],["󾭡","U+FEB61"]],"✳":["U+2733","eight spoked asterisk","2733",["","U+E6F8"],["","U+E53E"],["","U+E206"],["󾭢","U+FEB62"]],"⚪":["U+26AA","medium white circle","26aa",["","U+E69C"],["","U+E53A"],["","U+E219"],["󾭥","U+FEB65"]],"⚫":["U+26AB","medium black circle","26ab",["","U+E69C"],["","U+E53B"],["","U+E219"],["󾭦","U+FEB66"]],"🔴":["U+1F534","large red circle","1f534",["","U+E69C"],["","U+E54A"],["","U+E219"],["󾭣","U+FEB63"]],"🔵":["U+1F535","large blue circle","1f535",["","U+E69C"],["","U+E54B"],["","U+E21A"],["󾭤","U+FEB64"]],"🔲":["U+1F532","black square button","1f532",["","U+E69C"],["","U+E54B"],["","U+E21A"],["󾭤","U+FEB64"]],"🔳":["U+1F533","white square button","1f533",["","U+E69C"],["","U+E54B"],["","U+E21B"],["󾭧","U+FEB67"]],"⭐":["U+2B50","white medium star","2b50",["-","-"],["","U+E48B"],["","U+E32F"],["󾭨","U+FEB68"]],"⬜":["U+2B1C","white large square","2b1c",["-","-"],["","U+E548"],["","U+E21B"],["󾭫","U+FEB6B"]],"⬛":["U+2B1B","black large square","2b1b",["-","-"],["","U+E549"],["","U+E21A"],["󾭬","U+FEB6C"]],"▫":["U+25AB","white small square","25ab",["-","-"],["","U+E531"],["","U+E21B"],["󾭭","U+FEB6D"]],"▪":["U+25AA","black small square","25aa",["-","-"],["","U+E532"],["","U+E21A"],["󾭮","U+FEB6E"]],"◽":["U+25FD","white medium small square","25fd",["-","-"],["","U+E534"],["","U+E21B"],["󾭯","U+FEB6F"]],"◾":["U+25FE","black medium small square","25fe",["-","-"],["","U+E535"],["","U+E21A"],["󾭰","U+FEB70"]],"◻":["U+25FB","white medium square","25fb",["-","-"],["","U+E538"],["","U+E21B"],["󾭱","U+FEB71"]],"◼":["U+25FC","black medium square","25fc",["-","-"],["","U+E539"],["","U+E21A"],["󾭲","U+FEB72"]],"🔶":["U+1F536","large orange diamond","1f536",["-","-"],["","U+E546"],["","U+E21B"],["󾭳","U+FEB73"]],"🔷":["U+1F537","large blue diamond","1f537",["-","-"],["","U+E547"],["","U+E21B"],["󾭴","U+FEB74"]],"🔸":["U+1F538","small orange diamond","1f538",["-","-"],["","U+E536"],["","U+E21B"],["󾭵","U+FEB75"]],"🔹":["U+1F539","small blue diamond","1f539",["-","-"],["","U+E537"],["","U+E21B"],["󾭶","U+FEB76"]],"❇":["U+2747","sparkle","2747",["","U+E6FA"],["","U+E46C"],["","U+E32E"],["󾭷","U+FEB77"]],"💮":["U+1F4AE","white flower","1f4ae",["-","-"],["","U+E4F0"],["-","-"],["󾭺","U+FEB7A"]],"💯":["U+1F4AF","hundred points symbol","1f4af",["-","-"],["","U+E4F2"],["-","-"],["󾭻","U+FEB7B"]],"↩":["U+21A9","leftwards arrow with hook","21a9",["","U+E6DA"],["","U+E55D"],["-","-"],["󾮃","U+FEB83"]],"↪":["U+21AA","rightwards arrow with hook","21aa",["-","-"],["","U+E55C"],["-","-"],["󾮈","U+FEB88"]],"🔃":["U+1F503","clockwise downwards and upwards open circle arrows","1f503",["","U+E735"],["","U+EB0D"],["-","-"],["󾮑","U+FEB91"]],"🔊":["U+1F50A","speaker with three sound waves","1f50a",["-","-"],["","U+E511"],["","U+E141"],["󾠡","U+FE821"]],"🔋":["U+1F50B","battery","1f50b",["-","-"],["","U+E584"],["-","-"],["󾓼","U+FE4FC"]],"🔌":["U+1F50C","electric plug","1f50c",["-","-"],["","U+E589"],["-","-"],["󾓾","U+FE4FE"]],"🔍":["U+1F50D","left-pointing magnifying glass","1f50d",["","U+E6DC"],["","U+E518"],["","U+E114"],["󾮅","U+FEB85"]],"🔎":["U+1F50E","right-pointing magnifying glass","1f50e",["","U+E6DC"],["","U+EB05"],["","U+E114"],["󾮍","U+FEB8D"]],"🔒":["U+1F512","lock","1f512",["","U+E6D9"],["","U+E51C"],["","U+E144"],["󾮆","U+FEB86"]],"🔓":["U+1F513","open lock","1f513",["","U+E6D9"],["","U+E51C"],["","U+E145"],["󾮇","U+FEB87"]],"🔏":["U+1F50F","lock with ink pen","1f50f",["","U+E6D9"],["","U+EB0C"],["","U+E144"],["󾮐","U+FEB90"]],"🔐":["U+1F510","closed lock with key","1f510",["","U+E6D9"],["","U+EAFC"],["","U+E144"],["󾮊","U+FEB8A"]],"🔑":["U+1F511","key","1f511",["","U+E6D9"],["","U+E519"],["","U+E03F"],["󾮂","U+FEB82"]],"🔔":["U+1F514","bell","1f514",["","U+E713"],["","U+E512"],["","U+E325"],["󾓲","U+FE4F2"]],"☑":["U+2611","ballot box with check","2611",["-","-"],["","U+EB02"],["-","-"],["󾮋","U+FEB8B"]],"🔘":["U+1F518","radio button","1f518",["-","-"],["","U+EB04"],["-","-"],["󾮌","U+FEB8C"]],"🔖":["U+1F516","bookmark","1f516",["-","-"],["","U+EB07"],["-","-"],["󾮏","U+FEB8F"]],"🔗":["U+1F517","link symbol","1f517",["-","-"],["","U+E58A"],["-","-"],["󾭋","U+FEB4B"]],"🔙":["U+1F519","back with leftwards arrow above","1f519",["-","-"],["","U+EB06"],["","U+E235"],["󾮎","U+FEB8E"]],"🔚":["U+1F51A","end with leftwards arrow above","1f51a",["","U+E6B9"],["-","-"],["-","-"],["󾀚","U+FE01A"]],"🔛":["U+1F51B","on with exclamation mark with left right arrow above","1f51b",["","U+E6B8"],["-","-"],["-","-"],["󾀙","U+FE019"]],"🔜":["U+1F51C","soon with rightwards arrow above","1f51c",["","U+E6B7"],["-","-"],["-","-"],["󾀘","U+FE018"]],"🔝":["U+1F51D","top with upwards arrow above","1f51d",["-","-"],["-","-"],["","U+E24C"],["󾭂","U+FEB42"]],"✅":["U+2705","white heavy check mark","2705",["-","-"],["","U+E55E"],["-","-"],["󾭊","U+FEB4A"]],"✊":["U+270A","raised fist","270a",["","U+E693"],["","U+EB83"],["","U+E010"],["󾮓","U+FEB93"]],"✋":["U+270B","raised hand","270b",["","U+E695"],["","U+E5A7"],["","U+E012"],["󾮕","U+FEB95"]],"✌":["U+270C","victory hand","270c",["","U+E694"],["","U+E5A6"],["","U+E011"],["󾮔","U+FEB94"]],"👊":["U+1F44A","fisted hand sign","1f44a",["","U+E6FD"],["","U+E4F3"],["","U+E00D"],["󾮖","U+FEB96"]],"👍":["U+1F44D","thumbs up sign","1f44d",["","U+E727"],["","U+E4F9"],["","U+E00E"],["󾮗","U+FEB97"]],"☝":["U+261D","white up pointing index","261d",["-","-"],["","U+E4F6"],["","U+E00F"],["󾮘","U+FEB98"]],"👆":["U+1F446","white up pointing backhand index","1f446",["-","-"],["","U+EA8D"],["","U+E22E"],["󾮙","U+FEB99"]],"👇":["U+1F447","white down pointing backhand index","1f447",["-","-"],["","U+EA8E"],["","U+E22F"],["󾮚","U+FEB9A"]],"👈":["U+1F448","white left pointing backhand index","1f448",["-","-"],["","U+E4FF"],["","U+E230"],["󾮛","U+FEB9B"]],"👉":["U+1F449","white right pointing backhand index","1f449",["-","-"],["","U+E500"],["","U+E231"],["󾮜","U+FEB9C"]],"👋":["U+1F44B","waving hand sign","1f44b",["","U+E695"],["","U+EAD6"],["","U+E41E"],["󾮝","U+FEB9D"]],"👏":["U+1F44F","clapping hands sign","1f44f",["-","-"],["","U+EAD3"],["","U+E41F"],["󾮞","U+FEB9E"]],"👌":["U+1F44C","ok hand sign","1f44c",["","U+E70B"],["","U+EAD4"],["","U+E420"],["󾮟","U+FEB9F"]],"👎":["U+1F44E","thumbs down sign","1f44e",["","U+E700"],["","U+EAD5"],["","U+E421"],["󾮠","U+FEBA0"]],"👐":["U+1F450","open hands sign","1f450",["","U+E695"],["","U+EAD6"],["","U+E422"],["󾮡","U+FEBA1"]]},l=null;
o.unifiedToHTML=t;var c={},u={},d={},p={},h=[c,u,d,p];for(var g in s)for(var f=s[g],m=0;m<h.length;m++){var _=m+3,v=f[_][0],y=h[m];"-"===v||y[v]||(y[v]=g)}var b=null;o.docomoToUnified=n;var E=null;o.kddiToUnified=r;var S=null;o.softbankToUnified=i;var w=null;return o.googleToUnified=a,o}),function(){var e=this,t=e.jEmoji,n=t.EMOJI_MAP,r={};for(var i in n){var a=n[i],o=_.underscored(a[1]);"-"===o||r[o]||(r[o]=a[2])}t.titleToHTML=function(e){var t=r[e];return t?'<span class="emoji emoji'+t+'"></span>':void 0}}.call(this),function(){"use strict";function e(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}var t=this,n=_.namespace(t,"tracker"),r=t.marked,i=t.jEmoji;r.escape=function(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};var a={storyLink:function(){return t.FRONTEND_FLAGS.enable_short_story_id_linking?/^#(\d+?)(?=\W|$)/:/^#(\d{6,}?)(?=\W|$)/},epicLink:/^##(\d+?)(?=\W|$)/,mention:/^(\s*)@([A-Za-z0-9][A-Za-z0-9_]+)(?=\W|$)/,emoji:/^:([A-Za-z0-9_]+)(?::)/};r.InlineLexer.rules.breaks.text=e(r.InlineLexer.rules.breaks.text)("(","(?:(")(")",")|\\s+(?=@)|\\W?(?=#))")(),r.InlineLexer.prototype.output=function(e){for(var t,o,s,l,c,u="";e;)if(l=this.rules.escape.exec(e))e=e.substring(l[0].length),u+=l[1];else if(l=this.rules.autolink.exec(e))e=e.substring(l[0].length),"@"===l[2]?(o=":"===l[1].charAt(6)?this.mangle(l[1].substring(7)):this.mangle(l[1]),s=this.mangle("mailto:")+o):(o=r.escape(l[1]),s=o),u+=this.renderer.link(s,null,o);else if(l=this.rules.url.exec(e))e=e.substring(l[0].length),o=r.escape(l[1]),s=o,u+=this.renderer.link(s,null,o);else if(l=this.rules.tag.exec(e))e=e.substring(l[0].length),u+=this.options.sanitize?r.escape(l[0]):l[0];else if(l=this.rules.link.exec(e))e=e.substring(l[0].length),u+=this.outputLink(l,{href:l[2],title:l[3]});else if((l=this.rules.reflink.exec(e))||(l=this.rules.nolink.exec(e))){if(e=e.substring(l[0].length),t=(l[2]||l[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){u+=l[0].charAt(0),e=l[0].substring(1)+e;continue}u+=this.outputLink(l,t)}else if(l=this.rules.strong.exec(e))e=e.substring(l[0].length),u+=this.renderer.strong(this.output(l[2]||l[1]));else if(l=this.rules.em.exec(e))e=e.substring(l[0].length),u+=this.renderer.em(this.output(l[2]||l[1]));else{if(this.options.simple!==!0){if(l=this.rules.code.exec(e)){e=e.substring(l[0].length),u+=this.renderer.codespan(r.escape(l[2],!0));continue}if(l=this.rules.br.exec(e)){e=e.substring(l[0].length),u+=this.renderer.br();continue}}if(l=this.rules.del.exec(e))e=e.substring(l[0].length),u+=this.renderer.del(this.output(l[1]));else if(this.options.withStoryEpicLinks&&(l=a.storyLink().exec(e)))e=e.substring(l[0].length),u+=this.renderer.link(n.helpers.links.prependHost("/story/show/"+l[1]),null,"#"+l[1]);else if(this.options.withStoryEpicLinks&&(l=a.epicLink.exec(e)))e=e.substring(l[0].length),u+=this.renderer.link(n.helpers.links.prependHost("/epic/show/"+l[1]),null,"##"+l[1]);else if(this.options.withMentions&&(l=a.mention.exec(e)))e=e.substring(l[0].length),c=n.Project.get(this.options.project_id).members().findWhere({username:l[2]}),u+=c?l[1]+'<span title="'+_.escapeHTML(c.get("name"))+'" class="mention">@'+l[2]+"</span>":l[0];else if(this.options.withEmoji&&(l=a.emoji.exec(e))&&(e=e.substring(l[0].length),u+=i.titleToHTML(l[1])||l[0]),l=this.rules.text.exec(e))e=e.substring(l[0].length),u+=r.escape(this.smartypants(l[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return u}}.call(this);var hljs=new function(){function e(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function n(e,t){var n=e&&e.exec(t);return n&&0==n.index}function r(e){var t=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return t=t.map(function(e){return e.replace(/^lang(uage)?-/,"")}),t.filter(function(e){return _(e)||"no-highlight"==e})[0]}function i(e,t){var n={};for(var r in e)n[r]=e[r];if(t)for(var r in t)n[r]=t[r];return n}function a(e){var n=[];return function r(e,i){for(var a=e.firstChild;a;a=a.nextSibling)3==a.nodeType?i+=a.nodeValue.length:"br"==t(a)?i+=1:1==a.nodeType&&(n.push({event:"start",offset:i,node:a}),i=r(a,i),n.push({event:"stop",offset:i,node:a}));return i}(e,0),n}function o(n,r,i){function a(){return n.length&&r.length?n[0].offset!=r[0].offset?n[0].offset<r[0].offset?n:r:"start"==r[0].event?n:r:n.length?n:r}function o(n){function r(t){return" "+t.nodeName+'="'+e(t.value)+'"'}u+="<"+t(n)+Array.prototype.map.call(n.attributes,r).join("")+">"}function s(e){u+="</"+t(e)+">"}function l(e){("start"==e.event?o:s)(e.node)}for(var c=0,u="",d=[];n.length||r.length;){var p=a();if(u+=e(i.substr(c,p[0].offset-c)),c=p[0].offset,p==n){d.reverse().forEach(s);do l(p.splice(0,1)[0]),p=a();while(p==n&&p.length&&p[0].offset==c);d.reverse().forEach(o)}else"start"==p[0].event?d.push(p[0].node):d.pop(),l(p.splice(0,1)[0])}return u+e(i.substr(c))}function s(e){function t(e){return e&&e.source||e}function n(n,r){return RegExp(t(n),"m"+(e.case_insensitive?"i":"")+(r?"g":""))}function r(a,o){function s(t,n){e.case_insensitive&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");l[n[0]]=[t,n[1]?Number(n[1]):1]})}if(!a.compiled){if(a.compiled=!0,a.keywords=a.keywords||a.beginKeywords,a.keywords){var l={};"string"==typeof a.keywords?s("keyword",a.keywords):Object.keys(a.keywords).forEach(function(e){s(e,a.keywords[e])}),a.keywords=l}a.lexemesRe=n(a.lexemes||/\b[A-Za-z0-9_]+\b/,!0),o&&(a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")\\b"),a.begin||(a.begin=/\B|\b/),a.beginRe=n(a.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(a.endRe=n(a.end)),a.terminator_end=t(a.end)||"",a.endsWithParent&&o.terminator_end&&(a.terminator_end+=(a.end?"|":"")+o.terminator_end)),a.illegal&&(a.illegalRe=n(a.illegal)),void 0===a.relevance&&(a.relevance=1),a.contains||(a.contains=[]);var c=[];a.contains.forEach(function(e){e.variants?e.variants.forEach(function(t){c.push(i(e,t))}):c.push("self"==e?a:e)}),a.contains=c,a.contains.forEach(function(e){r(e,a)}),a.starts&&r(a.starts,o);var u=a.contains.map(function(e){return e.beginKeywords?"\\.?("+e.begin+")\\.?":e.begin}).concat([a.terminator_end,a.illegal]).map(t).filter(Boolean);a.terminators=u.length?n(u.join("|"),!0):{exec:function(){return null}},a.continuation={}}}r(e)}function l(t,r,i,a){function o(e,t){for(var r=0;r<t.contains.length;r++)if(n(t.contains[r].beginRe,e))return t.contains[r]}function u(e,t){return n(e.endRe,t)?e:e.endsWithParent?u(e.parent,t):void 0}function d(e,t){return!i&&n(t.illegalRe,e)}function p(e,t){var n=S.case_insensitive?t[0].toLowerCase():t[0];return e.keywords.hasOwnProperty(n)&&e.keywords[n]}function h(e,t,n,r){var i=r?"":v.classPrefix,a='<span class="'+i,o=n?"":"</span>";return a+=e+'">',a+t+o}function g(){if(!w.keywords)return e(x);var t="",n=0;w.lexemesRe.lastIndex=0;for(var r=w.lexemesRe.exec(x);r;){t+=e(x.substr(n,r.index-n));var i=p(w,r);i?(M+=i[1],t+=h(i[0],e(r[0]))):t+=e(r[0]),n=w.lexemesRe.lastIndex,r=w.lexemesRe.exec(x)}return t+e(x.substr(n))}function f(){if(w.subLanguage&&!y[w.subLanguage])return e(x);var t=w.subLanguage?l(w.subLanguage,x,!0,w.continuation.top):c(x);return w.relevance>0&&(M+=t.relevance),"continuous"==w.subLanguageMode&&(w.continuation.top=t.top),h(t.language,t.value,!1,!0)}function m(){return void 0!==w.subLanguage?f():g()}function b(t,n){var r=t.className?h(t.className,"",!0):"";t.returnBegin?(T+=r,x=""):t.excludeBegin?(T+=e(n)+r,x=""):(T+=r,x=n),w=Object.create(t,{parent:{value:w}})}function E(t,n){if(x+=t,void 0===n)return T+=m(),0;var r=o(n,w);if(r)return T+=m(),b(r,n),r.returnBegin?0:n.length;var i=u(w,n);if(i){var a=w;a.returnEnd||a.excludeEnd||(x+=n),T+=m();do w.className&&(T+="</span>"),M+=w.relevance,w=w.parent;while(w!=i.parent);return a.excludeEnd&&(T+=e(n)),x="",i.starts&&b(i.starts,""),a.returnEnd?0:n.length}if(d(n,w))throw new Error('Illegal lexeme "'+n+'" for mode "'+(w.className||"<unnamed>")+'"');return x+=n,n.length||1}var S=_(t);if(!S)throw new Error('Unknown language: "'+t+'"');s(S);for(var w=a||S,T="",A=w;A!=S;A=A.parent)A.className&&(T+=h(A.className,T,!0));var x="",M=0;try{for(var D,k,O=0;;){if(w.terminators.lastIndex=O,D=w.terminators.exec(r),!D)break;k=E(r.substr(O,D.index-O),D[0]),O=D.index+k}E(r.substr(O));for(var A=w;A.parent;A=A.parent)A.className&&(T+="</span>");return{relevance:M,value:T,language:t,top:w}}catch(N){if(-1!=N.message.indexOf("Illegal"))return{relevance:0,value:e(r)};throw N}}function c(t,n){n=n||v.languages||Object.keys(y);var r={relevance:0,value:e(t)},i=r;return n.forEach(function(e){if(_(e)){var n=l(e,t,!1);n.language=e,n.relevance>i.relevance&&(i=n),n.relevance>r.relevance&&(i=r,r=n)}}),i.language&&(r.second_best=i),r}function u(e){return v.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t){return t.replace(/\t/g,v.tabReplace)})),v.useBR&&(e=e.replace(/\n/g,"<br>")),e}function d(e){var t=v.useBR?e.innerHTML.replace(/\n/g,"").replace(/<br>|<br [^>]*>/g,"\n").replace(/<[^>]*>/g,""):e.textContent,n=r(e);if("no-highlight"!=n){var i=n?l(n,t,!0):c(t),s=a(e);if(s.length){var d=document.createElementNS("http://www.w3.org/1999/xhtml","pre");d.innerHTML=i.value,i.value=o(s,a(d),t)}i.value=u(i.value),e.innerHTML=i.value,e.className+=" hljs "+(!n&&i.language||""),e.result={language:i.language,re:i.relevance},i.second_best&&(e.second_best={language:i.second_best.language,re:i.second_best.relevance})}}function p(e){v=i(v,e)}function h(){if(!h.called){h.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,d)}}function g(){addEventListener("DOMContentLoaded",h,!1),addEventListener("load",h,!1)}function f(e,t){var n=y[e]=t(this);n.aliases&&n.aliases.forEach(function(t){b[t]=e})}function m(){return Object.keys(y)}function _(e){return y[e]||y[b[e]]}var v={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},y={},b={};this.highlight=l,this.highlightAuto=c,this.fixMarkup=u,this.highlightBlock=d,this.configure=p,this.initHighlighting=h,this.initHighlightingOnLoad=g,this.registerLanguage=f,this.listLanguages=m,this.getLanguage=_,this.inherit=i,this.IDENT_RE="[a-zA-Z][a-zA-Z0-9_]*",this.UNDERSCORE_IDENT_RE="[a-zA-Z_][a-zA-Z0-9_]*",this.NUMBER_RE="\\b\\d+(\\.\\d+)?",this.C_NUMBER_RE="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BINARY_NUMBER_RE="\\b(0b[01]+)",this.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},this.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[this.BACKSLASH_ESCAPE]},this.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[this.BACKSLASH_ESCAPE]},this.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such)\b/},this.C_LINE_COMMENT_MODE={className:"comment",begin:"//",end:"$",contains:[this.PHRASAL_WORDS_MODE]},this.C_BLOCK_COMMENT_MODE={className:"comment",begin:"/\\*",end:"\\*/",contains:[this.PHRASAL_WORDS_MODE]},this.HASH_COMMENT_MODE={className:"comment",begin:"#",end:"$",contains:[this.PHRASAL_WORDS_MODE]},this.NUMBER_MODE={className:"number",begin:this.NUMBER_RE,relevance:0},this.C_NUMBER_MODE={className:"number",begin:this.C_NUMBER_RE,relevance:0},this.BINARY_NUMBER_MODE={className:"number",begin:this.BINARY_NUMBER_RE,relevance:0},this.CSS_NUMBER_MODE={className:"number",begin:this.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},this.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gim]*/,illegal:/\n/,contains:[this.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[this.BACKSLASH_ESCAPE]}]},this.TITLE_MODE={className:"title",begin:this.IDENT_RE,relevance:0},this.UNDERSCORE_TITLE_MODE={className:"title",begin:this.UNDERSCORE_IDENT_RE,relevance:0}};hljs.registerLanguage("actionscript",function(e){var t="[a-zA-Z_$][a-zA-Z0-9_$]*",n="([*]|[a-zA-Z_$][a-zA-Z0-9_$]*)",r={className:"rest_arg",begin:"[.]{3}",end:t,relevance:10};return{aliases:["as"],keywords:{keyword:"as break case catch class const continue default delete do dynamic each else extends final finally for function get if implements import in include instanceof interface internal is namespace native new override package private protected public return set static super switch this throw try typeof use var void while with",literal:"true false null undefined"},contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,{className:"package",beginKeywords:"package",end:"{",contains:[e.TITLE_MODE]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.TITLE_MODE]},{className:"preprocessor",beginKeywords:"import include",end:";"},{className:"function",beginKeywords:"function",end:"[{;]",excludeEnd:!0,illegal:"\\S",contains:[e.TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r]},{className:"type",begin:":",end:n,relevance:10}]}]}}),hljs.registerLanguage("apache",function(e){var t={className:"number",begin:"[\\$%]\\d+"};return{aliases:["apacheconf"],case_insensitive:!0,contains:[e.HASH_COMMENT_MODE,{className:"tag",begin:"</?",end:">"},{className:"keyword",begin:/\w+/,relevance:0,keywords:{common:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{end:/$/,relevance:0,keywords:{literal:"on off all"},contains:[{className:"sqbracket",begin:"\\s\\[",end:"\\]$"},{className:"cbracket",begin:"[\\$%]\\{",end:"\\}",contains:["self",t]},t,e.QUOTE_STRING_MODE]}}],illegal:/\S/}}),hljs.registerLanguage("bash",function(e){var t={className:"variable",variants:[{begin:/\$[\w\d#@][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},n={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,{className:"variable",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]}]},r={className:"string",begin:/'/,end:/'/};return{aliases:["sh","zsh"],lexemes:/-?[a-z\.]+/,keywords:{keyword:"if then else elif fi for break continue while in do done exit return set declare case esac export exec",literal:"true false",built_in:"printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},contains:[{className:"shebang",begin:/^#![^\n]+sh\s*$/,relevance:10},{className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},e.HASH_COMMENT_MODE,e.NUMBER_MODE,n,r,t]}}),hljs.registerLanguage("clojure",function(e){var t={built_in:"def cond apply if-not if-let if not not= = &lt; < > &lt;= <= >= == + / * - rem quot neg? pos? delay? symbol? keyword? true? false? integer? empty? coll? list? set? ifn? fn? associative? sequential? sorted? counted? reversible? number? decimal? class? distinct? isa? float? rational? reduced? ratio? odd? even? char? seq? vector? string? map? nil? contains? zero? instance? not-every? not-any? libspec? -> ->> .. . inc compare do dotimes mapcat take remove take-while drop letfn drop-last take-last drop-while while intern condp case reduced cycle split-at split-with repeat replicate iterate range merge zipmap declare line-seq sort comparator sort-by dorun doall nthnext nthrest partition eval doseq await await-for let agent atom send send-off release-pending-sends add-watch mapv filterv remove-watch agent-error restart-agent set-error-handler error-handler set-error-mode! error-mode shutdown-agents quote var fn loop recur throw try monitor-enter monitor-exit defmacro defn defn- macroexpand macroexpand-1 for dosync and or when when-not when-let comp juxt partial sequence memoize constantly complement identity assert peek pop doto proxy defstruct first rest cons defprotocol cast coll deftype defrecord last butlast sigs reify second ffirst fnext nfirst nnext defmulti defmethod meta with-meta ns in-ns create-ns import refer keys select-keys vals key val rseq name namespace promise into transient persistent! conj! assoc! dissoc! pop! disj! use class type num float double short byte boolean bigint biginteger bigdec print-method print-dup throw-if printf format load compile get-in update-in pr pr-on newline flush read slurp read-line subvec with-open memfn time re-find re-groups rand-int rand mod locking assert-valid-fdecl alias resolve ref deref refset swap! reset! set-validator! compare-and-set! alter-meta! reset-meta! commute get-validator alter ref-set ref-history-count ref-min-history ref-max-history ensure sync io! new next conj set! to-array future future-call into-array aset gen-class reduce map filter find empty hash-map hash-set sorted-map sorted-map-by sorted-set sorted-set-by vec vector seq flatten reverse assoc dissoc list disj get union difference intersection extend extend-type extend-protocol int nth delay count concat chunk chunk-buffer chunk-append chunk-first chunk-rest max min dec unchecked-inc-int unchecked-inc unchecked-dec-inc unchecked-dec unchecked-negate unchecked-add-int unchecked-add unchecked-subtract-int unchecked-subtract chunk-next chunk-cons chunked-seq? prn vary-meta lazy-seq spread list* str find-keyword keyword symbol gensym force rationalize"},n="[a-zA-Z_0-9\\!\\.\\?\\-\\+\\*\\/\\<\\=\\>\\&\\#\\$';]+",r="[\\s:\\(\\{]+\\d+(\\.\\d+)?",i={className:"number",begin:r,relevance:0},a=e.inherit(e.QUOTE_STRING_MODE,{illegal:null}),o={className:"comment",begin:";",end:"$",relevance:0},s={className:"collection",begin:"[\\[\\{]",end:"[\\]\\}]"},l={className:"comment",begin:"\\^"+n},c={className:"comment",begin:"\\^\\{",end:"\\}"},u={className:"attribute",begin:"[:]"+n},d={className:"list",begin:"\\(",end:"\\)"},p={endsWithParent:!0,keywords:{literal:"true false nil"},relevance:0},h={keywords:t,lexemes:n,className:"title",begin:n,starts:p};return d.contains=[{className:"comment",begin:"comment"},h,p],p.contains=[d,a,l,c,o,u,s,i],s.contains=[d,a,l,o,u,s,i],{aliases:["clj"],illegal:/\S/,contains:[o,d,{className:"prompt",begin:/^=> /,starts:{end:/\n\n|\Z/}}]}}),hljs.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",reserved:"case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",built_in:"npm require console print module global window document"},n="[A-Za-z$_][0-9A-Za-z$_]*",r=e.inherit(e.TITLE_MODE,{begin:n}),i={className:"subst",begin:/#\{/,end:/}/,keywords:t},a=[e.BINARY_NUMBER_MODE,e.inherit(e.C_NUMBER_MODE,{starts:{end:"(\\s*/)?",relevance:0}}),{className:"string",variants:[{begin:/'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE]},{begin:/'/,end:/'/,contains:[e.BACKSLASH_ESCAPE]},{begin:/"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i]},{begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,i]}]},{className:"regexp",variants:[{begin:"///",end:"///",contains:[i,e.HASH_COMMENT_MODE]},{begin:"//[gim]*",relevance:0},{begin:"/\\S(\\\\.|[^\\n])*?/[gim]*(?=\\s|\\W|$)"}]},{className:"property",begin:"@"+n},{begin:"`",end:"`",excludeBegin:!0,excludeEnd:!0,subLanguage:"javascript"}];return i.contains=a,{aliases:["coffee","cson","iced"],keywords:t,contains:a.concat([{className:"comment",begin:"###",end:"###"},e.HASH_COMMENT_MODE,{className:"function",begin:"("+n+"\\s*=\\s*)?(\\(.*\\))?\\s*\\B[-=]>",end:"[-=]>",returnBegin:!0,contains:[r,{className:"params",begin:"\\(",returnBegin:!0,contains:[{begin:/\(/,end:/\)/,keywords:t,contains:["self"].concat(a)}]}]},{className:"class",beginKeywords:"class",end:"$",illegal:/[:="\[\]]/,contains:[{beginKeywords:"extends",endsWithParent:!0,illegal:/[:="\[\]]/,contains:[r]},r]},{className:"attribute",begin:n+":",end:":",returnBegin:!0,excludeEnd:!0,relevance:0}])}}),hljs.registerLanguage("cpp",function(e){var t={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"};return{aliases:["c","h","c++","h++"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:"'\\\\?.",end:"'",illegal:"."},{className:"number",begin:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},e.C_NUMBER_MODE,{className:"preprocessor",begin:"#",end:"$",keywords:"if else elif endif define undef warning error line pragma",contains:[{begin:'include\\s*[<"]',end:'[>"]',keywords:"include",illegal:"\\n"},e.C_LINE_COMMENT_MODE]},{className:"stl_container",begin:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",end:">",keywords:t,relevance:10,contains:["self"]},{begin:e.IDENT_RE+"::"}]}}),hljs.registerLanguage("cs",function(e){var t="abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await ascending descending from get group into join let orderby partial select set value var where yield";return{keywords:t,illegal:/::/,contains:[{className:"comment",begin:"///",end:"$",returnBegin:!0,contains:[{className:"xmlDocTag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"preprocessor",begin:"#",end:"$",keywords:"if else elif endif define undef warning error line region endregion pragma checksum"},{className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_NUMBER_MODE,{beginKeywords:"protected public private internal",end:/[{;=]/,keywords:t,contains:[{beginKeywords:"class namespace interface",starts:{contains:[e.TITLE_MODE]}},{begin:e.IDENT_RE+"\\s*\\(",returnBegin:!0,contains:[e.TITLE_MODE]}]}]}}),hljs.registerLanguage("css",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",n={className:"function",begin:t+"\\(",returnBegin:!0,excludeEnd:!0,end:"\\("};return{case_insensitive:!0,illegal:"[=/|']",contains:[e.C_BLOCK_COMMENT_MODE,{className:"id",begin:"\\#[A-Za-z0-9_-]+"},{className:"class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},{className:"attr_selector",begin:"\\[",end:"\\]",illegal:"$"},{className:"pseudo",begin:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{className:"at_rule",begin:"@(font-face|page)",lexemes:"[a-z-]+",keywords:"font-face page"},{className:"at_rule",begin:"@",end:"[{;]",contains:[{className:"keyword",begin:/\S+/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,contains:[n,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"tag",begin:t,relevance:0},{className:"rules",begin:"{",end:"}",illegal:"[^\\s]",relevance:0,contains:[e.C_BLOCK_COMMENT_MODE,{className:"rule",begin:"[^\\s]",returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:"[A-Z\\_\\.\\-]+",end:":",excludeEnd:!0,illegal:"[^\\s]",starts:{className:"value",endsWithParent:!0,excludeEnd:!0,contains:[n,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"hexcolor",begin:"#[0-9A-Fa-f]+"},{className:"important",begin:"!important"}]}}]}]}]}}),hljs.registerLanguage("diff",function(){return{aliases:["patch"],contains:[{className:"chunk",relevance:10,variants:[{begin:/^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/},{begin:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{begin:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{className:"header",variants:[{begin:/Index: /,end:/$/},{begin:/=====/,end:/=====$/},{begin:/^\-\-\-/,end:/$/},{begin:/^\*{3} /,end:/$/},{begin:/^\+\+\+/,end:/$/},{begin:/\*{5}/,end:/\*{5}$/}]},{className:"addition",begin:"^\\+",end:"$"},{className:"deletion",begin:"^\\-",end:"$"},{className:"change",begin:"^\\!",end:"$"}]}}),hljs.registerLanguage("erlang",function(e){var t="[a-z'][a-zA-Z0-9_']*",n="("+t+":"+t+"|"+t+")",r={keyword:"after and andalso|10 band begin bnot bor bsl bzr bxor case catch cond div end fun let not of orelse|10 query receive rem try when xor",literal:"false true"},i={className:"comment",begin:"%",end:"$",relevance:0},a={className:"number",begin:"\\b(\\d+#[a-fA-F0-9]+|\\d+(\\.\\d+)?([eE][-+]?\\d+)?)",relevance:0},o={begin:"fun\\s+"+t+"/\\d+"},s={begin:n+"\\(",end:"\\)",returnBegin:!0,relevance:0,contains:[{className:"function_name",begin:n,relevance:0},{begin:"\\(",end:"\\)",endsWithParent:!0,returnEnd:!0,relevance:0}]},l={className:"tuple",begin:"{",end:"}",relevance:0},c={className:"variable",begin:"\\b_([A-Z][A-Za-z0-9_]*)?",relevance:0},u={className:"variable",begin:"[A-Z][a-zA-Z0-9_]*",relevance:0},d={begin:"#"+e.UNDERSCORE_IDENT_RE,relevance:0,returnBegin:!0,contains:[{className:"record_name",begin:"#"+e.UNDERSCORE_IDENT_RE,relevance:0},{begin:"{",end:"}",relevance:0}]},p={beginKeywords:"fun receive if try case",end:"end",keywords:r};p.contains=[i,o,e.inherit(e.APOS_STRING_MODE,{className:""}),p,s,e.QUOTE_STRING_MODE,a,l,c,u,d];var h=[i,o,p,s,e.QUOTE_STRING_MODE,a,l,c,u,d];s.contains[1].contains=h,l.contains=h,d.contains[1].contains=h;var g={className:"params",begin:"\\(",end:"\\)",contains:h};return{aliases:["erl"],keywords:r,illegal:"(</|\\*=|\\+=|-=|/=|/\\*|\\*/|\\(\\*|\\*\\))",contains:[{className:"function",begin:"^"+t+"\\s*\\(",end:"->",returnBegin:!0,illegal:"\\(|#|//|/\\*|\\\\|:|;",contains:[g,e.inherit(e.TITLE_MODE,{begin:t})],starts:{end:";|\\.",keywords:r,contains:h}},i,{className:"pp",begin:"^-",end:"\\.",relevance:0,excludeEnd:!0,returnBegin:!0,lexemes:"-"+e.IDENT_RE,keywords:"-module -record -undef -export -ifdef -ifndef -author -copyright -doc -vsn -import -include -include_lib -compile -define -else -endif -file -behaviour -behavior",contains:[g]},a,e.QUOTE_STRING_MODE,d,c,u,l]}}),hljs.registerLanguage("go",function(e){var t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer",constant:"true false iota nil",typename:"bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:"'",end:"[^\\\\]'"},{className:"string",begin:"`",end:"`"},{className:"number",begin:"[^a-zA-Z_0-9](\\-|\\+)?\\d+(\\.\\d+|\\/\\d+)?((d|e|f|l|s)(\\+|\\-)?\\d+)?",relevance:0},e.C_NUMBER_MODE]}}),hljs.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",r={className:"yardoctag",begin:"@[A-Za-z]+"},i={className:"comment",variants:[{begin:"#",end:"$",contains:[r]},{begin:"^\\=begin",end:"^\\=end",contains:[r],relevance:10},{begin:"^__END__",end:"\\n$"}]},a={className:"subst",begin:"#\\{",end:"}",keywords:n},o={className:"string",contains:[e.BACKSLASH_ESCAPE,a],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:"%[qw]?\\(",end:"\\)"},{begin:"%[qw]?\\[",end:"\\]"},{begin:"%[qw]?{",end:"}"},{begin:"%[qw]?<",end:">",relevance:10},{begin:"%[qw]?/",end:"/",relevance:10},{begin:"%[qw]?%",end:"%",relevance:10},{begin:"%[qw]?-",end:"-",relevance:10},{begin:"%[qw]?\\|",end:"\\|",relevance:10},{begin:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},s={className:"params",begin:"\\(",end:"\\)",keywords:n},l=[o,i,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[e.inherit(e.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{className:"inheritance",begin:"<\\s*",contains:[{className:"parent",begin:"("+e.IDENT_RE+"::)?"+e.IDENT_RE}]},i]},{className:"function",beginKeywords:"def",end:" |$|;",relevance:0,contains:[e.inherit(e.TITLE_MODE,{begin:t}),s,i]},{className:"constant",begin:"(::)?(\\b[A-Z]\\w*(::)?)+",relevance:0},{className:"symbol",begin:":",contains:[o,{begin:t}],relevance:0},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(\\!|\\?)?:",relevance:0},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{className:"variable",begin:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{begin:"("+e.RE_STARTERS_RE+")\\s*",contains:[i,{className:"regexp",contains:[e.BACKSLASH_ESCAPE,a],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:"%r{",end:"}[a-z]*"},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}],relevance:0}];return a.contains=l,s.contains=l,{aliases:["rb","gemspec","podspec","thor"],keywords:n,contains:l}}),hljs.registerLanguage("haml",function(){return{case_insensitive:!0,contains:[{className:"doctype",begin:"^!!!( (5|1\\.1|Strict|Frameset|Basic|Mobile|RDFa|XML\\b.*))?$",relevance:10},{className:"comment",begin:"^\\s*(!=#|=#|-#|/).*$",relevance:0},{begin:"^\\s*(-|=|!=)(?!#)",starts:{end:"\\n",subLanguage:"ruby"}},{className:"tag",begin:"^\\s*%",contains:[{className:"title",begin:"\\w+"},{className:"value",begin:"[#\\.]\\w+"},{begin:"{\\s*",end:"\\s*}",excludeEnd:!0,contains:[{begin:":\\w+\\s*=>",end:",\\s+",returnBegin:!0,endsWithParent:!0,contains:[{className:"symbol",begin:":\\w+"},{className:"string",begin:'"',end:'"'},{className:"string",begin:"'",end:"'"},{begin:"\\w+",relevance:0}]}]},{begin:"\\(\\s*",end:"\\s*\\)",excludeEnd:!0,contains:[{begin:"\\w+\\s*=",end:"\\s+",returnBegin:!0,endsWithParent:!0,contains:[{className:"attribute",begin:"\\w+",relevance:0},{className:"string",begin:'"',end:'"'},{className:"string",begin:"'",end:"'"},{begin:"\\w+",relevance:0}]}]}]},{className:"bullet",begin:"^\\s*[=~]\\s*",relevance:0},{begin:"#{",starts:{end:"}",subLanguage:"ruby"}}]}}),hljs.registerLanguage("xml",function(){var e="[A-Za-z0-9\\._:-]+",t={begin:/<\?(php)?(?!\w)/,end:/\?>/,subLanguage:"php",subLanguageMode:"continuous"},n={endsWithParent:!0,illegal:/</,relevance:0,contains:[t,{className:"attribute",begin:e,relevance:0},{begin:"=",relevance:0,contains:[{className:"value",variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/},{begin:/[^\s\/>]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xsl","plist"],case_insensitive:!0,contains:[{className:"doctype",begin:"<!DOCTYPE",end:">",relevance:10,contains:[{begin:"\\[",end:"\\]"}]},{className:"comment",begin:"<!--",end:"-->",relevance:10},{className:"cdata",begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},{className:"tag",begin:"<style(?=\\s|>|$)",end:">",keywords:{title:"style"},contains:[n],starts:{end:"</style>",returnEnd:!0,subLanguage:"css"}},{className:"tag",begin:"<script(?=\\s|>|$)",end:">",keywords:{title:"script"},contains:[n],starts:{end:"</script>",returnEnd:!0,subLanguage:"javascript"}},{begin:"<%",end:"%>",subLanguage:"vbscript"},t,{className:"pi",begin:/<\?\w+/,end:/\?>/,relevance:10},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"title",begin:"[^ /><]+",relevance:0},n]}]}
}),hljs.registerLanguage("handlebars",function(){var e="each in with if else unless bindattr action collection debugger log outlet template unbound view yield";return{aliases:["hbs","html.hbs","html.handlebars"],case_insensitive:!0,subLanguage:"xml",subLanguageMode:"continuous",contains:[{className:"expression",begin:"{{",end:"}}",contains:[{className:"begin-block",begin:"#[a-zA-Z- .]+",keywords:e},{className:"string",begin:'"',end:'"'},{className:"end-block",begin:"\\/[a-zA-Z- .]+",keywords:e},{className:"variable",begin:"[a-zA-Z-.]+",keywords:e}]}]}}),hljs.registerLanguage("http",function(){return{illegal:"\\S",contains:[{className:"status",begin:"^HTTP/[0-9\\.]+",end:"$",contains:[{className:"number",begin:"\\b\\d{3}\\b"}]},{className:"request",begin:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",returnBegin:!0,end:"$",contains:[{className:"string",begin:" ",end:" ",excludeBegin:!0,excludeEnd:!0}]},{className:"attribute",begin:"^\\w",end:": ",excludeEnd:!0,illegal:"\\n|\\s|=",starts:{className:"string",end:"$"}},{begin:"\\n\\n",starts:{subLanguage:"",endsWithParent:!0}}]}}),hljs.registerLanguage("ini",function(e){return{case_insensitive:!0,illegal:/\S/,contains:[{className:"comment",begin:";",end:"$"},{className:"title",begin:"^\\[",end:"\\]"},{className:"setting",begin:"^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",end:"$",contains:[{className:"value",endsWithParent:!0,keywords:"on off true false yes no",contains:[e.QUOTE_STRING_MODE,e.NUMBER_MODE],relevance:0}]}]}}),hljs.registerLanguage("java",function(e){var t="false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws";return{aliases:["jsp"],keywords:t,illegal:/<\//,contains:[{className:"javadoc",begin:"/\\*\\*",end:"\\*/",contains:[{className:"javadoctag",begin:"(^|\\s)@[A-Za-z]+"}],relevance:10},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{beginKeywords:"protected public private",end:/[{;=]/,keywords:t,contains:[{className:"class",beginKeywords:"class interface",endsWithParent:!0,excludeEnd:!0,illegal:/[:"<>]/,contains:[{beginKeywords:"extends implements",relevance:10},e.UNDERSCORE_TITLE_MODE]},{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,contains:[e.UNDERSCORE_TITLE_MODE]}]},e.C_NUMBER_MODE,{className:"annotation",begin:"@[A-Za-z]+"}]}}),hljs.registerLanguage("javascript",function(e){return{aliases:["js"],keywords:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document"},contains:[{className:"pi",begin:/^\s*('|")use strict('|")/,relevance:10},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{begin:/</,end:/>;/,relevance:0,subLanguage:"xml"}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/}),{className:"params",begin:/\(/,end:/\)/,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:/["'\(]/}],illegal:/\[|%/},{begin:/\$[(.]/},{begin:"\\."+e.IDENT_RE,relevance:0}]}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QUOTE_STRING_MODE,e.C_NUMBER_MODE],r={className:"value",end:",",endsWithParent:!0,excludeEnd:!0,contains:n,keywords:t},i={begin:"{",end:"}",contains:[{className:"attribute",begin:'\\s*"',end:'"\\s*:\\s*',excludeBegin:!0,excludeEnd:!0,contains:[e.BACKSLASH_ESCAPE],illegal:"\\n",starts:r}],illegal:"\\S"},a={begin:"\\[",end:"\\]",contains:[e.inherit(r,{className:null})],illegal:"\\S"};return n.splice(n.length,0,i,a),{contains:n,keywords:t,illegal:"\\S"}}),hljs.registerLanguage("makefile",function(e){var t={className:"variable",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]};return{aliases:["mk","mak"],contains:[e.HASH_COMMENT_MODE,{begin:/^\w+\s*\W*=/,returnBegin:!0,relevance:0,starts:{className:"constant",end:/\s*\W*=/,excludeEnd:!0,starts:{end:/$/,relevance:0,contains:[t]}}},{className:"title",begin:/^[\w]+:\s*$/},{className:"phony",begin:/^\.PHONY:/,end:/$/,keywords:".PHONY",lexemes:/[\.\w]+/},{begin:/^\t+/,end:/$/,contains:[e.QUOTE_STRING_MODE,t]}]}}),hljs.registerLanguage("markdown",function(){return{aliases:["md","mkdown","mkd"],contains:[{className:"header",variants:[{begin:"^#{1,6}",end:"$"},{begin:"^.+?\\n[=-]{2,}$"}]},{begin:"<",end:">",subLanguage:"xml",relevance:0},{className:"bullet",begin:"^([*+-]|(\\d+\\.))\\s+"},{className:"strong",begin:"[*_]{2}.+?[*_]{2}"},{className:"emphasis",variants:[{begin:"\\*.+?\\*"},{begin:"_.+?_",relevance:0}]},{className:"blockquote",begin:"^>\\s+",end:"$"},{className:"code",variants:[{begin:"`.+?`"},{begin:"^( {4}|	)",end:"$",relevance:0}]},{className:"horizontal_rule",begin:"^[-\\*]{3,}",end:"$"},{begin:"\\[.+?\\][\\(\\[].+?[\\)\\]]",returnBegin:!0,contains:[{className:"link_label",begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0,relevance:0},{className:"link_url",begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"link_reference",begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}],relevance:10},{begin:"^\\[.+\\]:",end:"$",returnBegin:!0,contains:[{className:"link_reference",begin:"\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0},{className:"link_url",begin:"\\s",end:"$"}]}]}}),hljs.registerLanguage("nginx",function(e){var t={className:"variable",variants:[{begin:/\$\d+/},{begin:/\$\{/,end:/}/},{begin:"[\\$\\@]"+e.UNDERSCORE_IDENT_RE}]},n={endsWithParent:!0,lexemes:"[a-z/_]+",keywords:{built_in:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},relevance:0,illegal:"=>",contains:[e.HASH_COMMENT_MODE,{className:"string",contains:[e.BACKSLASH_ESCAPE,t],variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/}]},{className:"url",begin:"([a-z]+):/",end:"\\s",endsWithParent:!0,excludeEnd:!0},{className:"regexp",contains:[e.BACKSLASH_ESCAPE,t],variants:[{begin:"\\s\\^",end:"\\s|{|;",returnEnd:!0},{begin:"~\\*?\\s+",end:"\\s|{|;",returnEnd:!0},{begin:"\\*(\\.[a-z\\-]+)+"},{begin:"([a-z\\-]+\\.)+\\*"}]},{className:"number",begin:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{className:"number",begin:"\\b\\d+[kKmMgGdshdwy]*\\b",relevance:0},t]};return{aliases:["nginxconf"],contains:[e.HASH_COMMENT_MODE,{begin:e.UNDERSCORE_IDENT_RE+"\\s",end:";|{",returnBegin:!0,contains:[{className:"title",begin:e.UNDERSCORE_IDENT_RE,starts:n}],relevance:0}],illegal:"[^\\s\\}]"}}),hljs.registerLanguage("objectivec",function(e){var t={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign self synchronized id nonatomic super unichar IBOutlet IBAction strong weak @private @protected @public @try @property @end @throw @catch @finally @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"NSString NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection UIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,r="@interface @class @protocol @implementation";return{aliases:["m","mm","objc","obj-c"],keywords:t,lexemes:n,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:"'",end:"[^\\\\]'",illegal:"[^\\\\][^']"},{className:"preprocessor",begin:"#import",end:"$",contains:[{className:"title",begin:'"',end:'"'},{className:"title",begin:"<",end:">"}]},{className:"preprocessor",begin:"#",end:"$"},{className:"class",begin:"("+r.split(" ").join("|")+")\\b",end:"({|$)",excludeEnd:!0,keywords:r,lexemes:n,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"variable",begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}),hljs.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",n={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:t},r={begin:"->{",end:"}"},i={className:"variable",variants:[{begin:/\$\d/},{begin:/[\$\%\@\*](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/},{begin:/[\$\%\@\*][^\s\w{]/,relevance:0}]},a={className:"comment",begin:"^(__END__|__DATA__)",end:"\\n$",relevance:5},o=[e.BACKSLASH_ESCAPE,n,i],s=[i,e.HASH_COMMENT_MODE,a,{className:"comment",begin:"^\\=\\w",end:"\\=cut",endsWithParent:!0},r,{className:"string",contains:o,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*\\<",end:"\\>",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:"{\\w+}",contains:[],relevance:0},{begin:"-?\\w+\\s*\\=\\>",contains:[],relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,a,{className:"regexp",begin:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",relevance:10},{className:"regexp",begin:"(m|qr)?/",end:"/[a-z]*",contains:[e.BACKSLASH_ESCAPE],relevance:0}]},{className:"sub",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",relevance:5},{className:"operator",begin:"-\\w\\b",relevance:0}];return n.contains=s,r.contains=s,{aliases:["pl"],keywords:t,contains:s}}),hljs.registerLanguage("php",function(e){var t={className:"variable",begin:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},n={className:"preprocessor",begin:/<\?(php)?|\?>/},r={className:"string",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},e.inherit(e.APOS_STRING_MODE,{illegal:null}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null})]},i={variants:[e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]};return{aliases:["php3","php4","php5","php6"],case_insensitive:!0,keywords:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",contains:[e.C_LINE_COMMENT_MODE,e.HASH_COMMENT_MODE,{className:"comment",begin:"/\\*",end:"\\*/",contains:[{className:"phpdoc",begin:"\\s@[A-Za-z]+"},n]},{className:"comment",begin:"__halt_compiler.+?;",endsWithParent:!0,keywords:"__halt_compiler",lexemes:e.UNDERSCORE_IDENT_RE},{className:"string",begin:"<<<['\"]?\\w+['\"]?$",end:"^\\w+;",contains:[e.BACKSLASH_ESCAPE]},n,t,{className:"function",beginKeywords:"function",end:/[;{]/,excludeEnd:!0,illegal:"\\$|\\[|%",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:["self",t,e.C_BLOCK_COMMENT_MODE,r,i]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements",relevance:10},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"=>"},r,i]}}),hljs.registerLanguage("python",function(e){var t={className:"prompt",begin:/^(>>>|\.\.\.) /},n={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[t],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[t],relevance:10},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},r={className:"number",relevance:0,variants:[{begin:e.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:e.C_NUMBER_RE+"[lLjJ]?"}]},i={className:"params",begin:/\(/,end:/\)/,contains:["self",t,r,n]},a={end:/:/,illegal:/[${=;\n]/,contains:[e.UNDERSCORE_TITLE_MODE,i]};return{aliases:["py","gyp"],keywords:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},illegal:/(<\/|->|\?)/,contains:[t,r,n,e.HASH_COMMENT_MODE,e.inherit(a,{className:"function",beginKeywords:"def",relevance:10}),e.inherit(a,{className:"class",beginKeywords:"class"}),{className:"decorator",begin:/@/,end:/$/},{begin:/\b(print|exec)\(/}]}}),hljs.registerLanguage("scss",function(e){{var t="[a-zA-Z-][a-zA-Z0-9_-]*",n={className:"variable",begin:"(\\$"+t+")\\b"},r={className:"function",begin:t+"\\(",returnBegin:!0,excludeEnd:!0,end:"\\("},i={className:"hexcolor",begin:"#[0-9A-Fa-f]+"};({className:"attribute",begin:"[A-Z\\_\\.\\-]+",end:":",excludeEnd:!0,illegal:"[^\\s]",starts:{className:"value",endsWithParent:!0,excludeEnd:!0,contains:[r,i,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"important",begin:"!important"}]}})}return{case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r,{className:"id",begin:"\\#[A-Za-z0-9_-]+",relevance:0},{className:"class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},{className:"attr_selector",begin:"\\[",end:"\\]",illegal:"$"},{className:"tag",begin:"\\b(a|abbr|acronym|address|area|article|aside|audio|b|base|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|command|datalist|dd|del|details|dfn|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|frame|frameset|(h[1-6])|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|map|mark|meta|meter|nav|noframes|noscript|object|ol|optgroup|option|output|p|param|pre|progress|q|rp|rt|ruby|samp|script|section|select|small|span|strike|strong|style|sub|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|tt|ul|var|video)\\b",relevance:0},{className:"pseudo",begin:":(visited|valid|root|right|required|read-write|read-only|out-range|optional|only-of-type|only-child|nth-of-type|nth-last-of-type|nth-last-child|nth-child|not|link|left|last-of-type|last-child|lang|invalid|indeterminate|in-range|hover|focus|first-of-type|first-line|first-letter|first-child|first|enabled|empty|disabled|default|checked|before|after|active)"},{className:"pseudo",begin:"::(after|before|choices|first-letter|first-line|repeat-index|repeat-item|selection|value)"},n,{className:"attribute",begin:"\\b(z-index|word-wrap|word-spacing|word-break|width|widows|white-space|visibility|vertical-align|unicode-bidi|transition-timing-function|transition-property|transition-duration|transition-delay|transition|transform-style|transform-origin|transform|top|text-underline-position|text-transform|text-shadow|text-rendering|text-overflow|text-indent|text-decoration-style|text-decoration-line|text-decoration-color|text-decoration|text-align-last|text-align|tab-size|table-layout|right|resize|quotes|position|pointer-events|perspective-origin|perspective|page-break-inside|page-break-before|page-break-after|padding-top|padding-right|padding-left|padding-bottom|padding|overflow-y|overflow-x|overflow-wrap|overflow|outline-width|outline-style|outline-offset|outline-color|outline|orphans|order|opacity|object-position|object-fit|normal|none|nav-up|nav-right|nav-left|nav-index|nav-down|min-width|min-height|max-width|max-height|mask|marks|margin-top|margin-right|margin-left|margin-bottom|margin|list-style-type|list-style-position|list-style-image|list-style|line-height|letter-spacing|left|justify-content|initial|inherit|ime-mode|image-orientation|image-resolution|image-rendering|icon|hyphens|height|font-weight|font-variant-ligatures|font-variant|font-style|font-stretch|font-size-adjust|font-size|font-language-override|font-kerning|font-feature-settings|font-family|font|float|flex-wrap|flex-shrink|flex-grow|flex-flow|flex-direction|flex-basis|flex|filter|empty-cells|display|direction|cursor|counter-reset|counter-increment|content|column-width|column-span|column-rule-width|column-rule-style|column-rule-color|column-rule|column-gap|column-fill|column-count|columns|color|clip-path|clip|clear|caption-side|break-inside|break-before|break-after|box-sizing|box-shadow|box-decoration-break|bottom|border-width|border-top-width|border-top-style|border-top-right-radius|border-top-left-radius|border-top-color|border-top|border-style|border-spacing|border-right-width|border-right-style|border-right-color|border-right|border-radius|border-left-width|border-left-style|border-left-color|border-left|border-image-width|border-image-source|border-image-slice|border-image-repeat|border-image-outset|border-image|border-color|border-collapse|border-bottom-width|border-bottom-style|border-bottom-right-radius|border-bottom-left-radius|border-bottom-color|border-bottom|border|background-size|background-repeat|background-position|background-origin|background-image|background-color|background-clip|background-attachment|background|backface-visibility|auto|animation-timing-function|animation-play-state|animation-name|animation-iteration-count|animation-fill-mode|animation-duration|animation-direction|animation-delay|animation|align-self|align-items|align-content)\\b",illegal:"[^\\s]"},{className:"value",begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{className:"value",begin:":",end:";",contains:[r,n,i,e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"important",begin:"!important"}]},{className:"at_rule",begin:"@",end:"[{;]",keywords:"mixin include extend for if else each while charset import debug media page content font-face namespace warn",contains:[r,n,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,i,e.CSS_NUMBER_MODE,{className:"preprocessor",begin:"\\s[A-Za-z0-9_.-]+",relevance:0}]}]}}),hljs.registerLanguage("sql",function(e){var t={className:"comment",begin:"--",end:"$"};return{case_insensitive:!0,illegal:/[<>]/,contains:[{className:"operator",beginKeywords:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate savepoint release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup",end:/;/,endsWithParent:!0,keywords:{keyword:"abs absolute acos action add adddate addtime aes_decrypt aes_encrypt after aggregate all allocate alter analyze and any are as asc ascii asin assertion at atan atan2 atn2 authorization authors avg backup before begin benchmark between bin binlog bit_and bit_count bit_length bit_or bit_xor both by cache call cascade cascaded case cast catalog ceil ceiling chain change changed char_length character_length charindex charset check checksum checksum_agg choose close coalesce coercibility collate collation collationproperty column columns columns_updated commit compress concat concat_ws concurrent connect connection connection_id consistent constraint constraints continue contributors conv convert convert_tz corresponding cos cot count count_big crc32 create cross cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime data database databases datalength date_add date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts datetimeoffsetfromparts day dayname dayofmonth dayofweek dayofyear deallocate declare decode default deferrable deferred degrees delayed delete des_decrypt des_encrypt des_key_file desc describe descriptor diagnostics difference disconnect distinct distinctrow div do domain double drop dumpfile each else elt enclosed encode encrypt end end-exec engine engines eomonth errors escape escaped event eventdata events except exception exec execute exists exp explain export_set extended external extract fast fetch field fields find_in_set first first_value floor flush for force foreign format found found_rows from from_base64 from_days from_unixtime full function get get_format get_lock getdate getutcdate global go goto grant grants greatest group group_concat grouping grouping_id gtid_subset gtid_subtract handler having help hex high_priority hosts hour ident_current ident_incr ident_seed identified identity if ifnull ignore iif ilike immediate in index indicator inet6_aton inet6_ntoa inet_aton inet_ntoa infile initially inner innodb input insert install instr intersect into is is_free_lock is_ipv4 is_ipv4_compat is_ipv4_mapped is_not is_not_null is_used_lock isdate isnull isolation join key kill language last last_day last_insert_id last_value lcase lead leading least leaves left len lenght level like limit lines ln load load_file local localtime localtimestamp locate lock log log10 log2 logfile logs low_priority lower lpad ltrim make_set makedate maketime master master_pos_wait match matched max md5 medium merge microsecond mid min minute mod mode module month monthname mutex name_const names national natural nchar next no no_write_to_binlog not now nullif nvarchar oct octet_length of old_password on only open optimize option optionally or ord order outer outfile output pad parse partial partition password patindex percent_rank percentile_cont percentile_disc period_add period_diff pi plugin position pow power pragma precision prepare preserve primary prior privileges procedure procedure_analyze processlist profile profiles public publishingservername purge quarter query quick quote quotename radians rand read references regexp relative relaylog release release_lock rename repair repeat replace replicate reset restore restrict return returns reverse revoke right rlike rollback rollup round row row_count rows rpad rtrim savepoint schema scroll sec_to_time second section select serializable server session session_user set sha sha1 sha2 share show sign sin size slave sleep smalldatetimefromparts snapshot some soname soundex sounds_like space sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sql_variant_property sqlstate sqrt square start starting status std stddev stddev_pop stddev_samp stdev stdevp stop str str_to_date straight_join strcmp string stuff subdate substr substring subtime subtring_index sum switchoffset sysdate sysdatetime sysdatetimeoffset system_user sysutcdatetime table tables tablespace tan temporary terminated tertiary_weights then time time_format time_to_sec timediff timefromparts timestamp timestampadd timestampdiff timezone_hour timezone_minute to to_base64 to_days to_seconds todatetimeoffset trailing transaction translation trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse ucase uncompress uncompressed_length unhex unicode uninstall union unique unix_timestamp unknown unlock update upgrade upped upper usage use user user_resources using utc_date utc_time utc_timestamp uuid uuid_short validate_password_strength value values var var_pop var_samp variables variance varp version view warnings week weekday weekofyear weight_string when whenever where with work write xml xor year yearweek zon",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int integer interval number numeric real serial smallint varchar varying int8 serial8 text"},contains:[{className:"string",begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE,{begin:"''"}]},{className:"string",begin:'"',end:'"',contains:[e.BACKSLASH_ESCAPE,{begin:'""'}]},{className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t]},e.C_BLOCK_COMMENT_MODE,t]}}),function(){"use strict";function e(e){return"_"===e[0]&&"_"===e[e.length-1]?e.substring(1,e.length-1):e}function t(t){var n;return _.find(["story","epic"],function(i){var a,o=e(t),s=[new RegExp("/projects/(\\d+)\\?"+i+"_id=(\\d+)$"),new RegExp("/projects/(\\d+)/"+_.pluralize(i)+"/(\\d+)$"),new RegExp("/"+i+"/show/(\\d+)$")],l={};if(_.find(s,function(e){var t=o.match(e);return t?_.str.include(o,"services")?!1:(l.projectId=+t[1],l.id=+t[2],!0):void 0}),l.projectId&&!l.id&&(l.id=l.projectId,a=_.find(r.Person.current().projects(),function(e){return e[_.pluralize(i)]().get(l)&&e}),l.projectId=a&&a.id||null),l.id){var c="story"===i?"#":"##",u=c+l.id;return o!==t&&(u="_"+u+"_"),n=(a=_.findWhere(r.Person.current().projects(),{id:l.projectId}))?r.helpers.links.revealLink(i,l.id,a.id,{expand:!0,href:r.helpers.links.prependHost("/projects/"+l.projectId+"/"+_.pluralize(i)+"/"+l.id),text:u,"class":"flyoverable this_project"}):r.helpers.links.otherProjectRevealLink(i,l.id,a&&a.id,{href:t,text:u,"class":"flyoverable other_project"}),!0}}),n}var n=this,r=_.namespace(n,"tracker"),i=n.marked,a=i.Renderer;_.extend(a.prototype,{code:function(e,t){if(n.hljs.getLanguage(t)){var r=n.hljs.highlight(t,e);return"<pre><code>"+r.value+"</code></pre>"}return"<pre><code>"+i.escape(e,!0)+"</code></pre>"},blockquote:function(e){return"<blockquote>"+e+"</blockquote>"},heading:function(e,t){return"<h"+t+">"+e+"</h"+t+">"},hr:function(){return"<hr>"},list:function(e,t){var n=t?"ol":"ul";return"<"+n+">"+e+"</"+n+">"},listitem:function(e){return"<li>"+e+"</li>"},paragraph:function(e){return"<p>"+e+"</p>"},table:function(e,t){return"<table><thead>"+e+"</thead><tbody>"+t+"</tbody></table>"},tablerow:function(e){return"<tr>"+e+"</tr>"},tablecell:function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">"},link:function(e,n,r){var i=t(e);return i?i:(i='<a href="'+e+'" ',n&&(i+=' title="'+n+'"'),i+=' target="_blank" tabindex="-1">'+r+"</a>")}})}.call(this),function(){"use strict";var e=this,t=(_.namespace(e,"tracker"),e.marked),n=t.Lexer.rules,r={heading:function(){return e.FRONTEND_FLAGS.enable_short_story_id_linking?/^ *(?!##?\d+)(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/:/^ *(?!#\d{6,}|##\d+)(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/}};t.Lexer.prototype.token=function(e,t){e=e.replace(/^ +$/gm,"");for(var i,a,o,s,l,c,u,d,p;e;){if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),this.options.simple!==!0){if(o=this.rules.fences.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});continue}if(o=_.result(this.options.withStoryEpicLinks?r:this.rules,"heading").exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});continue}if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},d=0;d<c.align.length;d++)c.align[d]=/^ *-+: *$/.test(c.align[d])?"right":/^ *:-+: *$/.test(c.align[d])?"center":/^ *:-+ *$/.test(c.align[d])?"left":null;for(d=0;d<c.cells.length;d++)c.cells[d]=c.cells[d].split(/ *\| */);this.tokens.push(c);continue}if(o=this.rules.lheading.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});continue}if(o=this.rules.hr.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"hr"});continue}if(o=this.rules.blockquote.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t),this.tokens.push({type:"blockquote_end"});continue}if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),i=!1,p=o.length,d=0;p>d;d++)c=o[d],u=c.length,c=c.replace(/^ *([*+\-]|\d+\.) +/,""),~c.indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&d!==p-1&&(l=n.bullet.exec(o[d+1])[0],s===l||s.length>1&&l.length>1||(e=o.slice(d+1).join("\n")+e,d=p-1)),a=i||/\n\n(?!\s*$)/.test(c),d!==p-1&&(i="\n"===c.charAt(c.length-1),a||(a=i)),this.tokens.push({type:a?"loose_item_start":"list_item_start"}),this.token(c,!1),this.tokens.push({type:"list_item_end"});
this.tokens.push({type:"list_end"});continue}if(o=this.rules.html.exec(e)){e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===o[1]||"script"===o[1]||"style"===o[1],text:o[0]});continue}if(t&&(o=this.rules.def.exec(e))){e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};continue}if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<c.align.length;d++)c.align[d]=/^ *-+: *$/.test(c.align[d])?"right":/^ *:-+: *$/.test(c.align[d])?"center":/^ *:-+ *$/.test(c.align[d])?"left":null;for(d=0;d<c.cells.length;d++)c.cells[d]=c.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c);continue}}if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}return this.tokens}}.call(this);// Copyright 2006 The Closure Library Authors. All Rights Reserved.
var COMPILED=!0,goog=goog||{};goog.global=this,goog.exportPath_=function(e,t,n){e=e.split("."),n=n||goog.global,e[0]in n||!n.execScript||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||void 0===t?n=n[r]?n[r]:n[r]={}:n[r]=t},goog.define=function(e,t){var n=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?n=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(n=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,n)},goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.provide=function(e){if(!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e)},goog.setTestOnly=function(e){if(COMPILED&&!goog.DEBUG)throw e=e||"",Error(": "+e)},goog.forwardDeclare=function(){},COMPILED||(goog.isProvided_=function(e){return!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={}),goog.getObjectByName=function(e,t){for(var n,r=e.split("."),i=t||goog.global;n=r.shift();){if(!goog.isDefAndNotNull(i[n]))return null;i=i[n]}return i},goog.globalize=function(e,t){var n,r=t||goog.global;for(n in e)r[n]=e[n]},goog.addDependency=function(e,t,n){if(goog.DEPENDENCIES_ENABLED){var r;e=e.replace(/\\/g,"/");for(var i=goog.dependencies_,a=0;r=t[a];a++)i.nameToPath[r]=e,e in i.pathToNames||(i.pathToNames[e]={}),i.pathToNames[e][r]=!0;for(r=0;t=n[r];r++)e in i.requires||(i.requires[e]={}),i.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(e){if(!COMPILED&&!goog.isProvided_(e)){if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.included_[t]=!0,goog.writeScripts_(),void 0}throw e="goog.require could not find: "+e,goog.global.console&&goog.global.console.error(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(e){return e},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return"undefined"!=typeof e&&"write"in e},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("script"),t=e.length-1;t>=0;--t){var n=e[t].src,r=n.lastIndexOf("?"),r=-1==r?n.length:r;if("base.js"==n.substr(r-7,7)){goog.basePath=n.substr(0,r-7);break}}},goog.importScript_=function(e){var t=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[e]&&t(e)&&(goog.dependencies_.written[e]=!0)},goog.writeScriptTag_=function(e){if(goog.inHtmlDocument_()){var t=goog.global.document;if("complete"==t.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return t.write('<script type="text/javascript" src="'+e+'"></script>'),!0}return!1},goog.writeScripts_=function(){function e(t){if(!(t in i.written)){if(!(t in i.visited)&&(i.visited[t]=!0,t in i.requires))for(var a in i.requires[t])if(!goog.isProvided_(a)){if(!(a in i.nameToPath))throw Error("Undefined nameToPath for "+a);e(i.nameToPath[a])}t in r||(r[t]=!0,n.push(t))}}var t,n=[],r={},i=goog.dependencies_;for(t in goog.included_)i.written[t]||e(t);for(t=0;t<n.length;t++){if(!n[t])throw Error("Undefined script input");goog.importScript_(goog.basePath+n[t])}},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isDef=function(e){return void 0!==e},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n,t="array"==t?[]:{};for(n in e)t[n]=goog.cloneObject(e[n]);return t}return e},goog.bindNative_=function(e){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}},goog.mixin=function(e,t){for(var n in t)e[n]=t[n]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(e);else{var t=goog.global.document,n=t.createElement("script");n.type="text/javascript",n.defer=!1,n.appendChild(t.createTextNode(e)),t.body.appendChild(n),t.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){var n=function(e){return goog.cssNameMapping_[e]||e},r=function(e){e=e.split("-");for(var t=[],r=0;r<e.length;r++)t.push(n(e[r]));return t.join("-")},r=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:r:function(e){return e};return t?e+"-"+r(t):r(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){var n,r=t||{};for(n in r){var i=(""+r[n]).replace(/\$/g,"$$$$");e=e.replace(new RegExp("\\{\\$"+n+"\\}","gi"),i)}return e},goog.getMsgWithFallback=function(e){return e},goog.exportSymbol=function(e,t,n){goog.exportPath_(e,t,n)},goog.exportProperty=function(e,t,n){e[t]=n},goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n){var r=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,r)}},goog.base=function(e,t){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_)return n.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var r=Array.prototype.slice.call(arguments,2),i=!1,a=e.constructor;a;a=a.superClass_&&a.superClass_.constructor)if(a.prototype[t]===n)i=!0;else if(i)return a.prototype[t].apply(e,r);if(e[t]===n)return e.constructor.prototype[t].apply(e,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){e.call(goog.global)},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var n=e.length-t.length;return n>=0&&e.indexOf(t,n)==n},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)n+=t.shift()+r.shift();return n+t.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmpty=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptySafe=function(e){return goog.string.isEmpty(goog.string.makeSafe(e))},goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&e>=" "&&"~">=e||e>=""&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return r>n?-1:n==r?0:1},goog.string.numerateCompareRegExp_=/(\.\d+)|(\d+)|(\D+)/g,goog.string.numerateCompare=function(e,t){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(goog.string.numerateCompareRegExp_),r=t.toLowerCase().match(goog.string.numerateCompareRegExp_),i=Math.min(n.length,r.length),a=0;i>a;a++){var o=n[a],s=r[a];if(o!=s)return n=parseInt(o,10),!isNaN(n)&&(r=parseInt(s,10),!isNaN(r)&&n-r)?n-r:s>o?-1:1}return n.length!=r.length?n.length-r.length:t>e?-1:1},goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){return t?e.replace(goog.string.amperRe_,"&amp;").replace(goog.string.ltRe_,"&lt;").replace(goog.string.gtRe_,"&gt;").replace(goog.string.quotRe_,"&quot;").replace(goog.string.singleQuoteRe_,"&#39;"):goog.string.allRe_.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(goog.string.amperRe_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.ltRe_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.gtRe_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.quotRe_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.singleQuoteRe_,"&#39;")),e):e},goog.string.amperRe_=/&/g,goog.string.ltRe_=/</g,goog.string.gtRe_=/>/g,goog.string.quotRe_=/"/g,goog.string.singleQuoteRe_=/'/g,goog.string.allRe_=/[&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var n,r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return n=t?t.createElement("div"):document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var i=r[e];if(i)return i;if("#"==t.charAt(0)){var a=Number("0"+t.substr(1));isNaN(a)||(i=String.fromCharCode(a))}return i||(n.innerHTML=e+" ",i=n.firstChild.nodeValue.slice(0,-1)),r[e]=i})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var n=Number("0"+t.substr(1));if(!isNaN(n))return String.fromCharCode(n)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.stripQuotes=function(e,t){for(var n=t.length,r=0;n>r;r++){var i=1==n?t:t.charAt(r);if(e.charAt(0)==i&&e.charAt(e.length-1)==i)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,n){return n&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),n&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,n,r){if(n&&(e=goog.string.unescapeEntities(e)),r&&e.length>t){r>t&&(r=t);var i=e.length-r;e=e.substring(0,t-r)+"..."+e.substring(i)}else e.length>t&&(r=Math.floor(t/2),i=e.length-r,e=e.substring(0,r+t%2)+"..."+e.substring(i));return n&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\x0B",'"':'\\"',"\\":"\\\\"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){if(e=String(e),e.quote)return e.quote();for(var t=['"'],n=0;n<e.length;n++){var r=e.charAt(n),i=r.charCodeAt(0);t[n+1]=goog.string.specialEscapeChars_[r]||(i>31&&127>i?r:goog.string.escapeChar(r))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=goog.string.escapeChar(e.charAt(n));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,n=e.charCodeAt(0);return n>31&&127>n?t=e:(256>n?(t="\\x",(16>n||n>256)&&(t+="0")):(t="\\u",4096>n&&(t+="0")),t+=n.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.toMap=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=!0;return t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,n){var r=e;return t>=0&&t<e.length&&n>0&&(r=e.substr(0,t)+e.substr(t+n,e.length-t-n)),r},goog.string.remove=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"");return e.replace(n,"")},goog.string.removeAll=function(e,t){var n=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(n,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,n){return e=goog.isDef(n)?e.toFixed(n):String(e),n=e.indexOf("."),-1==n&&(n=e.length),goog.string.repeat("0",Math.max(0,t-n))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var n=0,r=goog.string.trim(String(e)).split("."),i=goog.string.trim(String(t)).split("."),a=Math.max(r.length,i.length),o=0;0==n&&a>o;o++){var s=r[o]||"",l=i[o]||"",c=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var d=c.exec(s)||["","",""],p=u.exec(l)||["","",""];if(0==d[0].length&&0==p[0].length)break;var n=0==d[1].length?0:parseInt(d[1],10),h=0==p[1].length?0:parseInt(p[1],10),n=goog.string.compareElements_(n,h)||goog.string.compareElements_(0==d[2].length,0==p[2].length)||goog.string.compareElements_(d[2],p[2])}while(0==n)}return n},goog.string.compareElements_=function(e,t){return t>e?-1:e>t?1:0},goog.string.HASHCODE_MAX_=4294967296,goog.string.hashCode=function(e){for(var t=0,n=0;n<e.length;++n)t=31*t+e.charCodeAt(n),t%=goog.string.HASHCODE_MAX_;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmpty(e)?0/0:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var n=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(n?"|["+n+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):0/0},goog.string.splitLimit=function(e,t,n){e=e.split(t);for(var r=[];n>0&&e.length;)r.push(e.shift()),n--;return e.length&&r.push(e.join(t)),r},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.doAssertFailure_=function(e,t,n,r){var i="Assertion failed";if(n)var i=i+(": "+n),a=r;else e&&(i+=": "+e,a=t);throw new goog.asserts.AssertionError(""+i,a||[])},goog.asserts.assert=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e){if(goog.asserts.ENABLE_ASSERTS)throw new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},goog.asserts.assertNumber=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("instanceof check failed.",null,n,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.date={},goog.i18n={},goog.i18n.DateTimeSymbols_en_ISO={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, y MMMM dd","y MMMM d","y MMM d","yyyy-MM-dd"],TIMEFORMATS:["HH:mm:ss v","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],AVAILABLEFORMATS:{Md:"M/d",MMMMd:"MMMM d",MMMd:"MMM d"},FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_af={ERAS:["v.C.","n.C."],ERANAMES:["voor Christus","na Christus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januarie Februarie Maart April Mei Junie Julie Augustus September Oktober November Desember".split(" "),STANDALONEMONTHS:"Januarie Februarie Maart April Mei Junie Julie Augustus September Oktober November Desember".split(" "),SHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Aug Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Aug Sep Okt Nov Des".split(" "),WEEKDAYS:"Sondag Maandag Dinsdag Woensdag Donderdag Vrydag Saterdag".split(" "),STANDALONEWEEKDAYS:"Sondag Maandag Dinsdag Woensdag Donderdag Vrydag Saterdag".split(" "),SHORTWEEKDAYS:"So Ma Di Wo Do Vr Sa".split(" "),STANDALONESHORTWEEKDAYS:"So Ma Di Wo Do Vr Sa".split(" "),NARROWWEEKDAYS:"SMDWDVS".split(""),STANDALONENARROWWEEKDAYS:"SMDWDVS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1ste kwartaal","2de kwartaal","3de kwartaal","4de kwartaal"],AMPMS:["vm.","nm."],DATEFORMATS:["EEEE dd MMMM y","dd MMMM y","dd MMM y","y-MM-dd"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_am={ERAS:["ዓ/ዓ","ዓ/ም"],ERANAMES:["ዓመተ ዓለም","ዓመተ ምሕረት"],NARROWMONTHS:"ጃፌማኤሜጁጁኦሴኦኖዲ".split(""),STANDALONENARROWMONTHS:"ጃፌማኤሜጁጁኦሴኦኖዲ".split(""),MONTHS:"ጃንዩወሪ ፌብሩወሪ ማርች ኤፕሪል ሜይ ጁን ጁላይ ኦገስት ሴፕቴምበር ኦክተውበር ኖቬምበር ዲሴምበር".split(" "),STANDALONEMONTHS:"ጃንዩወሪ ፌብሩወሪ ማርች ኤፕሪል ሜይ ጁን ጁላይ ኦገስት ሴፕቴምበር ኦክቶበር ኖቬምበር ዲሴምበር".split(" "),SHORTMONTHS:"ጃንዩ ፌብሩ ማርች ኤፕሪ ሜይ ጁን ጁላይ ኦገስ ሴፕቴ ኦክተ ኖቬም ዲሴም".split(" "),STANDALONESHORTMONTHS:"ጃንዩ ፌብሩ ማርች ኤፕሪ ሜይ ጁን ጁላይ ኦገስ ሴፕቴ ኦክቶ ኖቬም ዲሴም".split(" "),WEEKDAYS:"እሑድ ሰኞ ማክሰኞ ረቡዕ ሐሙስ ዓርብ ቅዳሜ".split(" "),STANDALONEWEEKDAYS:"እሑድ ሰኞ ማክሰኞ ረቡዕ ሐሙስ ዓርብ ቅዳሜ".split(" "),SHORTWEEKDAYS:"እሑድ ሰኞ ማክሰ ረቡዕ ሐሙስ ዓርብ ቅዳሜ".split(" "),STANDALONESHORTWEEKDAYS:"እሑድ ሰኞ ማክሰ ረቡዕ ሐሙስ ዓርብ ቅዳሜ".split(" "),NARROWWEEKDAYS:"እሰማረሐዓቅ".split(""),STANDALONENARROWWEEKDAYS:"እሰማረሐዓቅ".split(""),SHORTQUARTERS:["ሩብ1","ሩብ2","ሩብ3","ሩብ4"],QUARTERS:["1ኛው ሩብ","ሁለተኛው ሩብ","3ኛው ሩብ","4ኛው ሩብ"],AMPMS:["ጥዋት","ከሰዓት"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_ar={ZERODIGIT:1632,ERAS:["ق.م","م"],ERANAMES:["قبل الميلاد","ميلادي"],NARROWMONTHS:"يفمأونلغسكبد".split(""),STANDALONENARROWMONTHS:"يفمأونلغسكبد".split(""),MONTHS:"يناير فبراير مارس أبريل مايو يونيو يوليو أغسطس سبتمبر أكتوبر نوفمبر ديسمبر".split(" "),STANDALONEMONTHS:"يناير فبراير مارس أبريل مايو يونيو يوليو أغسطس سبتمبر أكتوبر نوفمبر ديسمبر".split(" "),SHORTMONTHS:"يناير فبراير مارس أبريل مايو يونيو يوليو أغسطس سبتمبر أكتوبر نوفمبر ديسمبر".split(" "),STANDALONESHORTMONTHS:"يناير فبراير مارس أبريل مايو يونيو يوليو أغسطس سبتمبر أكتوبر نوفمبر ديسمبر".split(" "),WEEKDAYS:"الأحد الاثنين الثلاثاء الأربعاء الخميس الجمعة السبت".split(" "),STANDALONEWEEKDAYS:"الأحد الاثنين الثلاثاء الأربعاء الخميس الجمعة السبت".split(" "),SHORTWEEKDAYS:"الأحد الاثنين الثلاثاء الأربعاء الخميس الجمعة السبت".split(" "),STANDALONESHORTWEEKDAYS:"الأحد الاثنين الثلاثاء الأربعاء الخميس الجمعة السبت".split(" "),NARROWWEEKDAYS:"حنثرخجس".split(""),STANDALONENARROWWEEKDAYS:"حنثرخجس".split(""),SHORTQUARTERS:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"],QUARTERS:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"],AMPMS:["ص","م"],DATEFORMATS:["EEEE، d MMMM، y","d MMMM، y","dd‏/MM‏/y","d‏/M‏/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:5,WEEKENDRANGE:[4,5],FIRSTWEEKCUTOFFDAY:4},goog.i18n.DateTimeSymbols_az={ERAS:["e.ə.","b.e."],ERANAMES:["eramızdan əvvəl","bizim eramızın"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"yanvar fevral mart aprel may iyun iyul avqust sentyabr oktyabr noyabr dekabr".split(" "),STANDALONEMONTHS:"Yanvar Fevral Mart Aprel May İyun İyul Avqust Sentyabr Oktyabr Noyabr Dekabr".split(" "),SHORTMONTHS:"yan fev mar apr may iyn iyl avq sen okt noy dek".split(" "),STANDALONESHORTMONTHS:"yan fev mar apr may iyn iyl avq sen okt noy dek".split(" "),WEEKDAYS:"bazar;bazar ertəsi;çərşənbə axşamı;çərşənbə;cümə axşamı;cümə;şənbə".split(";"),STANDALONEWEEKDAYS:"bazar;bazar ertəsi;çərşənbə axşamı;çərşənbə;cümə axşamı;cümə;şənbə".split(";"),SHORTWEEKDAYS:"B. B.E. Ç.A. Ç. C.A. C Ş.".split(" "),STANDALONESHORTWEEKDAYS:"B. B.E. Ç.A. Ç. C.A. C Ş.".split(" "),NARROWWEEKDAYS:"7123456".split(""),STANDALONENARROWWEEKDAYS:"7123456".split(""),SHORTQUARTERS:["1-ci kv.","2-ci kv.","3-cü kv.","4-cü kv."],QUARTERS:["1-ci kvartal","2-ci kvartal","3-cü kvartal","4-cü kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["d MMMM y, EEEE","d MMMM y","d MMM y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_bg={ERAS:["пр.Хр.","сл.Хр."],ERANAMES:["пр.Хр.","сл.Хр."],NARROWMONTHS:"яфмамююасонд".split(""),STANDALONENARROWMONTHS:"яфмамююасонд".split(""),MONTHS:"януари февруари март април май юни юли август септември октомври ноември декември".split(" "),STANDALONEMONTHS:"януари февруари март април май юни юли август септември октомври ноември декември".split(" "),SHORTMONTHS:"ян. февр. март апр. май юни юли авг. септ. окт. ноем. дек.".split(" "),STANDALONESHORTMONTHS:"ян. февр. март апр. май юни юли авг. септ. окт. ноем. дек.".split(" "),WEEKDAYS:"неделя понеделник вторник сряда четвъртък петък събота".split(" "),STANDALONEWEEKDAYS:"неделя понеделник вторник сряда четвъртък петък събота".split(" "),SHORTWEEKDAYS:"нд пн вт ср чт пт сб".split(" "),STANDALONESHORTWEEKDAYS:"нд пн вт ср чт пт сб".split(" "),NARROWWEEKDAYS:"нпвсчпс".split(""),STANDALONENARROWWEEKDAYS:"нпвсчпс".split(""),SHORTQUARTERS:["1 трим.","2 трим.","3 трим.","4 трим."],QUARTERS:["1-во тримесечие","2-ро тримесечие","3-то тримесечие","4-то тримесечие"],AMPMS:["пр.об.","сл.об."],DATEFORMATS:["EEEE, d MMMM y 'г'.","d MMMM y 'г'.","d.MM.y 'г'.","d.MM.yy"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_bn={ZERODIGIT:2534,ERAS:["খ্রিস্টপূর্ব","খৃষ্টাব্দ"],ERANAMES:["খ্রিস্টপূর্ব","খৃষ্টাব্দ"],NARROWMONTHS:"জা ফে মা এ মে জুন জু আ সে অ ন ডি".split(" "),STANDALONENARROWMONTHS:"জা ফে মা এ মে জুন জু আ সে অ ন ডি".split(" "),MONTHS:"জানুয়ারী ফেব্রুয়ারী মার্চ এপ্রিল মে জুন জুলাই আগস্ট সেপ্টেম্বর অক্টোবর নভেম্বর ডিসেম্বর".split(" "),STANDALONEMONTHS:"জানুয়ারী ফেব্রুয়ারী মার্চ এপ্রিল মে জুন জুলাই আগস্ট সেপ্টেম্বর অক্টোবর নভেম্বর ডিসেম্বর".split(" "),SHORTMONTHS:"জানুয়ারী ফেব্রুয়ারী মার্চ এপ্রিল মে জুন জুলাই আগস্ট সেপ্টেম্বর অক্টোবর নভেম্বর ডিসেম্বর".split(" "),STANDALONESHORTMONTHS:"জানুয়ারী ফেব্রুয়ারী মার্চ এপ্রিল মে জুন জুলাই আগস্ট সেপ্টেম্বর অক্টোবর নভেম্বর ডিসেম্বর".split(" "),WEEKDAYS:"রবিবার সোমবার মঙ্গলবার বুধবার বৃহষ্পতিবার শুক্রবার শনিবার".split(" "),STANDALONEWEEKDAYS:"রবিবার সোমবার মঙ্গলবার বুধবার বৃহষ্পতিবার শুক্রবার শনিবার".split(" "),SHORTWEEKDAYS:"রবি সোম মঙ্গল বুধ বৃহস্পতি শুক্র শনি".split(" "),STANDALONESHORTWEEKDAYS:"রবি সোম মঙ্গল বুধ বৃহস্পতি শুক্র শনি".split(" "),NARROWWEEKDAYS:"র সো ম বু বৃ শু শ".split(" "),STANDALONENARROWWEEKDAYS:"র সো ম বু বৃ শু শ".split(" "),SHORTQUARTERS:["চতুর্থাংশ ১","চতুর্থাংশ ২","চতুর্থাংশ ৩","চতুর্থাংশ ৪"],QUARTERS:["প্রথম চতুর্থাংশ","দ্বিতীয় চতুর্থাংশ","তৃতীয় চতুর্থাংশ","চতুর্থ চতুর্থাংশ"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:4,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_br={ERAS:["BCE","CE"],ERANAMES:["BCE","CE"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"Genver Cʼhwevrer Meurzh Ebrel Mae Mezheven Gouere Eost Gwengolo Here Du Kerzu".split(" "),STANDALONEMONTHS:"Genver Cʼhwevrer Meurzh Ebrel Mae Mezheven Gouere Eost Gwengolo Here Du Kerzu".split(" "),SHORTMONTHS:"Gen Cʼhwe Meur Ebr Mae Mezh Goue Eost Gwen Here Du Ker".split(" "),STANDALONESHORTMONTHS:"Gen Cʼhwe Meur Ebr Mae Mezh Goue Eost Gwen Here Du Ker".split(" "),WEEKDAYS:"Sul Lun Meurzh Mercʼher Yaou Gwener Sadorn".split(" "),STANDALONEWEEKDAYS:"Sul Lun Meurzh Mercʼher Yaou Gwener Sadorn".split(" "),SHORTWEEKDAYS:"sul lun meu. mer. yaou gwe. sad.".split(" "),STANDALONESHORTWEEKDAYS:"sul lun meu. mer. yaou gwe. sad.".split(" "),NARROWWEEKDAYS:"su lu mz mc ya gw sa".split(" "),STANDALONENARROWWEEKDAYS:"su lu mz mc ya gw sa".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Q1","Q2","Q3","Q4"],AMPMS:["AM","PM"],DATEFORMATS:["y MMMM d, EEEE","y MMMM d","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_ca={ERAS:["aC","dC"],ERANAMES:["abans de Crist","després de Crist"],NARROWMONTHS:"GN FB MÇ AB MG JN JL AG ST OC NV DS".split(" "),STANDALONENARROWMONTHS:"GN FB MÇ AB MG JN JL AG ST OC NV DS".split(" "),MONTHS:"gener febrer març abril maig juny juliol agost setembre octubre novembre desembre".split(" "),STANDALONEMONTHS:"gener febrer març abril maig juny juliol agost setembre octubre novembre desembre".split(" "),SHORTMONTHS:"gen. feb. març abr. maig juny jul. ag. set. oct. nov. des.".split(" "),STANDALONESHORTMONTHS:"gen. feb. març abr. maig juny jul. ag. set. oct. nov. des.".split(" "),WEEKDAYS:"diumenge dilluns dimarts dimecres dijous divendres dissabte".split(" "),STANDALONEWEEKDAYS:"diumenge dilluns dimarts dimecres dijous divendres dissabte".split(" "),SHORTWEEKDAYS:"dg. dl. dt. dc. dj. dv. ds.".split(" "),STANDALONESHORTWEEKDAYS:"dg. dl. dt. dc. dj. dv. ds.".split(" "),NARROWWEEKDAYS:"dg dl dt dc dj dv ds".split(" "),STANDALONENARROWWEEKDAYS:"dg dl dt dc dj dv ds".split(" "),SHORTQUARTERS:["1T","2T","3T","4T"],QUARTERS:["1r trimestre","2n trimestre","3r trimestre","4t trimestre"],AMPMS:["a. m.","p. m."],DATEFORMATS:["EEEE, d MMMM 'de' y","d MMMM 'de' y","dd/MM/y","d/M/yy"],TIMEFORMATS:["H.mm.ss zzzz","H.mm.ss z","H.mm.ss","H.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_chr={ERAS:["ᎤᏓᎷᎸ","ᎤᎶᏐᏅ"],ERANAMES:["Ꮟ ᏥᏌ ᎾᏕᎲᏍᎬᎾ","ᎠᎩᏃᎮᎵᏓᏍᏗᏱ ᎠᏕᏘᏱᏍᎬ ᏱᎰᏩ ᏧᏓᏂᎸᎢᏍᏗ"],NARROWMONTHS:"ᎤᎧᎠᎧᎠᏕᎫᎦᏚᏚᏅᎤ".split(""),STANDALONENARROWMONTHS:"ᎤᎧᎠᎧᎠᏕᎫᎦᏚᏚᏅᎤ".split(""),MONTHS:"ᎤᏃᎸᏔᏅ ᎧᎦᎵ ᎠᏅᏱ ᎧᏬᏂ ᎠᏂᏍᎬᏘ ᏕᎭᎷᏱ ᎫᏰᏉᏂ ᎦᎶᏂ ᏚᎵᏍᏗ ᏚᏂᏅᏗ ᏅᏓᏕᏆ ᎤᏍᎩᏱ".split(" "),STANDALONEMONTHS:"ᎤᏃᎸᏔᏅ ᎧᎦᎵ ᎠᏅᏱ ᎧᏬᏂ ᎠᏂᏍᎬᏘ ᏕᎭᎷᏱ ᎫᏰᏉᏂ ᎦᎶᏂ ᏚᎵᏍᏗ ᏚᏂᏅᏗ ᏅᏓᏕᏆ ᎤᏍᎩᏱ".split(" "),SHORTMONTHS:"ᎤᏃ ᎧᎦ ᎠᏅ ᎧᏬ ᎠᏂ ᏕᎭ ᎫᏰ ᎦᎶ ᏚᎵ ᏚᏂ ᏅᏓ ᎤᏍ".split(" "),STANDALONESHORTMONTHS:"ᎤᏃ ᎧᎦ ᎠᏅ ᎧᏬ ᎠᏂ ᏕᎭ ᎫᏰ ᎦᎶ ᏚᎵ ᏚᏂ ᏅᏓ ᎤᏍ".split(" "),WEEKDAYS:"ᎤᎾᏙᏓᏆᏍᎬ ᎤᎾᏙᏓᏉᏅᎯ ᏔᎵᏁᎢᎦ ᏦᎢᏁᎢᎦ ᏅᎩᏁᎢᎦ ᏧᎾᎩᎶᏍᏗ ᎤᎾᏙᏓᏈᏕᎾ".split(" "),STANDALONEWEEKDAYS:"ᎤᎾᏙᏓᏆᏍᎬ ᎤᎾᏙᏓᏉᏅᎯ ᏔᎵᏁᎢᎦ ᏦᎢᏁᎢᎦ ᏅᎩᏁᎢᎦ ᏧᎾᎩᎶᏍᏗ ᎤᎾᏙᏓᏈᏕᎾ".split(" "),SHORTWEEKDAYS:"ᏆᏍᎬ ᏉᏅᎯ ᏔᎵᏁ ᏦᎢᏁ ᏅᎩᏁ ᏧᎾᎩ ᏈᏕᎾ".split(" "),STANDALONESHORTWEEKDAYS:"ᏆᏍᎬ ᏉᏅᎯ ᏔᎵᏁ ᏦᎢᏁ ᏅᎩᏁ ᏧᎾᎩ ᏈᏕᎾ".split(" "),NARROWWEEKDAYS:"ᏆᏉᏔᏦᏅᏧᎤ".split(""),STANDALONENARROWWEEKDAYS:"ᏆᏉᏔᏦᏅᏧᎤ".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Q1","Q2","Q3","Q4"],AMPMS:["ᏌᎾᎴ","ᏒᎯᏱᎢᏗᏢ"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_cs={ERAS:["př. n. l.","n. l."],ERANAMES:["př. n. l.","n. l."],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"lúbdkččszřlp".split(""),MONTHS:"ledna února března dubna května června července srpna září října listopadu prosince".split(" "),STANDALONEMONTHS:"leden únor březen duben květen červen červenec srpen září říjen listopad prosinec".split(" "),SHORTMONTHS:"led úno bře dub kvě čvn čvc srp zář říj lis pro".split(" "),STANDALONESHORTMONTHS:"led úno bře dub kvě čvn čvc srp zář říj lis pro".split(" "),WEEKDAYS:"neděle pondělí úterý středa čtvrtek pátek sobota".split(" "),STANDALONEWEEKDAYS:"neděle pondělí úterý středa čtvrtek pátek sobota".split(" "),SHORTWEEKDAYS:"ne po út st čt pá so".split(" "),STANDALONESHORTWEEKDAYS:"ne po út st čt pá so".split(" "),NARROWWEEKDAYS:"NPÚSČPS".split(""),STANDALONENARROWWEEKDAYS:"NPÚSČPS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. čtvrtletí","2. čtvrtletí","3. čtvrtletí","4. čtvrtletí"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d. MMMM y","d. MMMM y","d. M. y","dd.MM.yy"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_cy={ERAS:["CC","OC"],ERANAMES:["Cyn Crist","Oed Crist"],NARROWMONTHS:"I Ch M E M M G A M H T Rh".split(" "),STANDALONENARROWMONTHS:"I Ch M E M M G A M H T Rh".split(" "),MONTHS:"Ionawr Chwefror Mawrth Ebrill Mai Mehefin Gorffennaf Awst Medi Hydref Tachwedd Rhagfyr".split(" "),STANDALONEMONTHS:"Ionawr Chwefror Mawrth Ebrill Mai Mehefin Gorffennaf Awst Medi Hydref Tachwedd Rhagfyr".split(" "),SHORTMONTHS:"Ion Chwef Mawrth Ebrill Mai Meh Gorff Awst Medi Hyd Tach Rhag".split(" "),STANDALONESHORTMONTHS:"Ion Chw Maw Ebr Mai Meh Gor Awst Medi Hyd Tach Rhag".split(" "),WEEKDAYS:"Dydd Sul;Dydd Llun;Dydd Mawrth;Dydd Mercher;Dydd Iau;Dydd Gwener;Dydd Sadwrn".split(";"),STANDALONEWEEKDAYS:"Dydd Sul;Dydd Llun;Dydd Mawrth;Dydd Mercher;Dydd Iau;Dydd Gwener;Dydd Sadwrn".split(";"),SHORTWEEKDAYS:"Sul Llun Maw Mer Iau Gwen Sad".split(" "),STANDALONESHORTWEEKDAYS:"Sul Llun Maw Mer Iau Gwe Sad".split(" "),NARROWWEEKDAYS:"S Ll M M I G S".split(" "),STANDALONENARROWWEEKDAYS:"S Ll M M I G S".split(" "),SHORTQUARTERS:["Ch1","Ch2","Ch3","Ch4"],QUARTERS:["Chwarter 1af","2il chwarter","3ydd chwarter","4ydd chwarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'am' {0}","{1} 'am' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_da={ERAS:["f.Kr.","e.Kr."],ERANAMES:["f.Kr.","e.Kr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januar februar marts april maj juni juli august september oktober november december".split(" "),STANDALONEMONTHS:"januar februar marts april maj juni juli august september oktober november december".split(" "),SHORTMONTHS:"jan. feb. mar. apr. maj jun. jul. aug. sep. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr maj jun jul aug sep okt nov dec".split(" "),WEEKDAYS:"søndag mandag tirsdag onsdag torsdag fredag lørdag".split(" "),STANDALONEWEEKDAYS:"søndag mandag tirsdag onsdag torsdag fredag lørdag".split(" "),SHORTWEEKDAYS:"søn. man. tir. ons. tor. fre. lør.".split(" "),STANDALONESHORTWEEKDAYS:"søn man tir ons tor fre lør".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE 'den' d. MMMM y","d. MMM y","dd/MM/y","dd/MM/yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} 'kl.' {0}","{1} 'kl.' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_de={ERAS:["v. Chr.","n. Chr."],ERANAMES:["v. Chr.","n. Chr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januar Februar März April Mai Juni Juli August September Oktober November Dezember".split(" "),STANDALONEMONTHS:"Januar Februar März April Mai Juni Juli August September Oktober November Dezember".split(" "),SHORTMONTHS:"Jan. Feb. März Apr. Mai Juni Juli Aug. Sep. Okt. Nov. Dez.".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),WEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),STANDALONEWEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),SHORTWEEKDAYS:"So. Mo. Di. Mi. Do. Fr. Sa.".split(" "),STANDALONESHORTWEEKDAYS:"So Mo Di Mi Do Fr Sa".split(" "),NARROWWEEKDAYS:"SMDMDFS".split(""),STANDALONENARROWWEEKDAYS:"SMDMDFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"],AMPMS:["vorm.","nachm."],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_de_AT={ERAS:["v. Chr.","n. Chr."],ERANAMES:["v. Chr.","n. Chr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Jänner Februar März April Mai Juni Juli August September Oktober November Dezember".split(" "),STANDALONEMONTHS:"Jänner Februar März April Mai Juni Juli August September Oktober November Dezember".split(" "),SHORTMONTHS:"Jän. Feb. März Apr. Mai Juni Juli Aug. Sep. Okt. Nov. Dez.".split(" "),STANDALONESHORTMONTHS:"Jän Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),WEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),STANDALONEWEEKDAYS:"Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag".split(" "),SHORTWEEKDAYS:"So. Mo. Di. Mi. Do. Fr. Sa.".split(" "),STANDALONESHORTWEEKDAYS:"So Mo Di Mi Do Fr Sa".split(" "),NARROWWEEKDAYS:"SMDMDFS".split(""),STANDALONENARROWWEEKDAYS:"SMDMDFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"],AMPMS:["vorm.","nachm."],DATEFORMATS:["EEEE, dd. MMMM y","dd. MMMM y","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_de_CH=goog.i18n.DateTimeSymbols_de,goog.i18n.DateTimeSymbols_el={ERAS:["π.Χ.","μ.Χ."],ERANAMES:["π.Χ.","μ.Χ."],NARROWMONTHS:"ΙΦΜΑΜΙΙΑΣΟΝΔ".split(""),STANDALONENARROWMONTHS:"ΙΦΜΑΜΙΙΑΣΟΝΔ".split(""),MONTHS:"Ιανουαρίου Φεβρουαρίου Μαρτίου Απριλίου Μαΐου Ιουνίου Ιουλίου Αυγούστου Σεπτεμβρίου Οκτωβρίου Νοεμβρίου Δεκεμβρίου".split(" "),STANDALONEMONTHS:"Ιανουάριος Φεβρουάριος Μάρτιος Απρίλιος Μάιος Ιούνιος Ιούλιος Αύγουστος Σεπτέμβριος Οκτώβριος Νοέμβριος Δεκέμβριος".split(" "),SHORTMONTHS:"Ιαν Φεβ Μαρ Απρ Μαΐ Ιουν Ιουλ Αυγ Σεπ Οκτ Νοε Δεκ".split(" "),STANDALONESHORTMONTHS:"Ιαν Φεβ Μάρ Απρ Μάι Ιούν Ιούλ Αύγ Σεπ Οκτ Νοέ Δεκ".split(" "),WEEKDAYS:"Κυριακή Δευτέρα Τρίτη Τετάρτη Πέμπτη Παρασκευή Σάββατο".split(" "),STANDALONEWEEKDAYS:"Κυριακή Δευτέρα Τρίτη Τετάρτη Πέμπτη Παρασκευή Σάββατο".split(" "),SHORTWEEKDAYS:"Κυρ Δευ Τρί Τετ Πέμ Παρ Σάβ".split(" "),STANDALONESHORTWEEKDAYS:"Κυρ Δευ Τρί Τετ Πέμ Παρ Σάβ".split(" "),NARROWWEEKDAYS:"ΚΔΤΤΠΠΣ".split(""),STANDALONENARROWWEEKDAYS:"ΚΔΤΤΠΠΣ".split(""),SHORTQUARTERS:["Τ1","Τ2","Τ3","Τ4"],QUARTERS:["1ο τρίμηνο","2ο τρίμηνο","3ο τρίμηνο","4ο τρίμηνο"],AMPMS:["π.μ.","μ.μ."],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} - {0}","{1} - {0}","{1} - {0}","{1} - {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_en={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_en_AU={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/MM/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_en_GB={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_en_IE={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d MMMM y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:2},goog.i18n.DateTimeSymbols_en_IN={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","dd-MMM-y","dd/MM/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_en_SG={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_en_US=goog.i18n.DateTimeSymbols_en,goog.i18n.DateTimeSymbols_en_ZA={ERAS:["BC","AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE dd MMMM y","dd MMMM y","dd MMM y","y/MM/dd"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_es={ERAS:["a. C.","d. C."],ERANAMES:["antes de Cristo","anno Dómini"],NARROWMONTHS:"EFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"EFMAMJJASOND".split(""),MONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),STANDALONEMONTHS:"Enero Febrero Marzo Abril Mayo Junio Julio Agosto Septiembre Octubre Noviembre Diciembre".split(" "),SHORTMONTHS:"ene. feb. mar. abr. may. jun. jul. ago. sept. oct. nov. dic.".split(" "),STANDALONESHORTMONTHS:"Ene. Feb. Mar. Abr. May. Jun. Jul. Ago. Sept. Oct. Nov. Dic.".split(" "),WEEKDAYS:"domingo lunes martes miércoles jueves viernes sábado".split(" "),STANDALONEWEEKDAYS:"Domingo Lunes Martes Miércoles Jueves Viernes Sábado".split(" "),SHORTWEEKDAYS:"dom. lun. mar. mié. jue. vie. sáb.".split(" "),STANDALONESHORTWEEKDAYS:"Dom. Lun. Mar. Mié. Jue. Vie. Sáb.".split(" "),NARROWWEEKDAYS:"DLMXJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMXJVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.er trimestre","2.º trimestre","3.er trimestre","4.º trimestre"],AMPMS:["a. m.","p. m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d/M/y","d/M/yy"],TIMEFORMATS:["H:mm:ss (zzzz)","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_es_419=goog.i18n.DateTimeSymbols_es,goog.i18n.DateTimeSymbols_es_ES=goog.i18n.DateTimeSymbols_es,goog.i18n.DateTimeSymbols_et={ERAS:["e.m.a.","m.a.j."],ERANAMES:["enne meie aega","meie aja järgi"],NARROWMONTHS:"JVMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JVMAMJJASOND".split(""),MONTHS:"jaanuar veebruar märts aprill mai juuni juuli august september oktoober november detsember".split(" "),STANDALONEMONTHS:"jaanuar veebruar märts aprill mai juuni juuli august september oktoober november detsember".split(" "),SHORTMONTHS:"jaan veebr märts apr mai juuni juuli aug sept okt nov dets".split(" "),STANDALONESHORTMONTHS:"jaan veebr märts apr mai juuni juuli aug sept okt nov dets".split(" "),WEEKDAYS:"pühapäev esmaspäev teisipäev kolmapäev neljapäev reede laupäev".split(" "),STANDALONEWEEKDAYS:"pühapäev esmaspäev teisipäev kolmapäev neljapäev reede laupäev".split(" "),SHORTWEEKDAYS:"PETKNRL".split(""),STANDALONESHORTWEEKDAYS:"PETKNRL".split(""),NARROWWEEKDAYS:"PETKNRL".split(""),STANDALONENARROWWEEKDAYS:"PETKNRL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["H:mm.ss zzzz","H:mm.ss z","H:mm.ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_eu={ERAS:["K.a.","K.o."],ERANAMES:["K.a.","K.o."],NARROWMONTHS:"UOMAMEUAIUAA".split(""),STANDALONENARROWMONTHS:"UOMAMEUAIUAA".split(""),MONTHS:"urtarrilak otsailak martxoak apirilak maiatzak ekainak uztailak abuztuak irailak urriak azaroak abenduak".split(" "),STANDALONEMONTHS:"urtarrila otsaila martxoa apirila maiatza ekaina uztaila abuztua iraila urria azaroa abendua".split(" "),SHORTMONTHS:"urt. ots. mar. api. mai. eka. uzt. abu. ira. urr. aza. abe.".split(" "),STANDALONESHORTMONTHS:"urt. ots. mar. api. mai. eka. uzt. abu. ira. urr. aza. abe.".split(" "),WEEKDAYS:"igandea astelehena asteartea asteazkena osteguna ostirala larunbata".split(" "),STANDALONEWEEKDAYS:"igandea astelehena asteartea asteazkena osteguna ostirala larunbata".split(" "),SHORTWEEKDAYS:"ig. al. ar. az. og. or. lr.".split(" "),STANDALONESHORTWEEKDAYS:"ig. al. ar. az. og. or. lr.".split(" "),NARROWWEEKDAYS:"IAAAOOL".split(""),STANDALONENARROWWEEKDAYS:"IAAAOOL".split(""),SHORTQUARTERS:["1Hh","2Hh","3Hh","4Hh"],QUARTERS:["1. hiruhilekoa","2. hiruhilekoa","3. hiruhilekoa","4. hiruhilekoa"],AMPMS:["AM","PM"],DATEFORMATS:["y('e')'ko' MMMM d, EEEE","y('e')'ko' MMMM d","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_fa={ZERODIGIT:1776,ERAS:["ق.م.","م."],ERANAMES:["قبل از میلاد","میلادی"],NARROWMONTHS:"ژفمآمژژاساند".split(""),STANDALONENARROWMONTHS:"ژفمآمژژاساند".split(""),MONTHS:"ژانویهٔ فوریهٔ مارس آوریل مهٔ ژوئن ژوئیهٔ اوت سپتامبر اکتبر نوامبر دسامبر".split(" "),STANDALONEMONTHS:"ژانویه فوریه مارس آوریل مه ژوئن ژوئیه اوت سپتامبر اکتبر نوامبر دسامبر".split(" "),SHORTMONTHS:"ژانویهٔ فوریهٔ مارس آوریل مهٔ ژوئن ژوئیهٔ اوت سپتامبر اکتبر نوامبر دسامبر".split(" "),STANDALONESHORTMONTHS:"ژانویه فوریه مارس آوریل مه ژوئن ژوئیه اوت سپتامبر اکتبر نوامبر دسامبر".split(" "),WEEKDAYS:"یکشنبه دوشنبه سه‌شنبه چهارشنبه پنجشنبه جمعه شنبه".split(" "),STANDALONEWEEKDAYS:"یکشنبه دوشنبه سه‌شنبه چهارشنبه پنجشنبه جمعه شنبه".split(" "),SHORTWEEKDAYS:"یکشنبه دوشنبه سه‌شنبه چهارشنبه پنجشنبه جمعه شنبه".split(" "),STANDALONESHORTWEEKDAYS:"یکشنبه دوشنبه سه‌شنبه چهارشنبه پنجشنبه جمعه شنبه".split(" "),NARROWWEEKDAYS:"یدسچپجش".split(""),STANDALONENARROWWEEKDAYS:"یدسچپجش".split(""),SHORTQUARTERS:["س‌م۱","س‌م۲","س‌م۳","س‌م۴"],QUARTERS:["سه‌ماههٔ اول","سه‌ماههٔ دوم","سه‌ماههٔ سوم","سه‌ماههٔ چهارم"],AMPMS:["قبل‌ازظهر","بعدازظهر"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","y/M/d"],TIMEFORMATS:["H:mm:ss (zzzz)","H:mm:ss (z)","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}، ساعت {0}","{1}، ساعت {0}","{1}،‏ {0}","{1}،‏ {0}"],FIRSTDAYOFWEEK:5,WEEKENDRANGE:[3,4],FIRSTWEEKCUTOFFDAY:4},goog.i18n.DateTimeSymbols_fi={ERAS:["eKr.","jKr."],ERANAMES:["ennen Kristuksen syntymää","jälkeen Kristuksen syntymän"],NARROWMONTHS:"THMHTKHESLMJ".split(""),STANDALONENARROWMONTHS:"THMHTKHESLMJ".split(""),MONTHS:"tammikuuta helmikuuta maaliskuuta huhtikuuta toukokuuta kesäkuuta heinäkuuta elokuuta syyskuuta lokakuuta marraskuuta joulukuuta".split(" "),STANDALONEMONTHS:"tammikuu helmikuu maaliskuu huhtikuu toukokuu kesäkuu heinäkuu elokuu syyskuu lokakuu marraskuu joulukuu".split(" "),SHORTMONTHS:"tammikuuta helmikuuta maaliskuuta huhtikuuta toukokuuta kesäkuuta heinäkuuta elokuuta syyskuuta lokakuuta marraskuuta joulukuuta".split(" "),STANDALONESHORTMONTHS:"tammi helmi maalis huhti touko kesä heinä elo syys loka marras joulu".split(" "),WEEKDAYS:"sunnuntaina maanantaina tiistaina keskiviikkona torstaina perjantaina lauantaina".split(" "),STANDALONEWEEKDAYS:"sunnuntai maanantai tiistai keskiviikko torstai perjantai lauantai".split(" "),SHORTWEEKDAYS:"su ma ti ke to pe la".split(" "),STANDALONESHORTWEEKDAYS:"su ma ti ke to pe la".split(" "),NARROWWEEKDAYS:"SMTKTPL".split(""),STANDALONENARROWWEEKDAYS:"SMTKTPL".split(""),SHORTQUARTERS:["1. nelj.","2. nelj.","3. nelj.","4. nelj."],QUARTERS:["1. neljännes","2. neljännes","3. neljännes","4. neljännes"],AMPMS:["ap.","ip."],DATEFORMATS:["cccc d. MMMM y","d. MMMM y","d.M.y","d.M.y"],TIMEFORMATS:["H.mm.ss zzzz","H.mm.ss z","H.mm.ss","H.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_fil={ERAS:["BC","AD"],ERANAMES:["BC","AD"],NARROWMONTHS:"EPMAMHHASOND".split(""),STANDALONENARROWMONTHS:"EPMAMHHASOND".split(""),MONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),STANDALONEMONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),SHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),STANDALONESHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),WEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),STANDALONEWEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),SHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),STANDALONESHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),NARROWWEEKDAYS:"LLMMHBS".split(""),STANDALONENARROWWEEKDAYS:"LLMMHBS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["ika-1 quarter","ika-2 quarter","ika-3 quarter","ika-4 na quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'ng' {0}","{1} 'ng' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_fr={ERAS:["av. J.-C.","ap. J.-C."],ERANAMES:["avant Jésus-Christ","après Jésus-Christ"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janvier février mars avril mai juin juillet août septembre octobre novembre décembre".split(" "),STANDALONEMONTHS:"janvier février mars avril mai juin juillet août septembre octobre novembre décembre".split(" "),SHORTMONTHS:"janv. févr. mars avr. mai juin juil. août sept. oct. nov. déc.".split(" "),STANDALONESHORTMONTHS:"janv. févr. mars avr. mai juin juil. août sept. oct. nov. déc.".split(" "),WEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),STANDALONEWEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),SHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),STANDALONESHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1er trimestre","2e trimestre","3e trimestre","4e trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_fr_CA={ERAS:["av. J.-C.","ap. J.-C."],ERANAMES:["avant Jésus-Christ","après Jésus-Christ"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janvier février mars avril mai juin juillet août septembre octobre novembre décembre".split(" "),STANDALONEMONTHS:"janvier février mars avril mai juin juillet août septembre octobre novembre décembre".split(" "),SHORTMONTHS:"janv. févr. mars avr. mai juin juil. août sept. oct. nov. déc.".split(" "),STANDALONESHORTMONTHS:"janv. févr. mars avr. mai juin juil. août sept. oct. nov. déc.".split(" "),WEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),STANDALONEWEEKDAYS:"dimanche lundi mardi mercredi jeudi vendredi samedi".split(" "),SHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),STANDALONESHORTWEEKDAYS:"dim. lun. mar. mer. jeu. ven. sam.".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1er trimestre","2e trimestre","3e trimestre","4e trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","y-MM-dd","yy-MM-dd"],TIMEFORMATS:["HH 'h' mm 'min' ss 's' zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_gl={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","despois de Cristo"],NARROWMONTHS:"XFMAMXXASOND".split(""),STANDALONENARROWMONTHS:"XFMAMXXASOND".split(""),MONTHS:"xaneiro febreiro marzo abril maio xuño xullo agosto setembro outubro novembro decembro".split(" "),STANDALONEMONTHS:"Xaneiro Febreiro Marzo Abril Maio Xuño Xullo Agosto Setembro Outubro Novembro Decembro".split(" "),SHORTMONTHS:"xan feb mar abr mai xuñ xul ago set out nov dec".split(" "),STANDALONESHORTMONTHS:"Xan Feb Mar Abr Mai Xuñ Xul Ago Set Out Nov Dec".split(" "),WEEKDAYS:"domingo luns martes mércores xoves venres sábado".split(" "),STANDALONEWEEKDAYS:"Domingo Luns Martes Mércores Xoves Venres Sábado".split(" "),SHORTWEEKDAYS:"dom lun mar mér xov ven sáb".split(" "),STANDALONESHORTWEEKDAYS:"Dom Lun Mar Mér Xov Ven Sáb".split(" "),NARROWWEEKDAYS:"DLMMXVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMXVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1o trimestre","2o trimestre","3o trimestre","4o trimestre"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE dd MMMM y","dd MMMM y","d MMM, y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_gsw={ERAS:["v. Chr.","n. Chr."],ERANAMES:["v. Chr.","n. Chr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januar Februar März April Mai Juni Juli Auguscht Septämber Oktoober Novämber Dezämber".split(" "),STANDALONEMONTHS:"Januar Februar März April Mai Juni Juli Auguscht Septämber Oktoober Novämber Dezämber".split(" "),SHORTMONTHS:"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mär Apr Mai Jun Jul Aug Sep Okt Nov Dez".split(" "),WEEKDAYS:"Sunntig Määntig Ziischtig Mittwuch Dunschtig Friitig Samschtig".split(" "),STANDALONEWEEKDAYS:"Sunntig Määntig Ziischtig Mittwuch Dunschtig Friitig Samschtig".split(" "),SHORTWEEKDAYS:"Su. Mä. Zi. Mi. Du. Fr. Sa.".split(" "),STANDALONESHORTWEEKDAYS:"Su. Mä. Zi. Mi. Du. Fr. Sa.".split(" "),NARROWWEEKDAYS:"SMDMDFS".split(""),STANDALONENARROWWEEKDAYS:"SMDMDFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"],AMPMS:["vorm.","nam."],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_gu={ERAS:["ઈસુના જન્મ પહેલા","ઇસવીસન"],ERANAMES:["ઈસવીસન પૂર્વે","ઇસવીસન"],NARROWMONTHS:"જા ફે મા એ મે જૂ જુ ઑ સ ઑ ન ડિ".split(" "),STANDALONENARROWMONTHS:"જા ફે મા એ મે જૂ જુ ઑ સ ઑ ન ડિ".split(" "),MONTHS:"જાન્યુઆરી ફેબ્રુઆરી માર્ચ એપ્રિલ મે જૂન જુલાઈ ઑગસ્ટ સપ્ટેમ્બર ઑક્ટોબર નવેમ્બર ડિસેમ્બર".split(" "),STANDALONEMONTHS:"જાન્યુઆરી ફેબ્રુઆરી માર્ચ એપ્રિલ મે જૂન જુલાઈ ઑગસ્ટ સપ્ટેમ્બર ઑક્ટોબર નવેમ્બર ડિસેમ્બર".split(" "),SHORTMONTHS:"જાન્યુ ફેબ્રુ માર્ચ એપ્રિલ મે જૂન જુલાઈ ઑગસ્ટ સપ્ટે ઑક્ટો નવે ડિસે".split(" "),STANDALONESHORTMONTHS:"જાન્યુ ફેબ્રુ માર્ચ એપ્રિલ મે જૂન જુલાઈ ઑગ સપ્ટે ઑક્ટો નવે ડિસે".split(" "),WEEKDAYS:"રવિવાર સોમવાર મંગળવાર બુધવાર ગુરુવાર શુક્રવાર શનિવાર".split(" "),STANDALONEWEEKDAYS:"રવિવાર સોમવાર મંગળવાર બુધવાર ગુરુવાર શુક્રવાર શનિવાર".split(" "),SHORTWEEKDAYS:"રવિ સોમ મંગળ બુધ ગુરુ શુક્ર શનિ".split(" "),STANDALONESHORTWEEKDAYS:"રવિ સોમ મંગળ બુધ ગુરુ શુક્ર શનિ".split(" "),NARROWWEEKDAYS:"ર સો મં બુ ગુ શુ શ".split(" "),STANDALONENARROWWEEKDAYS:"ર સો મં બુ ગુ શુ શ".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["પહેલો ત્રિમાસ","બીજો ત્રિમાસ","ત્રીજો ત્રિમાસ","ચોથો ત્રિમાસ"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d-MM-yy"],TIMEFORMATS:["hh:mm:ss a zzzz","hh:mm:ss a z","hh:mm:ss a","hh:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_haw={ERAS:["BCE","CE"],ERANAMES:["BCE","CE"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"Ianuali Pepeluali Malaki ʻApelila Mei Iune Iulai ʻAukake Kepakemapa ʻOkakopa Nowemapa Kekemapa".split(" "),STANDALONEMONTHS:"Ianuali Pepeluali Malaki ʻApelila Mei Iune Iulai ʻAukake Kepakemapa ʻOkakopa Nowemapa Kekemapa".split(" "),SHORTMONTHS:"Ian. Pep. Mal. ʻAp. Mei Iun. Iul. ʻAu. Kep. ʻOk. Now. Kek.".split(" "),STANDALONESHORTMONTHS:"Ian. Pep. Mal. ʻAp. Mei Iun. Iul. ʻAu. Kep. ʻOk. Now. Kek.".split(" "),WEEKDAYS:"Lāpule Poʻakahi Poʻalua Poʻakolu Poʻahā Poʻalima Poʻaono".split(" "),STANDALONEWEEKDAYS:"Lāpule Poʻakahi Poʻalua Poʻakolu Poʻahā Poʻalima Poʻaono".split(" "),SHORTWEEKDAYS:"LP P1 P2 P3 P4 P5 P6".split(" "),STANDALONESHORTWEEKDAYS:"LP P1 P2 P3 P4 P5 P6".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Q1","Q2","Q3","Q4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_he={ERAS:["לפנה״ס","לסה״נ"],ERANAMES:["לפני הספירה","לספירה"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"ינואר פברואר מרץ אפריל מאי יוני יולי אוגוסט ספטמבר אוקטובר נובמבר דצמבר".split(" "),STANDALONEMONTHS:"ינואר פברואר מרץ אפריל מאי יוני יולי אוגוסט ספטמבר אוקטובר נובמבר דצמבר".split(" "),SHORTMONTHS:"ינו פבר מרץ אפר מאי יונ יול אוג ספט אוק נוב דצמ".split(" "),STANDALONESHORTMONTHS:"ינו׳ פבר׳ מרץ אפר׳ מאי יונ׳ יול׳ אוג׳ ספט׳ אוק׳ נוב׳ דצמ׳".split(" "),WEEKDAYS:"יום ראשון;יום שני;יום שלישי;יום רביעי;יום חמישי;יום שישי;יום שבת".split(";"),STANDALONEWEEKDAYS:"יום ראשון;יום שני;יום שלישי;יום רביעי;יום חמישי;יום שישי;יום שבת".split(";"),SHORTWEEKDAYS:"יום א׳;יום ב׳;יום ג׳;יום ד׳;יום ה׳;יום ו׳;שבת".split(";"),STANDALONESHORTWEEKDAYS:"יום א׳;יום ב׳;יום ג׳;יום ד׳;יום ה׳;יום ו׳;שבת".split(";"),NARROWWEEKDAYS:"א׳ ב׳ ג׳ ד׳ ה׳ ו׳ ש׳".split(" "),STANDALONENARROWWEEKDAYS:"א׳ ב׳ ג׳ ד׳ ה׳ ו׳ ש׳".split(" "),SHORTQUARTERS:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"],QUARTERS:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"],AMPMS:["לפנה״צ","אחה״צ"],DATEFORMATS:["EEEE, d בMMMM y","d בMMMM y","d בMMM y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} בשעה {0}","{1} בשעה {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[4,5],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_hi={ERAS:["ईसा-पूर्व","ईस्वी"],ERANAMES:["ईसा-पूर्व","ईस्वी"],NARROWMONTHS:"ज फ़ मा अ म जू जु अ सि अ न दि".split(" "),STANDALONENARROWMONTHS:"ज फ़ मा अ म जू जु अ सि अ न दि".split(" "),MONTHS:"जनवरी फ़रवरी मार्च अप्रैल मई जून जुलाई अगस्त सितंबर अक्टूबर नवंबर दिसंबर".split(" "),STANDALONEMONTHS:"जनवरी फ़रवरी मार्च अप्रैल मई जून जुलाई अगस्त सितंबर अक्टूबर नवंबर दिसंबर".split(" "),SHORTMONTHS:"जन फ़र मार्च अप्रै मई जून जुला अग सितं अक्टू नवं दिसं".split(" "),STANDALONESHORTMONTHS:"जन फ़र मार्च अप्रै मई जून जुला अग सितं अक्टू नवं दिसं".split(" "),WEEKDAYS:"रविवार सोमवार मंगलवार बुधवार गुरुवार शुक्रवार शनिवार".split(" "),STANDALONEWEEKDAYS:"रविवार सोमवार मंगलवार बुधवार गुरुवार शुक्रवार शनिवार".split(" "),SHORTWEEKDAYS:"रवि सोम मंगल बुध गुरु शुक्र शनि".split(" "),STANDALONESHORTWEEKDAYS:"रवि सोम मंगल बुध गुरु शुक्र शनि".split(" "),NARROWWEEKDAYS:"र सो मं बु गु शु श".split(" "),STANDALONENARROWWEEKDAYS:"र सो मं बु गु शु श".split(" "),SHORTQUARTERS:["ति1","ति2","ति3","ति4"],QUARTERS:["पहली तिमाही","दूसरी तिमाही","तीसरी तिमाही","चौथी तिमाही"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","dd-MM-y","d-M-yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} को {0}","{1} को {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_hr={ERAS:["pr. Kr.","p. Kr."],ERANAMES:["Prije Krista","Poslije Krista"],NARROWMONTHS:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),STANDALONENARROWMONTHS:"1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12.".split(" "),MONTHS:"siječnja veljače ožujka travnja svibnja lipnja srpnja kolovoza rujna listopada studenoga prosinca".split(" "),STANDALONEMONTHS:"siječanj veljača ožujak travanj svibanj lipanj srpanj kolovoz rujan listopad studeni prosinac".split(" "),SHORTMONTHS:"sij velj ožu tra svi lip srp kol ruj lis stu pro".split(" "),STANDALONESHORTMONTHS:"sij velj ožu tra svi lip srp kol ruj lis stu pro".split(" "),WEEKDAYS:"nedjelja ponedjeljak utorak srijeda četvrtak petak subota".split(" "),STANDALONEWEEKDAYS:"nedjelja ponedjeljak utorak srijeda četvrtak petak subota".split(" "),SHORTWEEKDAYS:"ned pon uto sri čet pet sub".split(" "),STANDALONESHORTWEEKDAYS:"ned pon uto sri čet pet sub".split(" "),NARROWWEEKDAYS:"NPUSČPS".split(""),STANDALONENARROWWEEKDAYS:"npusčps".split(""),SHORTQUARTERS:["1kv","2kv","3kv","4kv"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d. MMMM y.","d. MMMM y.","d. MMM y.","d.M.yy."],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'u' {0}","{1} 'u' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_hu={ERAS:["i. e.","i. sz."],ERANAMES:["időszámításunk előtt","időszámításunk szerint"],NARROWMONTHS:"J F M Á M J J A Sz O N D".split(" "),STANDALONENARROWMONTHS:"J F M Á M J J A Sz O N D".split(" "),MONTHS:"január február március április május június július augusztus szeptember október november december".split(" "),STANDALONEMONTHS:"január február március április május június július augusztus szeptember október november december".split(" "),SHORTMONTHS:"jan. febr. márc. ápr. máj. jún. júl. aug. szept. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan. febr. márc. ápr. máj. jún. júl. aug. szept. okt. nov. dec.".split(" "),WEEKDAYS:"vasárnap hétfő kedd szerda csütörtök péntek szombat".split(" "),STANDALONEWEEKDAYS:"vasárnap hétfő kedd szerda csütörtök péntek szombat".split(" "),SHORTWEEKDAYS:"V H K Sze Cs P Szo".split(" "),STANDALONESHORTWEEKDAYS:"V H K Sze Cs P Szo".split(" "),NARROWWEEKDAYS:"V H K Sz Cs P Sz".split(" "),STANDALONENARROWWEEKDAYS:"V H K Sz Cs P Sz".split(" "),SHORTQUARTERS:["N1","N2","N3","N4"],QUARTERS:["I. negyedév","II. negyedév","III. negyedév","IV. negyedév"],AMPMS:["de.","du."],DATEFORMATS:["y. MMMM d., EEEE","y. MMMM d.","y MMM d","y. MM. dd."],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_hy={ERAS:["մ.թ.ա.","մ.թ."],ERANAMES:["մ.թ.ա.","մ.թ."],NARROWMONTHS:"ՀՓՄԱՄՀՀՕՍՀՆԴ".split(""),STANDALONENARROWMONTHS:"ՀՓՄԱՄՀՀՕՍՀՆԴ".split(""),MONTHS:"հունվարի փետրվարի մարտի ապրիլի մայիսի հունիսի հուլիսի օգոստոսի սեպտեմբերի հոկտեմբերի նոյեմբերի դեկտեմբերի".split(" "),STANDALONEMONTHS:"հունվար փետրվար մարտ ապրիլ մայիս հունիս հուլիս օգոստոս սեպտեմբեր հոկտեմբեր նոյեմբեր դեկտեմբեր".split(" "),SHORTMONTHS:"հնվ փտվ մրտ ապր մյս հնս հլս օգս սպտ հկտ նյմ դկտ".split(" "),STANDALONESHORTMONTHS:"հնվ փտվ մրտ ապր մյս հնս հլս օգս սպտ հկտ նյմ դկտ".split(" "),WEEKDAYS:"կիրակի երկուշաբթի երեքշաբթի չորեքշաբթի հինգշաբթի ուրբաթ շաբաթ".split(" "),STANDALONEWEEKDAYS:"կիրակի երկուշաբթի երեքշաբթի չորեքշաբթի հինգշաբթի ուրբաթ շաբաթ".split(" "),SHORTWEEKDAYS:"կիր երկ երք չրք հնգ ուր շբթ".split(" "),STANDALONESHORTWEEKDAYS:"կիր երկ երք չրք հնգ ուր շբթ".split(" "),NARROWWEEKDAYS:"Կ Ե Ե Չ Հ Ու Շ".split(" "),STANDALONENARROWWEEKDAYS:"Կ Ե Ե Չ Հ Ու Շ".split(" "),SHORTQUARTERS:["1-ին եռմս.","2-րդ եռմս.","3-րդ եռմս.","4-րդ եռմս."],QUARTERS:["1-ին եռամսյակ","2-րդ եռամսյակ","3-րդ եռամսյակ","4-րդ եռամսյակ"],AMPMS:["կեսօրից առաջ","կեսօրից հետո"],DATEFORMATS:["yթ. MMMM d, EEEE","dd MMMM, yթ.","dd MMM, y թ.","dd.MM.yy"],TIMEFORMATS:["H:mm:ss, zzzz","H:mm:ss, z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_id={ERAS:["SM","M"],ERANAMES:["SM","M"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),STANDALONEMONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),SHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),WEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),STANDALONEWEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),SHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),STANDALONESHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),NARROWWEEKDAYS:"MSSRKJS".split(""),STANDALONENARROWWEEKDAYS:"MSSRKJS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, dd MMMM y","d MMMM y","d MMM y","dd/MM/yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_in={ERAS:["SM","M"],ERANAMES:["SM","M"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),STANDALONEMONTHS:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),SHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr Mei Jun Jul Agt Sep Okt Nov Des".split(" "),WEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),STANDALONEWEEKDAYS:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),SHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),STANDALONESHORTWEEKDAYS:"Min Sen Sel Rab Kam Jum Sab".split(" "),NARROWWEEKDAYS:"MSSRKJS".split(""),STANDALONENARROWWEEKDAYS:"MSSRKJS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, dd MMMM y","d MMMM y","d MMM y","dd/MM/yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_is={ERAS:["f.Kr.","e.Kr."],ERANAMES:["fyrir Krist","eftir Krist"],NARROWMONTHS:"JFMAMJJÁSOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJÁSOND".split(""),MONTHS:"janúar febrúar mars apríl maí júní júlí ágúst september október nóvember desember".split(" "),STANDALONEMONTHS:"janúar febrúar mars apríl maí júní júlí ágúst september október nóvember desember".split(" "),SHORTMONTHS:"jan. feb. mar. apr. maí jún. júl. ágú. sep. okt. nóv. des.".split(" "),STANDALONESHORTMONTHS:"jan. feb. mar. apr. maí jún. júl. ágú. sep. okt. nóv. des.".split(" "),WEEKDAYS:"sunnudagur mánudagur þriðjudagur miðvikudagur fimmtudagur föstudagur laugardagur".split(" "),STANDALONEWEEKDAYS:"sunnudagur mánudagur þriðjudagur miðvikudagur fimmtudagur föstudagur laugardagur".split(" "),SHORTWEEKDAYS:"sun. mán. þri. mið. fim. fös. lau.".split(" "),STANDALONESHORTWEEKDAYS:"sun. mán. þri. mið. fim. fös. lau.".split(" "),NARROWWEEKDAYS:"SMÞMFFL".split(""),STANDALONENARROWWEEKDAYS:"SMÞMFFL".split(""),SHORTQUARTERS:["F1","F2","F3","F4"],QUARTERS:["1. fjórðungur","2. fjórðungur","3. fjórðungur","4. fjórðungur"],AMPMS:["f.h.","e.h."],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","d. MMM y","d.M.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'kl.' {0}","{1} 'kl.' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_it={ERAS:["aC","dC"],ERANAMES:["a.C.","d.C."],NARROWMONTHS:"GFMAMGLASOND".split(""),STANDALONENARROWMONTHS:"GFMAMGLASOND".split(""),MONTHS:"gennaio febbraio marzo aprile maggio giugno luglio agosto settembre ottobre novembre dicembre".split(" "),STANDALONEMONTHS:"Gennaio Febbraio Marzo Aprile Maggio Giugno Luglio Agosto Settembre Ottobre Novembre Dicembre".split(" "),SHORTMONTHS:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),STANDALONESHORTMONTHS:"gen feb mar apr mag giu lug ago set ott nov dic".split(" "),WEEKDAYS:"domenica lunedì martedì mercoledì giovedì venerdì sabato".split(" "),STANDALONEWEEKDAYS:"Domenica Lunedì Martedì Mercoledì Giovedì Venerdì Sabato".split(" "),SHORTWEEKDAYS:"dom lun mar mer gio ven sab".split(" "),STANDALONESHORTWEEKDAYS:"dom lun mar mer gio ven sab".split(" "),NARROWWEEKDAYS:"DLMMGVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMGVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","dd MMMM y","dd/MMM/y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_iw={ERAS:["לפנה״ס","לסה״נ"],ERANAMES:["לפני הספירה","לספירה"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"ינואר פברואר מרץ אפריל מאי יוני יולי אוגוסט ספטמבר אוקטובר נובמבר דצמבר".split(" "),STANDALONEMONTHS:"ינואר פברואר מרץ אפריל מאי יוני יולי אוגוסט ספטמבר אוקטובר נובמבר דצמבר".split(" "),SHORTMONTHS:"ינו פבר מרץ אפר מאי יונ יול אוג ספט אוק נוב דצמ".split(" "),STANDALONESHORTMONTHS:"ינו׳ פבר׳ מרץ אפר׳ מאי יונ׳ יול׳ אוג׳ ספט׳ אוק׳ נוב׳ דצמ׳".split(" "),WEEKDAYS:"יום ראשון;יום שני;יום שלישי;יום רביעי;יום חמישי;יום שישי;יום שבת".split(";"),STANDALONEWEEKDAYS:"יום ראשון;יום שני;יום שלישי;יום רביעי;יום חמישי;יום שישי;יום שבת".split(";"),SHORTWEEKDAYS:"יום א׳;יום ב׳;יום ג׳;יום ד׳;יום ה׳;יום ו׳;שבת".split(";"),STANDALONESHORTWEEKDAYS:"יום א׳;יום ב׳;יום ג׳;יום ד׳;יום ה׳;יום ו׳;שבת".split(";"),NARROWWEEKDAYS:"א׳ ב׳ ג׳ ד׳ ה׳ ו׳ ש׳".split(" "),STANDALONENARROWWEEKDAYS:"א׳ ב׳ ג׳ ד׳ ה׳ ו׳ ש׳".split(" "),SHORTQUARTERS:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"],QUARTERS:["רבעון 1","רבעון 2","רבעון 3","רבעון 4"],AMPMS:["לפנה״צ","אחה״צ"],DATEFORMATS:["EEEE, d בMMMM y","d בMMMM y","d בMMM y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} בשעה {0}","{1} בשעה {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[4,5],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_ja={ERAS:["紀元前","西暦"],ERANAMES:["紀元前","西暦"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),STANDALONEMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),SHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),STANDALONESHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),WEEKDAYS:"日曜日 月曜日 火曜日 水曜日 木曜日 金曜日 土曜日".split(" "),STANDALONEWEEKDAYS:"日曜日 月曜日 火曜日 水曜日 木曜日 金曜日 土曜日".split(" "),SHORTWEEKDAYS:"日月火水木金土".split(""),STANDALONESHORTWEEKDAYS:"日月火水木金土".split(""),NARROWWEEKDAYS:"日月火水木金土".split(""),STANDALONENARROWWEEKDAYS:"日月火水木金土".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["第1四半期","第2四半期","第3四半期","第4四半期"],AMPMS:["午前","午後"],DATEFORMATS:["y年M月d日EEEE","y年M月d日","y/MM/dd","y/MM/dd"],TIMEFORMATS:["H時mm分ss秒 zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_ka={ERAS:["ძვ. წ.","ახ. წ."],ERANAMES:["ძველი წელთაღრიცხვით","ახალი წელთაღრიცხვით"],NARROWMONTHS:"ითმამიიასონდ".split(""),STANDALONENARROWMONTHS:"ითმამიიასონდ".split(""),MONTHS:"იანვარი თებერვალი მარტი აპრილი მაისი ივნისი ივლისი აგვისტო სექტემბერი ოქტომბერი ნოემბერი დეკემბერი".split(" "),STANDALONEMONTHS:"იანვარი თებერვალი მარტი აპრილი მაისი ივნისი ივლისი აგვისტო სექტემბერი ოქტომბერი ნოემბერი დეკემბერი".split(" "),SHORTMONTHS:"იან თებ მარ აპრ მაი ივნ ივლ აგვ სექ ოქტ ნოე დეკ".split(" "),STANDALONESHORTMONTHS:"იან თებ მარ აპრ მაი ივნ ივლ აგვ სექ ოქტ ნოე დეკ".split(" "),WEEKDAYS:"კვირა ორშაბათი სამშაბათი ოთხშაბათი ხუთშაბათი პარასკევი შაბათი".split(" "),STANDALONEWEEKDAYS:"კვირა ორშაბათი სამშაბათი ოთხშაბათი ხუთშაბათი პარასკევი შაბათი".split(" "),SHORTWEEKDAYS:"კვი ორშ სამ ოთხ ხუთ პარ შაბ".split(" "),STANDALONESHORTWEEKDAYS:"კვი ორშ სამ ოთხ ხუთ პარ შაბ".split(" "),NARROWWEEKDAYS:"კოსოხპშ".split(""),STANDALONENARROWWEEKDAYS:"კოსოხპშ".split(""),SHORTQUARTERS:["I კვ.","II კვ.","III კვ.","IV კვ."],QUARTERS:["I კვარტალი","II კვარტალი","III კვარტალი","IV კვარტალი"],AMPMS:["დილის","საღამოს"],DATEFORMATS:["EEEE, dd MMMM, y","d MMMM, y","d MMM, y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1}, {0}","{1} {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_kk={ERAS:["б.з.д.","б.з."],ERANAMES:["б.з.д.","б.з."],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"қаңтар ақпан наурыз сәуір мамыр маусым шілде тамыз қыркүйек қазан қараша желтоқсан".split(" "),STANDALONEMONTHS:"қаңтар ақпан наурыз сәуір мамыр маусым шілде тамыз қыркүйек қазан қараша желтоқсан".split(" "),SHORTMONTHS:"қаң. ақп. нау. сәу. мам. мау. шіл. там. қыр. қаз. қар. желт.".split(" "),STANDALONESHORTMONTHS:"қаң. ақп. нау. сәу. мам. мау. шіл. там. қыр. қаз. қар. желт.".split(" "),WEEKDAYS:"жексені дуйсенбі сейсенбі сәрсенбі бейсенбі жұма сенбі".split(" "),STANDALONEWEEKDAYS:"жексені дуйсенбі сейсенбі сәрсенбі бейсенбі жұма сенбі".split(" "),SHORTWEEKDAYS:"жс. дс. сс. ср. бс. жм. сб.".split(" "),STANDALONESHORTWEEKDAYS:"жс. дс. сс. ср. бс. жм. сб.".split(" "),NARROWWEEKDAYS:"ЖДССБЖС".split(""),STANDALONENARROWWEEKDAYS:"ЖДССБЖС".split(""),SHORTQUARTERS:["1-тоқсан","2-тоқсан","3-тоқсан","4-тоқсан"],QUARTERS:["1-інші тоқсан","2-інші тоқсан","3-інші тоқсан","4-інші тоқсан"],AMPMS:["түске дейін","түстен кейін"],DATEFORMATS:["EEEE, d MMMM y 'ж'.","d MMMM y 'ж'.","dd.MM.y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_km={ERAS:["មុន គ.ស.","គ.ស."],ERANAMES:["មុន​គ្រិស្តសករាជ","គ្រិស្តសករាជ"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"មករា កុម្ភៈ មីនា មេសា ឧសភា មិថុនា កក្កដា សីហា កញ្ញា តុលា វិច្ឆិកា ធ្នូ".split(" "),STANDALONEMONTHS:"មករា កុម្ភៈ មីនា មេសា ឧសភា មិថុនា កក្កដា សីហា កញ្ញា តុលា វិច្ឆិកា ធ្នូ".split(" "),SHORTMONTHS:"មករា កុម្ភៈ មីនា មេសា ឧសភា មិថុនា កក្កដា សីហា កញ្ញា តុលា វិច្ឆិកា ធ្នូ".split(" "),STANDALONESHORTMONTHS:"មករា កុម្ភៈ មីនា មេសា ឧសភា មិថុនា កក្កដា សីហា កញ្ញា តុលា វិច្ឆិកា ធ្នូ".split(" "),WEEKDAYS:"អាទិត្យ ចន្ទ អង្គារ ពុធ ព្រហស្បតិ៍ សុក្រ សៅរ៍".split(" "),STANDALONEWEEKDAYS:"អាទិត្យ ចន្ទ អង្គារ ពុធ ព្រហស្បតិ៍ សុក្រ សៅរ៍".split(" "),SHORTWEEKDAYS:"អាទិត្យ ចន្ទ អង្គារ ពុធ ព្រហស្បតិ៍ សុក្រ សៅរ៍".split(" "),STANDALONESHORTWEEKDAYS:"អាទិត្យ ចន្ទ អង្គារ ពុធ ព្រហស្បតិ៍ សុក្រ សៅរ៍".split(" "),NARROWWEEKDAYS:"1234567".split(""),STANDALONENARROWWEEKDAYS:"1234567".split(""),SHORTQUARTERS:["ត្រីមាស ១","ត្រីមាស ២","ត្រីមាស ៣","ត្រីមាស ៤"],QUARTERS:["ត្រីមាសទី ១","ត្រីមាសទី ២","ត្រីមាសទី ៣","ត្រីមាសទី ៤"],AMPMS:["ព្រឹក","ល្ងាច"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","d/M/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_kn={ERAS:["ಕ್ರಿ.ಪೂ","ಜಾಹೀ"],ERANAMES:["ಈಸಪೂವ೯.","ಕ್ರಿಸ್ತ ಶಕ"],NARROWMONTHS:"ಜ ಫೆ ಮಾ ಏ ಮೇ ಜೂ ಜು ಆ ಸೆ ಅ ನ ಡಿ".split(" "),STANDALONENARROWMONTHS:"ಜ ಫೆ ಮಾ ಏ ಮೇ ಜೂ ಜು ಆ ಸೆ ಅ ನ ಡಿ".split(" "),MONTHS:"ಜನವರಿ ಫೆಬ್ರವರಿ ಮಾರ್ಚ್ ಏಪ್ರಿಲ್ ಮೇ ಜೂನ್ ಜುಲೈ ಆಗಸ್ಟ್ ಸಪ್ಟೆಂಬರ್ ಅಕ್ಟೋಬರ್ ನವೆಂಬರ್ ಡಿಸೆಂಬರ್".split(" "),STANDALONEMONTHS:"ಜನವರಿ ಫೆಬ್ರವರಿ ಮಾರ್ಚ್ ಏಪ್ರಿಲ್ ಮೇ ಜೂನ್ ಜುಲೈ ಆಗಸ್ಟ್ ಸಪ್ಟೆಂಬರ್ ಅಕ್ಟೋಬರ್ ನವೆಂಬರ್ ಡಿಸೆಂಬರ್".split(" "),SHORTMONTHS:"ಜನ. ಫೆಬ್ರು. ಮಾ ಏಪ್ರಿ. ಮೇ ಜೂ ಜು. ಆಗ. ಸೆಪ್ಟೆಂ. ಅಕ್ಟೋ. ನವೆಂ. ಡಿಸೆಂ.".split(" "),STANDALONESHORTMONTHS:"ಜನ. ಫೆಬ್ರು. ಮಾ ಏಪ್ರಿ. ಮೇ ಜೂ ಜು. ಆಗ. ಸೆಪ್ಟೆಂ. ಅಕ್ಟೋ. ನವೆಂ. ಡಿಸೆಂ.".split(" "),WEEKDAYS:"ರವಿವಾರ ಸೋಮವಾರ ಮಂಗಳವಾರ ಬುಧವಾರ ಗುರುವಾರ ಶುಕ್ರವಾರ ಶನಿವಾರ".split(" "),STANDALONEWEEKDAYS:"ರವಿವಾರ ಸೋಮವಾರ ಮಂಗಳವಾರ ಬುಧವಾರ ಗುರುವಾರ ಶುಕ್ರವಾರ ಶನಿವಾರ".split(" "),SHORTWEEKDAYS:"ರ. ಸೋ. ಮಂ. ಬು. ಗು. ಶು. ಶನಿ.".split(" "),STANDALONESHORTWEEKDAYS:"ರವಿ ಸೋಮ ಮಂಗಳ ಬುಧ ಗುರು ಶುಕ್ರ ಶನಿ".split(" "),NARROWWEEKDAYS:"ರ ಸೋ ಮಂ ಬು ಗು ಶು ಶ".split(" "),STANDALONENARROWWEEKDAYS:"ರ ಸೋ ಮಂ ಬು ಗು ಶು ಶ".split(" "),SHORTQUARTERS:["ತ್ರೈ 1","ತ್ರೈ 2","ತ್ರೈ 3","ತ್ರೈ 4"],QUARTERS:["1 ನೇ ತ್ರೈಮಾಸಿಕ","2ನೇ ತ್ರೈಮಾಸಿಕ","3 ನೇ ತ್ರೈಮಾಸಿಕ","4 ನೇ ತ್ರೈಮಾಸಿಕ"],AMPMS:["AM","PM"],DATEFORMATS:["d MMMM y, EEEE","d MMMM y","d MMM y","d-M-yy"],TIMEFORMATS:["hh:mm:ss a zzzz","hh:mm:ss a z","hh:mm:ss a","hh:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_ko={ERAS:["기원전","서기"],ERANAMES:["서력기원전","서력기원"],NARROWMONTHS:"1월 2월 3월 4월 5월 6월 7월 8월 9월 10월 11월 12월".split(" "),STANDALONENARROWMONTHS:"1월 2월 3월 4월 5월 6월 7월 8월 9월 10월 11월 12월".split(" "),MONTHS:"1월 2월 3월 4월 5월 6월 7월 8월 9월 10월 11월 12월".split(" "),STANDALONEMONTHS:"1월 2월 3월 4월 5월 6월 7월 8월 9월 10월 11월 12월".split(" "),SHORTMONTHS:"1월 2월 3월 4월 5월 6월 7월 8월 9월 10월 11월 12월".split(" "),STANDALONESHORTMONTHS:"1월 2월 3월 4월 5월 6월 7월 8월 9월 10월 11월 12월".split(" "),WEEKDAYS:"일요일 월요일 화요일 수요일 목요일 금요일 토요일".split(" "),STANDALONEWEEKDAYS:"일요일 월요일 화요일 수요일 목요일 금요일 토요일".split(" "),SHORTWEEKDAYS:"일월화수목금토".split(""),STANDALONESHORTWEEKDAYS:"일월화수목금토".split(""),NARROWWEEKDAYS:"일월화수목금토".split(""),STANDALONENARROWWEEKDAYS:"일월화수목금토".split(""),SHORTQUARTERS:["1분기","2분기","3분기","4분기"],QUARTERS:["제 1/4분기","제 2/4분기","제 3/4분기","제 4/4분기"],AMPMS:["오전","오후"],DATEFORMATS:["y년 M월 d일 EEEE","y년 M월 d일","y. M. d.","yy. M. d."],TIMEFORMATS:["a h시 m분 s초 zzzz","a h시 m분 s초 z","a h:mm:ss","a h:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_ky={ERAS:["б.з. ч.","б.з."],ERANAMES:["б.з. чейин","б.з."],NARROWMONTHS:"ЯФМАМИИАСОНД".split(""),STANDALONENARROWMONTHS:"ЯФМАМИИАСОНД".split(""),MONTHS:"январь февраль март апрель май июнь июль август сентябрь октябрь ноябрь декабрь".split(" "),STANDALONEMONTHS:"январь февраль март апрель май июнь июль август сентябрь октябрь ноябрь декабрь".split(" "),SHORTMONTHS:"янв. фев. мар. апр. май июн. июл. авг. сен. окт. ноя. дек.".split(" "),STANDALONESHORTMONTHS:"янв. фев. мар. апр. май июн. июл. авг. сен. окт. ноя. дек.".split(" "),WEEKDAYS:"Жек Дүй Шей Шар Бей Жум Ишм".split(" "),STANDALONEWEEKDAYS:"Жекшемби Дүйшөмбү Шейшемби Шаршемби Бейшемби Жума Ишемби".split(" "),SHORTWEEKDAYS:"Жк Дш Ше Ша Бш Жм Иш".split(" "),STANDALONESHORTWEEKDAYS:"Жек Дүй Шей Шар Бей Жум Ишм".split(" "),NARROWWEEKDAYS:"ЖДШШБЖИ".split(""),STANDALONENARROWWEEKDAYS:"ЖДШШБЖИ".split(""),SHORTQUARTERS:["1-чей.","2-чей.","3-чей.","4-чей."],QUARTERS:["1-чейрек","2-чейрек","3-чейрек","4-чейрек"],AMPMS:["түшкө чейинки","түштөн кийинки"],DATEFORMATS:["EEEE, d-MMMM, y-'ж'.","d-MMMM, y-'ж'.","dd.MM.y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_ln={ERAS:["libóso ya","nsima ya Y"],ERANAMES:["Yambo ya Yézu Krís","Nsima ya Yézu Krís"],NARROWMONTHS:"yfmamyyasɔnd".split(""),STANDALONENARROWMONTHS:"yfmamyyasɔnd".split(""),MONTHS:"sánzá ya yambo;sánzá ya míbalé;sánzá ya mísáto;sánzá ya mínei;sánzá ya mítáno;sánzá ya motóbá;sánzá ya nsambo;sánzá ya mwambe;sánzá ya libwa;sánzá ya zómi;sánzá ya zómi na mɔ̌kɔ́;sánzá ya zómi na míbalé".split(";"),STANDALONEMONTHS:"sánzá ya yambo;sánzá ya míbalé;sánzá ya mísáto;sánzá ya mínei;sánzá ya mítáno;sánzá ya motóbá;sánzá ya nsambo;sánzá ya mwambe;sánzá ya libwa;sánzá ya zómi;sánzá ya zómi na mɔ̌kɔ́;sánzá ya zómi na míbalé".split(";"),SHORTMONTHS:"yan fbl msi apl mai yun yul agt stb ɔtb nvb dsb".split(" "),STANDALONESHORTMONTHS:"yan fbl msi apl mai yun yul agt stb ɔtb nvb dsb".split(" "),WEEKDAYS:"eyenga;mokɔlɔ mwa yambo;mokɔlɔ mwa míbalé;mokɔlɔ mwa mísáto;mokɔlɔ ya mínéi;mokɔlɔ ya mítáno;mpɔ́sɔ".split(";"),STANDALONEWEEKDAYS:"eyenga;mokɔlɔ mwa yambo;mokɔlɔ mwa míbalé;mokɔlɔ mwa mísáto;mokɔlɔ ya mínéi;mokɔlɔ ya mítáno;mpɔ́sɔ".split(";"),SHORTWEEKDAYS:"eye ybo mbl mst min mtn mps".split(" "),STANDALONESHORTWEEKDAYS:"eye ybo mbl mst min mtn mps".split(" "),NARROWWEEKDAYS:"eymmmmp".split(""),STANDALONENARROWWEEKDAYS:"eymmmmp".split(""),SHORTQUARTERS:["SM1","SM2","SM3","SM4"],QUARTERS:["sánzá mísáto ya yambo","sánzá mísáto ya míbalé","sánzá mísáto ya mísáto","sánzá mísáto ya mínei"],AMPMS:["ntɔ́ngɔ́","mpókwa"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","d/M/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_lo={ERAS:["ກ່ອນ ຄ.ສ.","ຄ.ສ."],ERANAMES:["ກ່ອນ ຄ.ສ.","ຄ.ສ."],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"ມັງກອນ ກຸມພາ ມີນາ ເມສາ ພຶດສະພາ ມິຖຸນາ ກໍລະກົດ ສິງຫາ ກັນຍາ ຕຸລາ ພະຈິກ ທັນວາ".split(" "),STANDALONEMONTHS:"ມັງກອນ ກຸມພາ ມີນາ ເມສາ ພຶດສະພາ ມິຖຸນາ ກໍລະກົດ ສິງຫາ ກັນຍາ ຕຸລາ ພະຈິກ ທັນວາ".split(" "),SHORTMONTHS:"ມ.ກ. ກ.ພ. ມ.ນ. ມ.ສ. ພ.ພ. ມິ.ຖ. ກ.ລ. ສ.ຫ. ກ.ຍ. ຕ.ລ. ພ.ຈ. ທ.ວ.".split(" "),STANDALONESHORTMONTHS:"ມ.ກ. ກ.ພ. ມ.ນ. ມ.ສ. ພ.ພ. ມິ.ຖ. ກ.ລ. ສ.ຫ. ກ.ຍ. ຕ.ລ. ພ.ຈ. ທ.ວ.".split(" "),WEEKDAYS:"ວັນອາທິດ ວັນຈັນ ວັນອັງຄານ ວັນພຸດ ວັນພະຫັດ ວັນສຸກ ວັນເສົາ".split(" "),STANDALONEWEEKDAYS:"ວັນອາທິດ ວັນຈັນ ວັນອັງຄານ ວັນພຸດ ວັນພະຫັດ ວັນສຸກ ວັນເສົາ".split(" "),SHORTWEEKDAYS:"ວັນອາທິດ ວັນຈັນ ວັນອັງຄານ ວັນພຸດ ວັນພະຫັດ ວັນສຸກ ວັນເສົາ".split(" "),STANDALONESHORTWEEKDAYS:"ວັນອາທິດ ວັນຈັນ ວັນອັງຄານ ວັນພຸດ ວັນພະຫັດ ວັນສຸກ ວັນເສົາ".split(" "),NARROWWEEKDAYS:"1234567".split(""),STANDALONENARROWWEEKDAYS:"ທ ຈ ຄ ​ພຸ ພ ​ສຸ ສ".split(" "),SHORTQUARTERS:["ຕມ1","ຕມ2","ຕມ3","ຕມ4"],QUARTERS:["ໄຕຣມາດ 1","ໄຕຣມາດ 2","ໄຕຣມາດ 3","ໄຕຣມາດ 4"],AMPMS:["ກ່ອນທ່ຽງ","ຫຼັງທ່ຽງ"],DATEFORMATS:["EEEE ທີ d MMMM G y","d MMMM y","d MMM y","d/M/y"],TIMEFORMATS:["H ໂມງ m ນາທີ ss ວິນາທີ zzzz","H ໂມງ m ນາທີ ss ວິນາທີ z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_lt={ERAS:["pr. Kr.","po Kr."],ERANAMES:["prieš Kristų","po Kristaus"],NARROWMONTHS:"SVKBGBLRRSLG".split(""),STANDALONENARROWMONTHS:"SVKBGBLRRSLG".split(""),MONTHS:"sausis vasaris kovas balandis gegužė birželis liepa rugpjūtis rugsėjis spalis lapkritis gruodis".split(" "),STANDALONEMONTHS:"sausis vasaris kovas balandis gegužė birželis liepa rugpjūtis rugsėjis spalis lapkritis gruodis".split(" "),SHORTMONTHS:"saus. vas. kov. bal. geg. birž. liep. rugp. rugs. spal. lapkr. gruod.".split(" "),STANDALONESHORTMONTHS:"saus. vas. kov. bal. geg. birž. liep. rugp. rugs. spal. lapkr. gruod.".split(" "),WEEKDAYS:"sekmadienis pirmadienis antradienis trečiadienis ketvirtadienis penktadienis šeštadienis".split(" "),STANDALONEWEEKDAYS:"sekmadienis pirmadienis antradienis trečiadienis ketvirtadienis penktadienis šeštadienis".split(" "),SHORTWEEKDAYS:"sk pr an tr kt pn št".split(" "),STANDALONESHORTWEEKDAYS:"sk pr an tr kt pn št".split(" "),NARROWWEEKDAYS:"SPATKPŠ".split(""),STANDALONENARROWWEEKDAYS:"SPATKPŠ".split(""),SHORTQUARTERS:["I k.","II k.","III k.","IV k."],QUARTERS:["I ketvirtis","II ketvirtis","III ketvirtis","IV ketvirtis"],AMPMS:["priešpiet","popiet"],DATEFORMATS:["y 'm'. MMMM d 'd'., EEEE","y 'm'. MMMM d 'd'.","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_lv={ERAS:["p.m.ē.","m.ē."],ERANAMES:["pirms mūsu ēras","mūsu ērā"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janvāris februāris marts aprīlis maijs jūnijs jūlijs augusts septembris oktobris novembris decembris".split(" "),STANDALONEMONTHS:"Janvāris Februāris Marts Aprīlis Maijs Jūnijs Jūlijs Augusts Septembris Oktobris Novembris Decembris".split(" "),SHORTMONTHS:"janv. febr. marts apr. maijs jūn. jūl. aug. sept. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"Janv. Febr. Marts Apr. Maijs Jūn. Jūl. Aug. Sept. Okt. Nov. Dec.".split(" "),WEEKDAYS:"svētdiena pirmdiena otrdiena trešdiena ceturtdiena piektdiena sestdiena".split(" "),STANDALONEWEEKDAYS:"Svētdiena Pirmdiena Otrdiena Trešdiena Ceturtdiena Piektdiena Sestdiena".split(" "),SHORTWEEKDAYS:"Sv Pr Ot Tr Ce Pk Se".split(" "),STANDALONESHORTWEEKDAYS:"Sv Pr Ot Tr Ce Pk Se".split(" "),NARROWWEEKDAYS:"SPOTCPS".split(""),STANDALONENARROWWEEKDAYS:"SPOTCPS".split(""),SHORTQUARTERS:["C1","C2","C3","C4"],QUARTERS:["1. ceturksnis","2. ceturksnis","3. ceturksnis","4. ceturksnis"],AMPMS:["priekšpusdienā","pēcpusdienā"],DATEFORMATS:["EEEE, y. 'gada' d. MMMM","y. 'gada' d. MMMM","y. 'gada' d. MMM","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_mk={ERAS:["пр.н.е.","н.е."],ERANAMES:["пр.н.е.","н.е."],NARROWMONTHS:"јфмамјјасонд".split(""),STANDALONENARROWMONTHS:"јфмамјјасонд".split(""),MONTHS:"јануари февруари март април мај јуни јули август септември октомври ноември декември".split(" "),STANDALONEMONTHS:"јануари февруари март април мај јуни јули август септември октомври ноември декември".split(" "),SHORTMONTHS:"јан. фев. мар. апр. мај јун. јул. авг. септ. окт. ноем. дек.".split(" "),STANDALONESHORTMONTHS:"јан. фев. мар. апр. мај јун. јул. авг. септ. окт. ноем. дек.".split(" "),WEEKDAYS:"недела понеделник вторник среда четврток петок сабота".split(" "),STANDALONEWEEKDAYS:"недела понеделник вторник среда четврток петок сабота".split(" "),SHORTWEEKDAYS:"нед. пон. вт. сре. чет. пет. саб.".split(" "),STANDALONESHORTWEEKDAYS:"нед. пон. вт. сре. чет. пет. саб.".split(" "),NARROWWEEKDAYS:"нпвсчпс".split(""),STANDALONENARROWWEEKDAYS:"нпвсчпс".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["прво тромесечје","второ тромесечје","трето тромесечје","четврто тромесечје"],AMPMS:["претпладне","попладне"],DATEFORMATS:["EEEE, dd MMMM y 'г'.","dd MMMM y 'г'.","dd.M.y","dd.M.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_ml={ERAS:["ക്രി.മൂ","എഡി"],ERANAMES:["ക്രിസ്തുവിനു് മുമ്പ്‌","ക്രിസ്തുവിന് പിൻപ്"],NARROWMONTHS:"ജ ഫെ മാ ഏ മേ ജൂ ജൂ ഓ സെ ഒ ന ഡി".split(" "),STANDALONENARROWMONTHS:"ജ ഫെ മാ ഏ മേ ജൂ ജൂ ഓ സെ ഒ ന ഡി".split(" "),MONTHS:"ജനുവരി ഫെബ്രുവരി മാർച്ച് ഏപ്രിൽ മേയ് ജൂൺ ജൂലൈ ആഗസ്റ്റ് സെപ്റ്റംബർ ഒക്‌ടോബർ നവംബർ ഡിസംബർ".split(" "),STANDALONEMONTHS:"ജനുവരി ഫെബ്രുവരി മാർച്ച് ഏപ്രിൽ മേയ് ജൂൺ ജൂലൈ ആഗസ്റ്റ് സെപ്റ്റംബർ ഒക്‌ടോബർ നവംബർ ഡിസംബർ".split(" "),SHORTMONTHS:"ജനു ഫെബ്രു മാർ ഏപ്രി മേയ് ജൂൺ ജൂലൈ ഓഗ സെപ്റ്റം ഒക്ടോ നവം ഡിസം".split(" "),STANDALONESHORTMONTHS:"ജനു ഫെബ്രു മാർ ഏപ്രി മേയ് ജൂൺ ജൂലൈ ഓഗ സെപ്റ്റം ഒക്ടോ നവം ഡിസം".split(" "),WEEKDAYS:"ഞായറാഴ്‌ച തിങ്കളാഴ്‌ച ചൊവ്വാഴ്ച ബുധനാഴ്‌ച വ്യാഴാഴ്‌ച വെള്ളിയാഴ്‌ച ശനിയാഴ്‌ച".split(" "),STANDALONEWEEKDAYS:"ഞായറാഴ്‌ച തിങ്കളാഴ്‌ച ചൊവ്വാഴ്‌ച ബുധനാഴ്‌ച വ്യാഴാഴ്‌ച വെള്ളിയാഴ്‌ച ശനിയാഴ്‌ച".split(" "),SHORTWEEKDAYS:"ഞായർ തിങ്കൾ ചൊവ്വ ബുധൻ വ്യാഴം വെള്ളി ശനി".split(" "),STANDALONESHORTWEEKDAYS:"ഞായർ തിങ്കൾ ചൊവ്വ ബുധൻ വ്യാഴം വെള്ളി ശനി".split(" "),NARROWWEEKDAYS:"ഞാ തി ചൊ ബു വ്യാ വെ ശ".split(" "),STANDALONENARROWWEEKDAYS:"ഞാ തി ചൊ ബു വ്യാ വെ ശ".split(" "),SHORTQUARTERS:["ഒന്നാം പാദം","രണ്ടാം പാദം","മൂന്നാം പാദം","നാലാം പാദം"],QUARTERS:["ഒന്നാം പാദം","രണ്ടാം പാദം","മൂന്നാം പാദം","നാലാം പാദം"],AMPMS:["AM","PM"],DATEFORMATS:["y, MMMM d, EEEE","y, MMMM d","y, MMM d","dd/MM/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_mn={ERAS:["МЭӨ","МЭ"],ERANAMES:["манай эриний өмнөх","манай эриний"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"Нэгдүгээр сар;Хоёрдугаар сар;Гуравдугаар сар;Дөрөвдүгээр сар;Тавдугаар сар;Зургадугаар сар;Долдугаар сар;Наймдугаар сар;Есдүгээр сар;Аравдугаар сар;Арван нэгдүгээр сар;Арван хоёрдугаар сар".split(";"),STANDALONEMONTHS:"Нэгдүгээр сар;Хоёрдугаар сар;Гуравдугаар сар;Дөрөвдүгээр сар;Тавдугаар сар;Зургадугаар сар;Долдугаар сар;Наймдугаар сар;Есдүгээр сар;Аравдугаар сар;Арван нэгдүгээр сар;Арван хоёрдугаар сар".split(";"),SHORTMONTHS:"1-р сар;2-р сар;3-р сар;4-р сар;5-р сар;6-р сар;7-р сар;8-р сар;9-р сар;10-р сар;11-р сар;12-р сар".split(";"),STANDALONESHORTMONTHS:"1-р сар;2-р сар;3-р сар;4-р сар;5-р сар;6-р сар;7-р сар;8-р сар;9-р сар;10-р сар;11-р сар;12-р сар".split(";"),WEEKDAYS:"ням даваа мягмар лхагва пүрэв баасан бямба".split(" "),STANDALONEWEEKDAYS:"ням даваа мягмар лхагва пүрэв баасан бямба".split(" "),SHORTWEEKDAYS:"Ня Да Мя Лх Пү Ба Бя".split(" "),STANDALONESHORTWEEKDAYS:"Ня Да Мя Лх Пү Ба Бя".split(" "),NARROWWEEKDAYS:"1234567".split(""),STANDALONENARROWWEEKDAYS:"1234567".split(""),SHORTQUARTERS:["У1","У2","У3","У4"],QUARTERS:["1-р улирал","2-р улирал","3-р улирал","4-р улирал"],AMPMS:["ҮӨ","ҮХ"],DATEFORMATS:["EEEE, y 'оны' MMMM 'сарын' dd","y 'оны' MMMM 'сарын' d","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_mr={ZERODIGIT:2406,ERAS:["ईसापूर्व","सन"],ERANAMES:["ईसवीसनपूर्व","ईसवीसन"],NARROWMONTHS:"जा फे मा ए मे जू जु ऑ स ऑ नो डि".split(" "),STANDALONENARROWMONTHS:"जा फे मा ए मे जू जु ऑ स ऑ नो डि".split(" "),MONTHS:"जानेवारी फेब्रुवारी मार्च एप्रिल मे जून जुलै ऑगस्ट सप्टेंबर ऑक्टोबर नोव्हेंबर डिसेंबर".split(" "),STANDALONEMONTHS:"जानेवारी फेब्रुवारी मार्च एप्रिल मे जून जुलै ऑगस्ट सप्टेंबर ऑक्टोबर नोव्हेंबर डिसेंबर".split(" "),SHORTMONTHS:"जाने फेब्रु मार्च एप्रि मे जून जुलै ऑग सप्टें ऑक्टो नोव्हें डिसें".split(" "),STANDALONESHORTMONTHS:"जाने फेब्रु मार्च एप्रि मे जून जुलै ऑग सप्टें ऑक्टो नोव्हें डिसें".split(" "),WEEKDAYS:"रविवार सोमवार मंगळवार बुधवार गुरुवार शुक्रवार शनिवार".split(" "),STANDALONEWEEKDAYS:"रविवार सोमवार मंगळवार बुधवार गुरुवार शुक्रवार शनिवार".split(" "),SHORTWEEKDAYS:"रवि सोम मंगळ बुध गुरु शुक्र शनि".split(" "),STANDALONESHORTWEEKDAYS:"रवि सोम मंगळ बुध गुरु शुक्र शनि".split(" "),NARROWWEEKDAYS:"र सो मं बु गु शु श".split(" "),STANDALONENARROWWEEKDAYS:"र सो मं बु गु शु श".split(" "),SHORTQUARTERS:["ति1","ति2","ति3","ति4"],QUARTERS:["प्रथम तिमाही","द्वितीय तिमाही","तृतीय तिमाही","चतुर्थ तिमाही"],AMPMS:["[AM]","[PM]"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'रोजी' {0}","{1} 'रोजी' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_ms={ERAS:["S.M.","TM"],ERANAMES:["S.M.","TM"],NARROWMONTHS:"JFMAMJJOSOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJOSOND".split(""),MONTHS:"Januari Februari Mac April Mei Jun Julai Ogos September Oktober November Disember".split(" "),STANDALONEMONTHS:"Januari Februari Mac April Mei Jun Julai Ogos September Oktober November Disember".split(" "),SHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ogo Sep Okt Nov Dis".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ogo Sep Okt Nov Dis".split(" "),WEEKDAYS:"Ahad Isnin Selasa Rabu Khamis Jumaat Sabtu".split(" "),STANDALONEWEEKDAYS:"Ahad Isnin Selasa Rabu Khamis Jumaat Sabtu".split(" "),SHORTWEEKDAYS:"Ahd Isn Sel Rab Kha Jum Sab".split(" "),STANDALONESHORTWEEKDAYS:"Ahd Isn Sel Rab Kha Jum Sab".split(" "),NARROWWEEKDAYS:"AISRKJS".split(""),STANDALONENARROWWEEKDAYS:"AISRKJS".split(""),SHORTQUARTERS:["S1","S2","S3","S4"],QUARTERS:["Suku pertama","Suku Ke-2","Suku Ke-3","Suku Ke-4"],AMPMS:["PG","PTG"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/MM/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_mt={ERAS:["QK","WK"],ERANAMES:["Qabel Kristu","Wara Kristu"],NARROWMONTHS:"JFMAMĠLASOND".split(""),STANDALONENARROWMONTHS:"JFMAMĠLASOND".split(""),MONTHS:"Jannar Frar Marzu April Mejju Ġunju Lulju Awwissu Settembru Ottubru Novembru Diċembru".split(" "),STANDALONEMONTHS:"Jannar Frar Marzu April Mejju Ġunju Lulju Awwissu Settembru Ottubru Novembru Diċembru".split(" "),SHORTMONTHS:"Jan Fra Mar Apr Mej Ġun Lul Aww Set Ott Nov Diċ".split(" "),STANDALONESHORTMONTHS:"Jan Fra Mar Apr Mej Ġun Lul Aww Set Ott Nov Diċ".split(" "),WEEKDAYS:"Il-Ħadd It-Tnejn It-Tlieta L-Erbgħa Il-Ħamis Il-Ġimgħa Is-Sibt".split(" "),STANDALONEWEEKDAYS:"Il-Ħadd It-Tnejn It-Tlieta L-Erbgħa Il-Ħamis Il-Ġimgħa Is-Sibt".split(" "),SHORTWEEKDAYS:"Ħad Tne Tli Erb Ħam Ġim Sib".split(" "),STANDALONESHORTWEEKDAYS:"Ħad Tne Tli Erb Ħam Ġim Sib".split(" "),NARROWWEEKDAYS:"ĦTTEĦĠS".split(""),STANDALONENARROWWEEKDAYS:"ĦTTEĦĠS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["K1","K2","K3","K4"],AMPMS:["QN","WN"],DATEFORMATS:["EEEE, d 'ta'’ MMMM y","d 'ta'’ MMMM y","dd MMM y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_my={ZERODIGIT:4160,ERAS:["ဘီစီ","အေဒီ"],ERANAMES:["ခရစ်တော် မပေါ်မီကာလ","ခရစ်တော် ပေါ်ထွန်းပြီးကာလ"],NARROWMONTHS:"ဇဖမဧမဇဇဩစအနဒ".split(""),STANDALONENARROWMONTHS:"ဇဖမဧမဇဇဩစအနဒ".split(""),MONTHS:"ဇန်နဝါရီ ဖေဖော်ဝါရီ မတ် ဧပြီ မေ ဇွန် ဇူလိုင် ဩဂုတ် စက်တင်ဘာ အောက်တိုဘာ နိုဝင်ဘာ ဒီဇင်ဘာ".split(" "),STANDALONEMONTHS:"ဇန်နဝါရီ ဖေဖော်ဝါရီ မတ် ဧပြီ မေ ဇွန် ဇူလိုင် ဩဂုတ် စက်တင်ဘာ အောက်တိုဘာ နိုဝင်ဘာ ဒီဇင်ဘာ".split(" "),SHORTMONTHS:"ဇန်နဝါရီ ဖေဖော်ဝါရီ မတ် ဧပြီ မေ ဇွန် ဇူလိုင် ဩဂုတ် စက်တင်ဘာ အောက်တိုဘာ နိုဝင်ဘာ ဒီဇင်ဘာ".split(" "),STANDALONESHORTMONTHS:"ဇန်နဝါရီ ဖေဖော်ဝါရီ မတ် ဧပြီ မေ ဇွန် ဇူလိုင် ဩဂုတ် စက်တင်ဘာ အောက်တိုဘာ နိုဝင်ဘာ ဒီဇင်ဘာ".split(" "),WEEKDAYS:"တနင်္ဂနွေ တနင်္လာ အင်္ဂါ ဗုဒ္ဓဟူး ကြာသပတေး သောကြာ စနေ".split(" "),STANDALONEWEEKDAYS:"တနင်္ဂနွေ တနင်္လာ အင်္ဂါ ဗုဒ္ဓဟူး ကြာသပတေး သောကြာ စနေ".split(" "),SHORTWEEKDAYS:"တနင်္ဂနွေ တနင်္လာ အင်္ဂါ ဗုဒ္ဓဟူး ကြာသပတေး သောကြာ စနေ".split(" "),STANDALONESHORTWEEKDAYS:"တနင်္ဂနွေ တနင်္လာ အင်္ဂါ ဗုဒ္ဓဟူး ကြာသပတေး သောကြာ စနေ".split(" "),NARROWWEEKDAYS:"တတအဗကသစ".split(""),STANDALONENARROWWEEKDAYS:"တတအဗကသစ".split(""),SHORTQUARTERS:["ပထမ သုံးလပတ်","ဒုတိယ သုံးလပတ်","တတိယ သုံးလပတ်","စတုတ္ထ သုံးလပတ်"],QUARTERS:["ပထမ သုံးလပတ်","ဒုတိယ သုံးလပတ်","တတိယ သုံးလပတ်","စတုတ္ထ သုံးလပတ်"],AMPMS:["နံနက်","ညနေ"],DATEFORMATS:["EEEE, y MMMM dd","y MMMM d","y MMM d","yy/MM/dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}မှာ {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_nb={ERAS:["f.Kr.","e.Kr."],ERANAMES:["f.Kr.","e.Kr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),STANDALONEMONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),SHORTMONTHS:"jan. feb. mar. apr. mai jun. jul. aug. sep. okt. nov. des.".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr mai jun jul aug sep okt nov des".split(" "),WEEKDAYS:"søndag mandag tirsdag onsdag torsdag fredag lørdag".split(" "),STANDALONEWEEKDAYS:"søndag mandag tirsdag onsdag torsdag fredag lørdag".split(" "),SHORTWEEKDAYS:"søn. man. tir. ons. tor. fre. lør.".split(" "),STANDALONESHORTWEEKDAYS:"sø. ma. ti. on. to. fr. lø.".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d. MMMM y","d. MMMM y","d. MMM y","dd.MM.yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} 'kl.' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_ne={ZERODIGIT:2406,ERAS:["ईसा पूर्व","सन्"],ERANAMES:["ईसा पूर्व","सन्"],NARROWMONTHS:"१ २ ३ ४ ५ ६ ७ ८ ९ १० ११ १२".split(" "),STANDALONENARROWMONTHS:"१ २ ३ ४ ५ ६ ७ ८ ९ १० ११ १२".split(" "),MONTHS:"जनवरी फेब्रुअरी मार्च अप्रिल मे जुन जुलाई अगस्ट सेप्टेम्बर अक्टोबर नोभेम्बर डिसेम्बर".split(" "),STANDALONEMONTHS:"जनवरी फेब्रुअरी मार्च अप्रिल मे जुन जुलाई अगस्ट सेप्टेम्बर अक्टोबर नोभेम्बर डिसेम्बर".split(" "),SHORTMONTHS:"जनवरी फेब्रुअरी मार्च अप्रिल मे जुन जुलाई अगस्ट सेप्टेम्बर अक्टोबर नोभेम्बर डिसेम्बर".split(" "),STANDALONESHORTMONTHS:"जनवरी फेब्रुअरी मार्च अप्रिल मे जुन जुलाई अगस्ट सेप्टेम्बर अक्टोबर नोभेम्बर डिसेम्बर".split(" "),WEEKDAYS:"आइतबार सोमबार मङ्गलबार बुधबार बिहीबार शुक्रबार शनिबार".split(" "),STANDALONEWEEKDAYS:"आइतबार सोमबार मङ्गलबार बुधबार बिहीबार शुक्रबार शनिबार".split(" "),SHORTWEEKDAYS:"आइत सोम मङ्गल बुध बिही शुक्र शनि".split(" "),STANDALONESHORTWEEKDAYS:"आइत सोम मङ्गल बुध बिही शुक्र शनि".split(" "),NARROWWEEKDAYS:"आ सो म बु बि शु श".split(" "),STANDALONENARROWWEEKDAYS:"आ सो म बु बि शु श".split(" "),SHORTQUARTERS:["पहिलो सत्र","दोस्रो सत्र","तेस्रो सत्र","चौथो सत्र"],QUARTERS:["पहिलो सत्र","दोस्रो सत्र","तेस्रो सत्र","चौथो सत्र"],AMPMS:["पूर्व मध्यान्ह","उत्तर मध्यान्ह"],DATEFORMATS:["y MMMM d, EEEE","y MMMM d","y MMM d","y-MM-dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_nl={ERAS:["v.Chr.","n.Chr."],ERANAMES:["Voor Christus","na Christus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),STANDALONEMONTHS:"januari februari maart april mei juni juli augustus september oktober november december".split(" "),SHORTMONTHS:"jan. feb. mrt. apr. mei jun. jul. aug. sep. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan feb mrt apr mei jun jul aug sep okt nov dec".split(" "),WEEKDAYS:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),STANDALONEWEEKDAYS:"zondag maandag dinsdag woensdag donderdag vrijdag zaterdag".split(" "),SHORTWEEKDAYS:"zo ma di wo do vr za".split(" "),STANDALONESHORTWEEKDAYS:"zo ma di wo do vr za".split(" "),NARROWWEEKDAYS:"ZMDWDVZ".split(""),STANDALONENARROWWEEKDAYS:"ZMDWDVZ".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1e kwartaal","2e kwartaal","3e kwartaal","4e kwartaal"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE d MMMM y","d MMMM y","d MMM y","dd-MM-yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_no={ERAS:["f.Kr.","e.Kr."],ERANAMES:["f.Kr.","e.Kr."],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),STANDALONEMONTHS:"januar februar mars april mai juni juli august september oktober november desember".split(" "),SHORTMONTHS:"jan. feb. mar. apr. mai jun. jul. aug. sep. okt. nov. des.".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr mai jun jul aug sep okt nov des".split(" "),WEEKDAYS:"søndag mandag tirsdag onsdag torsdag fredag lørdag".split(" "),STANDALONEWEEKDAYS:"søndag mandag tirsdag onsdag torsdag fredag lørdag".split(" "),SHORTWEEKDAYS:"søn. man. tir. ons. tor. fre. lør.".split(" "),STANDALONESHORTWEEKDAYS:"sø. ma. ti. on. to. fr. lø.".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1. kvartal","2. kvartal","3. kvartal","4. kvartal"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE d. MMMM y","d. MMMM y","d. MMM y","dd.MM.yy"],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} 'kl.' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_no_NO=goog.i18n.DateTimeSymbols_no,goog.i18n.DateTimeSymbols_or={ERAS:["BCE","CE"],ERANAMES:["BCE","CE"],NARROWMONTHS:"ଜା ଫେ ମା ଅ ମେ ଜୁ ଜୁ ଅ ସେ ଅ ନ ଡି".split(" "),STANDALONENARROWMONTHS:"ଜା ଫେ ମା ଅ ମେ ଜୁ ଜୁ ଅ ସେ ଅ ନ ଡି".split(" "),MONTHS:"ଜାନୁଆରୀ ଫେବ୍ରୁୟାରୀ ମାର୍ଚ୍ଚ ଅପ୍ରେଲ ମେ ଜୁନ ଜୁଲାଇ ଅଗଷ୍ଟ ସେପ୍ଟେମ୍ବର ଅକ୍ଟୋବର ନଭେମ୍ବର ଡିସେମ୍ବର".split(" "),STANDALONEMONTHS:"ଜାନୁଆରୀ ଫେବ୍ରୁୟାରୀ ମାର୍ଚ୍ଚ ଅପ୍ରେଲ ମେ ଜୁନ ଜୁଲାଇ ଅଗଷ୍ଟ ସେପ୍ଟେମ୍ବର ଅକ୍ଟୋବର ନଭେମ୍ବର ଡିସେମ୍ବର".split(" "),SHORTMONTHS:"ଜାନୁଆରୀ ଫେବ୍ରୁୟାରୀ ମାର୍ଚ୍ଚ ଅପ୍ରେଲ ମେ ଜୁନ ଜୁଲାଇ ଅଗଷ୍ଟ ସେପ୍ଟେମ୍ବର ଅକ୍ଟୋବର ନଭେମ୍ବର ଡିସେମ୍ବର".split(" "),STANDALONESHORTMONTHS:"ଜାନୁଆରୀ ଫେବ୍ରୁୟାରୀ ମାର୍ଚ୍ଚ ଅପ୍ରେଲ ମେ ଜୁନ ଜୁଲାଇ ଅଗଷ୍ଟ ସେପ୍ଟେମ୍ବର ଅକ୍ଟୋବର ନଭେମ୍ବର ଡିସେମ୍ବର".split(" "),WEEKDAYS:"ରବିବାର ସୋମବାର ମଙ୍ଗଳବାର ବୁଧବାର ଗୁରୁବାର ଶୁକ୍ରବାର ଶନିବାର".split(" "),STANDALONEWEEKDAYS:"ରବିବାର ସୋମବାର ମଙ୍ଗଳବାର ବୁଧବାର ଗୁରୁବାର ଶୁକ୍ରବାର ଶନିବାର".split(" "),SHORTWEEKDAYS:"ରବି ସୋମ ମଙ୍ଗଳ ବୁଧ ଗୁରୁ ଶୁକ୍ର ଶନି".split(" "),STANDALONESHORTWEEKDAYS:"ରବି ସୋମ ମଙ୍ଗଳ ବୁଧ ଗୁରୁ ଶୁକ୍ର ଶନି".split(" "),NARROWWEEKDAYS:"ର ସୋ ମ ବୁ ଗୁ ଶୁ ଶ".split(" "),STANDALONENARROWWEEKDAYS:"ର ସୋ ମ ବୁ ଗୁ ଶୁ ଶ".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Q1","Q2","Q3","Q4"],AMPMS:["am","pm"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d-M-yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_pa={ERAS:["ਈ. ਪੂ.","ਸੰਨ"],ERANAMES:["ਈ. ਪੂ.","ਸੰਨ"],NARROWMONTHS:"ਜ ਫ਼ ਮਾ ਅ ਮ ਜੂ ਜੁ ਅ ਸ ਅ ਨ ਦ".split(" "),STANDALONENARROWMONTHS:"ਜ ਫ਼ ਮਾ ਅ ਮ ਜੂ ਜੁ ਅ ਸ ਅ ਨ ਦ".split(" "),MONTHS:"ਜਨਵਰੀ ਫ਼ਰਵਰੀ ਮਾਰਚ ਅਪ੍ਰੈਲ ਮਈ ਜੂਨ ਜੁਲਾਈ ਅਗਸਤ ਸਤੰਬਰ ਅਕਤੂਬਰ ਨਵੰਬਰ ਦਸੰਬਰ".split(" "),STANDALONEMONTHS:"ਜਨਵਰੀ ਫ਼ਰਵਰੀ ਮਾਰਚ ਅਪ੍ਰੈਲ ਮਈ ਜੂਨ ਜੁਲਾਈ ਅਗਸਤ ਸਤੰਬਰ ਅਕਤੂਬਰ ਨਵੰਬਰ ਦਸੰਬਰ".split(" "),SHORTMONTHS:"ਜਨਵਰੀ ਫ਼ਰਵਰੀ ਮਾਰਚ ਅਪ੍ਰੈਲ ਮਈ ਜੂਨ ਜੁਲਾਈ ਅਗਸਤ ਸਤੰਬਰ ਅਕਤੂਬਰ ਨਵੰਬਰ ਦਸੰਬਰ".split(" "),STANDALONESHORTMONTHS:"ਜਨਵਰੀ ਫ਼ਰਵਰੀ ਮਾਰਚ ਅਪ੍ਰੈਲ ਮਈ ਜੂਨ ਜੁਲਾਈ ਅਗਸਤ ਸਤੰਬਰ ਅਕਤੂਬਰ ਨਵੰਬਰ ਦਸੰਬਰ".split(" "),WEEKDAYS:"ਐਤਵਾਰ ਸੋਮਵਾਰ ਮੰਗਲਵਾਰ ਬੁਧਵਾਰ ਵੀਰਵਾਰ ਸ਼ੁੱਕਰਵਾਰ ਸ਼ਨੀਵਾਰ".split(" "),STANDALONEWEEKDAYS:"ਐਤਵਾਰ ਸੋਮਵਾਰ ਮੰਗਲਵਾਰ ਬੁਧਵਾਰ ਵੀਰਵਾਰ ਸ਼ੁੱਕਰਵਾਰ ਸ਼ਨੀਵਾਰ".split(" "),SHORTWEEKDAYS:"ਐਤ. ਸੋਮ. ਮੰਗਲ. ਬੁਧ. ਵੀਰ. ਸ਼ੁੱਕਰ. ਸ਼ਨੀ.".split(" "),STANDALONESHORTWEEKDAYS:"ਐਤ. ਸੋਮ. ਮੰਗਲ. ਬੁਧ. ਵੀਰ. ਸ਼ੁੱਕਰ. ਸ਼ਨੀ.".split(" "),NARROWWEEKDAYS:"ਐ ਸੋ ਮੰ ਬੁੱ ਵੀ ਸ਼ੁੱ ਸ਼".split(" "),STANDALONENARROWWEEKDAYS:"ਐ ਸੋ ਮੰ ਬੁੱ ਵੀ ਸ਼ੁੱ ਸ਼".split(" "),SHORTQUARTERS:["ਪਊਆ","ਅੱਧਾ","ਪੌਣਾ","ਪੂਰਾ"],QUARTERS:["ਪਊਆ","ਅੱਧਾ","ਪੌਣਾ","ਪੂਰਾ"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_pl={ERAS:["p.n.e.","n.e."],ERANAMES:["p.n.e.","n.e."],NARROWMONTHS:"slmkmclswplg".split(""),STANDALONENARROWMONTHS:"slmkmclswplg".split(""),MONTHS:"stycznia lutego marca kwietnia maja czerwca lipca sierpnia września października listopada grudnia".split(" "),STANDALONEMONTHS:"styczeń luty marzec kwiecień maj czerwiec lipiec sierpień wrzesień październik listopad grudzień".split(" "),SHORTMONTHS:"sty lut mar kwi maj cze lip sie wrz paź lis gru".split(" "),STANDALONESHORTMONTHS:"sty lut mar kwi maj cze lip sie wrz paź lis gru".split(" "),WEEKDAYS:"niedziela poniedziałek wtorek środa czwartek piątek sobota".split(" "),STANDALONEWEEKDAYS:"niedziela poniedziałek wtorek środa czwartek piątek sobota".split(" "),SHORTWEEKDAYS:"niedz. pon. wt. śr. czw. pt. sob.".split(" "),STANDALONESHORTWEEKDAYS:"niedz. pon. wt. śr. czw. pt. sob.".split(" "),NARROWWEEKDAYS:"NPWŚCPS".split(""),STANDALONENARROWWEEKDAYS:"NPWŚCPS".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["I kwartał","II kwartał","III kwartał","IV kwartał"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_pt={ERAS:["a.C.","d.C."],ERANAMES:["Antes de Cristo","Ano do Senhor"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"janeiro fevereiro março abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),STANDALONEMONTHS:"janeiro fevereiro março abril maio junho julho agosto setembro outubro novembro dezembro".split(" "),SHORTMONTHS:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),STANDALONESHORTMONTHS:"jan fev mar abr mai jun jul ago set out nov dez".split(" "),WEEKDAYS:"domingo segunda-feira terça-feira quarta-feira quinta-feira sexta-feira sábado".split(" "),STANDALONEWEEKDAYS:"domingo segunda-feira terça-feira quarta-feira quinta-feira sexta-feira sábado".split(" "),SHORTWEEKDAYS:"dom seg ter qua qui sex sáb".split(" "),STANDALONESHORTWEEKDAYS:"dom seg ter qua qui sex sáb".split(" "),NARROWWEEKDAYS:"DSTQQSS".split(""),STANDALONENARROWWEEKDAYS:"DSTQQSS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","dd/MM/y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_pt_BR=goog.i18n.DateTimeSymbols_pt,goog.i18n.DateTimeSymbols_pt_PT={ERAS:["a.C.","d.C."],ERANAMES:["Antes de Cristo","Ano do Senhor"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Janeiro Fevereiro Março Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),STANDALONEMONTHS:"Janeiro Fevereiro Março Abril Maio Junho Julho Agosto Setembro Outubro Novembro Dezembro".split(" "),SHORTMONTHS:"Jan Fev Mar Abr Mai Jun Jul Ago Set Out Nov Dez".split(" "),STANDALONESHORTMONTHS:"Jan Fev Mar Abr Mai Jun Jul Ago Set Out Nov Dez".split(" "),WEEKDAYS:"domingo segunda-feira terça-feira quarta-feira quinta-feira sexta-feira sábado".split(" "),STANDALONEWEEKDAYS:"domingo segunda-feira terça-feira quarta-feira quinta-feira sexta-feira sábado".split(" "),SHORTWEEKDAYS:"dom seg ter qua qui sex sáb".split(" "),STANDALONESHORTWEEKDAYS:"dom seg ter qua qui sex sáb".split(" "),NARROWWEEKDAYS:"DSTQQSS".split(""),STANDALONENARROWWEEKDAYS:"DSTQQSS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.º trimestre","2.º trimestre","3.º trimestre","4.º trimestre"],AMPMS:["da manhã","da tarde"],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","dd/MM/y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'às' {0}","{1} 'às' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_ro={ERAS:["î.Hr.","d.Hr."],ERANAMES:["înainte de Hristos","după Hristos"],NARROWMONTHS:"IFMAMIIASOND".split(""),STANDALONENARROWMONTHS:"IFMAMIIASOND".split(""),MONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),STANDALONEMONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),SHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),STANDALONESHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),WEEKDAYS:"duminică luni marți miercuri joi vineri sâmbătă".split(" "),STANDALONEWEEKDAYS:"duminică luni marți miercuri joi vineri sâmbătă".split(" "),SHORTWEEKDAYS:"Dum Lun Mar Mie Joi Vin Sâm".split(" "),STANDALONESHORTWEEKDAYS:"Dum Lun Mar Mie Joi Vin Sâm".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["trim. I","trim. II","trim. III","trim. IV"],QUARTERS:["trimestrul I","trimestrul al II-lea","trimestrul al III-lea","trimestrul al IV-lea"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_ru={ERAS:["до н. э.","н. э."],ERANAMES:["до н.э.","н.э."],NARROWMONTHS:"ЯФМАМИИАСОНД".split(""),STANDALONENARROWMONTHS:"ЯФМАМИИАСОНД".split(""),MONTHS:"января февраля марта апреля мая июня июля августа сентября октября ноября декабря".split(" "),STANDALONEMONTHS:"Январь Февраль Март Апрель Май Июнь Июль Август Сентябрь Октябрь Ноябрь Декабрь".split(" "),SHORTMONTHS:"янв. февр. марта апр. мая июня июля авг. сент. окт. нояб. дек.".split(" "),STANDALONESHORTMONTHS:"Янв. Февр. Март Апр. Май Июнь Июль Авг. Сент. Окт. Нояб. Дек.".split(" "),WEEKDAYS:"воскресенье понедельник вторник среда четверг пятница суббота".split(" "),STANDALONEWEEKDAYS:"Воскресенье Понедельник Вторник Среда Четверг Пятница Суббота".split(" "),SHORTWEEKDAYS:"вс пн вт ср чт пт сб".split(" "),STANDALONESHORTWEEKDAYS:"Вс Пн Вт Ср Чт Пт Сб".split(" "),NARROWWEEKDAYS:"вс пн вт ср чт пт сб".split(" "),STANDALONENARROWWEEKDAYS:"ВПВСЧПС".split(""),SHORTQUARTERS:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],QUARTERS:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"],AMPMS:["до полудня","после полудня"],DATEFORMATS:["EEEE, d MMMM y 'г'.","d MMMM y 'г'.","dd MMM y 'г'.","dd.MM.yy"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_si={ERAS:["ක්‍රි.පූ.","ක්‍රි.ව."],ERANAMES:["ක්‍රිස්තු පූර්‍ව","ක්‍රිස්තු වර්‍ෂ"],NARROWMONTHS:"ජ පෙ මා අ මැ ජූ ජූ අ සැ ඔ නෙ දෙ".split(" "),STANDALONENARROWMONTHS:"ජ පෙ මා අ මැ ජූ ජූ අ සැ ඔ නෙ දෙ".split(" "),MONTHS:"ජනවාරි පෙබරවාරි මාර්තු අප්‍රේල් මැයි ජූනි ජූලි අගෝස්තු සැප්තැම්බර් ඔක්තෝබර් නොවැම්බර් දෙසැම්බර්".split(" "),STANDALONEMONTHS:"ජනවාරි පෙබරවාරි මාර්තු අප්‍රේල් මැයි ජූනි ජූලි අගෝස්තු සැප්තැම්බර් ඔක්තෝබර් නොවැම්බර් දෙසැම්බර්".split(" "),SHORTMONTHS:"ජන පෙබ මාර්තු අප්‍රේල් මැයි ජූනි ජූලි අගෝ සැප් ඔක් නොවැ දෙසැ".split(" "),STANDALONESHORTMONTHS:"ජන පෙබ මාර් අප්‍රේල් මැයි ජූනි ජූලි අගෝ සැප් ඔක් නොවැ දෙසැ".split(" "),WEEKDAYS:"ඉරිදා සඳුදා අඟහරුවාදා බදාදා බ්‍රහස්පතින්දා සිකුරාදා සෙනසුරාදා".split(" "),STANDALONEWEEKDAYS:"ඉරිදා සඳුදා අඟහරුවාදා බදාදා බ්‍රහස්පතින්දා සිකුරාදා සෙනසුරාදා".split(" "),SHORTWEEKDAYS:"ඉරිදා සඳුදා අඟහ බදාදා බ්‍රහස් සිකු සෙන".split(" "),STANDALONESHORTWEEKDAYS:"ඉරිදා සඳුදා අඟහ බදාදා බ්‍රහස් සිකු සෙන".split(" "),NARROWWEEKDAYS:"ඉ ස අ බ බ්‍ර සි සෙ".split(" "),STANDALONENARROWWEEKDAYS:"ඉ ස අ බ බ්‍ර සි සෙ".split(" "),SHORTQUARTERS:["කාර්:1","කාර්:2","කාර්:3","කාර්:4"],QUARTERS:["1 වන කාර්තුව","2 වන කාර්තුව","3 වන කාර්තුව","4 වන කාර්තුව"],AMPMS:["පෙ.ව.","ප.ව."],DATEFORMATS:["y MMMM d, EEEE","y MMMM d","y MMM d","y-MM-dd"],TIMEFORMATS:["a h.mm.ss zzzz","a h.mm.ss z","a h.mm.ss","a h.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_sk={ERAS:["pred n.l.","n.l."],ERANAMES:["pred n.l.","n.l."],NARROWMONTHS:"jfmamjjasond".split(""),STANDALONENARROWMONTHS:"jfmamjjasond".split(""),MONTHS:"januára februára marca apríla mája júna júla augusta septembra októbra novembra decembra".split(" "),STANDALONEMONTHS:"január február marec apríl máj jún júl august september október november december".split(" "),SHORTMONTHS:"jan feb mar apr máj jún júl aug sep okt nov dec".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr máj jún júl aug sep okt nov dec".split(" "),WEEKDAYS:"nedeľa pondelok utorok streda štvrtok piatok sobota".split(" "),STANDALONEWEEKDAYS:"nedeľa pondelok utorok streda štvrtok piatok sobota".split(" "),SHORTWEEKDAYS:"ne po ut st št pi so".split(" "),STANDALONESHORTWEEKDAYS:"ne po ut st št pi so".split(" "),NARROWWEEKDAYS:"NPUSŠPS".split(""),STANDALONENARROWWEEKDAYS:"NPUSŠPS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. štvrťrok","2. štvrťrok","3. štvrťrok","4. štvrťrok"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d. MMMM y","d. MMMM y","d.M.y","d.M.y"],TIMEFORMATS:["H:mm:ss zzzz","H:mm:ss z","H:mm:ss","H:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_sl={ERAS:["pr. n. št.","po Kr."],ERANAMES:["pred našim štetjem","naše štetje"],NARROWMONTHS:"jfmamjjasond".split(""),STANDALONENARROWMONTHS:"jfmamjjasond".split(""),MONTHS:"januar februar marec april maj junij julij avgust september oktober november december".split(" "),STANDALONEMONTHS:"januar februar marec april maj junij julij avgust september oktober november december".split(" "),SHORTMONTHS:"jan. feb. mar. apr. maj jun. jul. avg. sep. okt. nov. dec.".split(" "),STANDALONESHORTMONTHS:"jan feb mar apr maj jun jul avg sep okt nov dec".split(" "),WEEKDAYS:"nedelja ponedeljek torek sreda četrtek petek sobota".split(" "),STANDALONEWEEKDAYS:"nedelja ponedeljek torek sreda četrtek petek sobota".split(" "),SHORTWEEKDAYS:"ned. pon. tor. sre. čet. pet. sob.".split(" "),STANDALONESHORTWEEKDAYS:"ned pon tor sre čet pet sob".split(" "),NARROWWEEKDAYS:"nptsčps".split(""),STANDALONENARROWWEEKDAYS:"nptsčps".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1. četrtletje","2. četrtletje","3. četrtletje","4. četrtletje"],AMPMS:["dop.","pop."],DATEFORMATS:["EEEE, dd. MMMM y","dd. MMMM y","d. MMM y","d. MM. yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_sq={ERAS:["p.e.r.","e.r."],ERANAMES:["para erës së re","erës së re"],NARROWMONTHS:"JSMPMQKGSTND".split(""),STANDALONENARROWMONTHS:"JSMPMQKGSTND".split(""),MONTHS:"janar shkurt mars prill maj qershor korrik gusht shtator tetor nëntor dhjetor".split(" "),STANDALONEMONTHS:"janar shkurt mars prill maj qershor korrik gusht shtator tetor nëntor dhjetor".split(" "),SHORTMONTHS:"Jan Shk Mar Pri Maj Qer Kor Gsh Sht Tet Nën Dhj".split(" "),STANDALONESHORTMONTHS:"Jan Shk Mar Pri Maj Qer Kor Gsh Sht Tet Nën Dhj".split(" "),WEEKDAYS:"e diel;e hënë;e martë;e mërkurë;e enjte;e premte;e shtunë".split(";"),STANDALONEWEEKDAYS:"e diel;e hënë;e martë;e mërkurë;e enjte;e premte;e shtunë".split(";"),SHORTWEEKDAYS:"Die Hën Mar Mër Enj Pre Sht".split(" "),STANDALONESHORTWEEKDAYS:"Die Hën Mar Mër Enj Pre Sht".split(" "),NARROWWEEKDAYS:"DHMMEPS".split(""),STANDALONENARROWWEEKDAYS:"DHMMEPS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["tremujori i parë","tremujori i dytë","tremujori i tretë","tremujori i katërt"],AMPMS:["paradite","pasdite"],DATEFORMATS:["EEEE, dd MMMM y","dd MMMM y","dd/MM/y","dd/MM/yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'në' {0}","{1} 'në' {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_sr={ERAS:["п. н. е.","н. е."],ERANAMES:["Пре нове ере","Нове ере"],NARROWMONTHS:"јфмамјјасонд".split(""),STANDALONENARROWMONTHS:"јфмамјјасонд".split(""),MONTHS:"јануар фебруар март април мај јун јул август септембар октобар новембар децембар".split(" "),STANDALONEMONTHS:"јануар фебруар март април мај јун јул август септембар октобар новембар децембар".split(" "),SHORTMONTHS:"јан феб мар апр мај јун јул авг сеп окт нов дец".split(" "),STANDALONESHORTMONTHS:"јан феб мар апр мај јун јул авг сеп окт нов дец".split(" "),WEEKDAYS:"недеља понедељак уторак среда четвртак петак субота".split(" "),STANDALONEWEEKDAYS:"недеља понедељак уторак среда четвртак петак субота".split(" "),SHORTWEEKDAYS:"нед пон уто сре чет пет суб".split(" "),STANDALONESHORTWEEKDAYS:"нед пон уто сре чет пет суб".split(" "),NARROWWEEKDAYS:"нпусчпс".split(""),STANDALONENARROWWEEKDAYS:"нпусчпс".split(""),SHORTQUARTERS:["К1","К2","К3","К4"],QUARTERS:["Прво тромесечје","Друго тромесечје","Треће тромесечје","Четврто тромесечје"],AMPMS:["пре подне","поподне"],DATEFORMATS:["EEEE, dd. MMMM y.","dd. MMMM y.","dd.MM.y.","d.M.yy."],TIMEFORMATS:["HH.mm.ss zzzz","HH.mm.ss z","HH.mm.ss","HH.mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_sv={ERAS:["f.Kr.","e.Kr."],ERANAMES:["före Kristus","efter Kristus"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"januari februari mars april maj juni juli augusti september oktober november december".split(" "),STANDALONEMONTHS:"Januari Februari Mars April Maj Juni Juli Augusti September Oktober November December".split(" "),SHORTMONTHS:"jan feb mar apr maj jun jul aug sep okt nov dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr Maj Jun Jul Aug Sep Okt Nov Dec".split(" "),WEEKDAYS:"söndag måndag tisdag onsdag torsdag fredag lördag".split(" "),STANDALONEWEEKDAYS:"Söndag Måndag Tisdag Onsdag Torsdag Fredag Lördag".split(" "),SHORTWEEKDAYS:"sön mån tis ons tors fre lör".split(" "),STANDALONESHORTWEEKDAYS:"Sön Mån Tis Ons Tor Fre Lör".split(" "),NARROWWEEKDAYS:"SMTOTFL".split(""),STANDALONENARROWWEEKDAYS:"SMTOTFL".split(""),SHORTQUARTERS:["K1","K2","K3","K4"],QUARTERS:["1:a kvartalet","2:a kvartalet","3:e kvartalet","4:e kvartalet"],AMPMS:["fm","em"],DATEFORMATS:["EEEE'en' 'den' d:'e' MMMM y","d MMMM y","d MMM y","y-MM-dd"],TIMEFORMATS:["'kl'. HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:3},goog.i18n.DateTimeSymbols_sw={ERAS:["KK","BK"],ERANAMES:["Kabla ya Kristo","Baada ya Kristo"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januari Februari Machi Aprili Mei Juni Julai Agosti Septemba Oktoba Novemba Desemba".split(" "),STANDALONEMONTHS:"Januari Februari Machi Aprili Mei Juni Julai Agosti Septemba Oktoba Novemba Desemba".split(" "),SHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ago Sep Okt Nov Des".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mac Apr Mei Jun Jul Ago Sep Okt Nov Des".split(" "),WEEKDAYS:"Jumapili Jumatatu Jumanne Jumatano Alhamisi Ijumaa Jumamosi".split(" "),STANDALONEWEEKDAYS:"Jumapili Jumatatu Jumanne Jumatano Alhamisi Ijumaa Jumamosi".split(" "),SHORTWEEKDAYS:"J2 J3 J4 J5 Alh Ij J1".split(" "),STANDALONESHORTWEEKDAYS:"J2 J3 J4 J5 Alh Ij J1".split(" "),NARROWWEEKDAYS:"2345AI1".split(""),STANDALONENARROWWEEKDAYS:"2345AI1".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Robo 1","Robo 2","Robo 3","Robo 4"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd/MM/y"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_ta={ERAS:["கி.மு.","கி.பி."],ERANAMES:["கிறிஸ்துவுக்கு முன்","அனோ டோமினி"],NARROWMONTHS:"ஜ பி மா ஏ மே ஜூ ஜூ ஆ செ அ ந டி".split(" "),STANDALONENARROWMONTHS:"ஜ பி மா ஏ மே ஜூ ஜூ ஆ செ அ ந டி".split(" "),MONTHS:"ஜனவரி பிப்ரவரி மார்ச் ஏப்ரல் மே ஜூன் ஜூலை ஆகஸ்ட் செப்டம்பர் அக்டோபர் நவம்பர் டிசம்பர்".split(" "),STANDALONEMONTHS:"ஜனவரி பிப்ரவரி மார்ச் ஏப்ரல் மே ஜூன் ஜூலை ஆகஸ்டு செப்டம்பர் அக்டோபர் நவம்பர் டிசம்பர்".split(" "),SHORTMONTHS:"ஜன. பிப். மார். ஏப். மே ஜூன் ஜூலை ஆக. செப். அக். நவ. டிச.".split(" "),STANDALONESHORTMONTHS:"ஜன. பிப். மார். ஏப். மே ஜூன் ஜூலை ஆக. செப். அக். நவ. டிச.".split(" "),WEEKDAYS:"ஞாயிறு திங்கள் செவ்வாய் புதன் வியாழன் வெள்ளி சனி".split(" "),STANDALONEWEEKDAYS:"ஞாயிறு திங்கள் செவ்வாய் புதன் வியாழன் வெள்ளி சனி".split(" "),SHORTWEEKDAYS:"ஞா தி செ பு வி வெ ச".split(" "),STANDALONESHORTWEEKDAYS:"ஞா தி செ பு வி வெ ச".split(" "),NARROWWEEKDAYS:"ஞா தி செ பு வி வெ ச".split(" "),STANDALONENARROWWEEKDAYS:"ஞா தி செ பு வி வெ ச".split(" "),SHORTQUARTERS:["காலாண்டு1","காலாண்டு2","காலாண்டு3","காலாண்டு4"],QUARTERS:["முதல் காலாண்டு","இரண்டாம் காலாண்டு","மூன்றாம் காலாண்டு","நான்காம் காலாண்டு"],AMPMS:["முற்பகல்","பிற்பகல்"],DATEFORMATS:["EEEE, d MMMM, y","d MMMM, y","d MMM, y","d-M-yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_te={ERAS:["క్రీపూ","క్రీశ"],ERANAMES:["ఈసాపూర్వ.","సన్."],NARROWMONTHS:"జ ఫి మా ఏ మే జూ జు ఆ సె అ న డి".split(" "),STANDALONENARROWMONTHS:"జ ఫి మా ఏ మే జూ జు ఆ సె అ న డి".split(" "),MONTHS:"జనవరి ఫిబ్రవరి మార్చి ఎప్రిల్ మే జూన్ జులై ఆగస్టు సెప్టెంబర్ అక్టోబర్ నవంబర్ డిసెంబర్".split(" "),STANDALONEMONTHS:"జనవరి ఫిబ్రవరి మార్చి ఎప్రిల్ మే జూన్ జూలై ఆగస్టు సెప్టెంబర్ అక్టోబర్ నవంబర్ డిసెంబర్".split(" "),SHORTMONTHS:"జన ఫిబ్ర మార్చి ఏప్రి మే జూన్ జులై ఆగ సెప్టెం అక్టో నవం డిసెం".split(" "),STANDALONESHORTMONTHS:"జన ఫిబ్ర మార్చి ఏప్రి మే జూన్ జులై ఆగస్టు సెప్టెం అక్టో నవం డిసెం".split(" "),WEEKDAYS:"ఆదివారం సోమవారం మంగళవారం బుధవారం గురువారం శుక్రవారం శనివారం".split(" "),STANDALONEWEEKDAYS:"ఆదివారం సోమవారం మంగళవారం బుధవారం గురువారం శుక్రవారం శనివారం".split(" "),SHORTWEEKDAYS:"ఆది సోమ మంగళ బుధ గురు శుక్ర శని".split(" "),STANDALONESHORTWEEKDAYS:"ఆది సోమ మంగళ బుధ గురు శుక్ర శని".split(" "),NARROWWEEKDAYS:"ఆ సో మ బు గు శు శ".split(" "),STANDALONENARROWWEEKDAYS:"ఆ సో మ బు గు శు శ".split(" "),SHORTQUARTERS:["త్రై1","త్రై2","త్రై3","త్రై4"],QUARTERS:["1వ త్రైమాసం","2వ త్రైమాసం","3వ త్రైమాసం","4వ త్రైమాసం"],AMPMS:["AM","PM"],DATEFORMATS:["d MMMM y EEEE","d MMMM y","d MMM y","dd-MM-yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[6,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_th={ERAS:["ปีก่อน ค.ศ.","ค.ศ."],ERANAMES:["ปีก่อนคริสต์ศักราช","คริสต์ศักราช"],NARROWMONTHS:"ม.ค. ก.พ. มี.ค. เม.ย. พ.ค. มิ.ย. ก.ค. ส.ค. ก.ย. ต.ค. พ.ย. ธ.ค.".split(" "),STANDALONENARROWMONTHS:"ม.ค. ก.พ. มี.ค. เม.ย. พ.ค. มิ.ย. ก.ค. ส.ค. ก.ย. ต.ค. พ.ย. ธ.ค.".split(" "),MONTHS:"มกราคม กุมภาพันธ์ มีนาคม เมษายน พฤษภาคม มิถุนายน กรกฎาคม สิงหาคม กันยายน ตุลาคม พฤศจิกายน ธันวาคม".split(" "),STANDALONEMONTHS:"มกราคม กุมภาพันธ์ มีนาคม เมษายน พฤษภาคม มิถุนายน กรกฎาคม สิงหาคม กันยายน ตุลาคม พฤศจิกายน ธันวาคม".split(" "),SHORTMONTHS:"ม.ค. ก.พ. มี.ค. เม.ย. พ.ค. มิ.ย. ก.ค. ส.ค. ก.ย. ต.ค. พ.ย. ธ.ค.".split(" "),STANDALONESHORTMONTHS:"ม.ค. ก.พ. มี.ค. เม.ย. พ.ค. มิ.ย. ก.ค. ส.ค. ก.ย. ต.ค. พ.ย. ธ.ค.".split(" "),WEEKDAYS:"วันอาทิตย์ วันจันทร์ วันอังคาร วันพุธ วันพฤหัสบดี วันศุกร์ วันเสาร์".split(" "),STANDALONEWEEKDAYS:"วันอาทิตย์ วันจันทร์ วันอังคาร วันพุธ วันพฤหัสบดี วันศุกร์ วันเสาร์".split(" "),SHORTWEEKDAYS:"อา. จ. อ. พ. พฤ. ศ. ส.".split(" "),STANDALONESHORTWEEKDAYS:"อา. จ. อ. พ. พฤ. ศ. ส.".split(" "),NARROWWEEKDAYS:"อา จ อ พ พฤ ศ ส".split(" "),STANDALONENARROWWEEKDAYS:"อา จ อ พ พฤ ศ ส".split(" "),SHORTQUARTERS:["ไตรมาส 1","ไตรมาส 2","ไตรมาส 3","ไตรมาส 4"],QUARTERS:["ไตรมาส 1","ไตรมาส 2","ไตรมาส 3","ไตรมาส 4"],AMPMS:["ก่อนเที่ยง","หลังเที่ยง"],DATEFORMATS:["EEEEที่ d MMMM G y","d MMMM y","d MMM y","d/M/yy"],TIMEFORMATS:["H นาฬิกา mm นาที ss วินาที zzzz","H นาฬิกา mm นาที ss วินาที z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_tl={ERAS:["BC","AD"],ERANAMES:["BC","AD"],NARROWMONTHS:"EPMAMHHASOND".split(""),STANDALONENARROWMONTHS:"EPMAMHHASOND".split(""),MONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),STANDALONEMONTHS:"Enero Pebrero Marso Abril Mayo Hunyo Hulyo Agosto Setyembre Oktubre Nobyembre Disyembre".split(" "),SHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),STANDALONESHORTMONTHS:"Ene Peb Mar Abr May Hun Hul Ago Set Okt Nob Dis".split(" "),WEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),STANDALONEWEEKDAYS:"Linggo Lunes Martes Miyerkules Huwebes Biyernes Sabado".split(" "),SHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),STANDALONESHORTWEEKDAYS:"Lin Lun Mar Miy Huw Biy Sab".split(" "),NARROWWEEKDAYS:"LLMMHBS".split(""),STANDALONENARROWWEEKDAYS:"LLMMHBS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["ika-1 quarter","ika-2 quarter","ika-3 quarter","ika-4 na quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} 'ng' {0}","{1} 'ng' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_tr={ERAS:["MÖ","MS"],ERANAMES:["Milattan Önce","Milattan Sonra"],NARROWMONTHS:"OŞMNMHTAEEKA".split(""),STANDALONENARROWMONTHS:"OŞMNMHTAEEKA".split(""),MONTHS:"Ocak Şubat Mart Nisan Mayıs Haziran Temmuz Ağustos Eylül Ekim Kasım Aralık".split(" "),STANDALONEMONTHS:"Ocak Şubat Mart Nisan Mayıs Haziran Temmuz Ağustos Eylül Ekim Kasım Aralık".split(" "),SHORTMONTHS:"Oca Şub Mar Nis May Haz Tem Ağu Eyl Eki Kas Ara".split(" "),STANDALONESHORTMONTHS:"Oca Şub Mar Nis May Haz Tem Ağu Eyl Eki Kas Ara".split(" "),WEEKDAYS:"Pazar Pazartesi Salı Çarşamba Perşembe Cuma Cumartesi".split(" "),STANDALONEWEEKDAYS:"Pazar Pazartesi Salı Çarşamba Perşembe Cuma Cumartesi".split(" "),SHORTWEEKDAYS:"Paz Pzt Sal Çar Per Cum Cmt".split(" "),STANDALONESHORTWEEKDAYS:"Paz Pzt Sal Çar Per Cum Cmt".split(" "),NARROWWEEKDAYS:"PPSÇPCC".split(""),STANDALONENARROWWEEKDAYS:"PPSÇPCC".split(""),SHORTQUARTERS:["Ç1","Ç2","Ç3","Ç4"],QUARTERS:["1. çeyrek","2. çeyrek","3. çeyrek","4. çeyrek"],AMPMS:["ÖÖ","ÖS"],DATEFORMATS:["d MMMM y EEEE","d MMMM y","d MMM y","d MM y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_uk={ERAS:["до н.е.","н.е."],ERANAMES:["до нашої ери","нашої ери"],NARROWMONTHS:"СЛБКТЧЛСВЖЛГ".split(""),STANDALONENARROWMONTHS:"СЛБКТЧЛСВЖЛГ".split(""),MONTHS:"січня лютого березня квітня травня червня липня серпня вересня жовтня листопада грудня".split(" "),STANDALONEMONTHS:"Січень Лютий Березень Квітень Травень Червень Липень Серпень Вересень Жовтень Листопад Грудень".split(" "),SHORTMONTHS:"січ. лют. бер. квіт. трав. черв. лип. серп. вер. жовт. лист. груд.".split(" "),STANDALONESHORTMONTHS:"Січ Лют Бер Кві Тра Чер Лип Сер Вер Жов Лис Гру".split(" "),WEEKDAYS:"неділя понеділок вівторок середа четвер пʼятниця субота".split(" "),STANDALONEWEEKDAYS:"Неділя Понеділок Вівторок Середа Четвер Пʼятниця Субота".split(" "),SHORTWEEKDAYS:"Нд Пн Вт Ср Чт Пт Сб".split(" "),STANDALONESHORTWEEKDAYS:"Нд Пн Вт Ср Чт Пт Сб".split(" "),NARROWWEEKDAYS:"НПВСЧПС".split(""),STANDALONENARROWWEEKDAYS:"НПВСЧПС".split(""),SHORTQUARTERS:["I кв.","II кв.","III кв.","IV кв."],QUARTERS:["I квартал","II квартал","III квартал","IV квартал"],AMPMS:["дп","пп"],DATEFORMATS:["EEEE, d MMMM y 'р'.","d MMMM y 'р'.","d MMM y","dd.MM.yy"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_ur={ERAS:["ق م","عیسوی سن"],ERANAMES:["قبل مسیح","عیسوی سن"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"جنوری فروری مارچ اپریل مئی جون جولائی اگست ستمبر اکتوبر نومبر دسمبر".split(" "),STANDALONEMONTHS:"جنوری فروری مارچ اپریل مئی جون جولائی اگست ستمبر اکتوبر نومبر دسمبر".split(" "),SHORTMONTHS:"جنوری فروری مارچ اپریل مئی جون جولائی اگست ستمبر اکتوبر نومبر دسمبر".split(" "),STANDALONESHORTMONTHS:"جنوری فروری مارچ اپریل مئی جون جولائی اگست ستمبر اکتوبر نومبر دسمبر".split(" "),WEEKDAYS:"اتوار سوموار منگل بدھ جمعرات جمعہ ہفتہ".split(" "),STANDALONEWEEKDAYS:"اتوار سوموار منگل بدھ جمعرات جمعہ ہفتہ".split(" "),SHORTWEEKDAYS:"اتوار سوموار منگل بدھ جمعرات جمعہ ہفتہ".split(" "),STANDALONESHORTWEEKDAYS:"اتوار سوموار منگل بدھ جمعرات جمعہ ہفتہ".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["پہلی سہ ماہی","دوسری سہ ماہی","تیسری سہ ماہی","چوتهی سہ ماہی"],QUARTERS:["پہلی سہ ماہی","دوسری سہ ماہی","تیسری سہ ماہی","چوتهی سہ ماہی"],AMPMS:["قبل دوپہر","بعد دوپہر"],DATEFORMATS:["EEEE، d MMMM، y","d MMMM، y","d MMM، y","d/M/yy"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_uz={ERAS:["M.A.","E"],ERANAMES:["M.A.","E"],NARROWMONTHS:"YFMAMIIASOND".split(""),STANDALONENARROWMONTHS:"YFMAMIIASOND".split(""),MONTHS:"Yanvar Fevral Mart Aprel May Iyun Iyul Avgust Sentyabr Oktyabr Noyabr Dekabr".split(" "),STANDALONEMONTHS:"Yanvar Fevral Mart Aprel May Iyun Iyul Avgust Sentyabr Oktyabr Noyabr Dekabr".split(" "),SHORTMONTHS:"Yanv Fev Mar Apr May Iyun Iyul Avg Sen Okt Noya Dek".split(" "),STANDALONESHORTMONTHS:"Yanv Fev Mar Apr May Iyun Iyul Avg Sen Okt Noya Dek".split(" "),WEEKDAYS:"yakshanba dushanba seshanba chorshanba payshanba juma shanba".split(" "),STANDALONEWEEKDAYS:"yakshanba dushanba seshanba chorshanba payshanba juma shanba".split(" "),SHORTWEEKDAYS:"Yaksh Dush Sesh Chor Pay Jum Shan".split(" "),STANDALONESHORTWEEKDAYS:"Yaksh Dush Sesh Chor Pay Jum Shan".split(" "),NARROWWEEKDAYS:"YDSCPJS".split(""),STANDALONENARROWWEEKDAYS:"YDSCPJS".split(""),SHORTQUARTERS:["1-ch","2-ch","3-ch","4-ch"],QUARTERS:["1-chorak","2-chorak","3-chorak","4-chorak"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, y MMMM dd","y MMMM d","y MMM d","yy/MM/dd"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_vi={ERAS:["tr. CN","sau CN"],ERANAMES:["tr. CN","sau CN"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"tháng 1;tháng 2;tháng 3;tháng 4;tháng 5;tháng 6;tháng 7;tháng 8;tháng 9;tháng 10;tháng 11;tháng 12".split(";"),STANDALONEMONTHS:"Tháng 1;Tháng 2;Tháng 3;Tháng 4;Tháng 5;Tháng 6;Tháng 7;Tháng 8;Tháng 9;Tháng 10;Tháng 11;Tháng 12".split(";"),SHORTMONTHS:"thg 1;thg 2;thg 3;thg 4;thg 5;thg 6;thg 7;thg 8;thg 9;thg 10;thg 11;thg 12".split(";"),STANDALONESHORTMONTHS:"Thg 1;Thg 2;Thg 3;Thg 4;Thg 5;Thg 6;Thg 7;Thg 8;Thg 9;Thg 10;Thg 11;Thg 12".split(";"),WEEKDAYS:"Chủ Nhật;Thứ Hai;Thứ Ba;Thứ Tư;Thứ Năm;Thứ Sáu;Thứ Bảy".split(";"),STANDALONEWEEKDAYS:"Chủ Nhật;Thứ Hai;Thứ Ba;Thứ Tư;Thứ Năm;Thứ Sáu;Thứ Bảy".split(";"),SHORTWEEKDAYS:"CN;Th 2;Th 3;Th 4;Th 5;Th 6;Th 7".split(";"),STANDALONESHORTWEEKDAYS:"CN;Th 2;Th 3;Th 4;Th 5;Th 6;Th 7".split(";"),NARROWWEEKDAYS:"CN T2 T3 T4 T5 T6 T7".split(" "),STANDALONENARROWWEEKDAYS:"CN T2 T3 T4 T5 T6 T7".split(" "),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["Quý 1","Quý 2","Quý 3","Quý 4"],AMPMS:["SA","CH"],DATEFORMATS:["EEEE, 'ngày' dd MMMM 'năm' y","'Ngày' dd 'tháng' MM 'năm' y","dd-MM-y","dd/MM/y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{0} {1}","{0} {1}","{0} {1}","{0} {1}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6},goog.i18n.DateTimeSymbols_zh={ERAS:["公元前","公元"],ERANAMES:["公元前","公元"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),STANDALONEMONTHS:"一月 二月 三月 四月 五月 六月 七月 八月 九月 十月 十一月 十二月".split(" "),SHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),STANDALONESHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),WEEKDAYS:"星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" "),STANDALONEWEEKDAYS:"星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" "),SHORTWEEKDAYS:"周日 周一 周二 周三 周四 周五 周六".split(" "),STANDALONESHORTWEEKDAYS:"周日 周一 周二 周三 周四 周五 周六".split(" "),NARROWWEEKDAYS:"日一二三四五六".split(""),STANDALONENARROWWEEKDAYS:"日一二三四五六".split(""),SHORTQUARTERS:["1季度","2季度","3季度","4季度"],QUARTERS:["第一季度","第二季度","第三季度","第四季度"],AMPMS:["上午","下午"],DATEFORMATS:["y年M月d日EEEE","y年M月d日","y年M月d日","yy/M/d"],TIMEFORMATS:["zzzzah:mm:ss","zah:mm:ss","ah:mm:ss","ah:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_zh_CN=goog.i18n.DateTimeSymbols_zh,goog.i18n.DateTimeSymbols_zh_HK={ERAS:["西元前","西元"],ERANAMES:["西元前","西元"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),STANDALONEMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),SHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),STANDALONESHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),WEEKDAYS:"星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" "),STANDALONEWEEKDAYS:"星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" "),SHORTWEEKDAYS:"週日 週一 週二 週三 週四 週五 週六".split(" "),STANDALONESHORTWEEKDAYS:"週日 週一 週二 週三 週四 週五 週六".split(" "),NARROWWEEKDAYS:"日一二三四五六".split(""),STANDALONENARROWWEEKDAYS:"日一二三四五六".split(""),SHORTQUARTERS:["1季","2季","3季","4季"],QUARTERS:["第1季","第2季","第3季","第4季"],AMPMS:["上午","下午"],DATEFORMATS:["y年M月d日EEEE","y年M月d日","y年M月d日","d/M/yy"],TIMEFORMATS:["ah:mm:ss [zzzz]","ah:mm:ss [z]","ah:mm:ss","ah:mm"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1}{0}","{1}{0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_zh_TW={ERAS:["西元前","西元"],ERANAMES:["西元前","西元"],NARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),STANDALONENARROWMONTHS:"1 2 3 4 5 6 7 8 9 10 11 12".split(" "),MONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),STANDALONEMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),SHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),STANDALONESHORTMONTHS:"1月 2月 3月 4月 5月 6月 7月 8月 9月 10月 11月 12月".split(" "),WEEKDAYS:"星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" "),STANDALONEWEEKDAYS:"星期日 星期一 星期二 星期三 星期四 星期五 星期六".split(" "),SHORTWEEKDAYS:"週日 週一 週二 週三 週四 週五 週六".split(" "),STANDALONESHORTWEEKDAYS:"週日 週一 週二 週三 週四 週五 週六".split(" "),NARROWWEEKDAYS:"日一二三四五六".split(""),STANDALONENARROWWEEKDAYS:"日一二三四五六".split(""),SHORTQUARTERS:["1季","2季","3季","4季"],QUARTERS:["第1季","第2季","第3季","第4季"],AMPMS:["上午","下午"],DATEFORMATS:["y年M月d日EEEE","y年M月d日","y年M月d日","y/M/d"],TIMEFORMATS:["zzzzah時mm分ss秒","zah時mm分ss秒","ah:mm:ss","ah:mm"],DATETIMEFORMATS:["{1}{0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols_zu={ERAS:["BC","AD"],ERANAMES:["BC","AD"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"Januwari Februwari Mashi Apreli Meyi Juni Julayi Agasti Septhemba Okthoba Novemba Disemba".split(" "),STANDALONEMONTHS:"uJanuwari uFebruwari uMashi u-Apreli uMeyi uJuni uJulayi uAgasti uSepthemba u-Okthoba uNovemba uDisemba".split(" "),SHORTMONTHS:"Jan Feb Mas Apr Mey Jun Jul Aga Sep Okt Nov Dis".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mas Apr Mey Jun Jul Aga Sep Okt Nov Dis".split(" "),WEEKDAYS:"Sonto Msombuluko Lwesibili Lwesithathu Lwesine Lwesihlanu Mgqibelo".split(" "),STANDALONEWEEKDAYS:"Sonto Msombuluko Lwesibili Lwesithathu Lwesine Lwesihlanu Mgqibelo".split(" "),SHORTWEEKDAYS:"Son Mso Bil Tha Sin Hla Mgq".split(" "),STANDALONESHORTWEEKDAYS:"Son Mso Bil Tha Sin Hla Mgq".split(" "),NARROWWEEKDAYS:"SMTTSHM".split(""),STANDALONENARROWWEEKDAYS:"SMBTSHM".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["ikota engu-1","ikota engu-2","ikota engu-3","ikota engu-4"],AMPMS:["Ekuseni","Ntambama"],DATEFORMATS:["EEEE dd MMMM y","d MMMM y","d MMM y","y-MM-dd"],TIMEFORMATS:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],DATETIMEFORMATS:["{1} {0}","{1} {0}","{1} {0}","{1} {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},goog.i18n.DateTimeSymbols="af"==goog.LOCALE?goog.i18n.DateTimeSymbols_af:"am"==goog.LOCALE?goog.i18n.DateTimeSymbols_am:"ar"==goog.LOCALE?goog.i18n.DateTimeSymbols_ar:"az"==goog.LOCALE?goog.i18n.DateTimeSymbols_az:"bg"==goog.LOCALE?goog.i18n.DateTimeSymbols_bg:"bn"==goog.LOCALE?goog.i18n.DateTimeSymbols_bn:"br"==goog.LOCALE?goog.i18n.DateTimeSymbols_br:"ca"==goog.LOCALE?goog.i18n.DateTimeSymbols_ca:"chr"==goog.LOCALE?goog.i18n.DateTimeSymbols_chr:"cs"==goog.LOCALE?goog.i18n.DateTimeSymbols_cs:"cy"==goog.LOCALE?goog.i18n.DateTimeSymbols_cy:"da"==goog.LOCALE?goog.i18n.DateTimeSymbols_da:"de"==goog.LOCALE?goog.i18n.DateTimeSymbols_de:"de_AT"==goog.LOCALE||"de-AT"==goog.LOCALE?goog.i18n.DateTimeSymbols_de_AT:"de_CH"==goog.LOCALE||"de-CH"==goog.LOCALE?goog.i18n.DateTimeSymbols_de:"el"==goog.LOCALE?goog.i18n.DateTimeSymbols_el:"en"==goog.LOCALE?goog.i18n.DateTimeSymbols_en:"en_AU"==goog.LOCALE||"en-AU"==goog.LOCALE?goog.i18n.DateTimeSymbols_en_AU:"en_GB"==goog.LOCALE||"en-GB"==goog.LOCALE?goog.i18n.DateTimeSymbols_en_GB:"en_IE"==goog.LOCALE||"en-IE"==goog.LOCALE?goog.i18n.DateTimeSymbols_en_IE:"en_IN"==goog.LOCALE||"en-IN"==goog.LOCALE?goog.i18n.DateTimeSymbols_en_IN:"en_SG"==goog.LOCALE||"en-SG"==goog.LOCALE?goog.i18n.DateTimeSymbols_en_SG:"en_US"==goog.LOCALE||"en-US"==goog.LOCALE?goog.i18n.DateTimeSymbols_en:"en_ZA"==goog.LOCALE||"en-ZA"==goog.LOCALE?goog.i18n.DateTimeSymbols_en_ZA:"es"==goog.LOCALE?goog.i18n.DateTimeSymbols_es:"es_419"==goog.LOCALE||"es-419"==goog.LOCALE?goog.i18n.DateTimeSymbols_es:"es_ES"==goog.LOCALE||"es-ES"==goog.LOCALE?goog.i18n.DateTimeSymbols_es:"et"==goog.LOCALE?goog.i18n.DateTimeSymbols_et:"eu"==goog.LOCALE?goog.i18n.DateTimeSymbols_eu:"fa"==goog.LOCALE?goog.i18n.DateTimeSymbols_fa:"fi"==goog.LOCALE?goog.i18n.DateTimeSymbols_fi:"fil"==goog.LOCALE?goog.i18n.DateTimeSymbols_fil:"fr"==goog.LOCALE?goog.i18n.DateTimeSymbols_fr:"fr_CA"==goog.LOCALE||"fr-CA"==goog.LOCALE?goog.i18n.DateTimeSymbols_fr_CA:"gl"==goog.LOCALE?goog.i18n.DateTimeSymbols_gl:"gsw"==goog.LOCALE?goog.i18n.DateTimeSymbols_gsw:"gu"==goog.LOCALE?goog.i18n.DateTimeSymbols_gu:"haw"==goog.LOCALE?goog.i18n.DateTimeSymbols_haw:"he"==goog.LOCALE?goog.i18n.DateTimeSymbols_he:"hi"==goog.LOCALE?goog.i18n.DateTimeSymbols_hi:"hr"==goog.LOCALE?goog.i18n.DateTimeSymbols_hr:"hu"==goog.LOCALE?goog.i18n.DateTimeSymbols_hu:"hy"==goog.LOCALE?goog.i18n.DateTimeSymbols_hy:"id"==goog.LOCALE?goog.i18n.DateTimeSymbols_id:"in"==goog.LOCALE?goog.i18n.DateTimeSymbols_in:"is"==goog.LOCALE?goog.i18n.DateTimeSymbols_is:"it"==goog.LOCALE?goog.i18n.DateTimeSymbols_it:"iw"==goog.LOCALE?goog.i18n.DateTimeSymbols_iw:"ja"==goog.LOCALE?goog.i18n.DateTimeSymbols_ja:"ka"==goog.LOCALE?goog.i18n.DateTimeSymbols_ka:"kk"==goog.LOCALE?goog.i18n.DateTimeSymbols_kk:"km"==goog.LOCALE?goog.i18n.DateTimeSymbols_km:"kn"==goog.LOCALE?goog.i18n.DateTimeSymbols_kn:"ko"==goog.LOCALE?goog.i18n.DateTimeSymbols_ko:"ky"==goog.LOCALE?goog.i18n.DateTimeSymbols_ky:"ln"==goog.LOCALE?goog.i18n.DateTimeSymbols_ln:"lo"==goog.LOCALE?goog.i18n.DateTimeSymbols_lo:"lt"==goog.LOCALE?goog.i18n.DateTimeSymbols_lt:"lv"==goog.LOCALE?goog.i18n.DateTimeSymbols_lv:"mk"==goog.LOCALE?goog.i18n.DateTimeSymbols_mk:"ml"==goog.LOCALE?goog.i18n.DateTimeSymbols_ml:"mn"==goog.LOCALE?goog.i18n.DateTimeSymbols_mn:"mr"==goog.LOCALE?goog.i18n.DateTimeSymbols_mr:"ms"==goog.LOCALE?goog.i18n.DateTimeSymbols_ms:"mt"==goog.LOCALE?goog.i18n.DateTimeSymbols_mt:"my"==goog.LOCALE?goog.i18n.DateTimeSymbols_my:"nb"==goog.LOCALE?goog.i18n.DateTimeSymbols_nb:"ne"==goog.LOCALE?goog.i18n.DateTimeSymbols_ne:"nl"==goog.LOCALE?goog.i18n.DateTimeSymbols_nl:"no"==goog.LOCALE?goog.i18n.DateTimeSymbols_no:"no_NO"==goog.LOCALE||"no-NO"==goog.LOCALE?goog.i18n.DateTimeSymbols_no:"or"==goog.LOCALE?goog.i18n.DateTimeSymbols_or:"pa"==goog.LOCALE?goog.i18n.DateTimeSymbols_pa:"pl"==goog.LOCALE?goog.i18n.DateTimeSymbols_pl:"pt"==goog.LOCALE?goog.i18n.DateTimeSymbols_pt:"pt_BR"==goog.LOCALE||"pt-BR"==goog.LOCALE?goog.i18n.DateTimeSymbols_pt:"pt_PT"==goog.LOCALE||"pt-PT"==goog.LOCALE?goog.i18n.DateTimeSymbols_pt_PT:"ro"==goog.LOCALE?goog.i18n.DateTimeSymbols_ro:"ru"==goog.LOCALE?goog.i18n.DateTimeSymbols_ru:"si"==goog.LOCALE?goog.i18n.DateTimeSymbols_si:"sk"==goog.LOCALE?goog.i18n.DateTimeSymbols_sk:"sl"==goog.LOCALE?goog.i18n.DateTimeSymbols_sl:"sq"==goog.LOCALE?goog.i18n.DateTimeSymbols_sq:"sr"==goog.LOCALE?goog.i18n.DateTimeSymbols_sr:"sv"==goog.LOCALE?goog.i18n.DateTimeSymbols_sv:"sw"==goog.LOCALE?goog.i18n.DateTimeSymbols_sw:"ta"==goog.LOCALE?goog.i18n.DateTimeSymbols_ta:"te"==goog.LOCALE?goog.i18n.DateTimeSymbols_te:"th"==goog.LOCALE?goog.i18n.DateTimeSymbols_th:"tl"==goog.LOCALE?goog.i18n.DateTimeSymbols_tl:"tr"==goog.LOCALE?goog.i18n.DateTimeSymbols_tr:"uk"==goog.LOCALE?goog.i18n.DateTimeSymbols_uk:"ur"==goog.LOCALE?goog.i18n.DateTimeSymbols_ur:"uz"==goog.LOCALE?goog.i18n.DateTimeSymbols_uz:"vi"==goog.LOCALE?goog.i18n.DateTimeSymbols_vi:"zh"==goog.LOCALE?goog.i18n.DateTimeSymbols_zh:"zh_CN"==goog.LOCALE||"zh-CN"==goog.LOCALE?goog.i18n.DateTimeSymbols_zh:"zh_HK"==goog.LOCALE||"zh-HK"==goog.LOCALE?goog.i18n.DateTimeSymbols_zh_HK:"zh_TW"==goog.LOCALE||"zh-TW"==goog.LOCALE?goog.i18n.DateTimeSymbols_zh_TW:"zu"==goog.LOCALE?goog.i18n.DateTimeSymbols_zu:goog.i18n.DateTimeSymbols_en,goog.date.weekDay={MON:0,TUE:1,WED:2,THU:3,FRI:4,SAT:5,SUN:6},goog.date.month={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11},goog.date.formatMonthAndYear=function(e,t){return goog.getMsg("{$monthName} {$yearNum}",{monthName:e,yearNum:t})
},goog.date.splitDateStringRegex_=/^(\d{4})(?:(?:-?(\d{2})(?:-?(\d{2}))?)|(?:-?(\d{3}))|(?:-?W(\d{2})(?:-?([1-7]))?))?$/,goog.date.splitTimeStringRegex_=/^(\d{2})(?::?(\d{2})(?::?(\d{2})(\.\d+)?)?)?$/,goog.date.splitTimezoneStringRegex_=/Z|(?:([-+])(\d{2})(?::?(\d{2}))?)$/,goog.date.splitDurationRegex_=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/,goog.date.isLeapYear=function(e){return 0==e%4&&(0!=e%100||0==e%400)},goog.date.isLongIsoYear=function(e){var t=5*e+12-4*(Math.floor(e/100)-Math.floor(e/400)),t=t+(Math.floor((e-100)/400)-Math.floor((e-102)/400)),t=t+(Math.floor((e-200)/400)-Math.floor((e-199)/400));return 5>t%28},goog.date.getNumberOfDaysInMonth=function(e,t){switch(t){case goog.date.month.FEB:return goog.date.isLeapYear(e)?29:28;case goog.date.month.JUN:case goog.date.month.SEP:case goog.date.month.NOV:case goog.date.month.APR:return 30}return 31},goog.date.isSameDay=function(e,t){var n=t||new Date(goog.now());return e.getDate()==n.getDate()&&goog.date.isSameMonth(e,n)},goog.date.isSameMonth=function(e,t){var n=t||new Date(goog.now());return e.getMonth()==n.getMonth()&&goog.date.isSameYear(e,n)},goog.date.isSameYear=function(e,t){var n=t||new Date(goog.now());return e.getFullYear()==n.getFullYear()},goog.date.getWeekNumber=function(e,t,n,r,i){return e=new Date(e,t,n),r=r||goog.date.weekDay.THU,i=i||goog.date.weekDay.MON,t=((e.getDay()+6)%7-i+7)%7,i=e.valueOf()+864e5*((r-i+7)%7-t),r=new Date(new Date(i).getFullYear(),0,1).valueOf(),Math.floor(Math.round((i-r)/864e5)/7)+1},goog.date.min=function(e,t){return t>e?e:t},goog.date.max=function(e,t){return e>t?e:t},goog.date.fromIsoString=function(e){var t=new goog.date.DateTime(2e3);return goog.date.setIso8601DateTime(t,e)?t:null},goog.date.setIso8601DateTime=function(e,t){t=goog.string.trim(t);var n=-1==t.indexOf("T")?" ":"T",n=t.split(n);return goog.date.setIso8601DateOnly_(e,n[0])&&(2>n.length||goog.date.setIso8601TimeOnly_(e,n[1]))},goog.date.setIso8601DateOnly_=function(e,t){var n=t.match(goog.date.splitDateStringRegex_);if(!n)return!1;var r=Number(n[2]),i=Number(n[3]),a=Number(n[4]),o=Number(n[5]),s=Number(n[6])||1;return e.setFullYear(Number(n[1])),a?(e.setDate(1),e.setMonth(0),e.add(new goog.date.Interval(goog.date.Interval.DAYS,a-1))):o?goog.date.setDateFromIso8601Week_(e,o,s):(r&&(e.setDate(1),e.setMonth(r-1)),i&&e.setDate(i)),!0},goog.date.setDateFromIso8601Week_=function(e,t,n){e.setMonth(0),e.setDate(1);var r=e.getDay()||7;t=new goog.date.Interval(goog.date.Interval.DAYS,(4>=r?1-r:8-r)+(Number(n)+7*(Number(t)-1))-1),e.add(t)},goog.date.setIso8601TimeOnly_=function(e,t){var n=t.match(goog.date.splitTimezoneStringRegex_),r=0;return n&&("Z"!=n[0]&&(r=60*n[2]+Number(n[3]),r*="-"==n[1]?1:-1),r-=e.getTimezoneOffset(),t=t.substr(0,t.length-n[0].length)),(n=t.match(goog.date.splitTimeStringRegex_))?(e.setHours(Number(n[1])),e.setMinutes(Number(n[2])||0),e.setSeconds(Number(n[3])||0),e.setMilliseconds(n[4]?1e3*n[4]:0),0!=r&&e.setTime(e.getTime()+6e4*r),!0):!1},goog.date.Interval=function(e,t,n,r,i,a){goog.isString(e)?(this.years=e==goog.date.Interval.YEARS?t:0,this.months=e==goog.date.Interval.MONTHS?t:0,this.days=e==goog.date.Interval.DAYS?t:0,this.hours=e==goog.date.Interval.HOURS?t:0,this.minutes=e==goog.date.Interval.MINUTES?t:0,this.seconds=e==goog.date.Interval.SECONDS?t:0):(this.years=e||0,this.months=t||0,this.days=n||0,this.hours=r||0,this.minutes=i||0,this.seconds=a||0)},goog.date.Interval.fromIsoString=function(e){if(e=e.match(goog.date.splitDurationRegex_),!e)return null;var t=!(e[6]||e[7]||e[8]);if(t&&!(e[2]||e[3]||e[4])||t&&e[5])return null;var t=e[1],n=parseInt(e[2],10)||0,r=parseInt(e[3],10)||0,i=parseInt(e[4],10)||0,a=parseInt(e[6],10)||0,o=parseInt(e[7],10)||0;return e=parseFloat(e[8])||0,t?new goog.date.Interval(-n,-r,-i,-a,-o,-e):new goog.date.Interval(n,r,i,a,o,e)},goog.date.Interval.prototype.toIsoString=function(e){var t=Math.min(this.years,this.months,this.days,this.hours,this.minutes,this.seconds),n=Math.max(this.years,this.months,this.days,this.hours,this.minutes,this.seconds);return 0>t&&n>0?null:e||0!=t||0!=n?(n=[],0>t&&n.push("-"),n.push("P"),(this.years||e)&&n.push(Math.abs(this.years)+"Y"),(this.months||e)&&n.push(Math.abs(this.months)+"M"),(this.days||e)&&n.push(Math.abs(this.days)+"D"),(this.hours||this.minutes||this.seconds||e)&&(n.push("T"),(this.hours||e)&&n.push(Math.abs(this.hours)+"H"),(this.minutes||e)&&n.push(Math.abs(this.minutes)+"M"),(this.seconds||e)&&n.push(Math.abs(this.seconds)+"S")),n.join("")):"PT0S"},goog.date.Interval.prototype.equals=function(e){return e.years==this.years&&e.months==this.months&&e.days==this.days&&e.hours==this.hours&&e.minutes==this.minutes&&e.seconds==this.seconds},goog.date.Interval.prototype.clone=function(){return new goog.date.Interval(this.years,this.months,this.days,this.hours,this.minutes,this.seconds)},goog.date.Interval.YEARS="y",goog.date.Interval.MONTHS="m",goog.date.Interval.DAYS="d",goog.date.Interval.HOURS="h",goog.date.Interval.MINUTES="n",goog.date.Interval.SECONDS="s",goog.date.Interval.prototype.isZero=function(){return 0==this.years&&0==this.months&&0==this.days&&0==this.hours&&0==this.minutes&&0==this.seconds},goog.date.Interval.prototype.getInverse=function(){return this.times(-1)},goog.date.Interval.prototype.times=function(e){return new goog.date.Interval(this.years*e,this.months*e,this.days*e,this.hours*e,this.minutes*e,this.seconds*e)},goog.date.Interval.prototype.getTotalSeconds=function(){return goog.asserts.assert(0==this.years&&0==this.months),60*(60*(24*this.days+this.hours)+this.minutes)+this.seconds},goog.date.Interval.prototype.add=function(e){this.years+=e.years,this.months+=e.months,this.days+=e.days,this.hours+=e.hours,this.minutes+=e.minutes,this.seconds+=e.seconds},goog.date.Date=function(e,t,n){goog.isNumber(e)?(this.date=this.buildDate_(e,t||0,n||1),this.maybeFixDst_(n||1)):goog.isObject(e)?(this.date=this.buildDate_(e.getFullYear(),e.getMonth(),e.getDate()),this.maybeFixDst_(e.getDate())):(this.date=new Date(goog.now()),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0))},goog.date.Date.prototype.buildDate_=function(e,t,n){return t=new Date(e,t,n),e>=0&&100>e&&t.setFullYear(t.getFullYear()-1900),t},goog.date.Date.prototype.firstDayOfWeek_=goog.i18n.DateTimeSymbols.FIRSTDAYOFWEEK,goog.date.Date.prototype.firstWeekCutOffDay_=goog.i18n.DateTimeSymbols.FIRSTWEEKCUTOFFDAY,goog.date.Date.prototype.clone=function(){var e=new goog.date.Date(this.date);return e.firstDayOfWeek_=this.firstDayOfWeek_,e.firstWeekCutOffDay_=this.firstWeekCutOffDay_,e},goog.date.Date.prototype.getFullYear=function(){return this.date.getFullYear()},goog.date.Date.prototype.getYear=function(){return this.getFullYear()},goog.date.Date.prototype.getMonth=function(){return this.date.getMonth()},goog.date.Date.prototype.getDate=function(){return this.date.getDate()},goog.date.Date.prototype.getTime=function(){return this.date.getTime()},goog.date.Date.prototype.getDay=function(){return this.date.getDay()},goog.date.Date.prototype.getIsoWeekday=function(){return(this.getDay()+6)%7},goog.date.Date.prototype.getWeekday=function(){return(this.getIsoWeekday()-this.firstDayOfWeek_+7)%7},goog.date.Date.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()},goog.date.Date.prototype.getUTCMonth=function(){return this.date.getUTCMonth()},goog.date.Date.prototype.getUTCDate=function(){return this.date.getUTCDate()},goog.date.Date.prototype.getUTCDay=function(){return this.date.getDay()},goog.date.Date.prototype.getUTCHours=function(){return this.date.getUTCHours()},goog.date.Date.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},goog.date.Date.prototype.getUTCIsoWeekday=function(){return(this.date.getUTCDay()+6)%7},goog.date.Date.prototype.getUTCWeekday=function(){return(this.getUTCIsoWeekday()-this.firstDayOfWeek_+7)%7},goog.date.Date.prototype.getFirstDayOfWeek=function(){return this.firstDayOfWeek_},goog.date.Date.prototype.getFirstWeekCutOffDay=function(){return this.firstWeekCutOffDay_},goog.date.Date.prototype.getNumberOfDaysInMonth=function(){return goog.date.getNumberOfDaysInMonth(this.getFullYear(),this.getMonth())},goog.date.Date.prototype.getWeekNumber=function(){return goog.date.getWeekNumber(this.getFullYear(),this.getMonth(),this.getDate(),this.firstWeekCutOffDay_,this.firstDayOfWeek_)},goog.date.Date.prototype.getDayOfYear=function(){for(var e=this.getDate(),t=this.getFullYear(),n=this.getMonth()-1;n>=0;n--)e+=goog.date.getNumberOfDaysInMonth(t,n);return e},goog.date.Date.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},goog.date.Date.prototype.getTimezoneOffsetString=function(){var e;if(e=this.getTimezoneOffset(),0==e)e="Z";else{var t=Math.abs(e)/60,n=Math.floor(t),t=60*(t-n);e=(e>0?"-":"+")+goog.string.padNumber(n,2)+":"+goog.string.padNumber(t,2)}return e},goog.date.Date.prototype.set=function(e){this.date=new Date(e.getFullYear(),e.getMonth(),e.getDate())},goog.date.Date.prototype.setFullYear=function(e){this.date.setFullYear(e)},goog.date.Date.prototype.setYear=function(e){this.setFullYear(e)},goog.date.Date.prototype.setMonth=function(e){this.date.setMonth(e)},goog.date.Date.prototype.setDate=function(e){this.date.setDate(e)},goog.date.Date.prototype.setTime=function(e){this.date.setTime(e)},goog.date.Date.prototype.setUTCFullYear=function(e){this.date.setUTCFullYear(e)},goog.date.Date.prototype.setUTCMonth=function(e){this.date.setUTCMonth(e)},goog.date.Date.prototype.setUTCDate=function(e){this.date.setUTCDate(e)},goog.date.Date.prototype.setFirstDayOfWeek=function(e){this.firstDayOfWeek_=e},goog.date.Date.prototype.setFirstWeekCutOffDay=function(e){this.firstWeekCutOffDay_=e},goog.date.Date.prototype.add=function(e){if(e.years||e.months){var t=this.getMonth()+e.months+12*e.years,n=this.getYear()+Math.floor(t/12),t=t%12;0>t&&(t+=12);var r=goog.date.getNumberOfDaysInMonth(n,t),r=Math.min(r,this.getDate());this.setDate(1),this.setFullYear(n),this.setMonth(t),this.setDate(r)}e.days&&(t=new Date(this.getYear(),this.getMonth(),this.getDate(),12),e=new Date(t.getTime()+864e5*e.days),this.setDate(1),this.setFullYear(e.getFullYear()),this.setMonth(e.getMonth()),this.setDate(e.getDate()),this.maybeFixDst_(e.getDate()))},goog.date.Date.prototype.toIsoString=function(e,t){return[this.getFullYear(),goog.string.padNumber(this.getMonth()+1,2),goog.string.padNumber(this.getDate(),2)].join(e?"-":"")+(t?this.getTimezoneOffsetString():"")},goog.date.Date.prototype.toUTCIsoString=function(e,t){return[this.getUTCFullYear(),goog.string.padNumber(this.getUTCMonth()+1,2),goog.string.padNumber(this.getUTCDate(),2)].join(e?"-":"")+(t?"Z":"")},goog.date.Date.prototype.equals=function(e){return!(!e||this.getYear()!=e.getYear()||this.getMonth()!=e.getMonth()||this.getDate()!=e.getDate())},goog.date.Date.prototype.toString=function(){return this.toIsoString()},goog.date.Date.prototype.maybeFixDst_=function(e){this.getDate()!=e&&(e=this.getDate()<e?1:-1,this.date.setUTCHours(this.date.getUTCHours()+e))},goog.date.Date.prototype.valueOf=function(){return this.date.valueOf()},goog.date.Date.compare=function(e,t){return e.getTime()-t.getTime()},goog.date.DateTime=function(e,t,n,r,i,a,o){this.date=goog.isNumber(e)?new Date(e,t||0,n||1,r||0,i||0,a||0,o||0):new Date(e?e.getTime():goog.now())},goog.inherits(goog.date.DateTime,goog.date.Date),goog.date.DateTime.fromRfc822String=function(e){return e=new Date(e),isNaN(e.getTime())?null:new goog.date.DateTime(e)},goog.date.DateTime.prototype.getHours=function(){return this.date.getHours()},goog.date.DateTime.prototype.getMinutes=function(){return this.date.getMinutes()},goog.date.DateTime.prototype.getSeconds=function(){return this.date.getSeconds()},goog.date.DateTime.prototype.getMilliseconds=function(){return this.date.getMilliseconds()},goog.date.DateTime.prototype.getUTCDay=function(){return this.date.getUTCDay()},goog.date.DateTime.prototype.getUTCHours=function(){return this.date.getUTCHours()},goog.date.DateTime.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},goog.date.DateTime.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()},goog.date.DateTime.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},goog.date.DateTime.prototype.setHours=function(e){this.date.setHours(e)},goog.date.DateTime.prototype.setMinutes=function(e){this.date.setMinutes(e)},goog.date.DateTime.prototype.setSeconds=function(e){this.date.setSeconds(e)},goog.date.DateTime.prototype.setMilliseconds=function(e){this.date.setMilliseconds(e)},goog.date.DateTime.prototype.setUTCHours=function(e){this.date.setUTCHours(e)},goog.date.DateTime.prototype.setUTCMinutes=function(e){this.date.setUTCMinutes(e)},goog.date.DateTime.prototype.setUTCSeconds=function(e){this.date.setUTCSeconds(e)},goog.date.DateTime.prototype.setUTCMilliseconds=function(e){this.date.setUTCMilliseconds(e)},goog.date.DateTime.prototype.isMidnight=function(){return 0==this.getHours()&&0==this.getMinutes()&&0==this.getSeconds()&&0==this.getMilliseconds()},goog.date.DateTime.prototype.add=function(e){goog.date.Date.prototype.add.call(this,e),e.hours&&this.setHours(this.date.getHours()+e.hours),e.minutes&&this.setMinutes(this.date.getMinutes()+e.minutes),e.seconds&&this.setSeconds(this.date.getSeconds()+e.seconds)},goog.date.DateTime.prototype.toIsoString=function(e,t){var n=goog.date.Date.prototype.toIsoString.call(this,e);return e?n+" "+goog.string.padNumber(this.getHours(),2)+":"+goog.string.padNumber(this.getMinutes(),2)+":"+goog.string.padNumber(this.getSeconds(),2)+(t?this.getTimezoneOffsetString():""):n+"T"+goog.string.padNumber(this.getHours(),2)+goog.string.padNumber(this.getMinutes(),2)+goog.string.padNumber(this.getSeconds(),2)+(t?this.getTimezoneOffsetString():"")},goog.date.DateTime.prototype.toXmlDateTime=function(e){return goog.date.Date.prototype.toIsoString.call(this,!0)+"T"+goog.string.padNumber(this.getHours(),2)+":"+goog.string.padNumber(this.getMinutes(),2)+":"+goog.string.padNumber(this.getSeconds(),2)+(e?this.getTimezoneOffsetString():"")},goog.date.DateTime.prototype.toUTCIsoString=function(e,t){var n=goog.date.Date.prototype.toUTCIsoString.call(this,e);return e?n+" "+goog.string.padNumber(this.getUTCHours(),2)+":"+goog.string.padNumber(this.getUTCMinutes(),2)+":"+goog.string.padNumber(this.getUTCSeconds(),2)+(t?"Z":""):n+"T"+goog.string.padNumber(this.getUTCHours(),2)+goog.string.padNumber(this.getUTCMinutes(),2)+goog.string.padNumber(this.getUTCSeconds(),2)+(t?"Z":"")},goog.date.DateTime.prototype.equals=function(e){return this.getTime()==e.getTime()},goog.date.DateTime.prototype.toString=function(){return this.toIsoString()},goog.date.DateTime.prototype.toUsTimeString=function(e,t,n){var r=this.getHours();goog.isDef(t)||(t=!0);var i=12==r;return r>12&&(r-=12,i=!0),0==r&&t&&(r=12),e=e?goog.string.padNumber(r,2):String(r),r=this.getMinutes(),(!n||r>0)&&(e+=":"+goog.string.padNumber(r,2)),t&&(t=goog.getMsg("am"),n=goog.getMsg("pm"),e+=i?n:t),e},goog.date.DateTime.prototype.toIsoTimeString=function(e){var t=this.getHours(),t=goog.string.padNumber(t,2)+":"+goog.string.padNumber(this.getMinutes(),2);return(!goog.isDef(e)||e)&&(t+=":"+goog.string.padNumber(this.getSeconds(),2)),t},goog.date.DateTime.prototype.clone=function(){var e=new goog.date.DateTime(this.date);return e.setFirstDayOfWeek(this.getFirstDayOfWeek()),e.setFirstWeekCutOffDay(this.getFirstWeekCutOffDay()),e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.ARRAY_PROTOTYPE_=Array.prototype,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.indexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.lastIndexOf)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.lastIndexOf.call(e,t,null==n?e.length-1:n)}:function(e,t,n){if(n=null==n?e.length-1:n,0>n&&(n=Math.max(0,e.length+n)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,n):-1;for(;n>=0;n--)if(n in e&&e[n]===t)return n;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.forEach)?function(e,t,n){goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=goog.isString(e)?e.split(""):e,a=0;r>a;a++)a in i&&t.call(n,i[a],a,e)},goog.array.forEachRight=function(e,t,n){for(var r=e.length,i=goog.isString(e)?e.split(""):e,r=r-1;r>=0;--r)r in i&&t.call(n,i[r],r,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.filter)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],a=0,o=goog.isString(e)?e.split(""):e,s=0;r>s;s++)if(s in o){var l=o[s];t.call(n,l,s,e)&&(i[a++]=l)}return i},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.map)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),a=goog.isString(e)?e.split(""):e,o=0;r>o;o++)o in a&&(i[o]=t.call(n,a[o],o,e));return i},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduce)?function(e,t,n,r){return goog.asserts.assert(null!=e.length),r&&(t=goog.bind(t,r)),goog.array.ARRAY_PROTOTYPE_.reduce.call(e,t,n)}:function(e,t,n,r){var i=n;return goog.array.forEach(e,function(n,a){i=t.call(r,i,n,a,e)}),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.reduceRight)?function(e,t,n,r){return goog.asserts.assert(null!=e.length),r&&(t=goog.bind(t,r)),goog.array.ARRAY_PROTOTYPE_.reduceRight.call(e,t,n)}:function(e,t,n,r){var i=n;return goog.array.forEachRight(e,function(n,a){i=t.call(r,i,n,a,e)}),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.some)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=goog.isString(e)?e.split(""):e,a=0;r>a;a++)if(a in i&&t.call(n,i[a],a,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||goog.array.ARRAY_PROTOTYPE_.every)?function(e,t,n){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=goog.isString(e)?e.split(""):e,a=0;r>a;a++)if(a in i&&!t.call(n,i[a],a,e))return!1;return!0},goog.array.count=function(e,t,n){var r=0;return goog.array.forEach(e,function(e,i,a){t.call(n,e,i,a)&&++r},n),r},goog.array.find=function(e,t,n){return t=goog.array.findIndex(e,t,n),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,n){for(var r=e.length,i=goog.isString(e)?e.split(""):e,a=0;r>a;a++)if(a in i&&t.call(n,i[a],a,e))return a;return-1},goog.array.findRight=function(e,t,n){return t=goog.array.findIndexRight(e,t,n),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,n){for(var r=e.length,i=goog.isString(e)?e.split(""):e,r=r-1;r>=0;r--)if(r in i&&t.call(n,i[r],r,e))return r;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;t>=0;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,n){goog.array.splice(e,n,0,t)},goog.array.insertArrayAt=function(e,t,n){goog.partial(goog.array.splice,e,n,0).apply(null,t)},goog.array.insertBefore=function(e,t,n){var r;2==arguments.length||0>(r=goog.array.indexOf(e,n))?e.push(t):goog.array.insertAt(e,t,r)},goog.array.remove=function(e,t){var n,r=goog.array.indexOf(e,t);return(n=r>=0)&&goog.array.removeAt(e,r),n},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,n){return t=goog.array.findIndex(e,t,n),t>=0?(goog.array.removeAt(e,t),!0):!1},goog.array.concat=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.join=function(){return goog.array.ARRAY_PROTOTYPE_.concat.apply(goog.array.ARRAY_PROTOTYPE_,arguments)},goog.array.toArray=function(e){var t=e.length;if(t>0){for(var n=Array(t),r=0;t>r;r++)n[r]=e[r];return n}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];if(goog.isArray(r)||(n=goog.isArrayLike(r))&&Object.prototype.hasOwnProperty.call(r,"callee"))e.push.apply(e,r);else if(n)for(var i=e.length,a=r.length,o=0;a>o;o++)e[i+o]=r[o];else e.push(r)}},goog.array.splice=function(e){return goog.asserts.assert(null!=e.length),goog.array.ARRAY_PROTOTYPE_.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,n){return goog.asserts.assert(null!=e.length),2>=arguments.length?goog.array.ARRAY_PROTOTYPE_.slice.call(e,t):goog.array.ARRAY_PROTOTYPE_.slice.call(e,t,n)},goog.array.removeDuplicates=function(e,t,n){t=t||e;var r=function(){return goog.isObject(o)?"o"+goog.getUid(o):(typeof o).charAt(0)+o};n=n||r;for(var r={},i=0,a=0;a<e.length;){var o=e[a++],s=n(o);Object.prototype.hasOwnProperty.call(r,s)||(r[s]=!0,t[i++]=o)}t.length=i},goog.array.binarySearch=function(e,t,n){return goog.array.binarySearch_(e,n||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,n){return goog.array.binarySearch_(e,t,!0,void 0,n)},goog.array.binarySearch_=function(e,t,n,r,i){for(var a,o=0,s=e.length;s>o;){var l,c=o+s>>1;l=n?t.call(i,e[c],c,e):t(r,e[c]),l>0?o=c+1:(s=c,a=!l)}return a?o:~o},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var n=0;n<e.length;n++)e[n]={index:n,value:e[n]};var r=t||goog.array.defaultCompare;for(goog.array.sort(e,function(e,t){return r(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=e[n].value},goog.array.sortObjectsByKey=function(e,t,n){var r=n||goog.array.defaultCompare;goog.array.sort(e,function(e,n){return r(e[t],n[t])})},goog.array.isSorted=function(e,t,n){t=t||goog.array.defaultCompare;for(var r=1;r<e.length;r++){var i=t(e[r-1],e[r]);if(i>0||0==i&&n)return!1}return!0},goog.array.equals=function(e,t,n){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var r=e.length;n=n||goog.array.defaultCompareEquality;for(var i=0;r>i;i++)if(!n(e[i],t[i]))return!1;return!0},goog.array.compare3=function(e,t,n){n=n||goog.array.defaultCompare;for(var r=Math.min(e.length,t.length),i=0;r>i;i++){var a=n(e[i],t[i]);if(0!=a)return a}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:t>e?-1:0},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,n){return n=goog.array.binarySearch(e,t,n),0>n?(goog.array.insertAt(e,t,-(n+1)),!0):!1},goog.array.binaryRemove=function(e,t,n){return t=goog.array.binarySearch(e,t,n),t>=0?goog.array.removeAt(e,t):!1},goog.array.bucket=function(e,t,n){for(var r={},i=0;i<e.length;i++){var a=e[i],o=t.call(n,a,i,e);goog.isDef(o)&&(r[o]||(r[o]=[])).push(a)}return r},goog.array.toObject=function(e,t,n){var r={};return goog.array.forEach(e,function(i,a){r[t.call(n,i,a,e)]=i}),r},goog.array.range=function(e,t,n){var r=[],i=0,a=e;if(n=n||1,void 0!==t&&(i=e,a=t),0>n*(a-i))return[];if(n>0)for(e=i;a>e;e+=n)r.push(e);else for(e=i;e>a;e+=n)r.push(e);return r},goog.array.repeat=function(e,t){for(var n=[],r=0;t>r;r++)n[r]=e;return n},goog.array.flatten=function(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];goog.isArray(n)?e.push.apply(e,goog.array.flatten.apply(null,n)):e.push(n)}return e},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,t>0?goog.array.ARRAY_PROTOTYPE_.unshift.apply(e,e.splice(-t,t)):0>t&&goog.array.ARRAY_PROTOTYPE_.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,n){goog.asserts.assert(t>=0&&t<e.length),goog.asserts.assert(n>=0&&n<e.length),t=goog.array.ARRAY_PROTOTYPE_.splice.call(e,t,1),goog.array.ARRAY_PROTOTYPE_.splice.call(e,n,0,t[0])},goog.array.zip=function(){if(!arguments.length)return[];for(var e=[],t=0;;t++){for(var n=[],r=0;r<arguments.length;r++){var i=arguments[r];if(t>=i.length)return e;n.push(i[t])}e.push(n)}},goog.array.shuffle=function(e,t){for(var n=t||Math.random,r=e.length-1;r>0;r--){var i=Math.floor(n()*(r+1)),a=e[r];e[r]=e[i],e[i]=a}},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,n=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),r=[];t=n.exec(e);)r.push([t[1],t[2],t[3]||void 0]);return r},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!goog.labs.userAgent.util.matchUserAgent("Chrome")&&!goog.labs.userAgent.util.matchUserAgent("CriOS")&&!goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.browser.matchChrome_=function(){return goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS")},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!goog.labs.userAgent.util.matchUserAgent("Chrome")&&!goog.labs.userAgent.util.matchUserAgent("CriOS")},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();return goog.labs.userAgent.browser.isIE()?goog.labs.userAgent.browser.getIEVersion_(e):goog.labs.userAgent.browser.isOpera()?goog.labs.userAgent.browser.getOperaVersion_(e):(e=goog.labs.userAgent.util.extractVersionTuples(e),goog.labs.userAgent.browser.getVersionFromTuples_(e))},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var t="",n=/MSIE +([\d\.]+)/.exec(e);if(n&&n[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==n[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=n[1];return t},goog.labs.userAgent.browser.getOperaVersion_=function(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var t=goog.array.peek(e);return"OPR"==t[0]&&t[1]?t[1]:goog.labs.userAgent.browser.getVersionFromTuples_(e)},goog.labs.userAgent.browser.getVersionFromTuples_=function(e){return goog.asserts.assert(2<e.length,"Couldn't extract version tuple from user agent string"),e[2]&&e[2][1]?e[2][1]:""},goog.labs.userAgent.device={},goog.labs.userAgent.device.isMobile=function(){return!goog.labs.userAgent.device.isTablet()&&(goog.labs.userAgent.util.matchUserAgent("iPod")||goog.labs.userAgent.util.matchUserAgent("iPhone")||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.device.isTablet=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("Android")&&!goog.labs.userAgent.util.matchUserAgent("Mobile")||goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.device.isDesktop=function(){return!goog.labs.userAgent.device.isMobile()&&!goog.labs.userAgent.device.isTablet()},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows NT ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){var e=goog.labs.userAgent.util.extractVersionTuples(e),t=e[1];if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];var n,e=e[0];if(e&&(n=e[2])&&(n=/Trident\/([^\s;]+)/.exec(n)))return n[1]}return""
},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){var n=goog.array.find(e,function(e){return t==e[0]});return n&&n[1]||""},goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this)},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.bind(e,t))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return e&&"function"==typeof e.isDisposed?e.isDisposed():!1},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(){for(var e=0,t=arguments.length;t>e;++e){var n=arguments[e];goog.isArrayLike(n)?goog.disposeAll.apply(null,n):goog.dispose(n)}},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,n=0;n<t.length;n++)e(goog.bind(t[n].wrap,t[n]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=goog.bind(e.unwrap,e);for(var n=0;n<goog.debug.entryPointRegistry.refList_.length;n++)goog.debug.entryPointRegistry.refList_[n](e);t.length--},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.initPlatform_=function(){goog.userAgent.detectedMac_=goog.string.contains(goog.userAgent.PLATFORM,"Mac"),goog.userAgent.detectedWindows_=goog.string.contains(goog.userAgent.PLATFORM,"Win"),goog.userAgent.detectedLinux_=goog.string.contains(goog.userAgent.PLATFORM,"Linux"),goog.userAgent.detectedX11_=!!goog.userAgent.getNavigator()&&goog.string.contains(goog.userAgent.getNavigator().appVersion||"","X11");var e=goog.userAgent.getUserAgentString();goog.userAgent.detectedAndroid_=!!e&&goog.string.contains(e,"Android"),goog.userAgent.detectedIPhone_=!!e&&goog.string.contains(e,"iPhone"),goog.userAgent.detectedIPad_=!!e&&goog.string.contains(e,"iPad")},goog.userAgent.PLATFORM_KNOWN_||goog.userAgent.initPlatform_(),goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.userAgent.detectedMac_,goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.userAgent.detectedWindows_,goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.detectedLinux_,goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.detectedX11_,goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.userAgent.detectedAndroid_,goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.userAgent.detectedIPhone_,goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.userAgent.detectedIPad_,goog.userAgent.determineVersion_=function(){var e,t="";return goog.userAgent.OPERA&&goog.global.opera?(t=goog.global.opera.version,goog.isFunction(t)?t():t):(goog.userAgent.GECKO?e=/rv\:([^\);]+)(\)|;)/:goog.userAgent.IE?e=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:goog.userAgent.WEBKIT&&(e=/WebKit\/(\S+)/),e&&(t=(t=e.exec(goog.userAgent.getUserAgentString()))?t[1]:""),goog.userAgent.IE&&(e=goog.userAgent.getDocumentMode_(),e>parseFloat(t))?String(e):t)},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return goog.userAgent.IE&&goog.userAgent.DOCUMENT_MODE>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document;return e&&goog.userAgent.IE?goog.userAgent.getDocumentMode_()||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0}(),goog.events={},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(e,t){this.type=e instanceof goog.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},goog.events.Event.prototype.disposeInternal=function(){},goog.events.Event.prototype.dispose=function(){},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXTINPUT:"textinput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified"},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(n){}return!1},goog.events.BrowserEvent=function(e,t){goog.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],goog.events.BrowserEvent.prototype.init=function(e,t){var n=this.type=e.type;this.target=e.target||e.srcElement,this.currentTarget=t;var r=e.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):n==goog.events.EventType.MOUSEOVER?r=e.fromElement:n==goog.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0,this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.prototype.disposeInternal=function(){},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){try{return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])}catch(t){return!1}},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(e,t,n,r,i,a){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=n,this.type=r,this.capture=!!i,this.handler=a,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.object={},goog.object.forEach=function(e,t,n){for(var r in e)t.call(n,e[r],r,e)},goog.object.filter=function(e,t,n){var r,i={};for(r in e)t.call(n,e[r],r,e)&&(i[r]=e[r]);return i},goog.object.map=function(e,t,n){var r,i={};for(r in e)i[r]=t.call(n,e[r],r,e);return i},goog.object.some=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return!0;return!1},goog.object.every=function(e,t,n){for(var r in e)if(!t.call(n,e[r],r,e))return!1;return!0},goog.object.getCount=function(e){var t,n=0;for(t in e)n++;return n},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n},goog.object.getKeys=function(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n},goog.object.getValueByKeys=function(e,t){for(var n=goog.isArrayLike(t),r=n?t:arguments,n=n?0:1;n<r.length&&(e=e[r[n]],goog.isDef(e));n++);return e},goog.object.containsKey=function(e,t){return t in e},goog.object.containsValue=function(e,t){for(var n in e)if(e[n]==t)return!0;return!1},goog.object.findKey=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},goog.object.findValue=function(e,t,n){return(t=goog.object.findKey(e,t,n))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var n;return(n=t in e)&&delete e[t],n},goog.object.add=function(e,t,n){if(t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,n)},goog.object.get=function(e,t,n){return t in e?e[t]:n},goog.object.set=function(e,t,n){e[t]=n},goog.object.setIfUndefined=function(e,t,n){return t in e?e[t]:e[t]=n},goog.object.clone=function(e){var t,n={};for(t in e)n[t]=e[t];return n},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var n,t="array"==t?[]:{};for(n in e)t[n]=goog.object.unsafeClone(e[n]);return t}return e},goog.object.transpose=function(e){var t,n={};for(t in e)n[e[t]]=t;return n},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e){for(var t,n,r=1;r<arguments.length;r++){n=arguments[r];for(t in n)e[t]=n[t];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)t=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}},goog.object.create=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(e%2)throw Error("Uneven number of arguments");for(var t={},n=0;e>n;n+=2)t[arguments[n]]=arguments[n+1];return t},goog.object.createSet=function(){var e=arguments.length;if(1==e&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var t={},n=0;e>n;n++)t[arguments[n]]=!0;return t},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},goog.events.ListenerMap.prototype.add=function(e,t,n,r,i){var a=e.toString();e=this.listeners[a],e||(e=this.listeners[a]=[],this.typeCount_++);var o=goog.events.ListenerMap.findListenerIndex_(e,t,r,i);return o>-1?(t=e[o],n||(t.callOnce=!1)):(t=new goog.events.Listener(t,null,this.src,a,!!r,i),t.callOnce=n,e.push(t)),t},goog.events.ListenerMap.prototype.remove=function(e,t,n,r){if(e=e.toString(),!(e in this.listeners))return!1;var i=this.listeners[e];return t=goog.events.ListenerMap.findListenerIndex_(i,t,n,r),t>-1?(i[t].markAsRemoved(),goog.array.removeAt(i,t),0==i.length&&(delete this.listeners[e],this.typeCount_--),!0):!1},goog.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var n=goog.array.remove(this.listeners[t],e);return n&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),n},goog.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,n=0;for(t in this.listeners)if(!e||t==e){for(var r=this.listeners[t],i=0;i<r.length;i++)++n,r[i].markAsRemoved();delete this.listeners[t],this.typeCount_--}return n},goog.events.ListenerMap.prototype.getListeners=function(e,t){var n=this.listeners[e.toString()],r=[];if(n)for(var i=0;i<n.length;++i){var a=n[i];a.capture==t&&r.push(a)}return r},goog.events.ListenerMap.prototype.getListener=function(e,t,n,r){e=this.listeners[e.toString()];var i=-1;return e&&(i=goog.events.ListenerMap.findListenerIndex_(e,t,n,r)),i>-1?e[i]:null},goog.events.ListenerMap.prototype.hasListener=function(e,t){var n=goog.isDef(e),r=n?e.toString():"",i=goog.isDef(t);return goog.object.some(this.listeners,function(e){for(var a=0;a<e.length;++a)if(!(n&&e[a].type!=r||i&&e[a].capture!=t))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.removed&&a.listener==t&&a.capture==!!n&&a.handler==r)return i}return-1},goog.events.listeners_={},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,t,n,r,i){if(goog.isArray(t)){for(var a=0;a<t.length;a++)goog.events.listen(e,t[a],n,r,i);return null}return n=goog.events.wrapListener(n),goog.events.Listenable.isImplementedBy(e)?e.listen(t,n,r,i):goog.events.listen_(e,t,n,!1,r,i)},goog.events.listen_=function(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=!!i;if(o&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var s=goog.events.getListenerMap_(e);return s||(e[goog.events.LISTENER_MAP_PROP_]=s=new goog.events.ListenerMap(e)),n=s.add(t,n,r,i,a),n.proxy?n:(r=goog.events.getProxy(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener?e.addEventListener(t.toString(),r,o):e.attachEvent(goog.events.getOnString_(t.toString()),r),goog.events.listenerCountEstimate_++,n)},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,t=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(n){return e.call(t.src,t.listener,n)}:function(n){return n=e.call(t.src,t.listener,n),n?void 0:n};return t},goog.events.listenOnce=function(e,t,n,r,i){if(goog.isArray(t)){for(var a=0;a<t.length;a++)goog.events.listenOnce(e,t[a],n,r,i);return null}return n=goog.events.wrapListener(n),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(t,n,r,i):goog.events.listen_(e,t,n,!0,r,i)},goog.events.listenWithWrapper=function(e,t,n,r,i){t.listen(e,n,r,i)},goog.events.unlisten=function(e,t,n,r,i){if(goog.isArray(t)){for(var a=0;a<t.length;a++)goog.events.unlisten(e,t[a],n,r,i);return null}return n=goog.events.wrapListener(n),goog.events.Listenable.isImplementedBy(e)?e.unlisten(t,n,r,i):e?(r=!!r,(e=goog.events.getListenerMap_(e))&&(t=e.getListener(t,n,r,i))?goog.events.unlistenByKey(t):!1):!1},goog.events.unlistenByKey=function(e){if(goog.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var n=e.type,r=e.proxy;return t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent&&t.detachEvent(goog.events.getOnString_(n),r),goog.events.listenerCountEstimate_--,(n=goog.events.getListenerMap_(t))?(n.removeByKey(e),0==n.getTypeCount()&&(n.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,t,n,r,i){t.unlisten(e,n,r,i)},goog.events.removeAll=function(e,t){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var n=goog.events.getListenerMap_(e);if(!n)return 0;var r,i=0,a=t&&t.toString();for(r in n.listeners)if(!a||r==a)for(var o=goog.array.clone(n.listeners[r]),s=0;s<o.length;++s)goog.events.unlistenByKey(o[s])&&++i;return i},goog.events.removeAllNativeListeners=function(){return goog.events.listenerCountEstimate_=0},goog.events.getListeners=function(e,t,n){return goog.events.Listenable.isImplementedBy(e)?e.getListeners(t,n):e?(e=goog.events.getListenerMap_(e))?e.getListeners(t,n):[]:[]},goog.events.getListener=function(e,t,n,r,i){return n=goog.events.wrapListener(n),r=!!r,goog.events.Listenable.isImplementedBy(e)?e.getListener(t,n,r,i):e?(e=goog.events.getListenerMap_(e))?e.getListener(t,n,r,i):null:null},goog.events.hasListener=function(e,t,n){return goog.events.Listenable.isImplementedBy(e)?e.hasListener(t,n):(e=goog.events.getListenerMap_(e),!!e&&e.hasListener(t,n))},goog.events.expose=function(e){var t,n=[];for(t in e)e[t]&&e[t].id?n.push(t+" = "+e[t]+" ("+e[t].id+")"):n.push(t+" = "+e[t]);return n.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,n,r){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(t,n,r):goog.events.fireListeners_(e,t,n,r)},goog.events.fireListeners_=function(e,t,n,r){var i=1;if((e=goog.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=goog.array.clone(t),e=0;e<t.length;e++){var a=t[e];a&&a.capture==n&&!a.removed&&(i&=!1!==goog.events.fireListener(a,r))}return Boolean(i)},goog.events.fireListener=function(e,t){var n=e.listener,r=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),n.call(r,t)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,t){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var n=t||goog.getObjectByName("window.event"),r=new goog.events.BrowserEvent(n,this),i=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(n)){goog.events.markIeEvent_(n);for(var n=[],a=r.currentTarget;a;a=a.parentNode)n.push(a);for(var a=e.type,o=n.length-1;!r.propagationStopped_&&o>=0;o--)r.currentTarget=n[o],i&=goog.events.fireListeners_(n[o],a,!0,r);for(o=0;!r.propagationStopped_&&o<n.length;o++)r.currentTarget=n[o],i&=goog.events.fireListeners_(n[o],a,!1,r)}}else i=goog.events.fireListener(e,r);return i}return goog.events.fireListener(e,new goog.events.BrowserEvent(t,this))},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return e.keyCode=-1,void 0}catch(n){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){return e=e[goog.events.LISTENER_MAP_PROP_],e instanceof goog.events.ListenerMap?e:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),goog.isFunction(e)?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}))},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.parentEventTarget_=null,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,n,r){goog.events.listen(this,e,t,n,r)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,n,r){goog.events.unlisten(this,e,t,n,r)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t,n=this.getParentEventTarget();if(n){t=[];for(var r=1;n;n=n.getParentEventTarget())t.push(n),goog.asserts.assert(++r<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,t,n,r){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,n,r)},goog.events.EventTarget.prototype.listenOnce=function(e,t,n,r){return this.eventTargetListeners_.add(String(e),t,!0,n,r)},goog.events.EventTarget.prototype.unlisten=function(e,t,n,r){return this.eventTargetListeners_.remove(String(e),t,n,r)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,t,n){if(e=this.eventTargetListeners_.listeners[String(e)],!e)return!0;e=goog.array.clone(e);for(var r=!0,i=0;i<e.length;++i){var a=e[i];if(a&&!a.removed&&a.capture==t){var o=a.listener,s=a.handler||a.src;a.callOnce&&this.unlistenByKey(a),r=!1!==o.call(s,n)&&r}}return r&&0!=n.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},goog.events.EventTarget.prototype.getListener=function(e,t,n,r){return this.eventTargetListeners_.getListener(String(e),t,n,r)},goog.events.EventTarget.prototype.hasListener=function(e,t){var n=goog.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(n,t)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,t,n){var r=t.type||t;
if(goog.isString(t))t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var i=t;t=new goog.events.Event(r,e),goog.object.extend(t,i)}var a,i=!0;if(n)for(var o=n.length-1;!t.propagationStopped_&&o>=0;o--)a=t.currentTarget=n[o],i=a.fireListeners(r,!0,t)&&i;if(t.propagationStopped_||(a=t.currentTarget=e,i=a.fireListeners(r,!0,t)&&i,t.propagationStopped_||(i=a.fireListeners(r,!1,t)&&i)),n)for(o=0;!t.propagationStopped_&&o<n.length;o++)a=t.currentTarget=n[o],i=a.fireListeners(r,!1,t)&&i;return i},goog.Timer=function(e,t){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;e>0&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,t,n){if(goog.isFunction(e))n&&(e=goog.bind(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=goog.bind(e.handleEvent,e)}return t>goog.Timer.MAX_TIMEOUT_?-1:goog.Timer.defaultTimerObject.setTimeout(e,t||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.structs={},goog.structs.getCount=function(e){return"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if("function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var t=[],n=e.length,r=0;n>r;r++)t.push(e[r]);return t}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if("function"==typeof e.getKeys)return e.getKeys();if("function"!=typeof e.getValues){if(goog.isArrayLike(e)||goog.isString(e)){var t=[];e=e.length;for(var n=0;e>n;n++)t.push(n);return t}return goog.object.getKeys(e)}},goog.structs.contains=function(e,t){return"function"==typeof e.contains?e.contains(t):"function"==typeof e.containsValue?e.containsValue(t):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,t):goog.object.containsValue(e,t)},goog.structs.isEmpty=function(e){return"function"==typeof e.isEmpty?e.isEmpty():goog.isArrayLike(e)||goog.isString(e)?goog.array.isEmpty(e):goog.object.isEmpty(e)},goog.structs.clear=function(e){"function"==typeof e.clear?e.clear():goog.isArrayLike(e)?goog.array.clear(e):goog.object.clear(e)},goog.structs.forEach=function(e,t,n){if("function"==typeof e.forEach)e.forEach(t,n);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,t,n);else for(var r=goog.structs.getKeys(e),i=goog.structs.getValues(e),a=i.length,o=0;a>o;o++)t.call(n,i[o],r&&r[o],e)},goog.structs.filter=function(e,t,n){if("function"==typeof e.filter)return e.filter(t,n);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,t,n);var r,i=goog.structs.getKeys(e),a=goog.structs.getValues(e),o=a.length;if(i){r={};for(var s=0;o>s;s++)t.call(n,a[s],i[s],e)&&(r[i[s]]=a[s])}else for(r=[],s=0;o>s;s++)t.call(n,a[s],void 0,e)&&r.push(a[s]);return r},goog.structs.map=function(e,t,n){if("function"==typeof e.map)return e.map(t,n);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,t,n);var r,i=goog.structs.getKeys(e),a=goog.structs.getValues(e),o=a.length;if(i){r={};for(var s=0;o>s;s++)r[i[s]]=t.call(n,a[s],i[s],e)}else for(r=[],s=0;o>s;s++)r[s]=t.call(n,a[s],void 0,e);return r},goog.structs.some=function(e,t,n){if("function"==typeof e.some)return e.some(t,n);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,t,n);for(var r=goog.structs.getKeys(e),i=goog.structs.getValues(e),a=i.length,o=0;a>o;o++)if(t.call(n,i[o],r&&r[o],e))return!0;return!1},goog.structs.every=function(e,t,n){if("function"==typeof e.every)return e.every(t,n);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,t,n);for(var r=goog.structs.getKeys(e),i=goog.structs.getValues(e),a=i.length,o=0;a>o;o++)if(!t.call(n,i[o],r&&r[o],e))return!1;return!0},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.compose=function(){var e=arguments,t=e.length;return function(){var n;t&&(n=e[t-1].apply(this,arguments));for(var r=t-2;r>=0;r--)n=e[r].call(this,n);return n}},goog.functions.sequence=function(){var e=arguments,t=e.length;return function(){for(var n,r=0;t>r;r++)n=e[r].apply(this,arguments);return n}},goog.functions.and=function(){var e=arguments,t=e.length;return function(){for(var n=0;t>n;n++)if(!e[n].apply(this,arguments))return!1;return!0}},goog.functions.or=function(){var e=arguments,t=e.length;return function(){for(var n=0;t>n;n++)if(e[n].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e){var t=function(){};return t.prototype=e.prototype,t=new t,e.apply(t,Array.prototype.slice.call(arguments,1)),t},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,n=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(n||(t=e(),n=!0),t):e()}},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)},goog.math.modulo=function(e,t){var n=e%t;return 0>n*t?n+t:n},goog.math.lerp=function(e,t,n){return e+n*(t-e)},goog.math.nearlyEquals=function(e,t,n){return Math.abs(e-t)<=(n||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,n,r){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(r-t,n-e)))},goog.math.angleDifference=function(e,t){var n=goog.math.standardAngle(t)-goog.math.standardAngle(e);return n>180?n-=360:-180>=n&&(n=360+n),n},goog.math.sign=function(e){return 0==e?0:0>e?-1:1},goog.math.longestCommonSubsequence=function(e,t,n,r){n=n||function(e,t){return e==t},r=r||function(t){return e[t]};for(var i=e.length,a=t.length,o=[],s=0;i+1>s;s++)o[s]=[],o[s][0]=0;for(var l=0;a+1>l;l++)o[0][l]=0;for(s=1;i>=s;s++)for(l=1;a>=l;l++)o[s][l]=n(e[s-1],t[l-1])?o[s-1][l-1]+1:Math.max(o[s-1][l],o[s][l-1]);for(var c=[],s=i,l=a;s>0&&l>0;)n(e[s-1],t[l-1])?(c.unshift(r(s-1,l-1)),s--,l--):o[s-1][l]>o[s][l-1]?s--:l--;return c},goog.math.sum=function(){return goog.array.reduce(arguments,function(e,t){return e+t},0)},goog.math.average=function(){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(){var e=arguments.length;if(2>e)return 0;var t=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-t,2)}))/(e-1)},goog.math.standardDeviation=function(){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.log10Floor=function(e){if(e>0){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e)}return 0==e?-1/0:0/0},goog.math.safeFloor=function(e,t){return goog.asserts.assert(!goog.isDef(t)||t>0),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(!goog.isDef(t)||t>0),Math.ceil(e-(t||2e-15))},goog.iter={},goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:Error("StopIteration"),goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if("function"==typeof e.__iterator__)return e.__iterator__(!1);if(goog.isArrayLike(e)){var t=0,n=new goog.iter.Iterator;return n.next=function(){for(;;){if(t>=e.length)throw goog.iter.StopIteration;if(t in e)return e[t++];t++}},n}throw Error("Not implemented")},goog.iter.forEach=function(e,t,n){if(goog.isArrayLike(e))try{goog.array.forEach(e,t,n)}catch(r){if(r!==goog.iter.StopIteration)throw r}else{e=goog.iter.toIterator(e);try{for(;;)t.call(n,e.next(),void 0,e)}catch(i){if(i!==goog.iter.StopIteration)throw i}}},goog.iter.filter=function(e,t,n){var r=goog.iter.toIterator(e);return e=new goog.iter.Iterator,e.next=function(){for(;;){var e=r.next();if(t.call(n,e,void 0,r))return e}},e},goog.iter.filterFalse=function(e,t,n){return goog.iter.filter(e,goog.functions.not(t),n)},goog.iter.range=function(e,t,n){var r=0,i=e,a=n||1;if(1<arguments.length&&(r=e,i=t),0==a)throw Error("Range step argument must not be zero");var o=new goog.iter.Iterator;return o.next=function(){if(a>0&&r>=i||0>a&&i>=r)throw goog.iter.StopIteration;var e=r;return r+=a,e},o},goog.iter.join=function(e,t){return goog.iter.toArray(e).join(t)},goog.iter.map=function(e,t,n){var r=goog.iter.toIterator(e);return e=new goog.iter.Iterator,e.next=function(){var e=r.next();return t.call(n,e,void 0,r)},e},goog.iter.reduce=function(e,t,n,r){var i=n;return goog.iter.forEach(e,function(e){i=t.call(r,i,e)}),i},goog.iter.some=function(e,t,n){e=goog.iter.toIterator(e);try{for(;;)if(t.call(n,e.next(),void 0,e))return!0}catch(r){if(r!==goog.iter.StopIteration)throw r}return!1},goog.iter.every=function(e,t,n){e=goog.iter.toIterator(e);try{for(;;)if(!t.call(n,e.next(),void 0,e))return!1}catch(r){if(r!==goog.iter.StopIteration)throw r}return!0},goog.iter.chain=function(){var e=goog.iter.toIterator(arguments),t=new goog.iter.Iterator,n=null;return t.next=function(){for(;;){if(null==n){var t=e.next();n=goog.iter.toIterator(t)}try{return n.next()}catch(r){if(r!==goog.iter.StopIteration)throw r;n=null}}},t},goog.iter.chainFromIterable=function(e){return goog.iter.chain.apply(void 0,e)},goog.iter.dropWhile=function(e,t,n){var r=goog.iter.toIterator(e);e=new goog.iter.Iterator;var i=!0;return e.next=function(){for(;;){var e=r.next();if(!i||!t.call(n,e,void 0,r))return i=!1,e}},e},goog.iter.takeWhile=function(e,t,n){var r=goog.iter.toIterator(e);e=new goog.iter.Iterator;var i=!0;return e.next=function(){for(;;){if(!i)throw goog.iter.StopIteration;var e=r.next();if(t.call(n,e,void 0,r))return e;i=!1}},e},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return goog.array.toArray(e);e=goog.iter.toIterator(e);var t=[];return goog.iter.forEach(e,function(e){t.push(e)}),t},goog.iter.equals=function(e,t){var n=goog.iter.zipLongest({},e,t);return goog.iter.every(n,function(e){return e[0]==e[1]})},goog.iter.nextOrValue=function(e,t){try{return goog.iter.toIterator(e).next()}catch(n){if(n!=goog.iter.StopIteration)throw n;return t}},goog.iter.product=function(){if(goog.array.some(arguments,function(e){return!e.length})||!arguments.length)return new goog.iter.Iterator;var e=new goog.iter.Iterator,t=arguments,n=goog.array.repeat(0,t.length);return e.next=function(){if(n){for(var e=goog.array.map(n,function(e,n){return t[n][e]}),r=n.length-1;r>=0;r--){if(goog.asserts.assert(n),n[r]<t[r].length-1){n[r]++;break}if(0==r){n=null;break}n[r]=0}return e}throw goog.iter.StopIteration},e},goog.iter.cycle=function(e){var t=goog.iter.toIterator(e),n=[],r=0;e=new goog.iter.Iterator;var i=!1;return e.next=function(){var e=null;if(!i)try{return e=t.next(),n.push(e),e}catch(a){if(a!=goog.iter.StopIteration||goog.array.isEmpty(n))throw a;i=!0}return e=n[r],r=(r+1)%n.length,e},e},goog.iter.count=function(e,t){var n=e||0,r=goog.isDef(t)?t:1,i=new goog.iter.Iterator;return i.next=function(){var e=n;return n+=r,e},i},goog.iter.repeat=function(e){var t=new goog.iter.Iterator;return t.next=goog.functions.constant(e),t},goog.iter.accumulate=function(e){var t=goog.iter.toIterator(e),n=0;return e=new goog.iter.Iterator,e.next=function(){return n+=t.next()},e},goog.iter.zip=function(){var e=arguments,t=new goog.iter.Iterator;if(0<e.length){var n=goog.array.map(e,goog.iter.toIterator);t.next=function(){return goog.array.map(n,function(e){return e.next()})}}return t},goog.iter.zipLongest=function(e){var t=goog.array.slice(arguments,1),n=new goog.iter.Iterator;if(0<t.length){var r=goog.array.map(t,goog.iter.toIterator);n.next=function(){var t=!1,n=goog.array.map(r,function(n){var r;try{r=n.next(),t=!0}catch(i){if(i!==goog.iter.StopIteration)throw i;r=e}return r});if(!t)throw goog.iter.StopIteration;return n}}return n},goog.iter.compress=function(e,t){var n=goog.iter.toIterator(t);return goog.iter.filter(e,function(){return!!n.next()})},goog.iter.GroupByIterator_=function(e,t){this.iterator=goog.iter.toIterator(e),this.keyFunc=t||goog.functions.identity},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var t=[];this.currentKey==e;){t.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(n){if(n!==goog.iter.StopIteration)throw n;break}this.currentKey=this.keyFunc(this.currentValue)}return t},goog.iter.groupBy=function(e,t){return new goog.iter.GroupByIterator_(e,t)},goog.iter.starMap=function(e,t,n){var r=goog.iter.toIterator(e);return e=new goog.iter.Iterator,e.next=function(){var e=goog.iter.toArray(r.next());return t.apply(n,goog.array.concat(e,void 0,r))},e},goog.iter.tee=function(e,t){var n=goog.iter.toIterator(e),r=goog.isNumber(t)?t:2,i=goog.array.map(goog.array.range(r),function(){return[]}),a=function(){var e=n.next();goog.array.forEach(i,function(t){t.push(e)})};return goog.array.map(i,function(e){var t=new goog.iter.Iterator;return t.next=function(){return goog.array.isEmpty(e)&&a(),goog.asserts.assert(!goog.array.isEmpty(e)),e.shift()},t})},goog.iter.enumerate=function(e,t){return goog.iter.zip(goog.iter.count(t),e)},goog.iter.limit=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&t>=0);var n=goog.iter.toIterator(e),r=new goog.iter.Iterator,i=t;return r.next=function(){if(0<i--)return n.next();throw goog.iter.StopIteration},r},goog.iter.consume=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&t>=0);for(var n=goog.iter.toIterator(e);0<t--;)goog.iter.nextOrValue(n,null);return n},goog.iter.slice=function(e,t,n){return goog.asserts.assert(goog.math.isInt(t)&&t>=0),e=goog.iter.consume(e,t),goog.isNumber(n)&&(goog.asserts.assert(goog.math.isInt(n)&&n>=t),e=goog.iter.limit(e,n-t)),e},goog.iter.hasDuplicates_=function(e){var t=[];return goog.array.removeDuplicates(e,t),e.length!=t.length},goog.iter.permutations=function(e,t){var n=goog.iter.toArray(e),r=goog.isNumber(t)?t:n.length,n=goog.array.repeat(n,r),n=goog.iter.product.apply(void 0,n);return goog.iter.filter(n,function(e){return!goog.iter.hasDuplicates_(e)})},goog.iter.combinations=function(e,t){function n(e){return r[e]}var r=goog.iter.toArray(e),i=goog.iter.range(r.length),i=goog.iter.permutations(i,t),a=goog.iter.filter(i,function(e){return goog.array.isSorted(e)}),i=new goog.iter.Iterator;return i.next=function(){return goog.array.map(a.next(),n)},i},goog.iter.combinationsWithReplacement=function(e,t){function n(e){return r[e]}var r=goog.iter.toArray(e),i=goog.array.range(r.length),i=goog.array.repeat(i,t),i=goog.iter.product.apply(void 0,i),a=goog.iter.filter(i,function(e){return goog.array.isSorted(e)}),i=new goog.iter.Iterator;return i.next=function(){return goog.array.map(a.next(),n)},i},goog.structs.Map=function(e){this.map_={},this.keys_=[],this.version_=this.count_=0;var t=arguments.length;if(t>1){if(t%2)throw Error("Uneven number of arguments");for(var n=0;t>n;n+=2)this.set(arguments[n],arguments[n+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],t=0;t<this.keys_.length;t++)e.push(this.map_[this.keys_[t]]);return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var t=0;t<this.keys_.length;t++){var n=this.keys_[t];if(goog.structs.Map.hasKey_(this.map_,n)&&this.map_[n]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,t){if(this===e)return!0;if(this.count_!=e.getCount())return!1;var n=t||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var r,i=0;r=this.keys_[i];i++)if(!n(this.get(r),e.get(r)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,t){return e===t},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.version_=this.count_=this.keys_.length=0},goog.structs.Map.prototype.remove=function(e){return goog.structs.Map.hasKey_(this.map_,e)?(delete this.map_[e],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var e=0,t=0;e<this.keys_.length;){var n=this.keys_[e];goog.structs.Map.hasKey_(this.map_,n)&&(this.keys_[t++]=n),e++}this.keys_.length=t}if(this.count_!=this.keys_.length){for(var r={},t=e=0;e<this.keys_.length;)n=this.keys_[e],goog.structs.Map.hasKey_(r,n)||(this.keys_[t++]=n,r[n]=1),e++;this.keys_.length=t}},goog.structs.Map.prototype.get=function(e,t){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:t},goog.structs.Map.prototype.set=function(e,t){goog.structs.Map.hasKey_(this.map_,e)||(this.count_++,this.keys_.push(e),this.version_++),this.map_[e]=t},goog.structs.Map.prototype.addAll=function(e){var t;e instanceof goog.structs.Map?(t=e.getKeys(),e=e.getValues()):(t=goog.object.getKeys(e),e=goog.object.getValues(e));for(var n=0;n<t.length;n++)this.set(t[n],e[n])},goog.structs.Map.prototype.forEach=function(e,t){for(var n=this.getKeys(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,t=0;t<this.keys_.length;t++){var n=this.keys_[t];e.set(this.map_[n],n)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},t=0;t<this.keys_.length;t++){var n=this.keys_[t];e[n]=this.map_[n]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.__iterator__=function(e){this.cleanupKeysArray_();var t=0,n=this.keys_,r=this.map_,i=this.version_,a=this,o=new goog.iter.Iterator;return o.next=function(){for(;;){if(i!=a.version_)throw Error("The map has changed since the iterator was created");if(t>=n.length)throw goog.iter.StopIteration;var o=n[t++];return e?o:r[o]}},o},goog.structs.Map.hasKey_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},goog.uri={},goog.uri.utils={},goog.uri.utils.CharCode_={AMPERSAND:38,EQUAL:61,HASH:35,QUESTION:63},goog.uri.utils.buildFromEncodedParts=function(e,t,n,r,i,a,o){var s="";return e&&(s+=e+":"),n&&(s+="//",t&&(s+=t+"@"),s+=n,r&&(s+=":"+r)),i&&(s+=i),a&&(s+="?"+a),o&&(s+="#"+o),s},goog.uri.utils.splitRe_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,goog.uri.utils.ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7},goog.uri.utils.split=function(e){return goog.uri.utils.phishingProtection_(),e.match(goog.uri.utils.splitRe_)},goog.uri.utils.needsPhishingProtection_=goog.userAgent.WEBKIT,goog.uri.utils.phishingProtection_=function(){if(goog.uri.utils.needsPhishingProtection_){goog.uri.utils.needsPhishingProtection_=!1;var e=goog.global.location;if(e){var t=e.href;if(t&&(t=goog.uri.utils.getDomain(t))&&t!=e.hostname)throw goog.uri.utils.needsPhishingProtection_=!0,Error()}}},goog.uri.utils.decodeIfPossible_=function(e){return e&&decodeURIComponent(e)},goog.uri.utils.getComponentByIndex_=function(e,t){return goog.uri.utils.split(t)[e]||null},goog.uri.utils.getScheme=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME,e)},goog.uri.utils.getEffectiveScheme=function(e){return e=goog.uri.utils.getScheme(e),!e&&self.location&&(e=self.location.protocol,e=e.substr(0,e.length-1)),e?e.toLowerCase():""},goog.uri.utils.getUserInfoEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO,e)},goog.uri.utils.getUserInfo=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(e))},goog.uri.utils.getDomainEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN,e)},goog.uri.utils.getDomain=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(e))},goog.uri.utils.getPort=function(e){return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT,e))||null},goog.uri.utils.getPathEncoded=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH,e)},goog.uri.utils.getPath=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(e))},goog.uri.utils.getQueryData=function(e){return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA,e)},goog.uri.utils.getFragmentEncoded=function(e){var t=e.indexOf("#");return 0>t?null:e.substr(t+1)},goog.uri.utils.setFragmentEncoded=function(e,t){return goog.uri.utils.removeFragment(e)+(t?"#"+t:"")},goog.uri.utils.getFragment=function(e){return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(e))},goog.uri.utils.getHost=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(e[goog.uri.utils.ComponentIndex.SCHEME],e[goog.uri.utils.ComponentIndex.USER_INFO],e[goog.uri.utils.ComponentIndex.DOMAIN],e[goog.uri.utils.ComponentIndex.PORT])},goog.uri.utils.getPathAndAfter=function(e){return e=goog.uri.utils.split(e),goog.uri.utils.buildFromEncodedParts(null,null,null,null,e[goog.uri.utils.ComponentIndex.PATH],e[goog.uri.utils.ComponentIndex.QUERY_DATA],e[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.removeFragment=function(e){var t=e.indexOf("#");return 0>t?e:e.substr(0,t)},goog.uri.utils.haveSameDomain=function(e,t){var n=goog.uri.utils.split(e),r=goog.uri.utils.split(t);return n[goog.uri.utils.ComponentIndex.DOMAIN]==r[goog.uri.utils.ComponentIndex.DOMAIN]&&n[goog.uri.utils.ComponentIndex.SCHEME]==r[goog.uri.utils.ComponentIndex.SCHEME]&&n[goog.uri.utils.ComponentIndex.PORT]==r[goog.uri.utils.ComponentIndex.PORT]},goog.uri.utils.assertNoFragmentsOrQueries_=function(e){if(goog.DEBUG&&(0<=e.indexOf("#")||0<=e.indexOf("?")))throw Error("goog.uri.utils: Fragment or query identifiers are not supported: ["+e+"]")},goog.uri.utils.appendQueryData_=function(e){if(e[1]){var t=e[0],n=t.indexOf("#");n>=0&&(e.push(t.substr(n)),e[0]=t=t.substr(0,n)),n=t.indexOf("?"),0>n?e[1]="?":n==t.length-1&&(e[1]=void 0)}return e.join("")},goog.uri.utils.appendKeyValuePairs_=function(e,t,n){if(goog.isArray(t)){goog.asserts.assertArray(t);for(var r=0;r<t.length;r++)goog.uri.utils.appendKeyValuePairs_(e,String(t[r]),n)}else null!=t&&n.push("&",e,""===t?"":"=",goog.string.urlEncode(t))},goog.uri.utils.buildQueryDataBuffer_=function(e,t,n){for(goog.asserts.assert(0==Math.max(t.length-(n||0),0)%2,"goog.uri.utils: Key/value lists must be even in length."),n=n||0;n<t.length;n+=2)goog.uri.utils.appendKeyValuePairs_(t[n],t[n+1],e);return e},goog.uri.utils.buildQueryData=function(e,t){var n=goog.uri.utils.buildQueryDataBuffer_([],e,t);return n[0]="",n.join("")},goog.uri.utils.buildQueryDataBufferFromMap_=function(e,t){for(var n in t)goog.uri.utils.appendKeyValuePairs_(n,t[n],e);return e},goog.uri.utils.buildQueryDataFromMap=function(e){return e=goog.uri.utils.buildQueryDataBufferFromMap_([],e),e[0]="",e.join("")},goog.uri.utils.appendParams=function(e){return goog.uri.utils.appendQueryData_(2==arguments.length?goog.uri.utils.buildQueryDataBuffer_([e],arguments[1],0):goog.uri.utils.buildQueryDataBuffer_([e],arguments,1))},goog.uri.utils.appendParamsFromMap=function(e,t){return goog.uri.utils.appendQueryData_(goog.uri.utils.buildQueryDataBufferFromMap_([e],t))},goog.uri.utils.appendParam=function(e,t,n){return e=[e,"&",t],goog.isDefAndNotNull(n)&&e.push("=",goog.string.urlEncode(n)),goog.uri.utils.appendQueryData_(e)},goog.uri.utils.findParam_=function(e,t,n,r){for(var i=n.length;0<=(t=e.indexOf(n,t))&&r>t;){var a=e.charCodeAt(t-1);if((a==goog.uri.utils.CharCode_.AMPERSAND||a==goog.uri.utils.CharCode_.QUESTION)&&(a=e.charCodeAt(t+i),!a||a==goog.uri.utils.CharCode_.EQUAL||a==goog.uri.utils.CharCode_.AMPERSAND||a==goog.uri.utils.CharCode_.HASH))return t;t+=i+1}return-1},goog.uri.utils.hashOrEndRe_=/#|$/,goog.uri.utils.hasParam=function(e,t){return 0<=goog.uri.utils.findParam_(e,0,t,e.search(goog.uri.utils.hashOrEndRe_))},goog.uri.utils.getParamValue=function(e,t){var n=e.search(goog.uri.utils.hashOrEndRe_),r=goog.uri.utils.findParam_(e,0,t,n);if(0>r)return null;var i=e.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=t.length+1,goog.string.urlDecode(e.substr(r,i-r))},goog.uri.utils.getParamValues=function(e,t){for(var n,r=e.search(goog.uri.utils.hashOrEndRe_),i=0,a=[];0<=(n=goog.uri.utils.findParam_(e,i,t,r));)i=e.indexOf("&",n),(0>i||i>r)&&(i=r),n+=t.length+1,a.push(goog.string.urlDecode(e.substr(n,i-n)));return a},goog.uri.utils.trailingQueryPunctuationRe_=/[?&]($|#)/,goog.uri.utils.removeParam=function(e,t){for(var n,r=e.search(goog.uri.utils.hashOrEndRe_),i=0,a=[];0<=(n=goog.uri.utils.findParam_(e,i,t,r));)a.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);return a.push(e.substr(i)),a.join("").replace(goog.uri.utils.trailingQueryPunctuationRe_,"$1")},goog.uri.utils.setParam=function(e,t,n){return goog.uri.utils.appendParam(goog.uri.utils.removeParam(e,t),t,n)},goog.uri.utils.appendPath=function(e,t){return goog.uri.utils.assertNoFragmentsOrQueries_(e),goog.string.endsWith(e,"/")&&(e=e.substr(0,e.length-1)),goog.string.startsWith(t,"/")&&(t=t.substr(1)),goog.string.buildString(e,"/",t)},goog.uri.utils.setPath=function(e,t){goog.string.startsWith(t,"/")||(t="/"+t);var n=goog.uri.utils.split(e);return goog.uri.utils.buildFromEncodedParts(n[goog.uri.utils.ComponentIndex.SCHEME],n[goog.uri.utils.ComponentIndex.USER_INFO],n[goog.uri.utils.ComponentIndex.DOMAIN],n[goog.uri.utils.ComponentIndex.PORT],t,n[goog.uri.utils.ComponentIndex.QUERY_DATA],n[goog.uri.utils.ComponentIndex.FRAGMENT])},goog.uri.utils.StandardQueryParam={RANDOM:"zx"},goog.uri.utils.makeUnique=function(e){return goog.uri.utils.setParam(e,goog.uri.utils.StandardQueryParam.RANDOM,goog.string.getRandomString())},goog.Uri=function(e,t){var n;e instanceof goog.Uri?(this.ignoreCase_=goog.isDef(t)?t:e.getIgnoreCase(),this.setScheme(e.getScheme()),this.setUserInfo(e.getUserInfo()),this.setDomain(e.getDomain()),this.setPort(e.getPort()),this.setPath(e.getPath()),this.setQueryData(e.getQueryData().clone()),this.setFragment(e.getFragment())):e&&(n=goog.uri.utils.split(String(e)))?(this.ignoreCase_=!!t,this.setScheme(n[goog.uri.utils.ComponentIndex.SCHEME]||"",!0),this.setUserInfo(n[goog.uri.utils.ComponentIndex.USER_INFO]||"",!0),this.setDomain(n[goog.uri.utils.ComponentIndex.DOMAIN]||"",!0),this.setPort(n[goog.uri.utils.ComponentIndex.PORT]),this.setPath(n[goog.uri.utils.ComponentIndex.PATH]||"",!0),this.setQueryData(n[goog.uri.utils.ComponentIndex.QUERY_DATA]||"",!0),this.setFragment(n[goog.uri.utils.ComponentIndex.FRAGMENT]||"",!0)):(this.ignoreCase_=!!t,this.queryData_=new goog.Uri.QueryData(null,null,this.ignoreCase_))},goog.Uri.preserveParameterTypesCompatibilityFlag=!1,goog.Uri.RANDOM_PARAM=goog.uri.utils.StandardQueryParam.RANDOM,goog.Uri.prototype.scheme_="",goog.Uri.prototype.userInfo_="",goog.Uri.prototype.domain_="",goog.Uri.prototype.port_=null,goog.Uri.prototype.path_="",goog.Uri.prototype.fragment_="",goog.Uri.prototype.isReadOnly_=!1,goog.Uri.prototype.ignoreCase_=!1,goog.Uri.prototype.toString=function(){var e=[],t=this.getScheme();if(t&&e.push(goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInSchemeOrUserInfo_),":"),t=this.getDomain()){e.push("//");var n=this.getUserInfo();n&&e.push(goog.Uri.encodeSpecialChars_(n,goog.Uri.reDisallowedInSchemeOrUserInfo_),"@"),e.push(goog.string.urlEncode(t)),t=this.getPort(),null!=t&&e.push(":",String(t))}return(t=this.getPath())&&(this.hasDomain()&&"/"!=t.charAt(0)&&e.push("/"),e.push(goog.Uri.encodeSpecialChars_(t,"/"==t.charAt(0)?goog.Uri.reDisallowedInAbsolutePath_:goog.Uri.reDisallowedInRelativePath_))),(t=this.getEncodedQuery())&&e.push("?",t),(t=this.getFragment())&&e.push("#",goog.Uri.encodeSpecialChars_(t,goog.Uri.reDisallowedInFragment_)),e.join("")},goog.Uri.prototype.resolve=function(e){var t=this.clone(),n=e.hasScheme();n?t.setScheme(e.getScheme()):n=e.hasUserInfo(),n?t.setUserInfo(e.getUserInfo()):n=e.hasDomain(),n?t.setDomain(e.getDomain()):n=e.hasPort();var r=e.getPath();if(n)t.setPort(e.getPort());else if(n=e.hasPath()){if("/"!=r.charAt(0))if(this.hasDomain()&&!this.hasPath())r="/"+r;else{var i=t.getPath().lastIndexOf("/");-1!=i&&(r=t.getPath().substr(0,i+1)+r)}r=goog.Uri.removeDotSegments(r)}return n?t.setPath(r):n=e.hasQuery(),n?t.setQueryData(e.getDecodedQuery()):n=e.hasFragment(),n&&t.setFragment(e.getFragment()),t},goog.Uri.prototype.clone=function(){return new goog.Uri(this)},goog.Uri.prototype.getScheme=function(){return this.scheme_},goog.Uri.prototype.setScheme=function(e,t){return this.enforceReadOnly(),(this.scheme_=t?goog.Uri.decodeOrEmpty_(e):e)&&(this.scheme_=this.scheme_.replace(/:$/,"")),this},goog.Uri.prototype.hasScheme=function(){return!!this.scheme_},goog.Uri.prototype.getUserInfo=function(){return this.userInfo_},goog.Uri.prototype.setUserInfo=function(e,t){return this.enforceReadOnly(),this.userInfo_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasUserInfo=function(){return!!this.userInfo_},goog.Uri.prototype.getDomain=function(){return this.domain_},goog.Uri.prototype.setDomain=function(e,t){return this.enforceReadOnly(),this.domain_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasDomain=function(){return!!this.domain_},goog.Uri.prototype.getPort=function(){return this.port_},goog.Uri.prototype.setPort=function(e){if(this.enforceReadOnly(),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.port_=e}else this.port_=null;return this},goog.Uri.prototype.hasPort=function(){return null!=this.port_
},goog.Uri.prototype.getPath=function(){return this.path_},goog.Uri.prototype.setPath=function(e,t){return this.enforceReadOnly(),this.path_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasPath=function(){return!!this.path_},goog.Uri.prototype.hasQuery=function(){return""!==this.queryData_.toString()},goog.Uri.prototype.setQueryData=function(e,t){return this.enforceReadOnly(),e instanceof goog.Uri.QueryData?(this.queryData_=e,this.queryData_.setIgnoreCase(this.ignoreCase_)):(t||(e=goog.Uri.encodeSpecialChars_(e,goog.Uri.reDisallowedInQuery_)),this.queryData_=new goog.Uri.QueryData(e,null,this.ignoreCase_)),this},goog.Uri.prototype.setQuery=function(e,t){return this.setQueryData(e,t)},goog.Uri.prototype.getEncodedQuery=function(){return this.queryData_.toString()},goog.Uri.prototype.getDecodedQuery=function(){return this.queryData_.toDecodedString()},goog.Uri.prototype.getQueryData=function(){return this.queryData_},goog.Uri.prototype.getQuery=function(){return this.getEncodedQuery()},goog.Uri.prototype.setParameterValue=function(e,t){return this.enforceReadOnly(),this.queryData_.set(e,t),this},goog.Uri.prototype.setParameterValues=function(e,t){return this.enforceReadOnly(),goog.isArray(t)||(t=[String(t)]),this.queryData_.setValues(e,t),this},goog.Uri.prototype.getParameterValues=function(e){return this.queryData_.getValues(e)},goog.Uri.prototype.getParameterValue=function(e){return this.queryData_.get(e)},goog.Uri.prototype.getFragment=function(){return this.fragment_},goog.Uri.prototype.setFragment=function(e,t){return this.enforceReadOnly(),this.fragment_=t?goog.Uri.decodeOrEmpty_(e):e,this},goog.Uri.prototype.hasFragment=function(){return!!this.fragment_},goog.Uri.prototype.hasSameDomainAs=function(e){return!((this.hasDomain()||e.hasDomain())&&this.getDomain()!=e.getDomain()||(this.hasPort()||e.hasPort())&&this.getPort()!=e.getPort())},goog.Uri.prototype.makeUnique=function(){return this.enforceReadOnly(),this.setParameterValue(goog.Uri.RANDOM_PARAM,goog.string.getRandomString()),this},goog.Uri.prototype.removeParameter=function(e){return this.enforceReadOnly(),this.queryData_.remove(e),this},goog.Uri.prototype.setReadOnly=function(e){return this.isReadOnly_=e,this},goog.Uri.prototype.isReadOnly=function(){return this.isReadOnly_},goog.Uri.prototype.enforceReadOnly=function(){if(this.isReadOnly_)throw Error("Tried to modify a read-only Uri")},goog.Uri.prototype.setIgnoreCase=function(e){return this.ignoreCase_=e,this.queryData_&&this.queryData_.setIgnoreCase(e),this},goog.Uri.prototype.getIgnoreCase=function(){return this.ignoreCase_},goog.Uri.parse=function(e,t){return e instanceof goog.Uri?e.clone():new goog.Uri(e,t)},goog.Uri.create=function(e,t,n,r,i,a,o,s){return s=new goog.Uri(null,s),e&&s.setScheme(e),t&&s.setUserInfo(t),n&&s.setDomain(n),r&&s.setPort(r),i&&s.setPath(i),a&&s.setQueryData(a),o&&s.setFragment(o),s},goog.Uri.resolve=function(e,t){return e instanceof goog.Uri||(e=goog.Uri.parse(e)),t instanceof goog.Uri||(t=goog.Uri.parse(t)),e.resolve(t)},goog.Uri.removeDotSegments=function(e){if(".."==e||"."==e)return"";if(goog.string.contains(e,"./")||goog.string.contains(e,"/.")){var t=goog.string.startsWith(e,"/");e=e.split("/");for(var n=[],r=0;r<e.length;){var i=e[r++];"."==i?t&&r==e.length&&n.push(""):".."==i?((1<n.length||1==n.length&&""!=n[0])&&n.pop(),t&&r==e.length&&n.push("")):(n.push(i),t=!0)}return n.join("/")}return e},goog.Uri.decodeOrEmpty_=function(e){return e?decodeURIComponent(e):""},goog.Uri.encodeSpecialChars_=function(e,t){return goog.isString(e)?encodeURI(e).replace(t,goog.Uri.encodeChar_):null},goog.Uri.encodeChar_=function(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)},goog.Uri.reDisallowedInSchemeOrUserInfo_=/[#\/\?@]/g,goog.Uri.reDisallowedInRelativePath_=/[\#\?:]/g,goog.Uri.reDisallowedInAbsolutePath_=/[\#\?]/g,goog.Uri.reDisallowedInQuery_=/[\#\?@]/g,goog.Uri.reDisallowedInFragment_=/#/g,goog.Uri.haveSameDomain=function(e,t){var n=goog.uri.utils.split(e),r=goog.uri.utils.split(t);return n[goog.uri.utils.ComponentIndex.DOMAIN]==r[goog.uri.utils.ComponentIndex.DOMAIN]&&n[goog.uri.utils.ComponentIndex.PORT]==r[goog.uri.utils.ComponentIndex.PORT]},goog.Uri.QueryData=function(e,t,n){this.encodedQuery_=e||null,this.ignoreCase_=!!n},goog.Uri.QueryData.prototype.ensureKeyMapInitialized_=function(){if(!this.keyMap_&&(this.keyMap_=new goog.structs.Map,this.count_=0,this.encodedQuery_))for(var e=this.encodedQuery_.split("&"),t=0;t<e.length;t++){var n=e[t].indexOf("="),r=null,i=null;n>=0?(r=e[t].substring(0,n),i=e[t].substring(n+1)):r=e[t],r=goog.string.urlDecode(r),r=this.getKeyName_(r),this.add(r,i?goog.string.urlDecode(i):"")}},goog.Uri.QueryData.createFromMap=function(e,t,n){if(t=goog.structs.getKeys(e),"undefined"==typeof t)throw Error("Keys are undefined");n=new goog.Uri.QueryData(null,null,n),e=goog.structs.getValues(e);for(var r=0;r<t.length;r++){var i=t[r],a=e[r];goog.isArray(a)?n.setValues(i,a):n.add(i,a)}return n},goog.Uri.QueryData.createFromKeysValues=function(e,t,n,r){if(e.length!=t.length)throw Error("Mismatched lengths for keys/values");for(n=new goog.Uri.QueryData(null,null,r),r=0;r<e.length;r++)n.add(e[r],t[r]);return n},goog.Uri.QueryData.prototype.keyMap_=null,goog.Uri.QueryData.prototype.count_=null,goog.Uri.QueryData.prototype.getCount=function(){return this.ensureKeyMapInitialized_(),this.count_},goog.Uri.QueryData.prototype.add=function(e,t){this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e);var n=this.keyMap_.get(e);return n||this.keyMap_.set(e,n=[]),n.push(t),this.count_++,this},goog.Uri.QueryData.prototype.remove=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.containsKey(e)?(this.invalidateCache_(),this.count_-=this.keyMap_.get(e).length,this.keyMap_.remove(e)):!1},goog.Uri.QueryData.prototype.clear=function(){this.invalidateCache_(),this.keyMap_=null,this.count_=0},goog.Uri.QueryData.prototype.isEmpty=function(){return this.ensureKeyMapInitialized_(),0==this.count_},goog.Uri.QueryData.prototype.containsKey=function(e){return this.ensureKeyMapInitialized_(),e=this.getKeyName_(e),this.keyMap_.containsKey(e)},goog.Uri.QueryData.prototype.containsValue=function(e){var t=this.getValues();return goog.array.contains(t,e)},goog.Uri.QueryData.prototype.getKeys=function(){this.ensureKeyMapInitialized_();for(var e=this.keyMap_.getValues(),t=this.keyMap_.getKeys(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},goog.Uri.QueryData.prototype.getValues=function(e){this.ensureKeyMapInitialized_();var t=[];if(goog.isString(e))this.containsKey(e)&&(t=goog.array.concat(t,this.keyMap_.get(this.getKeyName_(e))));else{e=this.keyMap_.getValues();for(var n=0;n<e.length;n++)t=goog.array.concat(t,e[n])}return t},goog.Uri.QueryData.prototype.set=function(e,t){return this.ensureKeyMapInitialized_(),this.invalidateCache_(),e=this.getKeyName_(e),this.containsKey(e)&&(this.count_-=this.keyMap_.get(e).length),this.keyMap_.set(e,[t]),this.count_++,this},goog.Uri.QueryData.prototype.get=function(e,t){var n=e?this.getValues(e):[];return goog.Uri.preserveParameterTypesCompatibilityFlag?0<n.length?n[0]:t:0<n.length?String(n[0]):t},goog.Uri.QueryData.prototype.setValues=function(e,t){this.remove(e),0<t.length&&(this.invalidateCache_(),this.keyMap_.set(this.getKeyName_(e),goog.array.clone(t)),this.count_+=t.length)},goog.Uri.QueryData.prototype.toString=function(){if(this.encodedQuery_)return this.encodedQuery_;if(!this.keyMap_)return"";for(var e=[],t=this.keyMap_.getKeys(),n=0;n<t.length;n++)for(var r=t[n],i=goog.string.urlEncode(r),r=this.getValues(r),a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+goog.string.urlEncode(r[a])),e.push(o)}return this.encodedQuery_=e.join("&")},goog.Uri.QueryData.prototype.toDecodedString=function(){return goog.Uri.decodeOrEmpty_(this.toString())},goog.Uri.QueryData.prototype.invalidateCache_=function(){this.encodedQuery_=null},goog.Uri.QueryData.prototype.filterKeys=function(e){return this.ensureKeyMapInitialized_(),this.keyMap_.forEach(function(t,n){goog.array.contains(e,n)||this.remove(n)},this),this},goog.Uri.QueryData.prototype.clone=function(){var e=new goog.Uri.QueryData;return e.encodedQuery_=this.encodedQuery_,this.keyMap_&&(e.keyMap_=this.keyMap_.clone(),e.count_=this.count_),e},goog.Uri.QueryData.prototype.getKeyName_=function(e){return e=String(e),this.ignoreCase_&&(e=e.toLowerCase()),e},goog.Uri.QueryData.prototype.setIgnoreCase=function(e){e&&!this.ignoreCase_&&(this.ensureKeyMapInitialized_(),this.invalidateCache_(),this.keyMap_.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),this.setValues(n,e))},this)),this.ignoreCase_=e},goog.Uri.QueryData.prototype.extend=function(){for(var e=0;e<arguments.length;e++)goog.structs.forEach(arguments[e],function(e,t){this.add(t,e)},this)},goog.structs.Collection=function(){},goog.structs.Set=function(e){this.map_=new goog.structs.Map,e&&this.addAll(e)},goog.structs.Set.getKey_=function(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+goog.getUid(e):t.substr(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e)},goog.structs.Set.prototype.addAll=function(e){e=goog.structs.getValues(e);for(var t=e.length,n=0;t>n;n++)this.add(e[n])},goog.structs.Set.prototype.removeAll=function(e){e=goog.structs.getValues(e);for(var t=e.length,n=0;t>n;n++)this.remove(e[n])},goog.structs.Set.prototype.remove=function(e){return this.map_.remove(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){var t=new goog.structs.Set;e=goog.structs.getValues(e);for(var n=0;n<e.length;n++){var r=e[n];this.contains(r)&&t.add(r)}return t},goog.structs.Set.prototype.difference=function(e){var t=this.clone();return t.removeAll(e),t},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(e){var t=goog.structs.getCount(e);return this.getCount()>t?!1:(!(e instanceof goog.structs.Set)&&t>5&&(e=new goog.structs.Set(e)),goog.structs.every(this,function(t){return goog.structs.contains(e,t)}))},goog.structs.Set.prototype.__iterator__=function(){return this.map_.__iterator__(!1)},goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.catchErrors=function(e,t,n){n=n||goog.global;var r=n.onerror,i=!!t;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(i=!i),n.onerror=function(t,n,a,o,s){return r&&r(t,n,a,o,s),e({message:t,fileName:n,line:a,col:o,error:s}),i}},goog.debug.expose=function(e,t){if("undefined"==typeof e)return"undefined";if(null==e)return"NULL";var n,r=[];for(n in e)if(t||!goog.isFunction(e[n])){var i=n+" = ";try{i+=e[n]}catch(a){i+="*** "+a+" ***"}r.push(i)}return r.join("\n")},goog.debug.deepExpose=function(e,t){var n=[],r=function(e,i,a){var o=i+"  ";a=new goog.structs.Set(a);try{if(goog.isDef(e))if(goog.isNull(e))n.push("NULL");else if(goog.isString(e))n.push('"'+e.replace(/\n/g,"\n"+i)+'"');else if(goog.isFunction(e))n.push(String(e).replace(/\n/g,"\n"+i));else if(goog.isObject(e))if(a.contains(e))n.push("*** reference loop detected ***");else{a.add(e),n.push("{");for(var s in e)(t||!goog.isFunction(e[s]))&&(n.push("\n"),n.push(o),n.push(s+" = "),r(e[s],o,a));n.push("\n"+i+"}")}else n.push(e);else n.push("undefined")}catch(l){n.push("*** "+l+" ***")}};return r(e,"",new goog.structs.Set),n.join("")},goog.debug.exposeArray=function(e){for(var t=[],n=0;n<e.length;n++)goog.isArray(e[n])?t.push(goog.debug.exposeArray(e[n])):t.push(e[n]);return"[ "+t.join(", ")+" ]"},goog.debug.exposeException=function(e,t){try{var n=goog.debug.normalizeErrorObject(e);return"Message: "+goog.string.htmlEscape(n.message)+'\nUrl: <a href="view-source:'+n.fileName+'" target="_new">'+n.fileName+"</a>\nLine: "+n.lineNumber+"\n\nBrowser stack:\n"+goog.string.htmlEscape(n.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+goog.string.htmlEscape(goog.debug.getStacktrace(t)+"-> ")}catch(r){return"Exception trying to expose exception! You win, we lose. "+r}},goog.debug.normalizeErrorObject=function(e){var t=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:t,stack:"Not available"};var n,r,i=!1;try{n=e.lineNumber||e.line||"Not available"}catch(a){n="Not available",i=!0}try{r=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||t}catch(o){r="Not available",i=!0}return!i&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:n,fileName:r,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,t){var n;if("string"==typeof e?(n=Error(e),Error.captureStackTrace&&Error.captureStackTrace(n,goog.debug.enhanceError)):n=e,n.stack||(n.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var r=0;n["message"+r];)++r;n["message"+r]=String(t)}return n},goog.debug.getStacktraceSimple=function(e){if(goog.STRICT_MODE_COMPATIBLE){var t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(t)return t}for(var t=[],n=arguments.callee.caller,r=0;n&&(!e||e>r);){t.push(goog.debug.getFunctionName(n)),t.push("()\n");try{n=n.caller}catch(i){t.push("[exception trying to get caller]\n");break}if(r++,r>=goog.debug.MAX_STACK_DEPTH){t.push("[...long stack...]");break}}return e&&r>=e?t.push("[...reached max depth limit...]"):t.push("[end]"),t.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=Error();if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(n){t=n}return(e=t.stack)?String(e):null},goog.debug.getStacktrace=function(e){var t;return goog.STRICT_MODE_COMPATIBLE&&(t=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),t||(t=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),t},goog.debug.getStacktraceHelper_=function(e,t){var n=[];if(goog.array.contains(t,e))n.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){n.push(goog.debug.getFunctionName(e)+"(");for(var r=e.arguments,i=0;r&&i<r.length;i++){i>0&&n.push(", ");var a;switch(a=r[i],typeof a){case"object":a=a?"object":"null";break;case"string":break;case"number":a=String(a);break;case"boolean":a=a?"true":"false";break;case"function":a=(a=goog.debug.getFunctionName(a))?a:"[fn]";break;default:a=typeof a}40<a.length&&(a=a.substr(0,40)+"..."),n.push(a)}t.push(e),n.push(")\n");try{n.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch(o){n.push("[exception trying to get caller]\n")}}else e?n.push("[...long stack...]"):n.push("[end]");return n.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var t=goog.debug.fnNameResolver_(e);if(t)return goog.debug.fnNameCache_[e]=t}return e=String(e),goog.debug.fnNameCache_[e]||(t=/function ([^\(]+)/.exec(e),goog.debug.fnNameCache_[e]=t?t[1]:"[Anonymous]"),goog.debug.fnNameCache_[e]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.fnNameCache_={},goog.debug.LogRecord=function(e,t,n,r,i){this.reset(e,t,n,r,i)},goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.debug.LogRecord.prototype.exceptionText_=null,goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0,goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(e,t,n,r,i){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof i?i:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=r||goog.now(),this.level_=e,this.msg_=t,this.loggerName_=n,delete this.exception_,delete this.exceptionText_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(e){this.exception_=e},goog.debug.LogRecord.prototype.getExceptionText=function(){return this.exceptionText_},goog.debug.LogRecord.prototype.setExceptionText=function(e){this.exceptionText_=e},goog.debug.LogRecord.prototype.setLoggerName=function(e){this.loggerName_=e},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(e){this.level_=e},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(e){this.msg_=e},goog.debug.LogRecord.prototype.getMillis=function(){return this.time_},goog.debug.LogRecord.prototype.setMillis=function(e){this.time_=e},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.debug.LogBuffer.CAPACITY=0,goog.debug.LogBuffer.prototype.addRecord=function(e,t,n){var r=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;return this.curIndex_=r,this.isFull_?(r=this.buffer_[r],r.reset(e,t,n),r):(this.isFull_=r==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[r]=new goog.debug.LogRecord(e,t,n))},goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(e){var t=this.buffer_;if(t[0]){var n=this.curIndex_,r=this.isFull_?n:-1;do r=(r+1)%goog.debug.LogBuffer.CAPACITY,e(t[r]);while(r!=n)}},goog.debug.Logger=function(e){this.name_=e,this.handlers_=this.children_=this.level_=this.parent_=null},goog.debug.Logger.ENABLE_HIERARCHY=!0,goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]),goog.debug.Logger.Level=function(e,t){this.name=e,this.value=t},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var e,t=0;e=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];t++)goog.debug.Logger.Level.predefinedLevelsCache_[e.value]=e,goog.debug.Logger.Level.predefinedLevelsCache_[e.name]=e},goog.debug.Logger.Level.getPredefinedLevel=function(e){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[e]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(e){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),e in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[e];for(var t=0;t<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++t){var n=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];if(n.value<=e)return n}return null},goog.debug.Logger.getLogger=function(e){return goog.debug.LogManager.getLogger(e)},goog.debug.Logger.logToProfilers=function(e){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(e):goog.global.console.markTimeline&&goog.global.console.markTimeline(e)),goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(e)},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(e)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(e)))},goog.debug.Logger.prototype.removeHandler=function(e){if(goog.debug.LOGGING_ENABLED){var t=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!t&&goog.array.remove(t,e)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=e:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=e))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_?this.level_:this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(e){return goog.debug.LOGGING_ENABLED&&e.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(e,t,n){goog.debug.LOGGING_ENABLED&&this.isLoggable(e)&&(goog.isFunction(t)&&(t=t()),this.doLogRecord_(this.getLogRecord(e,t,n,goog.debug.Logger.prototype.log)))},goog.debug.Logger.prototype.getLogRecord=function(e,t,n,r){return e=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(e,t,this.name_):new goog.debug.LogRecord(e,String(t),this.name_),n&&(e.setException(n),e.setExceptionText(goog.debug.exposeException(n,r||goog.debug.Logger.prototype.getLogRecord))),e},goog.debug.Logger.prototype.shout=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,e,t)},goog.debug.Logger.prototype.severe=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,e,t)},goog.debug.Logger.prototype.warning=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,e,t)},goog.debug.Logger.prototype.info=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,e,t)},goog.debug.Logger.prototype.config=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,e,t)},goog.debug.Logger.prototype.fine=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,e,t)},goog.debug.Logger.prototype.finer=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,e,t)},goog.debug.Logger.prototype.finest=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,e,t)},goog.debug.Logger.prototype.logRecord=function(e){goog.debug.LOGGING_ENABLED&&this.isLoggable(e.getLevel())&&this.doLogRecord_(e)},goog.debug.Logger.prototype.doLogRecord_=function(e){if(goog.debug.Logger.logToProfilers("log:"+e.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var t=this;t;)t.callPublish_(e),t=t.getParent();else for(var n,t=0;n=goog.debug.Logger.rootHandlers_[t++];)n(e)},goog.debug.Logger.prototype.callPublish_=function(e){if(this.handlers_)for(var t,n=0;t=this.handlers_[n];n++)t(e)},goog.debug.Logger.prototype.setParent_=function(e){this.parent_=e},goog.debug.Logger.prototype.addChild_=function(e,t){this.getChildren()[e]=t},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(""),goog.debug.LogManager.loggers_[""]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))},goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(e){return goog.debug.LogManager.initialize(),goog.debug.LogManager.loggers_[e]||goog.debug.LogManager.createLogger_(e)},goog.debug.LogManager.createFunctionForCatchErrors=function(e){return function(t){(e||goog.debug.LogManager.getRoot()).severe("Error: "+t.message+" ("+t.fileName+" @ Line: "+t.line+")")}},goog.debug.LogManager.createLogger_=function(e){var t=new goog.debug.Logger(e);if(goog.debug.Logger.ENABLE_HIERARCHY){var n=e.lastIndexOf("."),r=e.substr(0,n),n=e.substr(n+1),r=goog.debug.LogManager.getLogger(r);r.addChild_(n,t),t.setParent_(r)}return goog.debug.LogManager.loggers_[e]=t},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(e,t){if(goog.log.ENABLED){var n=goog.debug.LogManager.getLogger(e);return t&&n&&n.setLevel(t),n}return null},goog.log.addHandler=function(e,t){goog.log.ENABLED&&e&&e.addHandler(t)},goog.log.removeHandler=function(e,t){return goog.log.ENABLED&&e?e.removeHandler(t):!1},goog.log.log=function(e,t,n,r){goog.log.ENABLED&&e&&e.log(t,n,r)},goog.log.error=function(e,t,n){goog.log.ENABLED&&e&&e.severe(t,n)},goog.log.warning=function(e,t,n){goog.log.ENABLED&&e&&e.warning(t,n)},goog.log.info=function(e,t,n){goog.log.ENABLED&&e&&e.info(t,n)},goog.log.fine=function(e,t,n){goog.log.ENABLED&&e&&e.fine(t,n)},goog.net={},goog.net.NetworkTester=function(e,t,n){this.callback_=e,this.handler_=t,n||(n=new goog.Uri("//www.google.com/images/cleardot.gif"),n.makeUnique()),this.uri_=n},goog.net.NetworkTester.DEFAULT_TIMEOUT_MS=1e4,goog.net.NetworkTester.prototype.logger_=goog.log.getLogger("goog.net.NetworkTester"),goog.net.NetworkTester.prototype.timeoutMs_=goog.net.NetworkTester.DEFAULT_TIMEOUT_MS,goog.net.NetworkTester.prototype.running_=!1,goog.net.NetworkTester.prototype.retries_=0,goog.net.NetworkTester.prototype.attempt_=0,goog.net.NetworkTester.prototype.pauseBetweenRetriesMs_=0,goog.net.NetworkTester.prototype.timeoutTimer_=null,goog.net.NetworkTester.prototype.pauseTimer_=null,goog.net.NetworkTester.prototype.getTimeout=function(){return this.timeoutMs_},goog.net.NetworkTester.prototype.setTimeout=function(e){this.timeoutMs_=e},goog.net.NetworkTester.prototype.getNumRetries=function(){return this.retries_},goog.net.NetworkTester.prototype.setNumRetries=function(e){this.retries_=e},goog.net.NetworkTester.prototype.getPauseBetweenRetries=function(){return this.pauseBetweenRetriesMs_},goog.net.NetworkTester.prototype.setPauseBetweenRetries=function(e){this.pauseBetweenRetriesMs_=e},goog.net.NetworkTester.prototype.getUri=function(){return this.uri_},goog.net.NetworkTester.prototype.setUri=function(e){this.uri_=e},goog.net.NetworkTester.prototype.isRunning=function(){return this.running_},goog.net.NetworkTester.prototype.start=function(){if(this.running_)throw Error("NetworkTester.start called when already running");this.running_=!0,goog.log.info(this.logger_,"Starting"),this.attempt_=0,this.startNextAttempt_()},goog.net.NetworkTester.prototype.stop=function(){this.cleanupCallbacks_(),this.running_=!1},goog.net.NetworkTester.prototype.startNextAttempt_=function(){this.attempt_++,goog.net.NetworkTester.getNavigatorOffline_()?(goog.log.info(this.logger_,"Browser is set to work offline."),goog.Timer.callOnce(goog.bind(this.onResult,this,!1),0)):(goog.log.info(this.logger_,"Loading image (attempt "+this.attempt_+") at "+this.uri_),this.image_=new Image,this.image_.onload=goog.bind(this.onImageLoad_,this),this.image_.onerror=goog.bind(this.onImageError_,this),this.image_.onabort=goog.bind(this.onImageAbort_,this),this.timeoutTimer_=goog.Timer.callOnce(this.onImageTimeout_,this.timeoutMs_,this),this.image_.src=String(this.uri_))},goog.net.NetworkTester.getNavigatorOffline_=function(){return"onLine"in navigator&&!navigator.onLine},goog.net.NetworkTester.prototype.onImageLoad_=function(){goog.log.info(this.logger_,"Image loaded"),this.onResult(!0)},goog.net.NetworkTester.prototype.onImageError_=function(){goog.log.info(this.logger_,"Image load error"),this.onResult(!1)},goog.net.NetworkTester.prototype.onImageAbort_=function(){goog.log.info(this.logger_,"Image load aborted"),this.onResult(!1)},goog.net.NetworkTester.prototype.onImageTimeout_=function(){goog.log.info(this.logger_,"Image load timed out"),this.onResult(!1)},goog.net.NetworkTester.prototype.onResult=function(e){this.cleanupCallbacks_(),e?(this.running_=!1,this.callback_.call(this.handler_,!0)):this.attempt_<=this.retries_?this.pauseBetweenRetriesMs_?this.pauseTimer_=goog.Timer.callOnce(this.onPauseFinished_,this.pauseBetweenRetriesMs_,this):this.startNextAttempt_():(this.running_=!1,this.callback_.call(this.handler_,!1))},goog.net.NetworkTester.prototype.onPauseFinished_=function(){this.pauseTimer_=null,this.startNextAttempt_()},goog.net.NetworkTester.prototype.cleanupCallbacks_=function(){this.image_&&(this.image_.onload=null,this.image_.onerror=null,this.image_=this.image_.onabort=null),this.timeoutTimer_&&(goog.Timer.clear(this.timeoutTimer_),this.timeoutTimer_=null),this.pauseTimer_&&(goog.Timer.clear(this.pauseTimer_),this.pauseTimer_=null)},function(){"use strict";function e(e,t){t=t||{},e=e||"",t.escapeHtml&&(e=_.escapeHTML(e));for(var n="",r=0,i=0,a=0,o=t.maxWordLength||20,s=0;s<e.length;s++){0===i&&0===a&&r%o===0&&r>0&&(n+=goog.labs.userAgent.browser.isIE()?"&#8203;":"<wbr/>");var l=e.charAt(s);n+=l,"&"===l?i++:"<"===l&&a++,i>0&&";"===l?i--:a>0&&">"===l&&a--,0===i&&0===a&&r++," "===l&&(r=0)}return n}function t(e){this._withStoryEpicLinks=e}var n=this,r=_.namespace(n,"tracker"),i=n.marked;_.extend(t.prototype,i.Renderer.prototype,{paragraph:_.identity,link:function(e,t,n){var r;return this._withStoryEpicLinks&&(r=i.Renderer.prototype.link.call(this,e,t,n))?r:(r='<a href="'+e+'"',t&&(r+=' title="'+t+'"'),r+=' target="_blank" tabindex="-1">'+n+"</a>")}});var a={marked:function(t,n){var r=_.extend({breaks:!0,sanitize:!0},_.pick(n,"withStoryEpicLinks","withEmoji","withMentions","project_id"));return e(i(t,r),n)},simple:function(n,r){var a=new t,o={simple:!0,sanitize:!0,tables:!1,renderer:a};return e(i(n,o),r)},task:function(n,r){var a=new t(!0),o={simple:!0,breaks:!0,sanitize:!0,tables:!1,renderer:a,withStoryEpicLinks:!0};return e(i(n,o),r)}},o={toHTML:function(e,t){t=t||{};var n=t.type||"marked";return e&&_.has(a,n)&&a[n](e,t)||""},breakupLongWords:e};_.namespace(r,"helpers").markup=o}.call(this),function(){"use strict";function e(e){return _.map(e,function(e,t){return t+'="'+e+'"'}).join(" ")}function t(e,t){if(t=(t||{}).hash||{},!(_.isNumber(e)||_.isString(e)||_.isDate(e)))return console.error("millis should is number, string or date"),"";var n=new d.DateTime(e);if(t["time-zone"]&&(n=n.getTimezoneDate(t["time-zone"])),t.format){var r;try{r=n.strftime(t.format)}catch(i){return console.error("This may be an often-occuring TypeError. Here's some internal state.",{date:n,getTimezoneOffset:n.getTimezoneOffset(),options:t,millis:e}),u.TraceKit.report(i),"ERROR"
}return r}var a=n.strftime("%-d %b %Y, %-I:%M%P");return a.replace(/\s0(\d):/," $1:")}function n(e,t){var n=t&&t.hash||{};return(e||"").toString()+"_"+n.format+"_"+n["time-zone"]}function r(e){return function(t){var n=t&&t.hash||{},r=n["project-id"]||this.project_id;return n.privileged&&d.Person.current().isReadOnly(r)&&(n.disabled||delete n["disabled-text"],_.extend(n,{disabled:!0})),e.apply(this,arguments)}}function i(e,t){return t.value?e[t.value]:e}function a(e,t){return t.text?e[t.text]:e}function o(e,t){if(e.selectionText)return e.selectionText;var n=t?t.text:"<none>";return n=e.disabled?e["disabled-text"]||n:n,_.escapeHTML(n)}function s(e){e=_.defaults(e,{tabindex:0}),e.tabindex=e.disabled?-1:e.tabindex;var t,n=0,r=_.map(e.options,function(t){var r=a(t,e),o=i(t,e),s=!_.isUndefined(e.selected)&&e.selected===o,l=s&&!t.inactive;return{index:++n,value:o,text:r,isCurrentValue:s,selected:l,description:t.description,cssClass:t.cssClass,inactive:t.inactive,read_only:t.readOnly}}),s=e["blank-value"],l=e["no-default"];_.isUndefined(s)||(t={value:s,text:"<none>",selected:e.selected&&e.selected.toString()===s.toString()},r.unshift(t));var c=_.find(r,function(e){return e.isCurrentValue})||l&&{}||t||_.first(r),d=o(e,c),p=_.extend({},e,{id:[e["id-prefix"],"dropdown",e.cid].join("_"),value:c?c.value:e.selected,text:d,options:r,data_type:e.data_type||e["data-type"]}),h=Handlebars.VM.invokePartial(u.Handlebars.partials._dropdown,"dropdown",p);return new Handlebars.SafeString(h)}function l(e,t,n){var r=Handlebars.Utils.escapeExpression(_.map(n,function(e){return'"'+e+'"'}).join(", "));return e+" <em>"+_.pluralize(t,n.length)+"</em> "+r}function c(e,t){return e.call(this)&&t&&new Handlebars.SafeString(t.fn.call(this,this))||""}var u=this,d=_.namespace(u,"tracker");Handlebars.registerHelper("_count",function(e){return e?e.length:0}),Handlebars.registerHelper("consoleLog",function(){console.log(this,arguments)}),Handlebars.registerHelper("reverse",function(e,t){return t=t||{},!_.isUndefined(e)&&t.fn?_.isArray(e)?_.chain(e).clone().reverse().map(function(e){return t.fn&&t.fn.call(e,e)}).value().join(""):t.fn.call(e,e):void 0}),Handlebars.registerHelper("select",function(e,t,n,r){return r=r||{},_.inject(e,function(e,n){return n.selected=t,r.fn&&e.push(r.fn.call(n,n)),e},_.compact([n?'<option value="-1"/>':null])).join("\n")}),Handlebars.registerHelper("whenReadOnly",function(e){var t=_.last(arguments)||{};return d.Person.current().isReadOnly(2===arguments.length&&e||this.project_id)?t.fn.call(this,this):""}),Handlebars.registerHelper("whenReadWrite",function(e){var t=_.last(arguments)||{};return d.Person.current().isReadOnly(2===arguments.length&&e||this.project_id)?"":t.fn.call(this,this)}),Handlebars.registerHelper("option",function(e,t){t=t||{};var n=['<option value="'+e+'"'];return(this.selected===e+""||parseInt(this.selected,10)===parseInt(e,0))&&n.push(" selected"),n.push(">"),t.fn&&n.push(_.escape(t.fn.call(this,this)).slice(0,20)),n.push("</option>"),n.join("")}),Handlebars.registerHelper("storyClasses",function(){var e="accepted"!==this.current_state&&!this.is_new,t=[this.id?"story_"+this.id:null,"story","model","item",this.has_pending_commands?"pending":null,this.story_type,this.is_estimatable?"estimate_"+this.estimate+" is_estimatable":null,this.current_state,this.description&&this.description.length?"description":null,this.comments&&this.comments.length?"comments":null,this.tasks&&this.tasks.length?"has_tasks":null,this.has_attachments?"attachments":null,this.is_release_past_deadline?"is_release_past_deadline":null,this.is_past_done?"is_past_done":null,this.external_id?(this.integration||{type:"other"}).type+"_integration linked_to_integration":null,this.read_only?"read_only":null,e?"draggable":null];return _.compact(t).join(" ")}),Handlebars.registerHelper("epicClasses",function(){var e=[this.id?"epic_"+this.id:null,"epic","model","item",this.has_pending_commands?"pending":null,this.description&&this.description.length?"description":null,this.comments.length?"comments":null,this.has_attachments?"attachments":null,this.is_new?"new":null,this.is_done?"done":null,this.is_accepted?"accepted":null,this.is_draggable?"draggable":null,this.read_only?"read_only":null];return _.compact(e).join(" ")}),Handlebars.registerHelper("dateTime",_.memoize(t,n)),Handlebars.registerHelper("head",function(e,t,n){if(n=n||{},n.fn&&_.isFunction(n.fn)){var r=(e||[]).slice(0,t);return n.fn.call({headResult:r},{headResult:r})}}),Handlebars.registerHelper("rest",function(e,t){if(t=t||{},t.fn&&_.isFunction(t.fn)){var n=(e||[]).slice(1);return t.fn({restResult:n})}}),Handlebars.registerHelper("sortBy",function(e,t,n){if(n.fn&&_.isFunction(n.fn)&&t){var r=_.sortBy(e,function(e){return(e[t]+"").toLowerCase()});return n.fn.call({sortByResult:r},{sortByResult:r})}}),Handlebars.registerHelper("timeAgo",function(e,t){if(!(_.isNumber(e)||_.isString(e)||_.isDate(e)))return console.error("millis should be a number, string, or date"),"";var n=_.isDate(e)&&e||new d.DateTime(e),r=$("<div/>"),i=(new d.DateTime).add({days:-1});t=(t||{}).hash||{};var a,o,s=t.format||"%-d %b";return n.getTime()<=i.getTime()?o=n.strftime(s):(a="time_ago",o=$.timeago(n.getTime())),r.append($("<span/>",{"class":a,"data-millis":n.getTime()}).text(o)),new Handlebars.SafeString(r.html())}),Handlebars.registerHelper("filenameEllipsify",function(e,t,n){if(n=n&&n.hash||{},n=_.extend({truncate:24},n),_.isBlank(t))return _.truncate(e,n.truncate);var r=e.substr(0,e.length-t.length-1),i=n.truncate-t.length-1;return _.truncate(r,0>=i?n.truncate:i)+"."+t}),Handlebars.registerHelper("prependHost",d.helpers.links.prependHost),Handlebars.registerHelper("currentUser",function(e){var t=d.Person.current(),n=t?t.decorator().toJSON():{};return e.fn.call(n,n)}),Handlebars.registerHelper("revealLink",function(e,t,n,r){return new Handlebars.SafeString(d.helpers.links.revealLink(e,t,n,r&&r.hash||{}))}),Handlebars.registerHelper("otherProjectRevealLink",function(e,t,n,r){return new Handlebars.SafeString(d.helpers.links.otherProjectRevealLink(e,t,n,r&&r.hash||{}))}),Handlebars.registerHelper("markup",function(e,t){return t=t&&t.hash||{},new Handlebars.SafeString(d.helpers.markup.toHTML(e,{withStoryEpicLinks:t["with-story-epic-links"],withMentions:t["with-mentions"],withEmoji:t["with-emoji"],project_id:t.project_id,type:t.type}))}),Handlebars.registerHelper("editable",r(function(e){e=e.hash||{},e.options=_.chain(e).omit("id","class","value","id-prefix","markup","non-std","project-id","privileged").map(function(e,t){return{key:t,value:e}}).value(),e["id-prefix"]&&(e.id=e["id-prefix"]+"_"+e.id);var t=Handlebars.VM.invokePartial(u.Handlebars.partials._editor,"editable",e);return new Handlebars.SafeString(t)})),Handlebars.registerHelper("mentionable",r(function(e){function t(e){var t=d.Project.get(e);return t.members().chain().inject(function(e,n){var r={value:n.id,label:n.get("name"),description:"@"+n.get("username"),cssClass:n.wantsCommentNotifications(t)?"notifications":"no_notifications"};return!n.has("username")||d.Person.current().id===n.id||n.isInactive(t)||n.isReadOnly(t)||e.push(r),e},[]).sortBy(function(e){return e.label.toLowerCase()}).value()}var n={hash:_.omit(e.hash,"cid","selected","options","privileged","project-id")},r=e.hash.name.replace("[","_").replace("]","")+"_dropdown",i={hash:_.chain(e.hash).omit("id","id-prefix","placeholder","value","markup-type","clicked","project-id").extend({name:r,text:"label",value:"value",no_named_input:!0,options:t(e.hash["project-id"])}).value()},a=Handlebars.helpers.editable(n).toString(),o=Handlebars.helpers.dropdown(i).toString();return new Handlebars.SafeString('<div class="mentionable dropdown">'+a+o+"</div>")})),Handlebars.registerHelper("breakupLongWords",function(e,t){return t=(t||{}).hash||{},new Handlebars.SafeString(d.helpers.markup.breakupLongWords(e,{maxWordLength:t["max-word-length"],escapeHtml:t["escape-html"]}))}),Handlebars.registerHelper("dropdown",r(function(e){if(e.fn){var t=_.trim(e.fn(this));return e=e&&e.hash||{},s(_.extend({selectionText:t},e))}return e=e&&e.hash||{},s(e)})),Handlebars.registerHelper("dasherize",function(e){return _.dasherize(e)}),Handlebars.registerHelper("humanize",function(e){return _.humanize(e)}),Handlebars.registerHelper("pluralize",function(e,t,n){n=(n||{}).hash||{};var r=_.pluralize(e,t);return _.isNumber(t)&&!n.no_number?t+" "+r:r}),Handlebars.registerHelper("sentencize",function(e){return $.isArray(e)?e.join(", "):e}),Handlebars.registerHelper("activitySentence",function(e){var t=[];return _.each(e.subresource_creations,function(e,n){t.push(l("Added",n,e))}),_.each(e.formatted_changes,function(e){_.each(e.new_values,function(n,r){var i=Handlebars.Utils.escapeExpression(_.humanize(r.replace("external_id","other_id_id").replace(/_ids$/,"s")).toLowerCase());if(_.isArray(n)){var a=e.original_values?e.original_values[r]:[],o=_.difference(n,a),s=_.difference(a,n);_.isEmpty(o)||t.push(l("Added",i,o)),_.isEmpty(s)||t.push(l("Removed",i,s))}else{var c=Handlebars.Utils.escapeExpression(n);t.push("Set <em>"+i+"</em> to &quot;"+c+"&quot;")}})}),new Handlebars.SafeString(d.helpers.markup.breakupLongWords(t.sort().join("<br/>")))}),Handlebars.registerHelper("activityMessage",function(e){var t=(e.message+"").replace(e.highlight,"**"+e.highlight+"**");return new Handlebars.SafeString(d.helpers.markup.toHTML(t))}),Handlebars.registerHelper("filterComments",function(e,t){t=t||{};var n={all_activity:function(){return!0},attachments:function(e){return e.sorted_attachments.length},commits:function(e){return e.is_commit},without_commits:function(e){return!e.is_commit}},r=this;return t.fn&&_.isFunction(t.fn)?new Handlebars.SafeString(_.inject(this.comments,function(i,a){if(n.hasOwnProperty(e)&&n[e](a)){var o={};o[r.type+"_cid"]=r.cid,i+=t.fn(_.extend(o,a))}return i},"")):void 0}),Handlebars.registerHelper("estimator",function(e,t,n){n=n&&n.hash||{};var r="custom"===t,i={name:n.name,point_scale:_.head(e,r?5:1/0),is_custom_point_scale:r,has_more_points:r&&e.length>5},a=u.Handlebars.VM.invokePartial(u.Handlebars.partials._estimator,"estimator",i);return new u.Handlebars.SafeString(a)}),Handlebars.registerHelper("percent",function(e){return _.isNumber(e)?Math.floor(100*e):e}),Handlebars.registerHelper("round",function(e){return _.isNumber(e)?Math.round(100*e)/100:e}),Handlebars.registerHelper("isWebkit",function(e){return!u.FRONTEND_FLAGS.is_test_env&&goog.labs.userAgent.engine.isWebKit()&&e&&e.fn?e.fn.call(this,this):void 0}),Handlebars.registerHelper("formTag",function(t){var n={action:"#",onsubmit:"tracker.preventDefault.apply(this,arguments)"},r=e(_.extend(n,t.hash));return new Handlebars.SafeString("<form "+r+">"+(t.fn&&t.fn(this)||"")+"</form>")}),Handlebars.registerHelper("isZero",function(e,t){return new Handlebars.SafeString(0===e&&t&&t.fn.call(this,this)||"")}),Handlebars.registerHelper("truncateInitials",function(e){return e&&e.substring(0,3)}),Handlebars.registerHelper("isEmpty",function(e,t){return c.call(this,function(){return _.isEmpty(e)},t)}),Handlebars.registerHelper("isRealNumber",function(e,t){return c.call(this,function(){return _.isNumber(e)&&!_.isNaN(parseInt(e,10))},t)}),Handlebars.registerHelper("parameterize",function(e,t){var n=t.hash.separator||"_";return _.str.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[\-\s]+/g,n).toLowerCase()}),Handlebars.registerHelper("highlightMentions",function(e){return e&&new Handlebars.SafeString(_.escape(e).replace("mentioned",'<span class="mentioned_highlight">mentioned</span>'))}),Handlebars.registerHelper("toAcronym",function(e){function t(e){return(e||"")+""}return _.map(t(e).split(/\s+/),_.first).slice(0,3).join("")}),Handlebars.registerHelper("truncate",function(e,t,n){return _.str.truncate(e,t,n)}),Handlebars.registerHelper("isGuest",function(){return d.Person.current().isGuest()})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=Backbone.View.extend({__name__:"View",detach:function(){try{this.$el.detach()}catch(e){}},$trigger:function(){return this.$el.trigger.apply(this.$el,arguments),this},wrapRender:function(e){var t=this;return function(){t.$trigger("prerender");var n=e.apply(this,arguments);return t.$trigger("postrender"),n}},views:function(){return this._views=this._views||{},new t.Views(this,this._views)},setElement:_(Backbone.View.prototype.setElement).wrap(function(e,t,n){var r=$(t);return r.attr("id")||r.attr("id",this.cid),e.call(this,t,n)})},t.mixins.include);n.include(Backbone.extensions.delegateEvents),n.prototype.remove=function(){return this.views().remove(),this.undelegateEvents(),this.el!==t.el&&this.el!==document.body?Backbone.View.prototype.remove.call(this):this},t.View=n}.call(this),/*
 strftime for Javascript
 Copyright (c) 2008, Philip S Tellis <philip@bluesmoon.info>
 All rights reserved.
 
 This code is distributed under the terms of the BSD licence
 
 Redistribution and use of this software in source and binary forms, with or without modification,
 are permitted provided that the following conditions are met:

   * Redistributions of source code must retain the above copyright notice, this list of conditions
     and the following disclaimer.
   * Redistributions in binary form must reproduce the above copyright notice, this list of
     conditions and the following disclaimer in the documentation and/or other materials provided
     with the distribution.
   * The names of the contributors to this file may not be used to endorse or promote products
     derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR
TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
Date.ext={},Date.ext.util={},Date.ext.util.xPad=function(e,t,n){for("undefined"==typeof n&&(n=10);parseInt(e,10)<n&&n>1;n/=10)e=t.toString()+e;return e.toString()},Date.prototype.locale="en-GB",document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(Date.prototype.locale=document.getElementsByTagName("html")[0].lang),Date.ext.locales={},Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"},Date.ext.locales["en-US"]=Date.ext.locales.en,Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z",Date.ext.locales["en-US"].x="%D",Date.ext.locales["en-US"].X="%r",Date.ext.locales["en-GB"]=Date.ext.locales.en,Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"],Date.ext.formats={a:function(e){return Date.ext.locales[e.locale].a[e.getDay()]},A:function(e){return Date.ext.locales[e.locale].A[e.getDay()]},b:function(e){return Date.ext.locales[e.locale].b[e.getMonth()]},B:function(e){return Date.ext.locales[e.locale].B[e.getMonth()]},c:"toLocaleString",C:function(e){return Date.ext.util.xPad(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return Date.ext.util.xPad(parseInt(Date.ext.util.G(e)/100,10),0)},G:function(e){var t=e.getFullYear(),n=parseInt(Date.ext.formats.V(e),10),r=parseInt(Date.ext.formats.W(e),10);return r>n?t++:0===r&&n>=52&&t--,t},H:["getHours","0"],I:function(e){var t=e.getHours()%12;return Date.ext.util.xPad(0===t?12:t,0)},j:function(e){var t=e-new Date(""+e.getFullYear()+"/1/1 GMT");t+=6e4*e.getTimezoneOffset();var n=parseInt(t/6e4/60/24,10)+1;return Date.ext.util.xPad(n,0,100)},m:function(e){return Date.ext.util.xPad(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e){return Date.ext.locales[e.locale].p[e.getHours()>=12?1:0]},P:function(e){return Date.ext.locales[e.locale].P[e.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=6-e.getDay(),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0)},V:function(e){var t=parseInt(Date.ext.formats.W(e),10),n=new Date(""+e.getFullYear()+"/1/1").getDay(),r=t+(n>4||1>=n?0:1);return 53==r&&new Date(""+e.getFullYear()+"/12/31").getDay()<4?r=1:0===r&&(r=Date.ext.formats.V(new Date(""+(e.getFullYear()-1)+"/12/31"))),Date.ext.util.xPad(r,0)},w:"getDay",W:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=7-Date.ext.formats.u(e),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0,10)},y:function(e){return Date.ext.util.xPad(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){var t=e.getTimezoneOffset(),n=Date.ext.util.xPad(parseInt(Math.abs(t/60),10),0),r=Date.ext.util.xPad(t%60,0);return(t>0?"-":"+")+n+r},Z:function(e){return e.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(){return"%"}},Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"	",T:"%H:%M:%S",x:"locale",X:"locale"},Date.ext.aggregates.z=Date.ext.formats.z(new Date),Date.ext.aggregates.Z=Date.ext.formats.Z(new Date),Date.ext.unsupported={},Date.prototype.strftime=function(e){this.locale in Date.ext.locales||(this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale.replace(/-[a-zA-Z]+$/,""):"en-GB");for(var t=this;e.match(/%[cDhnrRtTxXzZ]/);)e=e.replace(/%([cDhnrRtTxXzZ])/g,function(e,n){var r=Date.ext.aggregates[n];return"locale"==r?Date.ext.locales[t.locale][n]:r});var n=e.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(e,n){var r=Date.ext.formats[n];return"string"==typeof r?t[r]():"function"==typeof r?r.call(t,t):"object"==typeof r&&"string"==typeof r[0]?Date.ext.util.xPad(t[r[0]](),r[1]):n});return t=null,n},function(e,t){var n={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},r={"-I":function(e){var t=e.getHours()%12;return 0===t?12:t},"-d":function(e){return e.getDate()},"-U":function(e){var t=new tracker.DateTime(e);return t.toUTCIsoString(!0).split(" ")[1]},"-u":function(e){var t=new tracker.DateTime(e);return t.toUTCIsoString(!0).split(" ")[0]},"-Z":function(e){return e.getTimezoneInfo?e.getTimezoneAbbreviation():void 0},"-z":function(e){var n=e.getTimezoneOffset(),r=t.ext.util.xPad(parseInt(Math.abs(n/60),10),0),i=t.ext.util.xPad(n%60,0);return(n>0?"-":"+")+r+i},"-o":function(e){return n[e.getDate()]||"th"}};_.extend(t.ext.formats,r),t.ext.util.xPad=function(e,t,n){for("undefined"==typeof n&&(n=10);parseInt(e,10)<n&&n>1;n/=10)e=t+""+e;return e+""};var i=t.prototype.strftime;t.prototype.strftime=function(e){var n=this,a=i.call(n,e);return a=a.replace(new RegExp("%("+_.keys(r).join("|")+")","g"),function(e,r){var i=t.ext.formats[r];return _.isFunction(i)?i.call(n,n):r}),n=null,a}}(window,Date),/*
 * Copyright 2010 Matthew Eernisse (mde@fleegix.org)
 * and Open Source Applications Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Credits: Ideas included from incomplete JS implementation of Olson
 * parser, "XMLDAte" by Philippe Goetz (philippe.goetz@wanadoo.fr)
 *
 * Contributions:
 * Jan Niehusmann
 * Ricky Romero
 * Preston Hunt (prestonhunt@gmail.com)
 * Dov. B Katz (dov.katz@morganstanley.com)
 * Peter Bergström (pbergstr@mac.com)
 * Long Ho
 */
function(){var root=this,timezoneJS;timezoneJS="undefined"!=typeof exports?exports:root.timezoneJS={},timezoneJS.VERSION="1.0.0";for(var $=root.$||root.jQuery||root.Zepto,fleegix=root.fleegix,DAYS=timezoneJS.Days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],MONTHS=timezoneJS.Months=["January","February","March","April","May","June","July","August","September","October","November","December"],SHORT_MONTHS={},SHORT_DAYS={},EXACT_DATE_TIME={},TZ_REGEXP=new RegExp("^[a-zA-Z]+/"),i=0;i<MONTHS.length;i++)SHORT_MONTHS[MONTHS[i].substr(0,3)]=i;for(i=0;i<DAYS.length;i++)SHORT_DAYS[DAYS[i].substr(0,3)]=i;Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(e===this[t])return t;return-1});var _fixWidth=function(e,t){if("number"!=typeof e)throw"not a number: "+e;var n=e.toString();if(e.length>t)return e.substr(e.length-t,e.length);for(;n.length<t;)n="0"+n;return n},_transport=function(e){if(!(fleegix&&"undefined"!=typeof fleegix.xhr||$&&"undefined"!=typeof $.ajax))throw new Error("Please use the Fleegix.js XHR module, jQuery ajax, Zepto ajax, or define your own transport mechanism for downloading zone files.");if(e){if(!e.url)throw new Error("URL must be specified");return"async"in e||(e.async=!0),e.async?fleegix&&fleegix.xhr?fleegix.xhr.send({url:e.url,method:"get",handleSuccess:e.success,handleErr:e.error}):$.ajax({url:e.url,dataType:"text",method:"GET",error:e.error,success:e.success}):fleegix&&fleegix.xhr?fleegix.xhr.doReq({url:e.url,async:!1}):$.ajax({url:e.url,async:!1}).responseText}};timezoneJS.Date=function(){var e=Array.prototype.slice.apply(arguments),t=null,n=null,r=[];switch("[object Array]"===Object.prototype.toString.call(e[0])&&(e=e[0]),"string"==typeof e[e.length-1]&&TZ_REGEXP.test(e[e.length-1])&&(n=e.pop()),e.length){case 0:t=new Date;break;case 1:t=new Date(e[0]);break;default:for(var i=0;7>i;i++)r[i]=e[i]||0;t=new Date(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}this._useCache=!1,this._tzInfo={},this._day=0,this.year=0,this.month=0,this.date=0,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0,this.timezone=n||null,r.length?this.setFromDateObjProxy(t):this.setFromTimeProxy(t.getTime(),n)},timezoneJS.Date.prototype={getDate:function(){return this.date},getDay:function(){return this._day},getFullYear:function(){return this.year},getMonth:function(){return this.month},getYear:function(){return this.year},getHours:function(){return this.hours},getMilliseconds:function(){return this.milliseconds},getMinutes:function(){return this.minutes},getSeconds:function(){return this.seconds},getUTCDate:function(){return this.getUTCDateProxy().getUTCDate()},getUTCDay:function(){return this.getUTCDateProxy().getUTCDay()},getUTCFullYear:function(){return this.getUTCDateProxy().getUTCFullYear()},getUTCHours:function(){return this.getUTCDateProxy().getUTCHours()},getUTCMilliseconds:function(){return this.getUTCDateProxy().getUTCMilliseconds()},getUTCMinutes:function(){return this.getUTCDateProxy().getUTCMinutes()},getUTCMonth:function(){return this.getUTCDateProxy().getUTCMonth()},getUTCSeconds:function(){return this.getUTCDateProxy().getUTCSeconds()},getTime:function(){return this._timeProxy+60*this.getTimezoneOffset()*1e3},getTimezone:function(){return this.timezone},getTimezoneOffset:function(){return this.getTimezoneInfo().tzOffset},getTimezoneAbbreviation:function(){return this.getTimezoneInfo().tzAbbr},getTimezoneInfo:function(){if(this._useCache)return this._tzInfo;var e;return e=this.timezone?"Etc/UTC"===this.timezone||"Etc/GMT"===this.timezone?{tzOffset:0,tzAbbr:"UTC"}:timezoneJS.timezone.getTzInfo(this._timeProxy,this.timezone):{tzOffset:this.getLocalOffset(),tzAbbr:null},this._tzInfo=e,this._useCache=!0,e},getUTCDateProxy:function(){var e=new Date(this._timeProxy);return e.setUTCMinutes(e.getUTCMinutes()+this.getTimezoneOffset()),e},setDate:function(e){this.setAttribute("date",e)},setFullYear:function(e){this.setAttribute("year",e)},setMonth:function(e){this.setAttribute("month",e)},setYear:function(e){this.setUTCAttribute("year",e)},setHours:function(e){this.setAttribute("hours",e)},setMilliseconds:function(e){this.setAttribute("milliseconds",e)},setMinutes:function(e){this.setAttribute("minutes",e)},setSeconds:function(e){this.setAttribute("seconds",e)},setTime:function(e){if(isNaN(e))throw new Error("Units must be a number.");this.setFromTimeProxy(e,this.timezone)},setUTCDate:function(e){this.setUTCAttribute("date",e)},setUTCFullYear:function(e){this.setUTCAttribute("year",e)},setUTCHours:function(e){this.setUTCAttribute("hours",e)},setUTCMilliseconds:function(e){this.setUTCAttribute("milliseconds",e)},setUTCMinutes:function(e){this.setUTCAttribute("minutes",e)},setUTCMonth:function(e){this.setUTCAttribute("month",e)},setUTCSeconds:function(e){this.setUTCAttribute("seconds",e)},setFromDateObjProxy:function(e){this.year=e.getFullYear(),this.month=e.getMonth(),this.date=e.getDate(),this.hours=e.getHours(),this.minutes=e.getMinutes(),this.seconds=e.getSeconds(),this.milliseconds=e.getMilliseconds(),this._day=e.getDay(),this._dateProxy=e,this._timeProxy=Date.UTC(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.milliseconds),this._useCache=!1},setFromTimeProxy:function(e,t){var n,r=new Date(e);n=t?timezoneJS.timezone.getTzInfo(r,t).tzOffset:r.getTimezoneOffset(),r.setTime(e+6e4*(r.getTimezoneOffset()-n)),this.setFromDateObjProxy(r)},setAttribute:function(e,t){if(isNaN(t))throw new Error("Units must be a number.");var n=this._dateProxy,r="year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1);n["set"+r](t),this.setFromDateObjProxy(n)},setUTCAttribute:function(e,t){if(isNaN(t))throw new Error("Units must be a number.");var n="year"===e?"FullYear":e.substr(0,1).toUpperCase()+e.substr(1),r=this.getUTCDateProxy();r["setUTC"+n](t),r.setUTCMinutes(r.getUTCMinutes()-this.getTimezoneOffset()),this.setFromTimeProxy(r.getTime()+6e4*this.getTimezoneOffset(),this.timezone)},setTimezone:function(e){var t=this.getTimezoneInfo().tzOffset;this.timezone=e,this._useCache=!1,this.setUTCMinutes(this.getUTCMinutes()-this.getTimezoneInfo().tzOffset+t)},removeTimezone:function(){this.timezone=null,this._useCache=!1},valueOf:function(){return this.getTime()},clone:function(){return this.timezone?new timezoneJS.Date(this.getTime(),this.timezone):new timezoneJS.Date(this.getTime())},toGMTString:function(){return this.toString("EEE, dd MMM yyyy HH:mm:ss Z","Etc/GMT")},toLocaleString:function(){},toLocaleDateString:function(){},toLocaleTimeString:function(){},toSource:function(){},toISOString:function(){return this.toString("yyyy-MM-ddTHH:mm:ss.SSS","Etc/UTC")+"Z"},toJSON:function(){return this.toISOString()},toString:function(e,t){e||(e="yyyy-MM-dd HH:mm:ss");var n=e,r=t?timezoneJS.timezone.getTzInfo(this.getTime(),t):this.getTimezoneInfo(),i=this;t&&(i=this.clone(),i.setTimezone(t));var a=i.getHours();return n.replace(/a+/g,function(){return"k"}).replace(/y+/g,function(e){return _fixWidth(i.getFullYear(),e.length)}).replace(/d+/g,function(e){return _fixWidth(i.getDate(),e.length)}).replace(/m+/g,function(e){return _fixWidth(i.getMinutes(),e.length)}).replace(/s+/g,function(e){return _fixWidth(i.getSeconds(),e.length)}).replace(/S+/g,function(e){return _fixWidth(i.getMilliseconds(),e.length)}).replace(/M+/g,function(e){var t=i.getMonth(),n=e.length;return n>3?timezoneJS.Months[t]:n>2?timezoneJS.Months[t].substring(0,n):_fixWidth(t+1,n)}).replace(/k+/g,function(){return a>=12?(a>12&&(a-=12),"PM"):"AM"}).replace(/H+/g,function(e){return _fixWidth(a,e.length)}).replace(/E+/g,function(e){return DAYS[i.getDay()].substring(0,e.length)}).replace(/Z+/gi,function(){return r.tzAbbr})},toUTCString:function(){return this.toGMTString()},civilToJulianDayNumber:function(e,t,n){var r;t++,t>12&&(r=parseInt(t/12,10),t%=12,e+=r),2>=t&&(e-=1,t+=12),r=Math.floor(e/100);var i=2-r+Math.floor(r/4),a=Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+i-1524;return a},getLocalOffset:function(){return this._dateProxy.getTimezoneOffset()}},timezoneJS.timezone=new function(){function invalidTZError(e){throw new Error('Timezone "'+e+'" is either incorrect, or not loaded in the timezone registry.')}function builtInLoadZoneFile(e,t){var n=_this.zoneFileBasePath+"/"+e;return t&&t.async?_this.transport({async:!0,url:n,success:function(e){return _this.parseZones(e)&&"function"==typeof t.callback&&t.callback(),!0},error:function(){throw new Error('Error retrieving "'+n+'" zoneinfo files')}}):_this.parseZones(_this.transport({url:n,async:!1}))}function getRegionForTimezone(e){var t,n,r=regionExceptions[e];if(r)return r;if(t=e.split("/")[0],n=regionMap[t])return n;var i=_this.zones[e];return"string"==typeof i?getRegionForTimezone(i):_this.loadedZones.backward?(invalidTZError(e),void 0):(_this.loadZoneFile("backward"),getRegionForTimezone(e))}function parseTimeString(e){var t=/(\d+)(?::0*(\d*))?(?::0*(\d*))?([wsugz])?$/,n=e.match(t);return n[1]=parseInt(n[1],10),n[2]=n[2]?parseInt(n[2],10):0,n[3]=n[3]?parseInt(n[3],10):0,n}function processZone(e){if(e[3]){var t=parseInt(e[3],10),n=11,r=31;e[4]&&(n=SHORT_MONTHS[e[4].substr(0,3)],r=parseInt(e[5],10)||1);var i=e[6]?e[6]:"00:00:00",a=parseTimeString(i);return[t,n,r,a[1],a[2],a[3]]}}function getZone(e,t){for(var n="number"==typeof e?e:new Date(e).getTime(),r=t,i=_this.zones[r];"string"==typeof i;)r=i,i=_this.zones[r];if(!i){if(!_this.loadedZones.backward)return _this.loadZoneFile("backward"),getZone(e,t);invalidTZError(r)}if(0===i.length)throw new Error('No Zone found for "'+t+'" on '+e);for(var a=i.length-1;a>=0;a--){var o=i[a];if(o[3]&&n>o[3])break}return i[a+1]}function getBasicOffset(e){var t=parseTimeString(e),n=0===e.indexOf("-")?-1:1;return t=1e3*n*(60*(60*t[1]+t[2])+t[3]),t/60/1e3}function getRule(e,t,n){var r,i="number"==typeof e?new Date(e):e,a=t[1],o=t[0],s=function(e,t,n){var r=0;if("u"===t||"g"===t||"z"===t)r=0;else if("s"===t)r=o;else{if("w"!==t&&t)throw"unknown type "+t;r=getAdjustedOffset(o,n)}return r*=6e4,new Date(e.getTime()+r)},l=function(e,t){var n,r=e[0],i=e[1],a=i[5];if(EXACT_DATE_TIME[r]||(EXACT_DATE_TIME[r]={}),EXACT_DATE_TIME[r][i])n=EXACT_DATE_TIME[r][i];else{if(isNaN(i[4])){var o,l;"last"===i[4].substr(0,4)?(n=new Date(Date.UTC(r,SHORT_MONTHS[i[3]]+1,1,a[1]-24,a[2],a[3],0)),o=SHORT_DAYS[i[4].substr(4,3)],l="<="):(n=new Date(Date.UTC(r,SHORT_MONTHS[i[3]],i[4].substr(5),a[1],a[2],a[3],0)),o=SHORT_DAYS[i[4].substr(0,3)],l=i[4].substr(3,2));var c=n.getUTCDay();">="===l?n.setUTCDate(n.getUTCDate()+(o-c+(c>o?7:0))):n.setUTCDate(n.getUTCDate()+(o-c-(o>c?7:0)))}else n=new Date(Date.UTC(r,SHORT_MONTHS[i[3]],i[4],a[1],a[2],a[3],0));EXACT_DATE_TIME[r][i]=n}return t&&(n=s(n,a[4],t)),n},c=function(e,t){for(var n=[],r=0;t&&r<t.length;r++)t[r][0]<=e&&(t[r][1]>=e||t[r][0]===e&&"only"===t[r][1]||"max"===t[r][1])&&n.push([e,t[r]]);return n},u=function(e,t,r){var i,a;return e.constructor!==Date?(i=e[0],a=e[1],e=!r&&EXACT_DATE_TIME[i]&&EXACT_DATE_TIME[i][a]?EXACT_DATE_TIME[i][a]:l(e,r)):r&&(e=s(e,n?"u":"w",r)),t.constructor!==Date?(i=t[0],a=t[1],t=!r&&EXACT_DATE_TIME[i]&&EXACT_DATE_TIME[i][a]?EXACT_DATE_TIME[i][a]:l(t,r)):r&&(t=s(t,n?"u":"w",r)),e=Number(e),t=Number(t),e-t},d=i.getUTCFullYear();r=c(d,_this.rules[a]),r.push(i),r.sort(u),r.indexOf(i)<2&&(r=r.concat(c(d-1,_this.rules[a])),r.sort(u));var p=r.indexOf(i);return p>1&&u(i,r[p-1],r[p-2][1])<0?r[p-2][1]:p>0&&p<r.length-1&&u(i,r[p+1],r[p-1][1])>0?r[p+1][1]:0===p?null:r[p-1][1]}function getAdjustedOffset(e,t){return-Math.ceil(t[6]-e)}function getAbbreviation(e,t){var n,r=e[2];if(r.indexOf("%s")>-1){var i;i=t?"-"===t[7]?"":t[7]:"S",n=r.replace("%s",i)}else n=r.indexOf("/")>-1?r.split("/",2)[t[6]?1:0]:r;return n}var _this=this,regionMap={Etc:"etcetera",EST:"northamerica",MST:"northamerica",HST:"northamerica",EST5EDT:"northamerica",CST6CDT:"northamerica",MST7MDT:"northamerica",PST8PDT:"northamerica",America:"northamerica",Pacific:"australasia",Atlantic:"europe",Africa:"africa",Indian:"africa",Antarctica:"antarctica",Asia:"asia",Australia:"australasia",Europe:"europe",WET:"europe",CET:"europe",MET:"europe",EET:"europe"},regionExceptions={"Pacific/Honolulu":"northamerica","Atlantic/Bermuda":"northamerica","Atlantic/Cape_Verde":"africa","Atlantic/St_Helena":"africa","Indian/Kerguelen":"antarctica","Indian/Chagos":"asia","Indian/Maldives":"asia","Indian/Christmas":"australasia","Indian/Cocos":"australasia","America/Danmarkshavn":"europe","America/Scoresbysund":"europe","America/Godthab":"europe","America/Thule":"europe","Asia/Yekaterinburg":"europe","Asia/Omsk":"europe","Asia/Novosibirsk":"europe","Asia/Krasnoyarsk":"europe","Asia/Irkutsk":"europe","Asia/Yakutsk":"europe","Asia/Vladivostok":"europe","Asia/Sakhalin":"europe","Asia/Magadan":"europe","Asia/Kamchatka":"europe","Asia/Anadyr":"europe","Africa/Ceuta":"europe","America/Argentina/Buenos_Aires":"southamerica","America/Argentina/Cordoba":"southamerica","America/Argentina/Tucuman":"southamerica","America/Argentina/La_Rioja":"southamerica","America/Argentina/San_Juan":"southamerica","America/Argentina/Jujuy":"southamerica","America/Argentina/Catamarca":"southamerica","America/Argentina/Mendoza":"southamerica","America/Argentina/Rio_Gallegos":"southamerica","America/Argentina/Ushuaia":"southamerica","America/Aruba":"southamerica","America/La_Paz":"southamerica","America/Noronha":"southamerica","America/Belem":"southamerica","America/Fortaleza":"southamerica","America/Recife":"southamerica","America/Araguaina":"southamerica","America/Maceio":"southamerica","America/Bahia":"southamerica","America/Sao_Paulo":"southamerica","America/Campo_Grande":"southamerica","America/Cuiaba":"southamerica","America/Porto_Velho":"southamerica","America/Boa_Vista":"southamerica","America/Manaus":"southamerica","America/Eirunepe":"southamerica","America/Rio_Branco":"southamerica","America/Santiago":"southamerica","Pacific/Easter":"southamerica","America/Bogota":"southamerica","America/Curacao":"southamerica","America/Guayaquil":"southamerica","Pacific/Galapagos":"southamerica","Atlantic/Stanley":"southamerica","America/Cayenne":"southamerica","America/Guyana":"southamerica","America/Asuncion":"southamerica","America/Lima":"southamerica","Atlantic/South_Georgia":"southamerica","America/Paramaribo":"southamerica","America/Port_of_Spain":"southamerica","America/Montevideo":"southamerica","America/Caracas":"southamerica"};this.zoneFileBasePath,this.zoneFiles=["africa","antarctica","asia","australasia","backward","etcetera","europe","northamerica","pacificnew","southamerica"],this.loadingSchemes={PRELOAD_ALL:"preloadAll",LAZY_LOAD:"lazyLoad",MANUAL_LOAD:"manualLoad"},this.loadingScheme=this.loadingSchemes.LAZY_LOAD,this.loadedZones={},this.zones={},this.rules={},this.init=function(e){var t,n={async:!0},r=this.defaultZoneFile=this.loadingScheme===this.loadingSchemes.PRELOAD_ALL?this.zoneFiles:"northamerica",i=0;for(var a in e)n[a]=e[a];if("string"==typeof r)return this.loadZoneFile(r,n);t=n.callback,n.callback=function(){i++,i===r.length&&"function"==typeof t&&t()};for(var o=0;o<r.length;o++)this.loadZoneFile(r[o],n)},this.loadZoneFile=function(e,t){if("undefined"==typeof this.zoneFileBasePath)throw new Error("Please define a base path to your zone file directory -- timezoneJS.timezone.zoneFileBasePath.");if(!this.loadedZones[e])return this.loadedZones[e]=!0,builtInLoadZoneFile(e,t)},this.loadZoneJSONData=function(url,sync){var processData=function(data){data=eval("("+data+")");for(var z in data.zones)_this.zones[z]=data.zones[z];for(var r in data.rules)_this.rules[r]=data.rules[r]};return sync?processData(_this.transport({url:url,async:!1})):_this.transport({url:url,success:processData})},this.loadZoneDataFromObject=function(e){if(e){for(var t in e.zones)_this.zones[t]=e.zones[t];for(var n in e.rules)_this.rules[n]=e.rules[n]}},this.getAllZones=function(){var e=[];for(var t in this.zones)e.push(t);return e.sort()},this.parseZones=function(e){for(var t,n=e.split("\n"),r=[],i="",a=null,o=null,s=0;s<n.length;s++)if(t=n[s],t.match(/^\s/)&&(t="Zone "+a+t),t=t.split("#")[0],t.length>3)switch(r=t.split(/\s+/),i=r.shift()){case"Zone":if(a=r.shift(),_this.zones[a]||(_this.zones[a]=[]),r.length<3)break;r.splice(3,r.length,processZone(r)),r[3]&&(r[3]=Date.UTC.apply(null,r[3])),r[0]=-getBasicOffset(r[0]),_this.zones[a].push(r);break;case"Rule":o=r.shift(),_this.rules[o]||(_this.rules[o]=[]),r[0]=parseInt(r[0],10),r[1]=parseInt(r[1],10)||r[1],r[5]=parseTimeString(r[5]),r[6]=getBasicOffset(r[6]),_this.rules[o].push(r);break;case"Link":if(_this.zones[r[1]])throw new Error("Error with Link "+r[1]+". Cannot create link of a preexisted zone.");_this.zones[r[1]]=r[0]}return!0},this.transport=_transport,this.getTzInfo=function(e,t,n){if(this.loadingScheme===this.loadingSchemes.LAZY_LOAD){var r=getRegionForTimezone(t);if(!r)throw new Error("Not a valid timezone ID.");this.loadedZones[r]||this.loadZoneFile(r)}var i=getZone(e,t),a=i[0],o=getRule(e,i,n);o&&(a=getAdjustedOffset(a,o));var s=getAbbreviation(i,o);return{tzOffset:a,tzAbbr:s}},this.getRegionForTimezone=getRegionForTimezone}}.call(this),function(){"use strict";var e=this;e.timezoneJS.timezone.zoneFileBasePath="/timezone_data",e.timezoneJS.Date.ext=Date.ext,_(e.timezoneJS.Date.prototype).extend({locale:Date.prototype.locale,strftime:Date.prototype.strftime})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker.mixins");t.identityMap={mixees:[],included:function(e){function n(t,n){var r=e._store[t]=new e(null,n);return r instanceof Backbone.Model&&(r.id=t),_.extend(r,{_fetchDeferred:$.Deferred(),fetch:_.wrap(e.prototype.fetch,function(e){return"pending"===this.promise().state()&&e.apply(this,_.rest(arguments)).then(this._fetchDeferred.resolve,this._fetchDeferred.reject),this.promise()}),refetch:function(){return this._fetchDeferred.reject(),this._fetchDeferred=$.Deferred(),this.fetch.apply(this,arguments)},promise:function(){return this._fetchDeferred.promise()}})}t.identityMap.mixees.push(e),_.extend(e,{_store:{},all:function(){return _.values(e._store)},get:function(t,r){if(!t)throw new Error("id or model is required");var i=t.id||t;return e._store[i]||n(i,r)},has:function(t){var n=t.id||t;return _.has(e._store,n)},remove:function(t){if(!t)throw new Error("id or model is required");return delete e._store[t.id||t],e},reset:function(){e._store={}}})}}}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={},r=t.Model.extend({__name__:"Timezone",fetch:function(){var e=timezoneJS.timezone.getRegionForTimezone(this.id);return n[e]=n[e]||timezoneJS.timezone.loadZoneFile(e,{async:!0})}});r.include(t.mixins.identityMap),t.Timezone=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");_.namespace(t,"mixins.models").lastAjax=function(e){var t="_lastAjax"+e;return{included:function(n){n.prototype[e]=_.wrap(n.prototype[e],function(n){this[t]=this[t]||{ajaxPromise:null,methodDeferred:null,lastArguments:null};var r=this,i=this[t];return i.lastArguments=_.rest(arguments),i.ajaxPromise?(i.methodDeferred||(i.methodDeferred=$.Deferred(),i.ajaxPromise.always(function(){var t=i.methodDeferred;r[e].apply(r,i.lastArguments).then(t.resolve,t.reject)})),i.methodDeferred.promise()):(i.methodDeferred=null,i.ajaxPromise=n.apply(this,i.lastArguments).always(function(){i.ajaxPromise=null}),i.ajaxPromise)})}}}}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={included:function(e){var n=e.prototype.save;e.prototype.save=function(){return t.Person.current().isGuest()?$.Deferred().reject():n.apply(this,arguments)}}};_.namespace(t,"mixins.models").guest=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=["dense","normal","minimal","projector"],r=t.Model.extend({url:"/services/area_51/app_settings?date_format=millis",initialize:function(){this.set("panels",[{type:"current"},{type:"backlog"}])},parse:function(e){if(e=e.data){var t=_.contains(n,e.story_density_mode)?e.story_density_mode:_.result(this,"defaults").story_density_mode;_.extend(e,{story_density_mode:t})}return e},isNew:function(){return!1},defaults:{save_on_enter:!0,story_density_mode:n[1]},expirationNotificationNeededForProject:function(e){var t=this,n=_.find(t.get("owned_accounts"),function(t){return t.id===e.get("account").id});return n&&n.days_left<=3&&n.over_the_limit&&!t.get("viewed_callout_at")?!0:!1},ownedAccountForProjectJSON:function(e){var t=this;return _.find(t.get("owned_accounts"),function(t){return t.id===e.get("account").id})},includeCurrentInBacklog:function(){return!!this.get("include_current_in_backlog")},markBetaUpdatesAsRead:function(){this.set({viewed_recent_beta_updates_at:t.DateTime.now().getTime()}),this.unset("show_recent_beta_updates"),this.save()},chartsType:function(){return this.get("use_new_charts")?"charts2":"charts"},disallowedPanelTypes:function(){return this.get("use_new_charts")?["charts"]:["charts2"]}},{STORY_DENSITY_MODES:n});r.include(t.mixins.models.lastAjax("save")),r.include(t.mixins.models.guest),t.AppSettings=r}.call(this),function(){"use strict";this.largestCommonSubsequence=function(e,t){var n,r,i,a,o,s,l,c,u=[],d=[],p=[];for(o>a&&(n=e,e=t,t=n),a=e.length,o=t.length,i=0;o>i;d[i++]=0);for(r=0;a>r;r++)for(p[r]=d=d.slice(),l=0,i=0;o>i;i++,l=c)c=d[i],e[r]==t[i]?d[i]=l+1:(s=d[i-1]||0,s>d[i]&&(d[i]=s));for(r--,i--;r>-1&&i>-1;)switch(p[r][i]){default:i--,u.unshift(e[r]);case r&&p[r-1][i]:r--;continue;case i&&p[r][i-1]:i--}return u}}.call(this),function(){"use strict";function e(e,t){var r=_.map(e,function(e,t){return t}),i=_.map(t,function(t){return e.indexOf(t)});return _.difference(e,_.map(n.largestCommonSubsequence(r,i),function(t){return e[t]}))}function t(e,t){var n=this;return t.parse&&(e=n.parse(e,t)),_.map(_.isArray(e)&&e||[e],function(e){var r=n._prepareModel(e,t);return n.get(r)||r})}var n=this,r=_.namespace(n,"tracker"),i={included:function(n){n.prototype.setWithReorder=_.wrap(n.prototype.set,function(n,r,i){i=i||{},r=t.call(this,r,i);var a=this,o=_.difference(r,a.models),s=e(a.models,r).concat(o);return n.call(this,r,_.extend({},i,{parse:!1})),a.models=_.clone(r),i.silent||_.each(s,function(e){a.get(e)&&a.trigger("reorder",e,a,i)}),this})}};_.namespace(r,"mixins.collections").setWithReorder=i}.call(this),function(){"use strict";function e(e,t){this._options=_.clone(t),Backbone.Collection.apply(this,arguments)}var t=this,n=_.namespace(t,"tracker"),r=Backbone.Collection.extend({__name__:"BaseCollection",move:function(e,t,n){n=n||{};var r=this.models.indexOf(e);if(-1!==r){this.remove(e,{silent:!0});var i=_.isFunction(t)?t(r):t;if(!_.isNumber(i))throw"Can't move an object in a collection without an index";this.add(e,{at:i,silent:!0}),n.silent||this.trigger("reorder",e,this,n)}},cids:function(){return _.pluck(this.models,"cid")},isEqual:function(e){return _.isEqual(this.cids(),e.cids())},sync:function(e,t,r){r=r||{};var i=r.url||_.result(this,"url");return r.url=n.helpers.envelope.addEnvelope(i),Backbone.sync(e,t,r)}},n.mixins.include);r.include(n.associations(n),n.mixins.collections.setWithReorder),_.extend(e,r),e.prototype=new r,n.Collection=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Membership",defaults:{role:"viewer"},parse:function(e){return e.project_public=(e.project||{})["public"],e.project=void 0,e},urlRoot:function(){return["/services","v5","projects",this.get("project_id"),"memberships"].join("/")}});t.Membership=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({model:t.Membership,findByProjectId:function(e){return this.find(function(t){return t.get("project_id")===e})}});t.Memberships=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Guest",defaults:{name:"<unknown>",initials:"???"},associations:[{hasOne:"appSettings",parse:!1},{hasMany:"notifications",parse:!1},{hasMany:"layoutSchemes",parse:!1,inverseOf:"person"},{hasMany:"memberships",parse:function(e){return e.projects}},{hasMany:"workspaces",parse:!1,inverseOf:"person"}],layoutScheme:function(e){var n=this.layoutSchemes(),r=t.Layout.current();if(r&&r.get("workspace"))return n.findOrCreateByWorkspaceId(t.Workspace.current().id);var i=e||t.Project.current();return i&&n.findOrCreateByProjectId(i.id)},panels:function(){return this.layoutScheme()&&this.layoutScheme().panels()},isGuest:function(){return!0},membership:function(){return null},projectColor:function(){return"FF13E8"},parse:function(e){return e.data},isOwner:function(){return!1},isReadOnly:function(){return!0},isInactive:function(){return!1},projects:function(){return new t.Collection},timezone:function(){return t.Timezone.get("America/Los_Angeles")},useClickToCopy:function(){return t.hasFlash()},parseLayoutSchemes:$.noop});t.Guest=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker.mixins");t.current={mixees:[],included:function(e){t.current.mixees.push(e);var n;_.extend(e,{setCurrent:function(e){return n=e},current:function(){return n}})}}}.call(this),function(e){e.console||(e.console={});for(var t=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],n=0;n<t.length;n++)e.console[t[n]]||(e.console[t[n]]=function(){})}(this),Date.now||(Date.now=function(){return+new Date}),function(){Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:prototypeOfObject)})}(),function(){"use strict";for(var e=this,t=0,n=["ms","webkit","moz","o"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),a=e.setTimeout(function(){n(r+i)},i);return t=r+i,a},e.requestAnimationFrame.polyfill=!0),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)},e.cancelAnimationFrame.polyfill=!0)}.call(this),function(){"use strict";var e=this;e.performance&&e.performance.now||(e.performance||(e.performance={}),e.performance.now=function(){return e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow||function(){return Date.now()}}())}.call(this),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){function e(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function t(e){var t=typeof e;return null===e||"undefined"===t||"boolean"===t||"number"===t||"string"===t}function n(e){var n,r,i;if(t(e))return e;if(r=e.valueOf,f(r)&&(n=r.call(e),t(n)))return n;if(i=e.toString,f(i)&&(n=i.call(e),t(n)))return n;throw new TypeError}function r(){}var i,a=Array.prototype,o=Object.prototype,s=Function.prototype,l=String.prototype,c=Number.prototype,u=a.slice,d=a.splice,p=(a.push,a.unshift),h=s.call,g=o.toString,f=function(e){return"[object Function]"===o.toString.call(e)},m=function(e){return"[object RegExp]"===o.toString.call(e)},_=function(e){return"[object Array]"===g.call(e)},v=function(e){return"[object String]"===g.call(e)},y=function(e){var t=g.call(e),n="[object Arguments]"===t;return n||(n=!_(t)&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&f(e.callee)),n},b=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();i=b?function(e,t,n,r){!r&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,r){!r&&t in e||(e[t]=n)};var E=function(e,t,n){for(var r in t)o.hasOwnProperty.call(t,r)&&i(e,r,t[r],n)},S=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)},w=function(e){return e>>>0};E(s,{bind:function(e){var t=this;if(!f(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=u.call(arguments,1),i=function(){if(this instanceof l){var r=t.apply(this,n.concat(u.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(u.call(arguments)))},a=Math.max(0,t.length-n.length),o=[],s=0;a>s;s++)o.push("$"+s);var l=Function("binder","return function ("+o.join(",")+"){return binder.apply(this,arguments)}")(i);return t.prototype&&(r.prototype=t.prototype,l.prototype=new r,r.prototype=null),l}});var T,A,x,M,D,k=h.bind(o.hasOwnProperty);(D=k(o,"__defineGetter__"))&&(T=h.bind(o.__defineGetter__),A=h.bind(o.__defineSetter__),x=h.bind(o.__lookupGetter__),M=h.bind(o.__lookupSetter__));var O=function(){var e=[1,2],t=e.splice();return 2===e.length&&_(t)&&0===t.length}();E(a,{splice:function(){return 0===arguments.length?[]:d.apply(this,arguments)}},O);var N=function(){var e={};return a.splice.call(e,0,0,1),1===e.length}();E(a,{splice:function(t,n){if(0===arguments.length)return[];var r=arguments;return this.length=Math.max(e(this.length),0),arguments.length>0&&"number"!=typeof n&&(r=u.call(arguments),r.length<2?r.push(this.length-t):r[1]=e(n)),d.apply(this,r)}},!N);var R=1!==[].unshift(0);E(a,{unshift:function(){return p.apply(this,arguments),this.length}},R),E(Array,{isArray:_});var C=Object("a"),U="a"!==C[0]||!(0 in C),F=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(e,n,r){"object"!=typeof r&&(t=!1)}),e.call([1],function(){"use strict";n="string"==typeof this},"x")),!!e&&t&&n};E(a,{forEach:function(e){var t=S(this),n=U&&v(this)?this.split(""):t,r=arguments[1],i=-1,a=n.length>>>0;if(!f(e))throw new TypeError;for(;++i<a;)i in n&&e.call(r,n[i],i,t)}},!F(a.forEach)),E(a,{map:function(e){var t=S(this),n=U&&v(this)?this.split(""):t,r=n.length>>>0,i=Array(r),a=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var o=0;r>o;o++)o in n&&(i[o]=e.call(a,n[o],o,t));return i}},!F(a.map)),E(a,{filter:function(e){var t,n=S(this),r=U&&v(this)?this.split(""):n,i=r.length>>>0,a=[],o=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var s=0;i>s;s++)s in r&&(t=r[s],e.call(o,t,s,n)&&a.push(t));return a}},!F(a.filter)),E(a,{every:function(e){var t=S(this),n=U&&v(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)if(a in n&&!e.call(i,n[a],a,t))return!1;return!0}},!F(a.every)),E(a,{some:function(e){var t=S(this),n=U&&v(this)?this.split(""):t,r=n.length>>>0,i=arguments[1];if(!f(e))throw new TypeError(e+" is not a function");for(var a=0;r>a;a++)if(a in n&&e.call(i,n[a],a,t))return!0;return!1}},!F(a.some));var L=!1;a.reduce&&(L="object"==typeof a.reduce.call("es5",function(e,t,n,r){return r})),E(a,{reduce:function(e){var t=S(this),n=U&&v(this)?this.split(""):t,r=n.length>>>0;if(!f(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var i,a=0;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in n){i=n[a++];break}if(++a>=r)throw new TypeError("reduce of empty array with no initial value")}for(;r>a;a++)a in n&&(i=e.call(void 0,i,n[a],a,t));return i}},!L);var I=!1;a.reduceRight&&(I="object"==typeof a.reduceRight.call("es5",function(e,t,n,r){return r})),E(a,{reduceRight:function(e){var t=S(this),n=U&&v(this)?this.split(""):t,r=n.length>>>0;if(!f(e))throw new TypeError(e+" is not a function");if(!r&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var i,a=r-1;if(arguments.length>=2)i=arguments[1];else for(;;){if(a in n){i=n[a--];break}if(--a<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>a)return i;do a in n&&(i=e.call(void 0,i,n[a],a,t));while(a--);return i}},!I);var P=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);E(a,{indexOf:function(t){var n=U&&v(this)?this.split(""):S(this),r=n.length>>>0;if(!r)return-1;var i=0;for(arguments.length>1&&(i=e(arguments[1])),i=i>=0?i:Math.max(0,r+i);r>i;i++)if(i in n&&n[i]===t)return i;return-1}},P);var j=Array.prototype.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);E(a,{lastIndexOf:function(t){var n=U&&v(this)?this.split(""):S(this),r=n.length>>>0;if(!r)return-1;var i=r-1;for(arguments.length>1&&(i=Math.min(i,e(arguments[1]))),i=i>=0?i:r-Math.abs(i);i>=0;i--)if(i in n&&t===n[i])return i;return-1}},j);var H=!{toString:null}.propertyIsEnumerable("toString"),z=function(){}.propertyIsEnumerable("prototype"),W=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],B=W.length;E(Object,{keys:function(e){var t=f(e),n=y(e),r=null!==e&&"object"==typeof e,i=r&&v(e);if(!r&&!t&&!n)throw new TypeError("Object.keys called on a non-object");
var a=[],o=z&&t;if(i||n)for(var s=0;s<e.length;++s)a.push(String(s));else for(var l in e)o&&"prototype"===l||!k(e,l)||a.push(String(l));if(H)for(var c=e.constructor,u=c&&c.prototype===e,d=0;B>d;d++){var p=W[d];u&&"constructor"===p||!k(e,p)||a.push(p)}return a}});var K=Object.keys&&function(){return 2===Object.keys(arguments).length}(1,2),Y=Object.keys;E(Object,{keys:function(e){return y(e)?Y(a.slice.call(e)):Y(e)}},!K);var $=-621987552e5,J="-000001",V=Date.prototype.toISOString&&-1===new Date($).toISOString().indexOf(J);E(Date.prototype,{toISOString:function(){var e,t,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(r=this.getUTCFullYear(),i=this.getUTCMonth(),r+=Math.floor(i/12),i=(i%12+12)%12,e=[i+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],r=(0>r?"-":r>9999?"+":"")+("00000"+Math.abs(r)).slice(r>=0&&9999>=r?-4:-6),t=e.length;t--;)n=e[t],10>n&&(e[t]="0"+n);return r+"-"+e.slice(0,2).join("-")+"T"+e.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}},V);var q=!1;try{q=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date($).toJSON().indexOf(J)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(G){}q||(Date.prototype.toJSON=function(){var e,t=Object(this),r=n(t);if("number"==typeof r&&!isFinite(r))return null;if(e=t.toISOString,"function"!=typeof e)throw new TypeError("toISOString property is not callable");return e.call(t)});var Q=1e15===Date.parse("+033658-09-27T01:46:40.000Z"),X=!isNaN(Date.parse("2012-04-04T24:00:00.500Z"))||!isNaN(Date.parse("2012-11-31T23:59:59.000Z")),Z=isNaN(Date.parse("2000-01-01T00:00:00.000Z"));(!Date.parse||Z||X||!Q)&&(Date=function(e){function t(n,r,i,a,o,s,l){var c=arguments.length;if(this instanceof e){var u=1===c&&String(n)===n?new e(t.parse(n)):c>=7?new e(n,r,i,a,o,s,l):c>=6?new e(n,r,i,a,o,s):c>=5?new e(n,r,i,a,o):c>=4?new e(n,r,i,a):c>=3?new e(n,r,i):c>=2?new e(n,r):c>=1?new e(n):new e;return u.constructor=t,u}return e.apply(this,arguments)}function n(e,t){var n=t>1?1:0;return a[t]+Math.floor((e-1969+n)/4)-Math.floor((e-1901+n)/100)+Math.floor((e-1601+n)/400)+365*(e-1970)}function r(t){return Number(new e(1970,0,1,0,0,0,t))}var i=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),a=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var o in e)t[o]=e[o];return t.now=e.now,t.UTC=e.UTC,t.prototype=e.prototype,t.prototype.constructor=t,t.parse=function(t){var a=i.exec(t);if(a){var o,s=Number(a[1]),l=Number(a[2]||1)-1,c=Number(a[3]||1)-1,u=Number(a[4]||0),d=Number(a[5]||0),p=Number(a[6]||0),h=Math.floor(1e3*Number(a[7]||0)),g=Boolean(a[4]&&!a[8]),f="-"===a[9]?1:-1,m=Number(a[10]||0),_=Number(a[11]||0);return(d>0||p>0||h>0?24:25)>u&&60>d&&60>p&&1e3>h&&l>-1&&12>l&&24>m&&60>_&&c>-1&&c<n(s,l+1)-n(s,l)&&(o=60*(24*(n(s,l)+c)+u+m*f),o=1e3*(60*(o+d+_*f)+p)+h,g&&(o=r(o)),o>=-864e13&&864e13>=o)?o:0/0}return e.parse.apply(this,arguments)},t}(Date)),Date.now||(Date.now=function(){return(new Date).getTime()});var et=c.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),tt={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function(e,t){for(var n=-1;++n<tt.size;)t+=e*tt.data[n],tt.data[n]=t%tt.base,t=Math.floor(t/tt.base)},divide:function(e){for(var t=tt.size,n=0;--t>=0;)n+=tt.data[t],tt.data[t]=Math.floor(n/e),n=n%e*tt.base},numToString:function(){for(var e=tt.size,t="";--e>=0;)if(""!==t||0===e||0!==tt.data[e]){var n=String(tt.data[e]);""===t?t=n:t+="0000000".slice(0,7-n.length)+n}return t},pow:function ht(e,t,n){return 0===t?n:t%2===1?ht(e,t-1,n*e):ht(e*e,t/2,n)},log:function(e){for(var t=0;e>=4096;)t+=12,e/=4096;for(;e>=2;)t+=1,e/=2;return t}};E(c,{toFixed:function(e){var t,n,r,i,a,o,s,l;if(t=Number(e),t=t!==t?0:Math.floor(t),0>t||t>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(n=Number(this),n!==n)return"NaN";if(-1e21>=n||n>=1e21)return String(n);if(r="",0>n&&(r="-",n=-n),i="0",n>1e-21)if(a=tt.log(n*tt.pow(2,69,1))-69,o=0>a?n*tt.pow(2,-a,1):n/tt.pow(2,a,1),o*=4503599627370496,a=52-a,a>0){for(tt.multiply(0,o),s=t;s>=7;)tt.multiply(1e7,0),s-=7;for(tt.multiply(tt.pow(10,s,1),0),s=a-1;s>=23;)tt.divide(1<<23),s-=23;tt.divide(1<<s),tt.multiply(1,1),tt.divide(2),i=tt.numToString()}else tt.multiply(0,o),tt.multiply(1<<-a,0),i=tt.numToString()+"0.00000000000000000000".slice(2,2+t);return t>0?(l=i.length,i=t>=l?r+"0.0000000000000000000".slice(0,t-l+2)+i:r+i.slice(0,l-t)+"."+i.slice(l-t)):i=r+i,i}},et);var nt=l.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var e=void 0===/()??/.exec("")[1];l.split=function(t,n){var r=this;if(void 0===t&&0===n)return[];if("[object RegExp]"!==g.call(t))return nt.call(this,t,n);var i,o,s,l,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),d=0;for(t=new RegExp(t.source,u+"g"),r+="",e||(i=new RegExp("^"+t.source+"$(?!\\s)",u)),n=void 0===n?-1>>>0:w(n);(o=t.exec(r))&&(s=o.index+o[0].length,!(s>d&&(c.push(r.slice(d,o.index)),!e&&o.length>1&&o[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)}),o.length>1&&o.index<r.length&&a.push.apply(c,o.slice(1)),l=o[0].length,d=s,c.length>=n)));)t.lastIndex===o.index&&t.lastIndex++;return d===r.length?(l||!t.test(""))&&c.push(""):c.push(r.slice(d)),c.length>n?c.slice(0,n):c}}():"0".split(void 0,0).length&&(l.split=function(e,t){return void 0===e&&0===t?[]:nt.call(this,e,t)});var rt=l.replace,it=function(){var e=[];return"x".replace(/x(.)?/g,function(t,n){e.push(n)}),1===e.length&&"undefined"==typeof e[0]}();it||(l.replace=function(e,t){var n=f(t),r=m(e)&&/\)[*?]/.test(e.source);if(n&&r){var i=function(n){var r=arguments.length,i=e.lastIndex;e.lastIndex=0;var a=e.exec(n);return e.lastIndex=i,a.push(arguments[r-2],arguments[r-1]),t.apply(this,a)};return rt.call(this,e,i)}return rt.call(this,e,t)});var at=l.substr,ot="".substr&&"b"!=="0b".substr(-1);E(l,{substr:function(e,t){return at.call(this,0>e?(e=this.length+e)<0?0:e:e,t)}},ot);var st="	\n\f\r   ᠎             　\u2028\u2029﻿",lt="​",ct="["+st+"]",ut=new RegExp("^"+ct+ct+"*"),dt=new RegExp(ct+ct+"*$"),pt=l.trim&&(st.trim()||!lt.trim());E(l,{trim:function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(ut,"").replace(dt,"")}},pt),(8!==parseInt(st+"08")||22!==parseInt(st+"0x16"))&&(parseInt=function(e){var t=/^0[xX]/;return function(n,r){return n=String(n).trim(),Number(r)||(r=t.test(n)?16:10),e(n,r)}}(parseInt))}),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.ZeroClipboard=e.ZeroClipboard}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");_.extend(e.tracker,{window:e,location:e.location,navigator:e.navigator,localStorage:e.localStorage||{},performance:e.performance,requestAnimationFrame:_.bind(e.requestAnimationFrame,e),signInPath:"/signin",notAllowedPath:"/not_allowed",urlRoot:"/s/",el:$("#root")[0],$el:$("#root"),$:function(e){return this.$el.find(e)},csrfToken:function(){return $("head meta[name=csrf-token]").attr("content")},preventDefault:function(e){e.preventDefault()},isMac:function(){return!(!t.navigator.userAgent||!t.navigator.userAgent.match(/\bmac\b/i))},hasFlash:function(){return!goog.labs.userAgent.browser.isIE()&&t.ZeroClipboard.detectFlashSupport()},navigate:function(e,n){n&&n.force&&t.$el.trigger("kill"),t.location.href=e},sendNewrelicBeacon:function(){setTimeout(function(){e.NREUMQ&&NREUMQ.f&&NREUMQ.f()},3e4)}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=tracker.View.extend({html:function(){this.$el.html.apply(this.$el,arguments)},replaceWith:function(){this.$el.replaceWith.apply(this.$el,arguments)}});t.View=n}.call(this),function(){"use strict";function e(e,t){_.each(e,function(e){e.labels().each(function(n){var r;t||(r={at:_.sortedIndex(n.stories().models,e,function(e){return e.index()})}),n.stories().add(e,r)})})}var t=this,n=_.namespace(t,"tracker");_.namespace(n,"helpers").syncLabelStories=e}.call(this),function(){"use strict";function e(e,t){t&&t.data.stale_commands&&e.staleCommands().reset(t.data.stale_commands||[],{parse:!0,suppressFlash:!0})}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next"),i=n.helpers,a={fetch:function(t,n){var r=$.Deferred();return n=_.defaults(n||{},{url:t.cachedUrl()}),t.fetch(n).then(function(n){r.resolve(t),t.iterations().recalculate(),i.syncLabelStories(t.stories().models,!0),_.defer(function(){e(t,n),_.defer(function(){t.makeReady()})})}),r.promise()}};_.namespace(r,"helpers").project=a}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n={statusCodes:{0:"Service Offline",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",419:"Authentication Timeout",420:"Enhance Your Calm",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"No Response",494:"Request Header Too Large",495:"Cert Error",496:"No Cert",497:"HTTP to HTTPS",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required",520:"Origin Error",522:"Connection timed out",523:"Proxy Declined Request",524:"A timeout occurred",598:"Network read timeout error",599:"Network connect timeout error"}};_.namespace(t,"helpers").http=n}.call(this),function(){"use strict";function e(){this.urlDeferreds_={},this.sendDeferred_=$.Deferred()}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next");_.extend(e.prototype,{addUrl:function(e){var t=$.Deferred();return this.urlDeferreds_[e]=t,t},send:function(){var e=$.ajax("/services/v5/aggregator",{method:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(_.keys(this.urlDeferreds_))});return e.then(this.handleSuccess_.bind(this),this.handleFail_.bind(this)),this.sendDeferred_.promise()},handleSuccess_:function(e,t,n){for(var i=_.keys(e),a=0;a<i.length;a++){var o=i[a],s=e[o],l=parseInt(s.http_status,10)||0,c=JSON.stringify(s);(0===l||l>=500)&&this.sendDeferred_.reject(n),0===l||l>=400?this.urlDeferreds_[o].reject({status:l,responseText:c},r.helpers.http.statusCodes[l]):this.urlDeferreds_[o].resolve(s)}this.sendDeferred_.resolve(n)},handleFail_:function(e,t,n){_.each(this.urlDeferreds_,function(r){r.reject.call(r,e,t,n)}),this.sendDeferred_.reject(e)}}),n.Aggregator=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=[],i={add:function(e){r.push(e)},generateRequests:function(){var e=new t.Aggregator;return _.each(r,function(t){t(e)}),e.send()}};n.Pingables=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={errorHandler:function(e){return function(r){401===r.status||403===r.status?t.location.pathname=t.notAllowedPath:404===r.status?t.navigate("/404",{force:!0}):e.trigger("forceReload",n.errorMessage(r.responseJSON))}},errorMessage:function(e){var t=_.extend({error:"An error occurred."},e);return _.chain(t.data||t).pick("error","requirement","general_problem").values().compact().value().join("  ")}};_.namespace(t,"helpers").apiPolicy=n}.call(this),//     Copyright (c) 2010-2012 Robert Kieffer
function(){function e(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>i&&(t[r+i++]=p[e])});16>i;)t[r+i++]=0;return t}function t(e,t){var n=t||0,r=d;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function n(e,n,r){var i=n&&r||0,a=n||[];e=e||{};var o=null!=e.clockseq?e.clockseq:m,s=null!=e.msecs?e.msecs:(new Date).getTime(),l=null!=e.nsecs?e.nsecs:v+1,c=s-_+(l-v)/1e4;if(0>c&&null==e.clockseq&&(o=o+1&16383),(0>c||s>_)&&null==e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_=s,v=l,m=o,s+=122192928e5;var u=(1e4*(268435455&s)+l)%4294967296;a[i++]=u>>>24&255,a[i++]=u>>>16&255,a[i++]=u>>>8&255,a[i++]=255&u;var d=s/4294967296*1e4&268435455;a[i++]=d>>>8&255,a[i++]=255&d,a[i++]=d>>>24&15|16,a[i++]=d>>>16&255,a[i++]=o>>>8|128,a[i++]=255&o;for(var p=e.node||f,h=0;6>h;h++)a[i+h]=p[h];return n?n:t(a)}function r(e,n,r){var a=n&&r||0;"string"==typeof e&&(n="binary"==e?new u(16):null,e=null),e=e||{};var o=e.random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var s=0;16>s;s++)n[a+s]=o[s];return n||t(o)}var i,a=this;if("function"==typeof a.require)try{var o=a.require("crypto").randomBytes;i=o&&function(){return o(16)}}catch(s){}if(!i&&a.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);i=function(){return crypto.getRandomValues(l),l}}if(!i){var c=new Array(16);i=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),c[t]=e>>>((3&t)<<3)&255;return c}}for(var u="function"==typeof a.Buffer?a.Buffer:Array,d=[],p={},h=0;256>h;h++)d[h]=(h+256).toString(16).substr(1),p[d[h]]=h;var g=i(),f=[1|g[0],g[1],g[2],g[3],g[4],g[5]],m=16383&(g[6]<<8|g[7]),_=0,v=0,y=r;if(y.v1=n,y.v4=r,y.parse=e,y.unparse=t,y.BufferClass=u,"function"==typeof define&&define.amd)define(function(){return y});else if("undefined"!=typeof module&&module.exports)module.exports=y;else{var b=a.uuid;y.noConflict=function(){return a.uuid=b,y},a.uuid=y}}.call(this),function(){"use strict";function e(e){this.project=e}function t(e){return _.isString(e)&&!!e.match(/^c\d+$/)}function n(e,n){return(_.isNumber(n)||t(n))&&e.get(n)}function r(e,t,n,r){var i=_.pick(r,o[e]);if(r.deleted)return r.rollback_=r.rollback_||{},_.each(o[e],function(e){r.rollback_[e]=n.get(e)}),r.rollback_.model_=n,r.rollback_.id=n.cid,r.rollback_.type=e,t.remove(n),r;r.rollback_=r.rollback_||{};var a=!1;return n||(a=!0,r.model_?(n=r.model_,t.push(n),r.rollback_.deleted=!0):(n=t.push(_.extend(i,_.pick(r,"id"))),r.rollback_.deleted=!0)),_.each(_.keys(i),function(e){r.rollback_[e]=n.get(e)}),r.rollback_.type=e,r.rollback_.id=n.cid,a||n.set(i),r.model_=n,r.model_._hasBeenSaved=!0,r}var i=this,a=_.namespace(i,"tracker");e.prototype.executeBatch=function(e){return _.map(e,this.execute,this)},e.prototype.execute=function(t){var n=e.execHelpers[t.type];return n(this.project,_.clone(t))},e.execHelpers={};var o={story:["updated_at","name","owner_ids","story_type","current_state","description","requested_by_id","estimate","created_at"],epic:["name","description","updated_at","created_at"],comment:["updated_at","created_at","text","person_id","file_attachment_ids","google_attachment_ids","file_attachments","google_attachments"],task:["description","complete","created_at","updated_at"],iteration:["team_strength","length","finish"],file_attachment:["created_at","updated_at","uploaded","file_name","uploader_id","thumbnailable","size","download_url","big_url","thumbnail_url","content_type"]};e.execHelpers.story=function(e,t){{var i=e.stories(),a=e.stories().get(t.id),o=e.labels();a&&a.next()?a.next().cid:null,a&&a.prev()?a.prev().cid:null}if(t.current_state&&a){var s=a&&a.get("current_state");a.set({current_state:t.current_state},{skipChangeHandling:!0}),delete t.current_state,t.rollback_.current_state=s}if(t=r("story",i,a,t),t.deleted)return t;if(_.has(t,"label_ids")){t.rollback_.label_ids=t.model_.labels().pluck("id");var l=_.map(t.label_ids,function(e){return o.get(e)});t.model_.labels().reset(l)}if(_.has(t,"follower_ids")&&(t.rollback_.follower_ids=t.model_.followers().pluck("id"),t.model_.followers().reset(_.map(t.follower_ids,function(e){return{id:e}}))),null===t.after_id&&n(i,t.before_id))i.move(t.model_,0);else{if(t.after_id===t.model_.id||t.after_id===t.model_.cid)return t;n(i,t.after_id)?i.move(t.model_,function(){return i.get(t.after_id).index()+1}):n(i,t.before_id)&&i.move(t.model_,function(){return i.get(t.before_id).index()})}return t},e.execHelpers.epic=function(e,t){var n=e.epics(),i=e.epics().get(t.id),a=e.labels(),o=n.indexOf(i),s=i&&i.label()&&i.label().cid,l=n.at(o-1)&&n.at(o-1).cid||null,c=n.at(o+1)&&n.at(o+1).cid||null;if(t=r("epic",n,i,t),i=i||t.model_,t.deleted)return t.rollback_.label_id=s,t.rollback_.after_id=l,t.rollback_.before_id=c,t;if(_.has(t,"label_id")){t.rollback_.label_id=s;var u=a.get(t.label_id);t.model_.labels().reset([u])}return(_.has(t,"after_id")||_.has(t,"before_id"))&&(t.rollback_.after_id=l,t.rollback_.before_id=c,n.move(t.model_,function(){return _.has(t,"after_id")&&t.after_id?n.get(t.after_id).index()+1:n.get(t.before_id).index()})),t},e.execHelpers.comment=function(e,t){var n=e.stories().get(t.story_id)||e.epics().get(t.epic_id),i=n.comments(),a=n.comments().get(t.id);return t=r("comment",i,a,t),a=a||t.model_,a.story()&&(t.rollback_.story_id=a.story().cid),a.epic()&&(t.rollback_.epic_id=a.epic().cid),t},e.execHelpers.task=function(e,t){var n,i=e.stories().get(t.story_id),a=i.tasks(),o=i.tasks().get(t.id);return o&&(n=o.index()+1),t=r("task",a,o,t),t.rollback_.story_id=t.story_id,t.deleted?(t.rollback_.position=n,t):(_.has(t,"position")&&(t.rollback_.position=n,a.move(t.model_,t.position-1)),t)},e.execHelpers.iteration=function(e,t){var n=e.iterations().get(t.number),r=e.iterationSettings().findOrCreateByIteration(n),i=_.pick(t,o.iteration);return t.rollback_={type:"iteration",number:n.id},_.each(_.intersection(o.iteration,_.keys(t)),function(e){t.rollback_[e]=r.get(e)}),r.setBang(i),n.collection.recalculate(),t},e.execHelpers.file_attachment=function(e,t){var n=e.fileAttachments(),i=e.fileAttachments().get(t.id);return r("file_attachment",n,i,t)},a.ResultExecutor=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={filterUnprocessableResults:function(e,t){return _.filter(t,function(t){switch(t.type){case"story":return e.stories().get(t.id);case"epic":return e.epics().get(t.id);case"task":return e.stories().get(t.story_id);case"comment":return e.stories().get(t.story_id)||e.epics().get(t.epic_id);default:return!0}})},fillInMissing:function(e,t){return _.map(t,function(t){var n=e.stories().get(t.id);return"story"===t.type&&(t.rollback_={},t.rollback_.before_id=n&&n.next()?n.next().cid:null,t.rollback_.after_id=n&&n.prev()?n.prev().cid:null),"story"!==t.type||_.has(t,"before_id")||(t.before_id=n&&n.next()&&n.next().cid||null),"story"!==t.type||_.has(t,"after_id")||(t.after_id=n&&n.prev()&&n.prev().cid||null),"task"!==t.type||_.has(t,"story_id")||(n=e.stories().find(function(e){return e.tasks().get(t.id)}),t.story_id=n&&n.id),t})},matchResult:function(e,t){if("task"===e.type){var n=e.model_&&e.model_.story().id||e.story_id,r=_.extend({type:"task",story_id:n},_.pick(e,"description","position","complete","deleted"));return _.findWhere(t,r)}},sortResults:function(e,t){var n=["label","epic","story","task","file_attachment","comment","iteration","following"];return _.clone(t).sort(function(t,r){var i=n.indexOf(t.type),a=n.indexOf(r.type);if(-1===i)throw"Unrecognized Result Type: "+t.type;if(-1===a)throw"Unrecognized Result Type: "+r.type;if(i===a){if("story"===t.type){var o=e.stories().get(t.id),s=e.stories().get(r.id);if(o&&s)return o.index()-s.index()}else if("task"===t.type&&_.isNumber(t.position)&&_.isNumber(t.position))return t.position-r.position;return 0}return i>a?1:a>i?-1:void 0})}};t.ResultProcessor=n}.call(this),function(){"use strict";function e(e,t,n){function r(){i=!0}var i=!1;e.on("forceReload",r),t(),i||n(e),e.off("forceReload",r)}function t(){var e=r.confirm("Could not find an executor for command type: "+this.get("type")+" okay to reload your project?");throw e?(i.navigate(i.urlRoot+"projects/"+this.project().id+"/expire",{force:!0}),"Reloading tracker now..."):"Okay, but this is strongly discouraged.  Don't forget to manually reload!"}function n(e){var t=[i.Command.defaultErrorMessage()];return e&&e.responseJSON&&t.push(a.apiPolicy.errorMessage(e.responseJSON)),t.join("  ")}var r=this,i=_.namespace(r,"tracker"),a=i.helpers,o={},s=["id","updated_at","type","name","description","label_ids","labels","requested_by_id","owned_by_id","owner_ids","follower_ids"],l=i.Model.extend({__name__:"Command",url:function(){return"/services/v5/commands"},allowsRetry:function(){return!0},defaults:function(){return{parameters:{}}},associations:[{belongsTo:"project"}],initialize:function(t,n){function a(e){return e.isMulti()?d.models:d.models&&d.models[0]}function l(t){var n=t.executed_commands?t.executed_commands[0].results:t.results,r=t.executed_commands?t.executed_commands[0].activity:t.activity,s=d.executor();e(d.project(),function(){t&&s.serverSuccess(a(s),n,h)},function(e){_(n).any(function(e){return"project"===e.type})&&e.trigger("forceReload")}),r&&d.project().activityEntries().add(r);var l=_.filter(d.models,function(e){return e instanceof i.Story}),c=i.helpers.moveStory.verifyServerStoryOrder(d,l,n,_.pluck(d.after_execute_snapshot,"id"),_.pluck(d.before_execute_snapshot,"id")),u=i.helpers.moveStory.verifyServerStoryState(d,n,d.before_execute_snapshot,d.after_execute_snapshot);u&&(_.extend(u.stack_info,{command:d.attributes,executed_as:d.executed_as}),d.project().errors().add(u)),c&&(_.extend(c.stack_info,{command:d.attributes,executed_as:d.executed_as}),d.project().errors().add(c)),_.each(n,function(e){var t=o[e.type];_.each(t,function(t){t.call(d,e)})})}function c(){return{member_id:d.get("person_id")}}var u,d=this,p=d.get("parameters"),h={};this.has("client_uuid")||this.set({client_uuid:uuid.v4()},{silent:!0}),_(d).extend({patchAndExecute:function(){if(d.models=d.findModels(u),d.executor().canGenerateResults){if(d.patchAttributes(u),d.executor().canExecute()){d.patchAttributes(u);var e=d.generateResults(),t=d.executeResults(e);return d.set({generatedResults:t}),{canExecute:!0}}return{canExecute:!1,areErrorsSilent:d.executor().areErrorsSilent()}}return _(d.models).isEmpty()||(d.patchAttributes(u),d.execute({isUserInitiated:!0})===!1)?{canExecute:!1,areErrorsSilent:d.executor().areErrorsSilent()}:{canExecute:!0}},rectifyModelIds:function(e,t){if(!_.isEmpty(t)){var n=d.project();if("ineffectual"!==e.result){var r=_.findWhere(e.executed_commands,{command_uuid:d.get("client_uuid")});_.each(i.ResultProcessor.sortResults(n,t),function(e){var t=i.ResultProcessor.matchResult(e,r.results);t&&e.model_.setBang({id:t.id})})}}},executeAsInitiatingClient:function(e,t){function n(e){var t=_([]);return _.each(e,function(e){t.push(e),e.commentable&&e.commentable()&&t.push(e.commentable()),e.story&&e.story()&&t.push(e.story()),e.epic&&e.epic()&&t.push(e.epic())}),t}var r="executeAsInitiatingClient "+d.get("type");if(console.time(r),d.executed_as="initiating",t=t||{},!d.isValid())throw"Command is not valid";d.set({person_id:i.Person.current().id},{silent:!0}),u=_(d.get("parameters")).clone(),d.providedModels=e&&_([e]).flatten(),d.patchAndExecute();var a=_.clone(d.models),o=n(a);return o.invoke("incrementPendingCommandCount"),console.timeEnd(r),d.project().commandQueue().add(d).done(function(e){try{d.models&&(_(d.models).each(function(e){e.trigger("sync",e,{member_id:i.Person.current().id})}),l(e),d.executor().canGenerateResults&&d.rectifyModelIds(e,d.get("generatedResults")))}catch(t){d.project().errors().add({stack_info:{message:"An error has occurred while processing the server response.",executed_as:d.executed_as,command:d.attributes,response:e}}),d.project().trigger("forceReload","An error has occurred while processing the server response.")}}).always(function(){o.invoke("decrementPendingCommandCount")})},pickVerifiableAttributes_:function(e){var t=e.attributes;return{id:t.id,story_type:t.story_type,current_state:t.current_state}},executeResults:function(e){var t=d.project(),a=t.stories(),o=!1,l=!1;d.before_execute_snapshot=t.stories().map(this.pickVerifiableAttributes_),_.each(e,function(e){"story"===e.type&&(l=!0,l&&_.keys(_.omit.apply(r,[e].concat(s))).length&&(o=!0))});var c=i.ResultProcessor.sortResults(t,i.ResultProcessor.filterUnprocessableResults(t,i.ResultProcessor.fillInMissing(t,_.clone(e)))),u=_.map(c,function(e){return new i.ResultExecutor(t).execute(e)});if(l){o&&t.iterations().recalculate();var p=_.chain(e).map(function(e){return a.get(e.id)}).compact().uniq().value();_.each(p,function(e){a.trigger("reorder",e,a,n)}),_.each(p,function(e){e.trigger("change",e,{skipChangeHandling:!0}),e.changed=!1})}return d.after_execute_snapshot=a.map(this.pickVerifiableAttributes_),u},flash:function(e,t){if(!t.suppressFlash){_(d.models).each(function(e){e.trigger("sync",e,c())});var n;e.story_id&&(n=d.project().stories().get(e.story_id)),e.epic_id&&(n=d.project().epics().get(e.epic_id)),n&&n.trigger("sync",n,c())}},executeAsReceivingClient:function(e){var t="executeAsReceivingClient "+d.get("type");console.time(t);var n=(d.project(),d.get("results"));d.executed_as="receiving",e=e||{};var r=d.get("parameters");return d.executor().canGenerateResults?(d.executeResults(n),l(d.attributes),d.flash(r,e)):(d.models=d.findModels(r),_(d.models).isEmpty()||(d.execute(),l(d.attributes),d.flash(r,e))),console.timeEnd(t),d},execute:function(e){if(d.modelsPreviousAttributes)throw"Already executed command once, but haven't rolled back since";var t,n=d.executor();return d.before_execute_snapshot=d.project().stories().map(this.pickVerifiableAttributes_),t=n.execute(a(n),$.extend(!0,{},p),$.extend(!0,{},u),h,e),d.after_execute_snapshot=d.project().stories().map(this.pickVerifiableAttributes_),t!==!1?(d.modelsPreviousAttributes=t,!0):!1},generateResults:function(){return d.executor().generateResults(d.get("parameters"))},patchAttributes:function(e){var t=d.executor(),n=t.patchAttributes(_.clone(e),a(t));return n=_(n).clone(),n.cid&&d.models&&(delete n.cid,n.id=d.models[0].id),n.cids&&(delete n.cids,n.ids=_(d.models).pluck("id")),p=n,n},findModels:function(e){if(this.providedModels)return this.providedModels;var t=d.executor();if(t.isMulti())return t.models(e);var n=t.model(e);return n&&[n]},sync:_.wrap(i.Model.prototype.sync,function(e,t,n,r){return r.contentType="application/json",this.patchAttributes(u),r.data=JSON.stringify(this.decorator().toJSON()),e.call(this,t,n,r).promise()}),toJSON:function(){var e=this.get("type");return{type:_(e).underscored(),command_uuid:this.get("client_uuid"),parameters:p,results:this.get("response")}},undo:function(e){var t="undo "+d.get("type");console.time(t);var n=d.executor();if(n.canGenerateResults){var r=_.map(d.get("generatedResults"),function(e){return e.rollback_});d.executeResults(r),d.unset("generateResults")}else n.undo(a(n),d.modelsPreviousAttributes,e||{}),delete d.modelsPreviousAttributes;console.timeEnd(t)}})},validate:function(e){return e.type?void 0:"type can't be blank"},errorMessage:function(){var e=this.executor();return e.errorMessage&&e.errorMessage.apply(e,arguments)||n.apply(this,arguments)},executor:function(){if(this._executor)return this._executor;var e=i.Command.Executor[_.classify(this.get("type"))];return e&&(this._executor=new e({},{command:this}))||this.get("person_id")&&(this._executor=new i.Command.Executor.Unknown({},{command:this}))||t.call(this)}},{defaultErrorMessage:function(){return"Some of your changes have been rolled back."},registerServerSuccess:function(e,t){o[e]=o[e]||[],o[e].push(t)}}),c=function(e){return{included:function(t){t.registerServerSuccess(e,function(t){if(t.updated_at){var n=this.project()[_.pluralize(e)]().get(t);n&&n.set("updated_at",t.updated_at)}})}}};l.include(c("story")),l.include(c("epic")),i.Command=l}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({associations:{belongsTo:"command"},areErrorsSilent:function(){return!1},execute:function(){return!0},model:$.noop,models:$.noop,isMulti:function(){return!1},patchAttributes:_.identity,serverSuccess:$.noop,undo:$.noop,generateResults:function(){return[]},canGenerateResults:!1,canExecute:function(){return!0}});t.Command.Executor=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Command.extend({defaults:{type:"UpdateVersionCommand"},url:function(){var e=["/services","v5","project_stale_commands",this.project().id,this.project().get("version")].join("/");return t.helpers.envelope.addEnvelope(e)},save:function(e,t){return t=t||{},_.extend(t,{dataType:"json"}),$.ajax(this.url(),t)},allowsRetry:function(){return!1},undo:$.noop,execute:$.noop,patchAndExecute:function(){return{canExecute:!0}},toJSON:$.noop,initialize:$.noop,associations:{belongsTo:"project"}});t.Command.Executor.UpdateVersionCommand=t.Command.Executor.extend(),t.UpdateVersionCommand=n}.call(this),function(){"use strict";function e(){var e=this,t=new n.Projects,i={};_.extend(e,Backbone.Events),_.extend(e,{register:function(n,r,a){t.add(r,a),i[r.id]=i[r.id]||[];var o=!_.contains(i[r.id],n);return i[r.id]=_.union(i[r.id],[n]),o&&e.trigger("register:"+n,r),r},unregister:function(n,r){var a=_.contains(i[r.id],n);return i[r.id]=_.without(i[r.id],n),e.isActive(r)||t.remove(r),a&&e.trigger("unregister:"+n,r),r},isActive:function(e){return!_.isEmpty(i[e.id])},withKey:function(e){return t.select(function(t){return _.contains(i[t.id],e)})},size:function(){return t.size()},addUpdateVersionsToAggregator:function(e){t.each(function(t){var r=t.commandQueue();if(t.has("version")&&!r.size()){var i=new n.UpdateVersionCommand({},{project:t}),a=i.url(),o=e.addUrl(a);i.save=function(){return o.then(function(e){e&&e.data&&e.data.client_data&&n.DeployWarning.current().set(e.data.client_data,{validate:!0})}),o},r.add(i)}})}}),r.Pingables.add(e.addUpdateVersionsToAggregator),t.on("add",function(e,n,i){i=_.defaults(i,{fetch:!0}),i.fetch&&r.helpers.project.fetch(e),e.collection===t&&delete e.collection})}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next");_.extend(e,n.mixins.include),e.include(n.mixins.identityMap,n.mixins.current),n.ActiveProjects=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/timer/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["timer/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n  <section>\n    ",r=e.name,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(2,o,t)}),(r||0===r)&&(a+=r),a+="\n    <dl>\n      ",i=n.data,i?r=i.call(e,{hash:{},inverse:h.noop,fn:h.program(4,s,t)}):(r=e.data,r=typeof r===d?r():r),n.data||(r=g.call(e,r,{hash:{},inverse:h.noop,fn:h.program(4,s,t)})),(r||0===r)&&(a+=r),a+="\n    </dl>\n  </section>\n"}function o(e){var t,r,i="";return i+="\n    <header>",r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===d?t():t),i+=p(t)+' <strong class="',r=n["class"],r?t=r.call(e,{hash:{}}):(t=e["class"],t=typeof t===d?t():t),i+=p(t)+'">',r=n.last_time,r?t=r.call(e,{hash:{}}):(t=e.last_time,t=typeof t===d?t():t),i+=p(t)+"ms</strong> <em>(",r=n.calls,r?t=r.call(e,{hash:{}}):(t=e.calls,t=typeof t===d?t():t),i+=p(t)+" calls)</em></header>\n    "}function s(e){var t,r,i="";return i+="\n        <dt>",r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===d?t():t),i+=p(t)+'</dt>\n        <dd class="',r=n["class"],r?t=r.call(e,{hash:{}}):(t=e["class"],t=typeof t===d?t():t),i+=p(t)+'">',r=n.average,r?t=r.call(e,{hash:{}}):(t=e.average,t=typeof t===d?t():t),i+=p(t)+"ms / ",r=n.last_time,r?t=r.call(e,{hash:{}}):(t=e.last_time,t=typeof t===d?t():t),i+=p(t)+"ms / ",r=n.total_time,r?t=r.call(e,{hash:{}}):(t=e.total_time,t=typeof t===d?t():t),i+=p(t)+"ms <em>(",r=n.calls,r?t=r.call(e,{hash:{}}):(t=e.calls,t=typeof t===d?t():t),i+=p(t)+" calls)</em></dd>\n      "}n=n||e.helpers;var l,c,u="",d="function",p=this.escapeExpression,h=this,g=n.blockHelperMissing;return u+="<p>\n  <em>average</em>ms / <em>last</em>ms / <em>total</em>ms\n</p>\n\n",c=n.groups,c?l=c.call(t,{hash:{},inverse:h.noop,fn:h.program(1,a,i)}):(l=t.groups,l=typeof l===d?l():l),n.groups||(l=g.call(t,l,{hash:{},inverse:h.noop,fn:h.program(1,a,i)})),(l||0===l)&&(u+=l),u+="\n"}),this.HandlebarsTemplates["timer/show"]}.call(this)}.call(this),function(){"use strict";function e(e){i.console&&console.error&&console.error(e)}var t,n,r,i=this,a=_.namespace(i,"tracker"),o={},s="",l={},c={now:function(){return a.performance.now()},reset:function(){o={},n=null},disable:function(){t=!1,$(".timer_data").hide(),c.saveUserPreference(t),i.clearInterval(r)},enable:function(){t=!0,$(".timer_data").show(),c.saveUserPreference(t),a.Timer.renderData(),r=setInterval(a.Timer.renderData,1e3)},toggle:function(){c[t?"disable":"enable"]()},beginGroup:function(t){s&&e("Beginning group "+t+" while already in group "+s+" (you also cannot use nested beginGroup calls, sorry)"),t||e("Beginning group called without a name"),s=t,l[s]=l[s]||{},l[s].startTime=c.now(),l[s].wallTime=l[s].wallTime||0,l[s].calls=l[s].calls||0},endGroup:function(){var t=l[s]=l[s]||{};t.lastTime=c.now()-t.startTime,t.wallTime+=t.lastTime,t.calls++,s||e("Ending group without calling beginGroup (you also cannot use nested beginGroup calls, sorry)"),s=""},measure:function(e,t){c.begin(e);var n=t.call();return c.end(e),n},begin:function(e){var t=o[s]=o[s]||{},r=t[e]=t[e]||{};r.totalTime=r.totalTime||0,r.calls=r.calls||0,r.start=c.now(),n=n||r.start},end:function(e){var t=o[s]=o[s]||{},n=t[e]=t[e]||{};n.lastTime=c.now()-n.start,n.totalTime+=n.lastTime,n.calls++,delete n.start},instrument:function(e,n){var r=e[n],i=n;return t?(e[n]=function(){c.begin(i);var e=r.apply(this,arguments);return c.end(i),e},void 0):r.apply(this,arguments)},data:function(){return o},firstTimeAt:function(){return n},render:function(){t&&(c.begin("browser_rendering"),_.defer(function(){c.end("browser_rendering");var e=c.now();c.lastTimeAt=function(){return e},c.renderData()}))},hasUserEnabledTimer:function(){return i.localStorage&&"true"===i.localStorage.isTimerEnabled},saveUserPreference:function(e){i.localStorage&&(i.localStorage.isTimerEnabled=e+"")},ready:function(){_.defer(function(){$(".timer_data p").hide(),c.hasUserEnabledTimer()?c.enable():c.disable()})},renderData:function(){function e(e){return 10>e?Math.round(10*e)/10:Math.round(e)}if(t){var n={groups:_.chain(c.data()).map(function(t,n){var r=0;return{name:_.humanize(n),data:_.map(t,function(t,n){return r+=t.totalTime,{name:_.humanize(n),average:e(t.totalTime/t.calls),calls:t.calls,last_time:e(t.lastTime),total_time:e(t.totalTime),css_class:t.lastTime>300?"bad":t.lastTime>100?"okay":""}}),total_time:e(r),css_class:n?l[n].lastTime>300?"bad":l[n].lastTime>100?"okay":"":"",calls:n?l[n].calls:"",wall_time:n?e(l[n].wallTime):"",last_time:n?e(l[n].lastTime):""}}).sortBy(function(e){return-e.total_time}).value()},r=JST["templates/timer/show"](n);$(".timer_data div").html(r)}}};t=c.hasUserEnabledTimer(),a.Timer=c}.call(this),function(e,t){function n(){var e=[];_.extend(this,{size:function(){return e.length},add:function(t){var n=$.Deferred();return e.push({item:t,isSuccess:n,attempts:0}),n.promise()},flush:function(){_.each(e,function(e){e.isSuccess.reject()}),e=[]},items:function(){return _.pluck(e,"item")},processHead:function(){var t=this,n=e[0];if(n){n.attempts++;var i=n.item.perform(n.item);i.done(function(){e.shift();var t=_.toArray(arguments),r=t.shift();r===!0?n.isSuccess.resolve.apply(n.isSuccess,t):n.isSuccess.reject.apply(n.isSuccess,t)}).fail(function(){n.attempts>=r&&(e.shift(),n.isSuccess.reject.apply(n.isSuccess,arguments))}).progress(function(e){n.isSuccess.notify.call(n.isSuccess,_.extend(e,{attempts:n.attempts}))}).always(function(){t.processHead()})}}})}var r=100;t.WorkQueue=n}(window,tracker),function(e,t){var n=t.Collection.extend({associations:{belongsTo:"project"},initialize:function(){var e=this;this.on("reset",function(t,n){e.executeAsReceivingClient(n)})},model:t.Command,executeAsReceivingClient:function(e){this.invoke("executeAsReceivingClient",e);var t=this.last();return t&&this.project().set({version:t.get("project").version},{silent:!0}),this}});t.StaleCommands=n}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=function(e){return{included:function(t){t.prototype.extension=function(){var t=this.get(e)||"",n=t.match(/\.(\w+)$/);return n?n[1]:""}}}};_.namespace(t,"mixins.attachments").fileExtension=n}.call(this),function(e,t){function n(e){return{included:function(t){_.extend(t.prototype,{destroy:function(){var t=this.comment();if(t){var n={};t.story()?n.story_cid=t.story().cid:n.epic_cid=t.epic().cid,t.wouldBeEmpty()?t.destroy(n):(n[e+"_cid_to_remove"]=this.cid,t.save(n))}}})}}}_.namespace(t,"mixins.attachments").destroy=n}(window,window.tracker),function(e,t){var n=t.Model.extend({__name__:"FileAttachment",associations:[{belongsTo:"comment"}],toJSON:function(){return _(t.Model.prototype.toJSON.apply(this,arguments)).extend({title:this.get("filename")})},validate:function(e){return _(e.filename).isBlank()?"Filename can't be blank.":e.filename&&e.filename.length>255?"Please enter a filename 255 characters or less. The filename currently contains "+e.filename.length+" characters.":void 0}});n.include(t.mixins.attachments.destroy("file_attachment"),t.mixins.attachments.fileExtension("filename")),t.FileAttachment=n}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Command.Executor.AttachmentCreate=t.Command.Executor.extend({model:function(e){return this.command().project().fileAttachments().get(e)||new t.FileAttachment},execute:function(e,t){return this.command().project().fileAttachments().add(e.setBang(t)),{}},undo:function(e,t,n){this.command().project().fileAttachments().remove(e,n)},serverSuccess:function(e,t){e.setBang({id:t[0].id})}}),t.Command.Executor.AttachmentUpdate=t.Command.Executor.extend({execute:function(e,t){var n=_.clone(e.attributes);return e.set(t),n},model:function(e){return this.command().project().fileAttachments().get(e)},undo:function(e,t,n){e.setBang(t,n)},serverSuccess:function(e,t){e.setBang(t[0])}})}.call(this),function(e,t){var n=t.Collection.extend({model:t.FileAttachment,associations:{belongsTo:"comment"}});t.FileAttachments=n}(window,window.tracker),function(e,t){var n=t.Model.extend({__name__:"GoogleAttachment",associations:{belongsTo:"comment"},validate:function(e){return _(e.title).isBlank()?"Title can't be blank.":e.title&&e.title.length>255?"Please enter a title 255 characters or less. The title currently contains "+e.title.length+" characters.":void 0}});n.include(t.mixins.attachments.destroy("google_attachment")),t.GoogleAttachment=n}(window,window.tracker),function(e,t){var n=t.Collection.extend({__name__:"GoogleAttachments",associations:{belongsTo:"comment"},model:t.GoogleAttachment,url:"/services/v5/google_attachments",initialize:function(){var e=this;e.on("remove",function(){var t=e.comment();t.trigger("change",t)})},parse:function(e){return e.data}});t.GoogleAttachments=n}(window,window.tracker),function(e,t){function n(e,n,r){return new t.Command({type:e,parameters:n},{project:function(){return r}})}function r(e,t,r){var i=_({cid:this.get("original_cid")||this.cid}).extend(t),a=this.isNew()&&!this._hasBeenSaved,o=_(e+" "+(a?"create":"update")).classify(),s=n(o,i,this.project());return this._hasBeenSaved=!0,s.executeAsInitiatingClient("comment"!==e&&a?this:void 0,r)}function i(e){return{included:function(t){_(t.prototype).extend({initialize:_(t.prototype.initialize).wrap(function(e){this._hasBeenSaved=!1,e.apply(this,_(arguments).rest())}),save:function(t,n){return t=t||this.attributes,n=n||{},this._validate(t,_.extend(n,{validate:!0}))?r.call(this,e,t,n):!1},destroy:function(t){t=t||{};var r,i=this.get("original_cid")||this.cid;"story"===e?(t.cids=[i],r="multi story delete"):(t.cid=i,r=e+" delete");var a=n(_(r).classify(),t,this.project());return a.executeAsInitiatingClient()},toJSON:_(t.prototype.toJSON).wrap(function(e){var t=e.apply(this,_(arguments).rest());return t.has_pending_commands=this.hasPendingCommands(),t})})}}}_(t).namespace("mixins").saveWithCommand=i}(window,window.tracker),function(e,t){var n={included:function(e){_(e.prototype).extend({findMemberById:function(e){if(!this.project()||0>=e)return void 0;var n=this.project().members().get(e)||new t.Guest({id:e});return new t.PersonDecorator(n).toJSON({project:this.project()})}})}};_(t).namespace("mixins").withMembers=n}(window,window.tracker),function(e,t){var n={included:function(e){var n=e.prototype.toJSON;_(e.prototype).extend({toJSON:function(){return _(n.apply(this,arguments)).defaults({project_time_zone:this.project()&&this.project().get("time_zone").olson_name,user_time_zone:t.Person.current()&&t.Person.current().get("time_zone")&&t.Person.current().get("time_zone").olson_name})}})}};_(t).namespace("mixins").timezoneInJSON=n}(window,window.tracker),function(){"use strict";function e(e){this.project().fileAttachments().add(e)}function t(e){this.project().fileAttachments().remove(e)}function n(e){var t=this,n=this.project().fileAttachments();this.fileAttachments().add(_(e.file_attachments).map(function(e){var r=n.get(e);return r&&r.collection===n&&(r.collection=t.fileAttachments()),r||e}),{silent:!0}),n.add(this.fileAttachments().models,{silent:!0})}function r(e){e.google_attachments&&this.googleAttachments().add(e.google_attachments,{silent:!0})}function i(){return this.story()&&"story"||this.epic()&&"epic"}var a=this,o=_.namespace(a,"tracker"),s=o.Model.extend({__name__:"Comment",associations:[{belongsTo:"epic"},{belongsTo:"project",through:i},{belongsTo:"story"},{hasMany:"fileAttachments",parse:!1,inverseOf:"comment"},{hasMany:"googleAttachments",parse:!1,inverseOf:"comment"}],defaults:{text:"",file_attachments:[]},initialize:function(){var n=this;n.fileAttachments().on("add",e,this).on("remove",t,this)},parse:function(e){if(r.call(this,e),n.call(this,e),e&&"github"===e.commit_type&&e.text){var t=e.text.split("\n");t.length>=3&&(e.commit_author=_(t.shift()).trim(),e.commit_url=_(t.shift()).trim(),e.commit_message=_(t.join("\n")).trim(),e.text="")}return e},isDeletable:function(){var e=o.Person.current(),t=this.project(),n=t&&e.memberships().findByProjectId(t.id);return!e.isReadOnly(this.project())&&(n&&"owner"===n.get("role")||this.get("person_id")===e.id)},isGithub:function(){return"github"===this.get("commit_type")},removeAttachments:function(){this.project().fileAttachments().remove(this.fileAttachments().models),this.fileAttachments().reset([]),this.googleAttachments().reset([])},validate:function(e){return e.draft?void 0:e.text&&e.text.length>2e4?"Please enter a comment 20000 characters or less. The comment currently contains "+e.text.length+" characters.":_.isBlank(e.commit_type)&&this.isBlank(e)?"Currently the comment text is blank. Please enter some text in the comment or delete it.":void 0},isBlank:function(e){var t=e&&_.has(e,"text")?e.text:this.get("text");return!t&&!this.fileAttachments().length&&!this.googleAttachments().length},allAttachments:function(){return this.fileAttachments().models.concat(this.googleAttachments().models)},wouldBeEmpty:function(){return!this.get("text")&&this.allAttachments().length<=1}});s.include(o.mixins.saveWithCommand("comment")).include(o.mixins.withMembers).include(o.mixins.timezoneInJSON),o.Comment=s}.call(this),function(e,t){function n(e,t){return _.chain(e.models).invoke(t).pluck("models").flatten().compact().value()}var r=t.Collection.extend({associations:[{belongsTo:"story"},{belongsTo:"epic"}],model:t.Comment,fileAttachments:function(){return n(this,"fileAttachments")},googleAttachments:function(){return n(this,"googleAttachments")},hasImageFileAttachments:function(){return _.any(this.fileAttachments(),function(e){return e.get("thumbnailable")===!0})},hasAttachments:function(){return!(!this.fileAttachments().length&&!this.googleAttachments().length)}});t.Comments=r}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={included:function(e){e.prototype.save=_.wrap(e.prototype.save,function(e){if(!this.isNew())return e.apply(this,_.rest(arguments));var n=new t.Command({type:"MultiLabelCreate",parameters:{labels:[{name:this.get("name")}]}},{project:this.project()});return n.executeAsInitiatingClient(this)})}};_.namespace(t,"mixins.label").save=n}.call(this),function(){"use strict";function e(){var e,t;(e=this.epic())&&(t=e.label(),e.trigger("change",e,{label_id:t&&t.id}))
}function t(){this.project().labels().trigger("change",this.project().labels())}function n(e,t){if(!e.include(t)){var n=e.chain().invoke("index").sortedIndex(t.index()).value();e.add(t,{at:n})}}function r(e,t){var n=this.epic();if(n){var r,i=e.previous("accepted_at"),a=n.project().pastDoneStartTime().getTime(),o=n.get("draft"),s=i>=a,l=t?a>t:!1,c="accepted"!==e.previous("current_state")&&"accepted"===e.get("current_state");!o&&(s&&l||c&&l)&&(r=e.isEstimatable()?{past_done_stories_count:n.get("past_done_stories_count")+1,past_done_story_estimates:n.get("past_done_story_estimates")+e.get("estimate")}:{past_done_stories_count:n.get("past_done_stories_count")+1,past_done_stories_no_point_count:n.get("past_done_stories_no_point_count")+1},n.set(r,{silent:!0}))}}var i=this,a=_.namespace(i,"tracker"),o={included:function(i){i.associations({hasMany:"stories",className:"CachedStories",parse:!1}),i.prototype.initialize=_.wrap(i.prototype.initialize,function(i,a,o){i.call(this,a,o),this.listenTo(this.stories(),"change:accepted_at",r),this.listenTo(this.stories(),"add remove reset change:estimate change:current_state change:accepted_at",e),this.listenTo(this.stories(),"add remove reset",t);var s=this.project();s&&!o.draft&&(this.listenTo(s.epics(),"add change:labels",function(e){e.labels().include(this)?this.epics().add(e):this.epics().remove(e)}),this.listenTo(s.epics(),"reset",function(e){e.each(function(e){e.labels().include(this)&&this.epics().add(e)},this)}),this.listenTo(s.epics(),"remove",function(e){e.labels().include(this)&&this.epics().remove(e)}),this.listenTo(s.stories(),"add change:labels",function(e){e.labels().include(this)?n(this.stories(),e):this.stories().remove(e)}),this.listenTo(s.stories(),"reorder",function(e){e.labels().include(this)&&(this.stories().remove(e,{silent:!0}),n(this.stories(),e))}),this.listenTo(s.stories(),"remove",function(e){e&&e.labels().include(this)&&(this.stories().remove(e),s.labels().trigger("change",this))}))})}};_.namespace(a,"mixins.label").reverseAssociations=o}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={validate:function(e){return e.name?_.strip(e.name)!==e.name?"Please remove spaces from the beginning and end of label name":-1!==e.name.indexOf(",")?"Please remove commas from the label name":e.name&&e.name.length>255?"Please enter a label 255 characters or less. The label currently contains "+e.name.length+" characters.":void 0:"Please enter a label name"}};_.namespace(t,"helpers").label=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Label",associations:[{belongsTo:"project"},{hasMany:"epics"}],defaults:{past_done_stories_count:1},hasEpic:function(){return!!this.epic()},epic:function(){return this.epics().first()},validate:_.wrap(t.helpers.label.validate,function(e,t){var n;if(!_.isUndefined(n=e.call(this,t)))return n;var r=this.project().labels().findByName(t.name);return this.collection&&!t.forwarding_cid&&r&&r.cid!==this.cid?"You may not choose a label name that is already in use":void 0}),doneCount:function(){var e=this.stories();return e?this.project().isShowingPastDone()?e.acceptedBeforeCurrentCount():this.get("past_done_stories_count")+e.acceptedBeforeCurrentNotPastDoneCount():0},isAboutToDie:function(){return this._isAboutToDie},isUnsaved:function(){return this.isNew()&&!_.isBlank(this.get("name"))}},{normalize:function(e){return e&&_(e.replace(/,/g,"")).trim().toLowerCase().slice(0,255)}});n.include(t.mixins.saveWithCommand("label")),n.include(t.mixins.label.save),n.include(t.mixins.label.reverseAssociations),n.prototype.destroy=_(n.prototype.destroy).wrap(function(e){this._isAboutToDie=!0;return e.apply(this,_(arguments).rest())}),t.Label=n}.call(this),function(e,t){function n(e){function t(e,t){return!t||_.any(e,function(e){return _.has(t,e)})}function n(n,r){n&&_.each(e,function(e,i){if(t(e.dependsOn,r)){var a=this._caches[i];_.has(a.cids,n.cid)||(a.cids[n.cid]=n,a.memo=e.add.call(this,a.memo,n))}},this)}function r(e,t){for(var n={},r=0,i=t.length;i>r;r++)n[t[r]]=e[t[r]];return n}function i(n,i){n&&_.each(e,function(e,a){if(t(e.dependsOn,i)){var o=this._caches[a];if(_.has(o.cids,n.cid)){delete o.cids[n.cid];var s=r(n.attributes,e.dependsOn);o.memo=e.remove.call(this,o.memo,n,s)}}},this)}function a(e,t,n){return e[n]={cids:[],memo:_.clone(t.memo)},e}_.each(e,function(e){e.dependsOn=_.flatten([e.dependsOn])});var o=_.inject(e,function(e,t,n){return e[n]=function(){return this._caches[n].memo},e},{});return{included:function(t){var r=t.prototype.initialize,s=t.prototype._prepareModel,l=t.prototype._removeReference;_.extend(t.prototype,o,{initialize:function(t,o){this._caches=_.inject(e,a,this._caches||{}),this.on("cache:remove",i,this),this.on("cache:add",n,this),r.call(this,t,o)},_prepareModel:function(e,t){var r=s.call(this,e,t);return n.call(this,r),r},_removeReference:function(e){i.call(this,e),l.call(this,e)}}),t.prototype.model&&_.extend(t.prototype.model.prototype,{set:function(e,t,n){var r,i,a,o,s,l,c,u;if(null==e)return this;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,this.trigger("cache:remove",this,i),n||(n={}),!this._validate(i,n))return!1;a=n.unset,s=n.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=_.clone(this.attributes),this.changed={}),u=this.attributes,c=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],_.isEqual(u[r],t)||o.push(r),_.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,a?delete u[r]:u[r]=t;if(this.trigger("cache:add",this,i),!s){o.length&&(this._pending=!0);for(var d=0,p=o.length;p>d;d++)this.trigger("change:"+o[d],this,u[o[d]],n)}if(l)return this;if(!s)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this}})}}}_.namespace(t,"mixins.collections").caches=n}(window,tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({model:t.Label,associations:[{belongsTo:"project"},{belongsTo:"story"},{belongsTo:"epic"}],hasEpic:function(e){return this.any(function(t){return e.label()===t})},findByName:function(e){var n=e&&t.Label.normalize(e);return this.names()[n]},findOrCreateByName:function(e){return this.findByName(e)||this.push({name:e})},findAllByIdsOrCids:function(){var e=this;return _.chain(arguments).toArray().flatten().compact().map(function(t){return e.get(t)}).compact().uniq().value()},sortByName:function(){this.models=this.sortBy("name")},save:function(){var e=this.filter(function(e){return e.isNew()}),n=this.project();if(!_.isEmpty(e)){var r=new t.Command({type:"MultiLabelCreate",parameters:{labels:_.chain(e).invoke("get","name").map(function(e){return{name:e}}).value()}},{project:function(){return n}});r.executeAsInitiatingClient(e)}}});n.include(t.mixins.collections.caches({names:{memo:{},dependsOn:"name",add:function(e,n){var r=t.Label.normalize(n.get("name"));return e[r]=n,e},remove:function(e,n){var r=t.Label.normalize(n.get("name"));return delete e[r],e}}})),t.Labels=n}.call(this),function(e,t){var n=t.Model.extend({__name__:"ActivityEntry",associations:{belongsTo:"project"},defaults:{expanded:!1},aggregate:function(){if(!this.collection)return this;var e=this.collection.aggregates()[this.key()][this.get("occurred_at")];return new n(_.extend({entries:e.entries,source:e.source},e.source.attributes),{project:this.project()})},key:function(){var e=this.get("primary_resources");return e&&_.map(e,function(e){return e.kind+"_"+e.id}).join("_")},idAttribute:"guid",isRevealable:function(){var e=this.project(),t=this.get("primary_resources")[0];if(!e)return!1;if(!_(["story","epic"]).include(t.kind))return!1;var n=e[_(t.kind).pluralize()]().get(t);return n?"story"===t.kind&&!e.isShowingPastDone()&&n.isPastDone()?!1:!0:!1},isMulti:function(){return this.get("primary_resources").length>1},isSource:function(){return this.aggregate().get("source")===this},getSource:function(){return this.aggregate().get("source")},hasChanges:function(){return _(["epic_create_activity","epic_update_activity","story_create_activity","story_update_activity"]).include(this.get("kind"))||this.isMulti()}});n.include(t.mixins.timezoneInJSON),t.ActivityEntry=n}(window,window.tracker),function(){"use strict";function e(){return this.story()&&"story"||this.epic()&&"epic"}var t=this,n=_.namespace(t,"tracker"),r=n.Collection.extend({model:n.ActivityEntry,associations:[{belongsTo:"story"},{belongsTo:"epic"},{belongsTo:"project",through:e}],parse:function(e){return e.data},comparator:function(e){return-e.get("occurred_at")},url:function(){var e=["/services/v5/projects",this.project().id];return this.story()&&(e=e.concat("stories",this.story().id)),this.epic()&&(e=e.concat("epics",this.epic().id)),e.concat("activity").join("/")+"?"+$.param({date_format:"millis"})}});r.include(n.mixins.models.lastAjax("fetch")),n.ActivityEntries=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Task",associations:[{belongsTo:"story"},{belongsTo:"project",through:"story"}],defaults:{description:"",complete:!1},validate:function(e){return e.draft?void 0:_(e.description).isBlank()?"description can't be blank":e.description&&e.description.length>1e3?"Please enter a task 1000 characters or less. The task currently contains "+e.description.length+" characters.":void 0}});n.include(t.mixins.saveWithCommand("task")),t.Task=n}.call(this),function(e,t){t.Tasks=t.Collection.extend({model:t.Task,associations:[{belongsTo:"story"},{belongsTo:"project",through:"story"}]})}(window,window.tracker),function(e,t){function n(e,t){_.each(e,function(e,n){e.actions&&_.each(e.actions,function(e,r){if(!_.has(t,r))throw"Missing action '"+r+"' defined in state '"+n+"'"})}),_.extend(this,{states:function(){return e},actions:function(){return t},toJSON:_.memoize(function(e){if(!_.has(this.states(),e))return{};var t=this,n={state:e,actions:[],bucket:t.states()[e].bucket};return _.each(t.states()[e].actions,function(e,r){n.actions.push(_.extend({action:r,to:e},t.actions()[r]))}),n}),forcedEstimationStates:function(){return _.reduce(this.states(),function(e,t,n){return t.forcedEstimation&&e.push(n),e},[])}})}t.StateMachine=n}(window,tracker),function(){"use strict";function e(e){var t=e.get("story_type");return d[d.hasOwnProperty(t)?t:"feature"]}function t(e){if(e.has("current_state"))if(e.isAccepted()){if(!e.has("accepted_at")){var t=i.DateTime.now().getTime();t=1e3*parseInt(t/1e3,10),e.set({accepted_at:t})}}else null!==e.get("accepted_at")&&e.set("accepted_at",null)}function n(){return{included:function(n){_(n).extend({stateMachines:function(e){return d[e]},buckets:a});var r=n.prototype.initialize||$.noop;_(n.prototype).extend(_({initialize:function(){r.apply(this,arguments),this.listenTo(this,"change",function(){t(this)})},state:function(){return e(this).toJSON(this.get("current_state"))},allStates:function(){return _(e(this).states()).keys()},releaseBucket:function(){var e=this.get("current_state");if("planned"===e||"unstarted"===e&&this.project().get("automatic_planning")){var t=this.nextNotRelease();if(t&&t.state().bucket===a.ACTIVE)return a.ACTIVE;var n=this.previousNotRelease();if(!n||n&&n.state().bucket===a.ACTIVE||n&&n.state().bucket===a.ACCEPTED)return a.ACTIVE}return this.state().bucket},bucket:function(){return this.isRelease()?this.releaseBucket():this.state().bucket},nextNotRelease:function(e){if(e=e||this.collection&&this.collection.models,!e)return null;var t=e.indexOf(this);if(-1===t)return null;if(t+=1,t>=e.length)return null;var n=e[t];return n&&n.isRelease()?n.nextNotRelease(e):n},previousNotRelease:function(e){if(e=e||this.collection&&this.collection.models,!e)return null;var t=e.indexOf(this)-1;if(0>t)return null;var n=e[t];return n&&n.isRelease()?n.previousNotRelease(e):n}}).extend(p))}}}var r=this,i=_.namespace(r,"tracker"),a={UNSCHEDULED:4,SCHEDULED:3,PLANNED:2,ACTIVE:1,ACCEPTED:0},o={unscheduled:{actions:{start:"started"},bucket:a.UNSCHEDULED},unstarted:{actions:{start:"started"},bucket:a.SCHEDULED},planned:{actions:{start:"started"},bucket:a.PLANNED},started:{actions:{finish:"finished"},bucket:a.ACTIVE,forcedEstimation:!0},finished:{actions:{deliver:"delivered"},bucket:a.ACTIVE,forcedEstimation:!0},delivered:{actions:{accept:"accepted",reject:"rejected"},bucket:a.ACTIVE,forcedEstimation:!0},rejected:{actions:{restart:"started"},bucket:a.ACTIVE,forcedEstimation:!0},accepted:{actions:{},bucket:a.ACCEPTED,forcedEstimation:!0}},s={unscheduled:{actions:{start:"started"},bucket:a.UNSCHEDULED},unstarted:{actions:{start:"started"},bucket:a.SCHEDULED},planned:{actions:{start:"started"},bucket:a.PLANNED},started:{actions:{finish:"accepted"},bucket:a.ACTIVE,forcedEstimation:!0},accepted:{actions:{},bucket:a.ACCEPTED,forcedEstimation:!0}},l={unscheduled:{actions:{},bucket:a.UNSCHEDULED},unstarted:{actions:{finish:"accepted"},bucket:a.SCHEDULED},planned:{actions:{finish:"accepted"},bucket:a.PLANNED},accepted:{actions:{},bucket:a.ACCEPTED}},c={start:{button:"Start"},finish:{button:"Finish"},deliver:{button:"Deliver"},restart:{button:"Restart"},reject:{button:"Reject"},accept:{button:"Accept"}},u=new i.StateMachine(o,c),d={release:new i.StateMachine(l,c),chore:new i.StateMachine(s,c),feature:u,bug:u},p=_(d.feature.states()).chain().keys().inject(function(e,t){return e[_("is "+t).camelize()]=function(){return this.get("current_state")===t},e},{}).value();_.namespace(i,"mixins.stories").state=n}.call(this),function(e,t){function n(){return{included:function(e){_(e).extend({types:["feature","bug","chore","release"]});var t=_(e.types).inject(function(e,t){return e[_("is "+t).camelize()]=function(){return this.get("story_type")===t},e},{});_(e.prototype).extend(t);var n=e.prototype.initialize||$.noop;_(e.prototype).extend({initialize:function(){n.apply(this,arguments),this.listenTo(this,"change:story_type",function(e,t){this.project().isStoryTypeEstimatable(e.previous("story_type"))&&!e.isEstimatable()&&e.set({estimate:-1}),"release"!==t&&"release"===e.previous("story_type")&&e.set({deadline:null}),_(e.state()).isEmpty()&&("chore"===t?e.set({current_state:"started"}):"release"===t&&e.set({current_state:"unstarted"}))})}})}}}_(t).namespace("mixins.stories").storyType=n}(window,window.tracker),function(e,t){function n(e){return _.chain(e).rest().reverse().rest().any(_.isUndefined).value()}function r(e){var n=0;return{index:function(r){function i(){var e=s.find(function(e){return e.get("accepted_at")>r.get("accepted_at")});if(e)return e.index();var t=s.scope().accepted().last();return t?t.index()+1:0}function a(e){var t=null;return _.each(e,function(e){t||(t=s.scope().bucket(e).last())}),t&&t.index()+1||0}var o,s=e.stories(),l=t.Story.buckets,c=r.bucket();return c===l.UNSCHEDULED?(o=s.scope().icebox().first(),o&&o.index()+n++):c===l.SCHEDULED?a([l.SCHEDULED,l.PLANNED,l.ACTIVE,l.ACCEPTED]):c===l.PLANNED?a([l.PLANNED,l.ACTIVE,l.ACCEPTED]):c===l.ACTIVE?a([l.ACTIVE,l.ACCEPTED]):c===l.ACCEPTED?i():void 0}}}var i={findBeforeAndAfterStories:function(e,n,r,i,a){function o(){return _.all(n,function(t){return!!p.isAllowedOrdering(e,t,r,i)})}function s(){for(;_.include(n,r);)r=r.nextNotRelease()}function l(){for(;_.include(n,e);)e=e.previousNotRelease()}function c(e){if(!e)return!0;var t=e.project(),n=t.get("automatic_planning"),r="current"===i&&n?"scheduled":i;return e.group()===r}function u(){e=a.stories().scope().backlog().last(),l(),r=e&&e.nextNotRelease(),s(),"unscheduled"!==i||r||(e=!1)}n=_.isArray(n)?n:[n];var d="unscheduled"===i?"icebox":"current",p=new t.Panel({type:d},{project:a});e||r||u(),!r&&e&&(r=e.next());var h=o(),g=!e||!r||e.index()===r.index()-1,f=c(r)||c(e),m=h&&g&&f;if(!m){var v=r;r=e&&e.next(),s(),m=o()&&c(e),m||(r=v,e=r&&r.prev(),l(),m=o()&&c(r),m||(e=null,r=null,m=o()))}return{isValid:m,beforeStory:r,afterStory:e}},findBeforeAndAfterStoryCids:function(e,n){switch(n){case"current":return{afterCid:i.bottomOfMoreAcceptedBucketCid(e,t.Story.buckets.PLANNED),beforeCid:i.topOfLessAcceptedBucketCid(e,t.Story.buckets.SCHEDULED)};case"scheduled":return{afterCid:i.bottomOfMoreAcceptedBucketCid(e,t.Story.buckets.SCHEDULED),beforeCid:i.topOfLessAcceptedBucketCid(e,t.Story.buckets.UNSCHEDULED)};case"unscheduled":return{afterCid:i.bottomOfMoreAcceptedBucketCid(e,t.Story.buckets.UNSCHEDULED),beforeCid:void 0}}},topOfLessAcceptedBucketCid:function(e,t){var n=e.at(i.topOfLessAcceptedBucket(e,t));return n&&n.cid},bottomOfMoreAcceptedBucketCid:function(e,t){var n=e.at(i.bottomOfMoreAcceptedBucket(e,t));return n&&n.cid},topOfLessAcceptedBucket:function(e,n){for(var r=e.models,i=0;i<r.length;i++){var a=r[i];if(a.state().bucket>=n){var o;if(!a.isRelease()||!(o=a.nextNotRelease())||o.bucket()!==t.Story.buckets.ACTIVE)return r[i].index()}}return r.length},bottomOfMoreAcceptedBucket:function(e,t){for(var n=e.models,r=n.length-1;r>=0;r--)if(n[r].bucket()<=t)return n[r].index();return-1},calculateNewIndexByBucket:function(e,t,n){return n>t?i.bottomOfMoreAcceptedBucket(e,t)+1:i.topOfLessAcceptedBucket(e,t)},calculateNewIndexByAcceptedAt:function(e,t){var n=e.find(function(e){return e.get("accepted_at")>t.get("accepted_at")?!0:void 0});if(n)return n.index();var r=e.scope().accepted().last();return r?r.index()+1:0},moveBetween:function(e,n,r,i,a){if(!_.isUndefined(r)){for(r=_.isArray(r)?r:[r];_.contains(r,n);)n=e.at(n.index()-1);for(;_.contains(r,i);)i=e.at(i.index()+1);if(e.remove(r,{silent:!0}),n)e.add(r,{at:n.index()+1,silent:!0});else if(i)e.add(r,{at:i.index(),silent:!0});else{var o=e.scope().backlog().last(),s=e.scope().icebox().first();if("current"===a){var l=e.find(function(e){return e.bucket()>t.Story.buckets.ACTIVE});l?e.add(r,{at:l.index(),silent:!0}):e.add(r,{silent:!0})}else"scheduled"===a?o?e.add(r,{at:o.index()+1,silent:!0}):s?e.add(r,{at:s.index(),silent:!0}):e.add(r,{silent:!0}):"unscheduled"===a&&(s?e.add(r,{at:s.index(),silent:!0}):e.add(r,{silent:!0}))}}},verifyServerStoryOrder:function(e,t,r,i,a){if(a=a||[],!(e.project()&&e.project().get("partially_loaded")||!e.has("results")&&e.project().commandQueue().size()>0)){var o=[];if(_.each(r,function(e){if("story"===e.type){var r=_.find(t,function(t){return t.id===e.id});if(r&&(!r.isPastDone()||r.project().isShowingPastDone())){if(n(i))return;var s=i.indexOf(r.id),l=i[s-1],c=i[s+1],u=_.has(e,"after_id")||_.has(e,"before_id"),d=a.indexOf(r.id),p=a[d-1],h=a[d+1],g=_.contains(a,r.id)&&!_.contains(i,r.id),f=_.has(e,"after_id")&&l&&e.after_id!==l||_.has(e,"before_id")&&c&&e.before_id!==c,m=h!==c||p!==l;f?o.push("Story #"+r.id+" was placed between #"+l+" and #"+c+" by the client, but the server thinks it is between #"+e.after_id+" and #"+e.before_id+"."):u||_.isEmpty(a)||!m||g||o.push("Story #"+r.id+" was placed between #"+l+" and #"+c+" by the client, but the server thinks it did not move")}}}),!_.isEmpty(o)){var s="Server does not agree with client story order: [ "+o.join(", ")+" ]";return{stack_info:{message:s},reorder:!0}}}},verifyServerStoryState:function(e,t,n,r){if(!(e.project()&&e.project().get("partially_loaded")||!e.has("results")&&e.project().commandQueue().size()>0)){var i=_.chain(t).where({type:"story"}).map(function(e){var t=_.findWhere(n,{id:e.id}),i=_.findWhere(r,{id:e.id}),a=t&&t.current_state,o=i&&i.current_state,s=e.current_state||a;return e.deleted||e.moved||!i||s===o?void 0:"current_state for story #"+e.id+" is '"+s+"' on the server, but '"+o+"' on the client"}).compact().value();if(!_.isEmpty(i)){var a="Server does not agree with client on story states: [ "+i.join(", ")+" ]";return{stack_info:{message:a},reorder:!0}}}},setStoriesStates:function(e,n,r,i,a){n=_.isArray(n)?n:[n];var o=!a.get("automatic_planning"),s="current"!==i||o?i:"scheduled",l="unscheduled"===s?"icebox":"current",c=new t.Panel({type:l},{project:a}),u=!1;return _.each(n,function(t){var n=c.isAllowedOrdering(e,t,r,s);n&&n!==!0&&(u=!0,t.set({current_state:n},{silent:!0}))}),u},shouldSkipDoneIterations:function(e){return!_.any(e,function(e){return!e.bucket()})},getStories:function(e,t){return _(e).chain().map(function(e){return t.project().stories().get(e)}).compact().sortBy(function(e){return e.index()}).value()},isValidOrdering:function(e){for(var t=-1,n=-1,r=e.models,i=r.length,a=0;i>a;a++){if(n=r[a].bucket(),t>n)return!1;t=n}return!0}};_.namespace(t,"helpers").moveStory=i,_.namespace(t,"helpers").moveStory.BucketIndexPolicy=r}(window,tracker),function(e,t){function n(e,t){var n=_(e.previousAttributes()).pick("story_type","current_state"),r=_(e.attributes).pick("story_type","current_state");_(e.attributes).extend(n);var i=t(e);return _(e.attributes).extend(r),i}function r(e,r){function i(e){return t.helpers.moveStory.calculateNewIndexByBucket(l,s,o,e)}function a(){return t.helpers.moveStory.calculateNewIndexByAcceptedAt(l,e)}r=r||{};var o,s,l=e.collection;if(l){o=n(e,function(e){return e.bucket()}),s=e.state().bucket;var c=t.helpers.moveStory.isValidOrdering(l);return e.isAccepted()?l.move(e,a,r):c&&!e.isRelease()||o===s?r.silent||e.trigger("reorder",e,l):l.move(e,i,r),{recalculate:!(r.silent||o===s&&s===t.Story.buckets.ACTIVE),recalculateDone:!(o&&s)}}}var i={included:function(e){var n=e.prototype.initialize||$.noop;_(e.prototype).extend({initialize:function(){n.apply(this,arguments),this.listenTo(this,"change:current_state change:story_type change:accepted_at",function(e,t,n){if(n=n||{},this.get("draft")!==!0&&!n.skipChangeHandling)if(_.intersection(["current_state","accepted_at"],_.keys(e.changedAttributes())).length>0){var i=r(this);i.recalculate&&(this._recalculate=!0,this._recalculateDone=this._recalculateDone||i.recalculateDone)}else this._recalculate=!0,this._recalculateDone=this._recalculateDone||0===e.state().bucket}),this.listenTo(this,"change:estimate",function(e,n,r){if(r=r||{},this.get("draft")!==!0&&!r.skipChangeHandling){var i={},a=this.bucket();if(a!==t.Story.buckets.UNSCHEDULED){i.recalculate=!0;var o=a===t.Story.buckets.ACCEPTED;i.recalculateDone=_(i).has("recalculateDone")?i.recalculateDone&&o:o}i.recalculate&&(this._recalculate=!0,this._recalculateDone=this._recalculateDone||i.recalculateDone)}}),this.listenTo(this,"change:deadline",function(e,n){if(n=n||{},this.get("draft")!==!0&&!n.skipChangeHandling){var r=this.bucket();r!==t.Story.buckets.UNSCHEDULED&&(this._recalculate=!0,this._recalculateDone=!0)}}),this.listenTo(this,"change",function(){this._recalculate&&(this.project().iterations().recalculate({skipDoneIterations:!this._recalculateDone}),this._recalculate=!1,this._recalculateDone=!1)})},moveIfNecessary:function(e){var t=r(this.original(),e);return t.recalculate&&this.project().iterations().recalculate({skipDoneIterations:!t.recalculateDone}),this}})}};_(t).namespace("mixins.stories").changeHandling=i}(window,window.tracker),function(e,t){function n(e){var t=e.match(/s$/);return{included:function(n){var r=n.prototype.initialize;_.extend(n.prototype,{initialize:function(n,i){function a(){l.trigger("change:labels",l,l.collection)}function o(){if(t)l.set(e,l.labels().cids(),{silent:!0});else{var n=l.labels().first();l.set(e,n?n.cid:null,{silent:!0}),l.set("label_id",n?n.id:null,{silent:!0})}}function s(){l.labels().chain().filter(function(e){return e.has("forwarding_cid")}).each(function(e){var t=l.project().labels().get(e.get("forwarding_cid"));t&&(l.labels().remove(e),l.labels().add(t))})}i=i||{};var l=this,c=this[_.pluralize(e)]();this.listenTo(c,"change",function(){a(),o()}),this.listenTo(c,"add",function(){s(),o(),a()}),this.listenTo(c,"remove",function(e){o(),e.isAboutToDie()?l.trigger("change",l,l.collection):a()}),this.listenTo(c,"reset",function(){s()}),this.listenTo(c,"destroy",function(){l.trigger("change",l,l.collection)}),r.apply(this,arguments)}})}}}_.namespace(t,"mixins").labels=n}(window,window.tracker),function(e,t){function n(e){return{included:function(t){_(t.prototype).extend({original:function(){return this},maximizePath:function(){var t=this.original();return t&&["/projects",t.project().id,_(e).pluralize(),t.id].join("/")},panel:$.noop})}}}_(t).namespace("mixins").narrative=n}(window,window.tracker),function(e,t){function n(e){var t={person_id:e.id};return t[(e.story()?"story":"epic")+"_cid"]=e.story()?e.story().original().cid:e.epic().original().cid,t}var r=t.Model.extend({__name__:"Follower",associations:[{belongsTo:"story"},{belongsTo:"epic"}],project:function(){return this.story()?this.story().project():this.epic().project()},save:function(){if(!this.get("draft")){var e=new t.Command({type:"FollowerCreate",parameters:n(this)},{project:this.project()});return e.executeAsInitiatingClient()}},destroy:function(){if(!this.get("draft")){var e=new t.Command({type:"FollowerDelete",parameters:n(this)},{project:this.project()});return e.executeAsInitiatingClient()}}});t.Follower=r}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"Followers",model:t.Follower,associations:[{belongsTo:"story"},{belongsTo:"epic"},{belongsTo:"project",through:"story"}]});t.Followers=n}.call(this),function(){function e(e){var t=e.data||e;return _.map(t.follower_ids,function(e){return{id:e}})}function t(t){return{included:function(n){n.associations({hasMany:"followers",parse:!1,inverseOf:t});var r=n.prototype.initialize;_.extend(n.prototype,{initialize:function(){function e(){t.set("followers",t.followers().pluck("id"))}var t=this;this.followers().on("add remove reset",e),r.apply(this,arguments)},parse:_.wrap(n.prototype.parse,function(t,n){return this.followers().reset(e.call(this,n)),t.apply(this,_.rest(arguments))}),followedByPerson:function(e){return this.followers().find(function(t){return t.id===e.id})}})}}}var n=this,r=_.namespace(n,"tracker");_.namespace(r,"mixins").followers=t}.call(this),function(){"use strict";function e(e,t,n){this.trigger("sync",this,t,n)}function t(t,n){t.prototype[n]=_.wrap(t.prototype[n],function(t){var r=t.call(this);return this.has(n)&&(r.reset(this.get(n),{parse:!0,silent:!0}),this.unset(n,{silent:!0}),r.on("sync",e,this)),r})}function n(){var e=arguments;return{included:function(n){_.each(e,function(e){t(n,e)})}}}var r=this,i=_.namespace(r,"tracker");_.namespace(i,"mixins").lazyAssociations=n}.call(this),function(){"use strict";function e(e){return{included:function(t){t.prototype.url=function(r){var i=["/services","v5",_.pluralize(e),this.id].join("/"),a=["date_format=millis"];return(r||{}).withProject?a.push("fields="+t.API_FIELDS+",project("+n.Project.API_FIELDS+")"):a.push("fields="+t.API_FIELDS),i+"?"+a.join("&")}}}}var t=this,n=_.namespace(t,"tracker");_.namespace(n,"mixins.models").url=e}.call(this),function(){"use strict";function e(t,n,r,i,a,o,s){var l=_.isNumber(t);this.date=l&&1===arguments.length?new Date(t):l?new Date(t,n||0,r||1,i||0,a||0,o||0,s||0):new Date(t?t.getTime?t.getTime():t:e.now())}function t(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}var n=this,r=_.namespace(n,"tracker");e.prototype=goog.date.DateTime.prototype,_.extend(e,{getTimezoneOffsetHours:function(){return(new e).getTimezoneOffset()/-60},now:function(){return new e(new Date(Date.now()))},parse:function(){return new e(new Date(Date.parse.apply(this,arguments)))},sameDay:function(e,n,i){if(e===n)return!0;if(null===e||null===n)return!1;var a=new r.DateTime(e).getTimezoneDate(i),o=new r.DateTime(n).getTimezoneDate(i);return t(a,o)}}),_.extend(e.prototype,{previousDayOfWeek:function(e){var t=e-this.getDay();return t=(7-t)%7,this.add({days:-t})},add:_.wrap(e.prototype.add,function(t,n){var r=goog.date.Interval,i=this.clone();if(_.isNumber(n.months)&&t.call(i,new r(r.MONTHS,n.months)),_.isNumber(n.weeks)&&t.call(i,new r(r.DAYS,7*n.weeks)),_.isNumber(n.days)&&t.call(i,new r(r.DAYS,n.days)),_.isNumber(n.minutes)&&t.call(i,new r(r.MINUTES,n.minutes)),_.isNumber(n.seconds)&&t.call(i,new r(r.SECONDS,n.seconds)),_.isNumber(n.milliseconds)&&t.call(i,new r(r.SECONDS,n.milliseconds?n.milliseconds/1e3:0)),n.time_zone){var a=i.getTimezoneOffset()-this.getTimezoneOffset(),o=i.getTimezoneDate(n.time_zone).getTimezoneOffset()-this.getTimezoneDate(n.time_zone).getTimezoneOffset();a-o&&(i=new e(i.getTime()-60*a*1e3+60*o*1e3))}return i}),atMidnight:function(){return new e(this.getFullYear(),this.getMonth(),this.getDate())},previousDayByDayOfTheWeek:function(e){return _.isUndefined(e)?null:this.getDay()===e?this:this.add({days:-1}).previousDayByDayOfTheWeek(e)},toDate:function(){return new Date(this.getTime())},strftime:function(){var e=this.toDate();return e.strftime.apply(e,arguments)},getTimezoneDate:function(e){return e?new timezoneJS.Date(this.getTime(),e):new timezoneJS.Date(this.getTime())}}),r.DateTime=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={collapseItemsInPanels:function(t){return _.chain(t).invoke("isUnsaved").any().value()&&!e.confirm("You have unsaved changes, are you sure you want to close the panel?")?!1:(_.each(t,function(e){e.expandedModels().set([])}),!0)},resort:function(e,t){function n(n){return e.find(function(e){return e.get("type")===n&&e.get("visible")===!0&&e.isClone()===!1&&e.project()===t.project()})}function r(r){for(var i=a.indexOf(r),o=1;o<a.length;o++){var s=i+o,l=i-o,c=a[s]&&n(a[s]);if(c)return e.move(t,e.indexOf(c));var u=a[l]&&n(a[l]);if(u)return e.move(t,e.indexOf(u)+1)}e.move(t,0)}function i(){var n=e.chain().without(t).filter(function(e){return e.get("visible")}).filter(function(e){return e.project()===t.project()}).last().value();n?e.move(t,e.indexOf(n)+1):e.move(t,e.length)}var a=["done","current","backlog","icebox","epics"],o=t.get("type");e.move(t,e.length-1,{silent:!0}),t.isWorkflow()?r(o):i()}};_.namespace(t,"helpers").panels=n}.call(this),function(){"use strict";function e(e){this.panel=e}var t=this,n=_.namespace(t,"tracker");e.prototype.getPosition=function(){var e=this.panel.project().stories().scope().backlog().first()||{cid:null};return{group:"scheduled",before_cid:e.cid,after_cid:null}},_.namespace(n,"panels.positionStrategies").BacklogPositionStrategy=e}.call(this),function(){"use strict";function e(e){this.panel=e}var t=this,n=_.namespace(t,"tracker");e.prototype.getPosition=function(){return{}},_.namespace(n,"panels.positionStrategies").DefaultPositionStrategy=e}.call(this),function(){"use strict";function e(e){this.panel=e}var t=this,n=_.namespace(t,"tracker");e.prototype.getPosition=function(){var e=this.panel.project(),t=e.stories(),n=t.scope().active().last()||t.scope().accepted().last()||{cid:null},r=t.scope().current().not("active").not("accepted").first(),i=t.scope().backlog().first(),a=r||i||{cid:null};return{group:e.get("automatic_planning")?"scheduled":"current",after_cid:n.cid,before_cid:a.cid}},_.namespace(n,"panels.positionStrategies").FirstUnstartedPositionStrategy=e}.call(this),function(){"use strict";function e(e){this.panel=e}var t=this,n=_.namespace(t,"tracker");e.prototype.getPosition=function(){var e=this.panel.project().stories().scope().icebox().first()||{cid:null};return{group:"unscheduled",before_cid:e.cid,after_cid:null}},_.namespace(n,"panels.positionStrategies").IceboxPositionStrategy=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={buildPanel:function(e){var n=t.Person.current(),r=n.layoutScheme(),i={};if(e.dependencies){if(e.dependencies.project_id){var a=t.Project.get(e.dependencies.project_id);i.project=a,e.dependencies.epic_id&&(i.epic=a.epics().get(e.dependencies.epic_id)),e.dependencies.integration_id&&(e.integration_id=e.dependencies.integration_id),e.dependencies.favorite_search_id&&(i.favoriteSearch=r.favoriteSearches().get(e.dependencies.favorite_search_id),i.search=i.favoriteSearch.search())}e.dependencies.workspace_id&&(i.workspace=n.workspaces().get(e.dependencies.workspace_id)),delete e.dependencies}return new t.Panel(e,i)},getModelPanelType:function(e,n){var r=e.original();if(r instanceof t.Epic)return"epics";var i=r.iteration&&r.iteration()?r.iteration().get("type"):"icebox",a=n&&n.any(function(e){return e.project()===r.project()&&e.get("split")});return"current"!==i||a||(i="backlog"),i},scroll:function(e){e.scrollIntoView(!0),e.closest(".panel").scrollIntoView(!0);var t=e.closest(".panel"),n=t.position(),r=e.closest(".panels"),i=n.left+t.width()-r.width();n.left<0?r.scrollLeft(r.scrollLeft()+n.left):i>0&&r.scrollLeft(r.scrollLeft()+Math.min(i,n.left))},flash:function(e,t){e.trigger("itemRevealed",t)},expand:function(e,t){e.getExpandedModel(t)||e.expandModel(t)},revealModel:function(e,n,r){r=_.extend({scrollTo:!0,flash:!0},r);var i=e.open({type:t.panels.Service.getModelPanelType(n,e)},{at:0,project:n.original().project()}),a=t.panels.Service;if(n instanceof t.Story){if(n.original().iteration()){var o=n.original().iteration();i.panelIterations().get(o.id).set({collapsed:!1})}n.original().bucket()===t.Story.buckets.ACCEPTED&&i.set({show_accepted:!0})
}n instanceof t.Epic&&n.isDone()&&i.set({show_done_epics:!0}),r.expand&&a.expand(i,n);var s=i.getExpandedModel(n)||n,l=$("#panel_"+i.id+" .model."+s.cid);l.length>0&&r.scrollTo&&t.requestAnimationFrame(function(){a.scroll(l)}),r.flash&&a.flash(l,s)},getPosition:function(e){return this.positionStrategyFactory_(e).getPosition()},positionStrategyFactory_:function(e){return"icebox"===e.get("type")?new t.panels.positionStrategies.IceboxPositionStrategy(e):e.get("split")&&"backlog"===e.get("type")?new t.panels.positionStrategies.BacklogPositionStrategy(e):e.get("split")&&"current"===e.get("type")?new t.panels.positionStrategies.FirstUnstartedPositionStrategy(e):e.get("split")||"backlog"!==e.get("type")?new t.panels.positionStrategies.DefaultPositionStrategy(e):new t.panels.positionStrategies.FirstUnstartedPositionStrategy(e)}};_.namespace(t,"panels").Service=n}.call(this),function(){"use strict";function e(e){var t=this.project().labels();return _.map(e.labels||e.label_ids,function(e){return t.get(e)})}function t(e,t){this.trigger("sync",this,t)}var n=this,r=_.namespace(n,"tracker"),i=r.Model.extend({__name__:"Story",associations:[{belongsTo:"project"},{hasMany:"comments",inverseOf:"story",parse:!1,silent:!0},{hasMany:"labels",parse:e,silent:!0},{hasOne:"activityEntryGroup",parse:!1,inverseOf:"story"},{belongsTo:"activityEntries",through:"activityEntryGroup"},{hasMany:"tasks",inverseOf:"story",parse:!1,silent:!0}],initialize:function(){this.listenTo(this.labels(),"sync",t,this),this.listenTo(this,"change:external_id",function(e,t){var n;t?!this.get("integration_id")&&(n=this.project().otherIntegration())&&e.set({integration_id:n.id}):e.set({integration_id:null})})},parse:function(e){return e.data||e},defaults:{name:"",description:"",estimate:-1,accepted_at:null,deadline:null,owner_ids:[],current_state:"unscheduled",story_type:"feature",new_label:"",integration_id:null,labels:[],external_id:"",followers:[]},validate:function(e){var t=5e3,n=2e4;if(!e.draft){if(_.isBlank(e.name))return"Please enter a story name.";if(e.name&&e.name.length>5e3)return"Please enter a name "+t+" characters or less. The name currently contains "+e.name.length+" characters.";if(e.description&&e.description.length>n)return"Please enter a description "+n+" characters or less. The description currently contains "+e.description.length+" characters.";var r=("feature"===e.story_type||this.project().get("bugs_and_chores_are_estimatable"))&&_.include(i.stateMachines(e.story_type).forcedEstimationStates(),e.current_state);if(r&&-1===e.estimate){var a="feature"===e.story_type?"Stories":_.chain(e.story_type).capitalize().pluralize().value();return a+" in the "+e.current_state+" state must be estimated."}}},iteration:function(){return this._iteration},setIteration:function(e){this._iteration=e},integration:function(){return this.project().integrations().get(this.get("integration_id"))},isReleasePastDeadline:function(){if(!this.isRelease())return!1;var e=this.get("deadline"),t=this.iteration();return!!(e&&t&&e<t.get("start_time"))},isDeadlinePastDone:function(){if(!this.isRelease())return!1;var e=this.project().pastDoneStartTime().getTime();return this.get("deadline")<e},releaseStartDate:function(){if(this.isRelease()){var e=this.project().stories().scope().inRelease(this).first();return e&&e.isRelease()?e.get("accepted_at"):this.project().startTime().getTime()}},isEstimated:function(){return-1!==this.get("estimate")},isPastDone:function(){return i.isPastDone(this.project(),this.attributes)},isAcceptedBeforeCurrentIteration:function(){var e=this.project().iterations().current()[0];return this.isAccepted()&&(!e||this.get("accepted_at")<e.get("start_time"))},next:function(){return this.collection&&this.collection.at(this.index()+1)},prev:function(){return this.collection&&this.collection.at(this.index()-1)},group:function(){var e=this.bucket(),t=this.iteration()&&this.iteration().get("type"),n=this.project().get("automatic_planning");switch(e){case r.Story.buckets.UNSCHEDULED:return"unscheduled";case r.Story.buckets.SCHEDULED:return"current"!==t||n?"scheduled":"current";case r.Story.buckets.PLANNED:case r.Story.buckets.ACTIVE:case r.Story.buckets.ACCEPTED:return n?"scheduled":"current"}},isEstimatable:function(){return this.project().isStoryTypeEstimatable(this.get("story_type"))},isWorkFor:function(e){return"accepted"!==this.get("current_state")&&("delivered"===this.get("current_state")&&this.get("requested_by_id")===e.id||-1!==this.get("owner_ids").indexOf(e.id))},canAddOwner:function(){return this.get("owner_ids").length<3}},{isPastDone:function(e,t){return"accepted"===(t=t||{}).current_state&&t.accepted_at<e.pastDoneStartTime().getTime()}});i.API_FIELDS=":default,follower_ids,tasks,comments(:default,file_attachments,google_attachments)",i.include(r.mixins.models.url("story")).include(r.mixins.saveWithCommand("story")).include(r.mixins.stories.state()).include(r.mixins.stories.changeHandling).include(r.mixins.stories.storyType()).include(r.mixins.withMembers).include(r.mixins.labels("labels")).include(r.mixins.timezoneInJSON).include(r.mixins.narrative("story")).include(r.mixins.followers("story")).include(r.mixins.lazyAssociations("comments","tasks")),r.Story=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={parse:function(e){var t=e.match(/\B(?:[@])([\w\-_]+)(?![@\w]+)/g);return _.map(t,function(e){return e.substr(1)})},add:function(e,n){_.each(n,function(n){var r=_.uniq(t.helpers.mentions.parse(n.get("text")));_.each(r,function(t){var n=e.project().members().find(function(e){return e.get("username")===t});n&&e.followers().push({id:n.id})})})}};_.namespace(t,"helpers").mentions=n}.call(this),function(){"use strict";function e(e){var t,n=this.command().project();return t=e.story_id||e.story_cid?n.stories().get({id:e.story_id,cid:e.story_cid}):n.epics().get({id:e.epic_id,cid:e.epic_cid}),this.set({commentable:t}),t}var t=this,n=_.namespace(t,"tracker"),r=n.Command.Executor.extend({allowsNew:!0,model:function(t){var r=this.command().project(),i=e.call(this,t);return i&&(i.comments().get(t)||_.result(this,"allowsNew")&&new n.Comment({},_.extend({project:r},i instanceof n.Story?{story:i}:{epic:i})))},patchAttributes:function(t){var r=e.call(this,t);return _.chain(t).omit("story_cid","epic_cid").extend(r instanceof n.Story?{story_id:r.id}:{epic_id:r.id}).value()}});_.namespace(n.Command.Executor,"comments").Base=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Command.Executor.comments.Base,r=t.helpers.mentions;t.Command.Executor.CommentCreate=n.extend({patchAttributes:_.compose(function(e){return _.pick(e,"story_id","epic_id","person_id","text","file_attachments","google_attachments")},n.prototype.patchAttributes),execute:function(e,t){var n=this.command(),i=this.get("commentable"),a=i.comments();return t=_.extend({person_id:n.get("person_id")},t),a.add(e.setBang(e.parse(t))),i.trigger("change",i,{}),i.project().get("enable_following")&&(i.followers().push({id:n.get("person_id")}),r.add(i,[e])),{}},undo:function(e,t,n){e.collection.remove(e,n),e.removeAttachments()},serverSuccess:function(e,t){var n=_.where(t,{type:"comment"})[0];_.chain(t).where({type:"file_attachment"}).each(function(t){e.fileAttachments().get(t).setBang(_.omit(t,"type"))}),_.chain(t).where({type:"google_attachment"}).each(function(t){e.googleAttachments().where({resource_id:t.resource_id})[0].setBang(_.omit(t,"type"))}),e.setBang({created_at:n.created_at,id:n.id})}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Command.Executor.comments.Base,r=t.helpers.mentions,i={file_attachments_to_add:function(e,t,n){n.file_attachments=n.file_attachments||_.clone(e.fileAttachments().models),e.set(e.parse({file_attachments:t.file_attachments_to_add}),{silent:!0}),e.fileAttachments().add(t.file_attachments_to_add)},google_attachments_to_add:function(e,t,n){n.google_attachments=n.google_attachments||_.clone(e.googleAttachments().models),e.googleAttachments().add(t.google_attachments_to_add)},file_attachment_ids_to_remove:function(e,t,n){n.file_attachments=n.file_attachments||_.clone(e.fileAttachments().models),e.fileAttachments().remove(t.file_attachment_ids_to_remove),this.command().project().fileAttachments().remove(t.file_attachment_ids_to_remove)},google_attachment_ids_to_remove:function(e,t,n){n.google_attachments=n.google_attachments||_.clone(e.googleAttachments().models),e.googleAttachments().remove(t.google_attachment_ids_to_remove)},text:function(e,t,n){n.text=e.get("text"),e.set("text",t.text,{silent:!0})}},a={file_attachments:function(e,t){var n=this.get("commentable").project().fileAttachments();n.add(t.file_attachments),n.remove(_.difference(e.fileAttachments().models,t.file_attachments)),e.fileAttachments().set(t.file_attachments)},google_attachments:function(e,t){e.googleAttachments().set(t.google_attachments)},text:function(e,t){e.set({text:t.text})},followers:function(e,t){var n=this.get("commentable");n.followers().reset(t.followers)}};t.Command.Executor.CommentUpdate=n.extend({areErrorsSilent:function(){return!0},patchAttributes:_.compose(function(e){return _.pick(e,"story_id","epic_id","text","cid","file_attachments_to_add","file_attachment_ids_to_remove","google_attachments_to_add","google_attachment_ids_to_remove")},n.prototype.patchAttributes),execute:function(e,t){function n(n,r,a){var s=_.has(i,a);return s&&i[a].call(this,e,t,o)||s||n}var a=this.get("commentable"),o={};return _.reduce(t,n,!1,this)&&(a.trigger("change",a),e.trigger("change",e)),a.project().get("enable_following")&&(o.followers=a.followers().toJSON(),a.followers().push({id:this.command().get("person_id")}),r.add(a,[e])),o},serverSuccess:function(e,t){_.each(t,function(t){"google_attachment"!==t.type||t.deleted||e.googleAttachments().where({resource_id:t.resource_id})[0].setBang(_.omit(t,"type")),"comment"===t.type&&e.setBang(_.pick(t,"updated_at"))})},undo:function(e,t){function n(n,r){return _.has(a,r)&&a[r].call(this,e,t)}_.each(t,n,this)}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Command.Executor.comments.Base;t.Command.Executor.CommentDelete=n.extend({areErrorsSilent:function(){return!0},allowsNew:function(){return!1},patchAttributes:_.compose(function(e){return _.pick(e,"story_id","epic_id","cid")},n.prototype.patchAttributes),execute:function(e,t){var n=this.get("commentable"),r=n.comments(),i=_.extend({},t,{position:e.index()+1,deleted_file_attachments:e.fileAttachments().map(function(e){return e.attributes}),deleted_google_attachments:e.googleAttachments().map(function(e){return e.attributes})});return e.removeAttachments(),r.remove(e),e.trigger("destroy",e,r),i},undo:function(e,t){e.fileAttachments().add(t.deleted_file_attachments||[]),e.googleAttachments().add(t.deleted_google_attachments||[]);var n=this.get("commentable").comments();n.add(e,{at:t.position-1})}})}.call(this),function(){"use strict";function e(e){return this.project().labels().get(e.label_id)}var t=this,n=_.namespace(t,"tracker"),r=n.Model.extend({__name__:"Epic",associations:[{belongsTo:"project"},{hasMany:"labels",parse:e},{hasMany:"comments",inverseOf:"epic",parse:!1},{hasOne:"activityEntryGroup",parse:!1,inverseOf:"epic"},{belongsTo:"activityEntries",through:"activityEntryGroup"}],group:$.noop,label:function(){return this.labels().first()},stories:function(){return this.label()&&this.label().stories()},pastDonePseudopoints:function(){return.5*this.get("past_done_stories_no_point_count")+this.get("past_done_story_estimates")},parse:function(e){return e=e.data||e,e&&_.isNull(e.description)&&(e.description=""),e},defaults:{name:"",description:"",past_done_stories_count:0,past_done_stories_no_point_count:0,past_done_story_estimates:0},pseudopoints:function(){return this.label()?this.project().isShowingPastDone()?this.stories().pseudopoints():this.stories().pseudopointsNotPastDone()+this.pastDonePseudopoints():0},completionDate:function(){if(this.isAccepted())return _.last(this.stories().acceptedAtDates());if(this.stories()){var e=this.stories().at(this.stories().notUnscheduledCount()-1),t=e&&e.iteration();return t&&t.get("end_time")-1}},isCompletionDateKnown:function(){if(this.isDone()){var e=this.stories(),t=e.acceptedBeforeCurrentCount();return this.get("past_done_stories_count")&&!t?!1:!!t}return!0},isDone:function(){var e=this.stories();return e&&this.doneCount()>0&&e.acceptedBeforeCurrentCount()===e.notUnscheduledCount()},isAccepted:function(){return this.hasStories()&&this.stories().acceptedCount()>0&&0===this.stories().notUnscheduledNotAcceptedCount()},hasStories:function(){return this.doneCount()+(this.stories()?this.stories().length:0)>0},sortingBucket:function(){return this.isDone()?1:this.isAccepted()?2:3},doneCount:function(){return this.label()&&this.label().doneCount.call(this)||0},storiesCount:function(){return this.stories()?this.project().isShowingPastDone()?this.stories().size():this.get("past_done_stories_count")+this.stories().scope().not("isPastDone").size():0},validate:function(e){function t(t){return t.cid!==i.original().cid&&t.labels().findByName(n.Label.normalize(e.name))}function r(e){return e.cid!==i.original().cid&&e.labels().get(i.labels().first().cid)}var i=this,a="Label is already used by another epic.";if(!e.draft){if(_(e.name).isBlank())return"Please enter an epic name.";var o;return _({name:5e3,description:2e4}).any(function(t,n){return _(e).has(n)&&e[n].length>t?o="Please enter a "+n+" "+t+" characters or less. The name currently contains "+e[n].length+" characters.":void 0})?o:!this.isNew()&&this.labels().isEmpty()?"Please associate the epic with a label.":this.isNew()&&!this.labels().length&&this.project().epics().find(t)?a:i.labels().first()&&this.project().epics().find(r)?a:void 0}}});r.API_FIELDS=":default,follower_ids,past_done_story_estimates,past_done_stories_count,past_done_stories_no_point_count,label_id,comments(:default,file_attachments,google_attachments)",r.include(n.mixins.models.url("epic")).include(n.mixins.saveWithCommand("epic")).include(n.mixins.withMembers).include(n.mixins.labels("label")).include(n.mixins.timezoneInJSON).include(n.mixins.narrative("epic")).include(n.mixins.lazyAssociations("comments")).include(n.mixins.followers("epic")),n.Epic=r}.call(this),function(){"use strict";function e(e){return this.command().project().epics().get(e)}function t(e,t){return e.label=e.label||e.project().labels().get({id:t.label_id,cid:t.label}),e.label}var n=this,r=_.namespace(n,"tracker"),i=r.helpers.mentions,a=["past_done_stories_count","past_done_stories_no_point_count","past_done_story_estimates"];r.Command.Executor.EpicCreate=r.Command.Executor.extend({model:function(e){var n=this.command().project();return t(this.command(),e),new r.Epic({},{project:n})},patchAttributes:function(e){var n=t(this.command(),e);return _.chain(e).omit(a).tap(function(e){n&&n.has("id")&&(e.label_id=n.id,delete e.label)}).value()},execute:function(e,t){var n=e.labels();if(n.remove(n.models),n.add(this.command().label),e.set(_.omit(t,"label")),!e.isValid())return!1;var r=this.command().project().epics();r.unshift(e),e.collection=r,e.comments().reset(t.comments,{parse:!0}),e.project().get("enable_following")&&(e.followers().reset(_.map(t.follower_ids,function(e){return{id:e}}),{parse:!0}),i.add(e,e.comments().models));var a=e.label();return a.trigger("change",a),{}},serverSuccess:function(e,t){e.setBang(_.chain(t).findWhere({type:"epic"}).pick("id","created_at").value()),_.chain(t).where({type:"comment"}).each(function(t,n){e.comments().at(n).setBang(_.pick(t,"id","created_at","person_id"))})},undo:function(e){e.collection.remove(e),e.label().has("id")||this.command().project().labels().remove(e.label())}}),r.Command.Executor.EpicUpdate=r.Command.Executor.extend({model:e,patchAttributes:function(e){if(e.label){var t=this.labels().get(e.label);t&&t.has("id")&&(e.label_id=t.id,delete e.label)}return _.omit(e,a)},labels:function(){return this.command().project().labels()},execute:function(e,t){var n=_.clone(e.attributes),r=this.labels().get({id:t.label_id,cid:t.label}),i=_.clone(t);return n.label_cid=e.label().cid,r?(_.extend(i,{past_done_stories_count:0,past_done_stories_no_point_count:0,past_done_story_estimates:0}),e.labels().set([r]),e.setBang(_.omit(i,"label"))):e.setBang(_.omit(i,"label")),n},undo:function(e,t,n){var r=this.labels().get(t.label_cid);r&&e.labels().set([r]),e.setBang(_.omit(t,"label_cid"),n)}}),r.Command.Executor.EpicMove=r.Command.Executor.extend({model:function(t){var n=this.command(),r=n.project().epics().get({id:t.before_id,cid:t.before_cid}),i=n.project().epics().get({id:t.after_id,cid:t.after_cid});return!(!r&&!i)&&e.apply(this,arguments)},patchAttributes:function(e){var t=this.command(),n=t.project().epics(),r=e.before_cid&&n.get(e.before_cid),i=e.after_cid&&n.get(e.after_cid);return r&&(e.before_id=r.id,delete e.before_cid),i&&(i.isDone()||i.isAccepted()||(e.after_id=i.id),delete e.after_cid),_.omit(e,a)},execute:function(e,t){var n=this.command().project().epics(),r={index:e.index()},i=n.get(t.after_id);if(i){var a=e.index()<i.index()?0:1;n.move(e,i.index()+a)}else{var o=n.get(t.before_id);n.move(e,o.index())}return r},undo:function(e,t,n){this.command().project().epics().move(e,t.index,n)}}),r.Command.Executor.EpicDelete=r.Command.Executor.extend({areErrorsSilent:function(){return!0},model:e,execute:function(e){var t={position:e.index()+1},n=e.label();return e.trigger("destroy",e),n.trigger("change",n),t},undo:function(e,t){this.command().project().epics().add(e,{at:t.position-1});var n=e.label();n.trigger("change",n)}}),r.Command.registerServerSuccess("epic",function(e){var t=this.project().epics().get(e);t&&t.setBang(_.pick(e,"past_done_stories_count","past_done_stories_no_point_count","past_done_story_estimates"))})}.call(this),function(){"use strict";function e(e,t){return function(){return e.project().stories().get({id:t.story_id,cid:t.story_cid})}}function t(e,t){return function(){return e.project().epics().get({id:t.epic_id,cid:t.epic_cid})}}function n(n,r){return r.story_cid||r.story_id?(n.story=e(n,r),n.story):(n.epic=t(n,r),n.epic)}function r(e){var t=this.command();n(t,e);var r=t.story?{story_id:t.story().id}:{epic_id:t.epic().id};return _.chain(e).omit("story_cid","epic_cid").extend(r).value()}function i(e){return e.story&&e.story()||e.epic&&e.epic()}var a=this,o=_.namespace(a,"tracker");o.Command.Executor.FollowerCreate=o.Command.Executor.extend({model:function(e){var t=this.command();n(t,e);var r=t.story?{story:t.story()}:{epic:t.epic()},a=t.project().members().get(e.person_id),s=a&&new o.Follower({id:a.id},r);return i(t)&&s},patchAttributes:r,execute:function(e){var t=i(this.command()).followers();return t.add(e),{}},undo:function(e){var t=i(this.command()).followers();t.remove(e)}}),o.Command.Executor.FollowerDelete=o.Command.Executor.extend({model:function(e){var t=this.command();n(t,e);var r=i(t),a=r&&r.followers().get(e.person_id);return a},patchAttributes:r,execute:function(e){var t=i(this.command()).followers();return t.remove(e),{}},undo:function(e){var t=i(this.command()).followers();t.add(e)}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Command.Executor.IterationUpdate=t.Command.Executor.extend({areErrorsSilent:function(){return!0},model:function(e){var t=this.command().project().iterations().get({cid:e.cid,id:e.id||e.number});return t},patchAttributes:function(e,t){return e.number=t.id,delete e.id,delete e.cid,e},execute:function(e,t){var n=this.command(),r=n.project(),i=r.iterationSettings().findOrCreateByIteration(e),a={attrs:_.clone(i.attributes)};return i.setBang(t),r.iterations().recalculate({skipDoneIterations:"backlog"===e.get("type")}),r.makeReady(),a},undo:function(e,t,n){var r=this.command(),i=r.project();i.iterationSettings().get(e).set(t.attrs,n),i.iterations().recalculate({skipDoneIterations:"backlog"===e.get("type")})}})}.call(this),function(){"use strict";function e(e){return this.command().project().labels().get(e)}function t(e){return e.name?_.chain(e).clone().extend({name:e.name}).value():e}var n=this,r=_.namespace(n,"tracker");r.Command.Executor.LabelUpdate=r.Command.Executor.extend({model:e,patchAttributes:t,execute:function(e,t){var n=_.clone(e.attributes);return e.setBang(t),n},undo:function(e,t,n){e.set(t,n)}}),r.Command.Executor.LabelDelete=r.Command.Executor.extend({areErrorsSilent:function(){return!0},model:e,execute:function(e,t){var n=_.chain(t).clone().extend({previousStories:this.command().project().stories().scope().label(e).value()}).value();return e.trigger("destroy",e,e.collection),n},undo:function(e,t){this.command().project().labels().add(e),_.each(t.previousStories,function(t){t.labels().add(e)})}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.moveStory;t.Command.Executor.MultiStoryDelete=t.Command.Executor.extend({isMulti:function(){return!0},areErrorsSilent:function(){return!0},models:function(e){return n.getStories(e.ids||e.cids,this.command())},execute:function(e,t,r,i,a){var o=this.command(),s=o.project(),l=s.stories(),c={};return _.each(e,function(e){c[e.cid]=e.index()}),l.remove(e,l,a),s.iterations().recalculate({skipDoneIterations:n.shouldSkipDoneIterations(e)}),{positions:c}},undo:function(e,t){var r=this.command(),i=r.project();_.each(e,function(e){i.stories().add(e,{at:t.positions[e.cid]})}),i.iterations().recalculate({skipDoneIterations:n.shouldSkipDoneIterations(e)})},serverSuccess:function(e){_.each(e,function(e){e.trigger("destroy",e)})}})}.call(this),function(){"use strict";var e=this,t=_(e).namespace("tracker"),n=t.Model.extend({__name__:"Reporter",log:function(t){e.FRONTEND_FLAGS.enable_js_logging&&$.ajax({type:"POST",url:"/services/area_51/js_logger",data:JSON.stringify(t),dataType:"json",processData:!1})}});n.include(t.mixins.current),t.Reporter=n}.call(this),function(e,t){var n={toNames:function(e,t){return _.chain([t]).flatten().map(function(t){return e.get(t)}).compact().invoke("get","name")[_.isArray(t)?"identity":"first"]().value()},cidsToIds:function(e,t){return _.chain([t]).flatten().map(function(t){return e.get(t)}).compact().pluck("id").compact()[_.isArray(t)?"identity":"first"]().value()},idsToCids:function(e,t){return _.chain([t]).flatten().map(function(t){return e.get(t)}).compact().pluck("cid").compact()[_.isArray(t)?"identity":"first"]().value()},toCids:function(e,t){return _.chain([t]).flatten().map(function(t){return e.findOrCreateByName(t)}).compact().pluck("cid")[_.isArray(t)?"identity":"first"]().value()}};_.namespace(t,"helpers").labelFormatConversion=n}(window,window.tracker),function(){"use strict";function e(e,t){return t&&e.get(t)?e.get(t):void 0}function t(t,n){var r=e(t,n);return r?r.id:void 0}var n=this,r=_.namespace(n,"tracker");r.Command.Executor.MultiStoryUpdateLabel=r.Command.Executor.extend({isMulti:function(){return!0},models:function(e){var t=this.command(),n=t.project().labels().findAllByIdsOrCids(e.label_cids_to_add,e.label_ids_to_add,e.label_cids_to_remove,e.label_ids_to_remove);return _.isEmpty(n)?[]:r.helpers.moveStory.getStories(e.ids||e.cids,t)},patchAttributes:function(e){var t=this.command().project();return _.chain(e).extend({label_ids_to_add:r.helpers.labelFormatConversion.cidsToIds(t.labels(),e.label_cids_to_add),label_ids_to_remove:r.helpers.labelFormatConversion.cidsToIds(t.labels(),e.label_cids_to_remove)}).omit("label_cids_to_add","label_cids_to_remove").value()},execute:function(e,t,n){var r=this.command().project().labels(),i=r.findAllByIdsOrCids(n.label_cids_to_add,t.label_ids_to_add),a=r.findAllByIdsOrCids(n.label_cids_to_remove,t.label_ids_to_remove);return _.each(e,function(e){e.labels().add(i),e.labels().remove(a)}),n},undo:function(e,t,n){var r=this.command().project().labels(),i=r.findAllByIdsOrCids(t.label_cids_to_add),a=r.findAllByIdsOrCids(t.label_cids_to_remove);_.each(e,function(e){e.labels().remove(i,n),e.labels().add(a,n)})}}),r.Command.Executor.MultiStoryMove=r.Command.Executor.extend({errorMessage:function(){return"That move is no longer valid, some of your changes have been rolled back."},isMulti:function(){return!0},models:function(e){var t=this.command(),n=t.project(),i=t.project().stories(),a=i.get({id:e.after_id,cid:e.after_cid}),o=r.helpers.moveStory.getStories(e.ids||e.story_ids||e.story_cids,t),s=i.get({id:e.before_id,cid:e.before_cid});if((e.label_cid||e.label_id)&&(t.label=t.project().labels().get({id:e.label_id,cid:e.label_cid}),!t.label))return[];t.result=r.helpers.moveStory.findBeforeAndAfterStories(a,o,s,e.group,n);var l=t.result.isValid;return l?o:[]},canExecute:function(){var e=this.command(),t=e.get("parameters"),n=e.project(),i=e.project().stories(),a=i.get({id:t.after_id,cid:t.after_cid}),o=r.helpers.moveStory.getStories(t.ids||t.story_ids||t.story_cids,e),s=i.get({id:t.before_id,cid:t.before_cid});if((t.label_cid||t.label_id)&&!n.labels().get({id:t.label_id,cid:t.label_cid}))return!1;var l=r.helpers.moveStory.findBeforeAndAfterStories(a,o,s,t.group,n);return!!l.isValid&&!_.isEmpty(o)},generateResults:function(){var e=this.command(),t=e.get("parameters"),n=e.project(),i=!n.get("automatic_planning"),a=t.group,o="current"!==a||i?a:"scheduled",s="unscheduled"===o?"icebox":"current",l=new r.Panel({type:s},{project:n}),c=e.project().stories(),u=r.helpers.moveStory.getStories(t.ids||t.story_ids||t.story_cids,e),d=c.get({id:t.after_id,cid:t.after_cid}),p=c.get({id:t.before_id,cid:t.before_cid}),h=r.helpers.moveStory.findBeforeAndAfterStories(d,u,p,t.group,n);d=h.afterStory,p=h.beforeStory;var g=h.afterStory&&h.afterStory.cid||null,f=h.beforeStory&&h.beforeStory.cid||null;if(!g&&f&&(d=h.beforeStory.prev(),g=d&&d.cid||null),!g&&!f){var m=r.helpers.moveStory.findBeforeAndAfterStoryCids(c,a);f=m.beforeCid,g=m.afterCid}for(var v=_.pluck(u,"cid");_.contains(v,g);){var y=c.get(g).prev();g=y&&y.cid}for(;_.contains(v,f);){var b=c.get(f).next();f=b&&b.cid}return _.chain(u).sortBy(function(e){return e.index()}).map(function(e,r){var i=l.isAllowedOrdering(d,e,p,o),a={type:"story",id:e.cid,updated_at:Date.now()};if(i&&i!==!0&&(a.current_state=i),0===r?(a.after_id=g,a.before_id=u[1]&&u[1].cid||f):r===u.length-1?(a.before_id=f,a.after_id=u[r-1]&&u[r-1].cid||g):(a.before_id=u[r+1]&&u[r+1].cid||f,a.after_id=u[r-1]&&u[r-1].cid||g),t.label_id&&(a.label_ids=e.labels().pluck("id").concat([t.label_id]),a.label_ids=_.uniq(a.label_ids)),t.label_cid){var s=n.labels().get(t.label_cid);s&&(a.label_ids=e.labels().pluck("id").concat([s.id]),a.label_ids=_.uniq(a.label_ids))}return a}).compact().value()},canGenerateResults:!0,patchAttributes:function(e){var n=this.command(),r=n.project().stories(),i={ids:_.map(e.story_cids,function(e){return t(r,e)})};n.label&&(i.label_id=n.label.id),n.result.afterStory&&(i.after_id=n.result.afterStory.id),n.result.beforeStory&&(i.before_id=n.result.beforeStory.id);var a=_.chain(e).omit("story_cids","before_cid","after_cid","label_cid").extend(i).value();return a}}),r.Command.Executor.MultiLabelCreate=r.Command.Executor.extend({isMulti:function(){return!0},models:function(e){var t=this.command().project();return _.map(e.labels||[],function(e){return new r.Label({name:r.Label.normalize(e.name)},{project:function(){return t}})})},patchAttributes:function(e){return _.each(e.labels||{},function(e){e.name=r.Label.normalize(e.name)}),e},execute:function(e,t){var n=this.command().project();return _.each(t.labels,function(t){var r=t.name,i=_.find(e,function(e){return e.get("name")===r}),a=n.labels().findByName(r);a?i.set({forwarding_cid:a.cid}):n.labels().add(i.setBang(t))}),{}},undo:function(e,t,n){this.command().project().labels().remove(e,n),_.invoke(e,"unset","forwarding_cid",n)},serverSuccess:function(e,t){_.chain(t).filter(function(e){return"label"===e.type}).each(function(t){var n=_.find(e,function(e){return e.get("name")===t.name});n&&n.setBang({id:t.id})}).value()}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Command.Executor.MultiStoryMoveIntoProject=t.Command.Executor.extend({isMulti:function(){return!0},models:function(e){var n=this.command().project();return _.map(e.stories,function(e){return new t.Story(e,{parse:!0,project:n})})},execute:function(e,n,r,i){var a=this.command().project(),o=a.stories(),s=new t.helpers.moveStory.BucketIndexPolicy(a);_.each(e,function(e){if(a.isShowingPastDone()||!e.isPastDone()){a.stories().add(e,{at:s.index(e)}),e.bucket()!==t.Story.buckets.UNSCHEDULED&&a.iterations().recalculate({skipDoneIterations:_.include([t.Story.buckets.SCHEDULED,t.Story.buckets.ACTIVE],e.bucket())});var n=a.labels().findAllByIdsOrCids(e.get("label_ids"));e.labels().reset(n)}});var l=_.first(e).prev(),c=_.last(e).next();i.storyOrder=_.pluck(o.models.slice(l?l.index():0,c?c.index()+1:void 0),"id")},serverSuccess:function(e,n,r){var i=t.helpers.moveStory.verifyServerStoryOrder(this.command(),e,n,r.storyOrder);i&&this.command().project().errors().add(i)}})}.call(this),function(){"use strict";function e(e,t){this._decoratee=e instanceof i.Collection?e.models:e,this.initialize.call(this,e,t)}function t(e){return function(){var t=this.constructor,n=arguments;return r.isArray(this._decoratee)?r.map(this._decoratee,function(r){return t.fn[e].apply(r,n)}):t.fn[e].apply(this._decoratee,n)}}var n=this,r=n._,i=n.Backbone;r.extend(e,{extend:function(e,n){var a=r.chain(e).omit("collection","constructor","initialize","model"),o=a.reduce(function(e,n,r){return(e[r]=t(r))&&e},{}).value();return this.fn=a.value(),r.tap(i.Model.extend.call(this,r.extend(e,o),n),function(t){r.each(["model","collection"],function(n){e[n]&&(e[n].prototype.decorator=function(){return new t(this)})})})}},i.extensions&&i.extensions.include||{}),r.extend(e.prototype,{initialize:function(){}}),i.extensions=r.extend(i.extensions||{},{Decorator:e})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Decorator=Backbone.extensions.Decorator}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={convertEstimate:function(e,t){function n(e){return function(t){return _.has(e,i)&&e[i][t]||t}}var r=e.project().get("point_scale_type"),i=t.get("point_scale_type"),a={linear:n({powers_of_2:{3:4}}),powers_of_2:n({linear:{4:3,8:3},fibonacci:{4:5,8:8}}),fibonacci:n({linear:{5:3,8:3},powers_of_2:{3:4,5:4}}),_default:_.identity};return a[_.has(a,r)&&r||"_default"](e.get("estimate"))}};_.namespace(t,"helpers").pointScale=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.pointScale;t.StoryAndAssociationsDecorator=t.Decorator.extend({toJSON:function(e){var t=this,r=(e||{}).project,i=_.reduce(["comments","tasks"],function(e,n){return(e[n]=t[n]().toJSON())&&e},{});_.each(i.comments,function(e,n){var r=t.comments().at(n),i=r.fileAttachments(),a=r.googleAttachments();_.extend(e,{file_attachments:i.toJSON(),google_attachments:a.toJSON()})});var a=r.labels().filter(function(e){return _.contains(t.labels().pluck("name"),e.get("name"))});return _.extend(this.toJSON(),{label_ids:void 0,labels:_.pluck(a,"cid"),estimate:n.convertEstimate(this,r)},i)}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Command.Executor.MultiStoryMoveIntoProjectAndPrioritize=t.Command.Executor.extend({isMulti:function(){return!0},models:function(e){var n,r=t.Project.get(e.source_project_id),i=this.command().project(),a=this;return this.command().result={beforeStory:i.stories().get(e.before_cid||e.before_id),afterStory:i.stories().get(e.after_cid||e.after_id)},n=e.stories?_.map(e.stories,function(e){return _.tap(new t.Story(e),function(t){t.labels().reset(_.map(e.label_ids,function(e){return i.labels().get(e)}))},{parse:!0,project:i})}):_.map(e.ids,function(e){var n=r.stories().get(e);return n?new t.Story(new t.StoryAndAssociationsDecorator(n).toJSON({project:i}),{parse:!0,project:i}):_.findWhere(a._stories,{id:e})}),_.isEmpty(n)&&this._stories?this._stories:n},patchAttributes:function(e){var t=this.command().result;return _.chain(e).omit("after_cid","before_cid","label_cid").extend({before_id:t.beforeStory&&t.beforeStory.id,after_id:t.afterStory&&t.afterStory.id}).value()},execute:function(e,n,r,i,a){var o=this.command().project(),s=(_.map(e,function(e){return o.stories().push(e)}),_.first(e).prev()),l=_.last(e).next();i.storyOrder=_.pluck(o.stories().models.slice(s?s.index():0,l?l.index()+1:void 0),"id");var c=this.command(),u=c.project(),d=u.stories(),p=c.result.afterStory,h=c.result.beforeStory,g=_.invoke(e,"index"),f=d.at(g[0]-1),m=d.at(g[g.length-1]+1),v={afterStory:f,beforeStory:m,indices:g},y=r&&r.group||n.group;v.current_states=_.invoke(e,"get","current_state");var b=t.helpers.moveStory.setStoriesStates(p,e,h,y,u);if(t.helpers.moveStory.moveBetween(d,p,e,h,y),s=_.first(e).prev(),l=_.last(e).next(),i.storyOrder=_.pluck(d.models.slice(s?s.index():0,l?l.index()+1:void 0),"id"),(b||_.any(e,function(e){return!e.isUnscheduled()
}))&&u.iterations().recalculate({skipDoneIterations:t.helpers.moveStory.shouldSkipDoneIterations(e)}),_.each(e,function(e){d.trigger("reorder",e,d,a)}),_.each(e,function(e){e.trigger("change",e,{skipChangeHandling:!0}),e.changed=!1}),c.label){var E=c.label.validate(c.label.attributes);if(E)throw E;v.stories_with_label_added=_.reject(e,function(e){return e.labels().include(c.label)},c),_.each(v.stories_with_label_added,function(e){e.labels().add(c.label)},c)}return v},undo:function(e,t,n){var r=this.command().project();r.stories().remove(e,n),this._stories=e,r.iterations().recalculate({skipDoneIterations:!0})},serverSuccess:function(e,n,r){var i=t.helpers.moveStory.verifyServerStoryOrder(this.command(),e,n,r.storyOrder);i&&this.command().project().errors().add(i)}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Command.Executor.MultiStoryMoveFromProject=t.Command.Executor.MultiStoryDelete}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Command.Executor.ProjectReload=t.Command.Executor.extend({model:function(){return this.command().project()},execute:$.noop,serverSuccess:function(){this.command().project().trigger("forceReload","Project settings have changed")}}),t.Command.Executor.ProjectUpdate=t.Command.Executor.ProjectReload}.call(this),function(){"use strict";function e(e,t){var n=e.get("external_id"),r=e.get("integration_id");if(r&&n){var i=e.project().integrations().get(r);if(i){var a=i.stories().get(n);a&&t(a)}}}function t(e,t){return t.comment?(e.comments().add(t.comment,{parse:!0}),!0):void 0}var n=this,r=_.namespace(n,"tracker"),i=r.helpers.mentions;r.Command.Executor.StoryCreate=r.Command.Executor.extend({patchAttributes:function(e){var t=this.command(),n=t.project(),r={};if(e.labels||e.label_cid){var i=n.labels().findAllByIdsOrCids(e.labels,e.label_cid);_.all(i,function(e){return e.has("id")})&&(e.label_ids=_.pluck(i,"id"),delete e.labels),delete e.label_cid}if(e.followers){var a=_(n.members().findAllByIdsOrCids(e.followers));a.isEmpty()||(e.follower_ids=a.pluck("id")),delete e.followers}return _.each(["before","after"],function(t){var r=t+"_cid";if(e[r]){var i=n.stories().get(e[r]);i&&i.id&&(e[t+"_id"]=i.id)}}),_.chain(e).omit("new_label","before_cid","after_cid","linked").extend(r).value()},model:function(e){var t=this.command(),n=t.project(),i=n.stories(),a=i.get({id:e.after_id,cid:e.after_cid}),o=i.get({id:e.before_id,cid:e.before_cid}),s=new r.Story({},{project:n}),l=e.group;return l&&(t.result=r.helpers.moveStory.findBeforeAndAfterStories(a,s,o,l,n)),s},execute:function(t,n,a){var o=this.command(),s=!1,l=o.project(),c=l.stories(),u=n.group,d=n.integration_id;return a=a||{},t.atomicSet(n,{silent:u&&d},function(){if(u){var d=l.stories().get(n.before_id),p=l.stories().get(n.after_id);s=r.helpers.moveStory.setStoriesStates(p,t,d,u,l),r.helpers.moveStory.moveBetween(c,p,t,d,u)}else{var h=c.scope().icebox().first();c.add(t,{at:h?h.index():null,silent:!0}),t.collection=c}e(t,function(e){e.set({linked:!0})});var g=o.project().labels().findAllByIdsOrCids(n.label_ids,a.labels,a.label_cid);t.labels().reset(g),_.each(["tasks","comments"],function(e){t[e]().set(n[e],{parse:!0})}),t.project().get("enable_following")&&(t.followers().reset(_.map(n.follower_ids,function(e){return{id:e}}),{parse:!0,silent:!0}),i.add(t,t.comments().models)),t.trigger("add",t,c)}),(s||!t.isUnscheduled())&&(l.iterations().recalculate({skipDoneIterations:!!t.bucket()}),void 0===o.get("results")&&t.trigger("addWithIteration",t)),{}},undo:function(t,n,r){e(t,function(e){e.unset("linked")});var i=t.bucket();t.collection.remove(t,r),this.command().project().iterations().recalculate({skipDoneIterations:!!i})},serverSuccess:function(e,t){var n=_.chain(t).find(function(e){return"story"===e.type}).pick("id","created_at").value();e.setBang(n),_.chain(t).where({type:"comment"}).each(function(t,n){e.comments().at(n).setBang(_.pick(t,"id","created_at","person_id"))}),_.chain(t).where({type:"task"}).each(function(t,n){e.tasks().at(n).setBang(_.pick(t,"id"))})}}),r.Command.Executor.StoryUpdate=r.Command.Executor.extend({patchAttributes:function(e){if(e.labels){var t=this.command().project().labels().findAllByIdsOrCids(e.labels);_.all(t,function(e){return e.has("id")})&&(e.label_ids=_.pluck(t,"id"),delete e.labels)}return e.comment&&_.isBlank(e.comment.text)&&(e=_.omit(e,"comment")),_.chain(e).omit("new_label","followers").value()},model:function(e){var t=this.command().project().stories().get(e);return t},execute:function(e,n,a,o,s){n=_.clone(n),a=a||{};var l=_.clone(e.attributes);if(l.collection_index=e.index(),l.label_cids=e.labels().cids(),_.convertFields(n),t(e,n)){if(e.project().get("enable_following")){e.followers().push({id:this.command().get("person_id")});var c=new r.Comment(n.comment);i.add(e,[c])}l.comment=n.comment,n=_.omit(n,"comment")}if(e.setBang(_.omit(n,"label_ids"),s),n.label_ids||a.labels){var u=this.command().project().labels().findAllByIdsOrCids(n.label_ids,a.labels);e.labels().set(u,{merge:!1})}return o.storyOrder=[e.prev()&&e.prev().id,e.id,e.next()&&e.next().id],l},undo:function(e,t,n){var r=t.collection_index;e.collection&&this.command().project().stories().remove(e,{silent:!0}),this.command().project().stories().add(e,{at:r},n),e.labels().set(this.command().project().labels().findAllByIdsOrCids(t.label_cids),_.defaults({merge:!1},n)),e.setBang(_.omit(t,"collection_index","label_cids","comment"),n),t.comment&&e.comments().remove(e.comments().last(),n)},serverSuccess:function(e,t){var n=_.where(t,{type:"comment"})[0];n&&e.comments().last().setBang(_.pick(n,"id","created_at","person_id"))}})}.call(this),function(){"use strict";function e(e,t){return function(){return e.project().stories().get({id:t.story_id,cid:t.story_cid})}}function t(t,n){return t.story=e(t,n),t.story()}function n(e){var n=this.command();return t(n,e)&&n.story().tasks().get(e)}function r(t){var n=this.command();return n.story=e(n,t),_.chain(t).omit("story_cid").extend({story_id:n.story().id}).value()}var i=this,a=_.namespace(i,"tracker");a.Command.Executor.TaskCreate=a.Command.Executor.extend({model:function(e){return t(this.command(),e)&&new a.Task},patchAttributes:r,undo:function(e,t,n){e.collection.remove(e,n)},canExecute:function(){var e=this.command().get("parameters");return!!this.command().project().stories().get(e.story_cid||e.story_id)},generateResults:function(e){var t=this.command().project().stories().get(e.story_cid);return[{type:"story",id:e.story_cid,updated_at:Date.now()},_.extend({type:"task",story_id:t.cid,position:t.tasks().length+1},_.pick(e,"description","complete"))]},canGenerateResults:!0}),a.Command.Executor.TaskUpdate=a.Command.Executor.extend({model:n,patchAttributes:function(t){var n=this.command();return n.story=e(n,t),_.chain(t).omit("story_cid").extend({story_id:n.story().id}).value()},generateResults:function(e){var t=this.command().project().stories().get(e.story_cid||e.story_id),n=t.tasks().get(e.cid||e.id);return[{type:"story",id:n.story().cid,updated_at:Date.now()},_.extend({type:"task",id:n.cid},_.pick(e,"position","description","complete"))]},canExecute:function(){var e=this.command().get("parameters"),t=this.command().project(),n=t.stories().get(e.story_cid||e.story_id),r=n&&n.tasks().get(e.id||e.cid);return!!r},canGenerateResults:!0}),a.Command.Executor.TaskDelete=a.Command.Executor.extend({areErrorsSilent:function(){return!0},patchAttributes:function(t){var n=this.command();n.story=e(n,t);var r=_.chain(t).omit("story_cid").extend({story_id:n.story().id}).value();return r},model:function(e){var n=this.command();return t(n,e)?n.story().tasks().get(e):!1},generateResults:function(e){var t=this.command().project().stories().get(e.story_cid||e.story_id),n=t.tasks().get(e.cid||e.id);return[{type:"story",id:t.cid,updated_at:Date.now()},{type:"task",id:n.cid,deleted:!0}]},canExecute:function(){var e=this.command().get("parameters"),t=this.command().project(),n=t.stories().get(e.story_cid||e.story_id);return!!n&&_.all(e.task_cids||e.task_ids,function(e){return n.tasks().get(e)})},canGenerateResults:!0})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.Command.Executor.Unknown=t.Command.Executor.extend({model:function(){return this.command().project()},patchAttributes:function(e){return e},execute:$.noop})}.call(this),function(){"use strict";function e(e,t,n){function i(t){var n=new r.StaleCommands([],{project:function(){return E},silent:!0});return n.reset(t,{parse:!0}),n.each(function(t){e.trigger("remoteChange",e,{member_id:t.get("person_id"),members:E.members()})}),n}function a(e){e>E.get("version")&&E.set({version:e},{silent:!0})}function o(e){r.MaintenanceDowntime.current().set(e)}function s(){_.chain(e.workQueue().items()).pluck("command").reverse().invoke("undo")}function l(t){var n=_.chain(e.workQueue().items());n.each(function(n){if(!n.unexecutable){var r=n.command.patchAndExecute();r.canExecute||(n.unexecutable=!0,E.errors().add({stack_info:{name:"Command permanently failed",message:n.command.errorMessage()},details:{failing_command:n.command.toJSON(),stale_commands:t.stale_commands}}),r.areErrorsSilent||e.trigger("unsavableChanges",e,n.command.errorMessage()))}})}function c(e,t){o(t.downtime),n.resolve(!0,e,t)}function u(){n.resolve(!1)}function d(){t.undo({silent:!1})}function p(){e.trigger("unsavableChanges",e,t.errorMessage.apply(t,arguments))}function h(t,n,r){e.pause("commands endpoint got a server error, user force-reloaded: ("+n+"): "+t.status+" "+r)}function g(e,t,n){E.trigger("forceReload","A server error has occurred ("+t+"): "+e.status+" "+n)}function f(){r.navigate(r.notAllowedPath,{force:!0})}function m(){(t.allowsRetry()?n.reject:n.resolve).apply(e,arguments)}function v(){t.allowsRetry()?r.NetworkScheduler.current().schedule(function(){m(!0)}):(e.resetRetries(),n.reject(!0))}function y(e){var n;try{n=e&&e.responseText&&$.parseJSON(e.responseText)}catch(r){}E.errors().add({stack_info:{name:"Command permanently failed",message:t.errorMessage()},details:{failing_command:t.toJSON(),server_response:n}})}function b(t){e.hasRetriesLeft()?(e.useRetry(),v()):(e.resetRetries(),d(),y(t),u(),e.trigger("unsavableChanges",e,"One of your changes could not be saved and was rolled back"))}var E=t.project(),S={current:c,executed:function(e,t){a(e.executed_commands[0].project.version),c(e,t)},ineffectual:c,stale:function(e,t){try{o(t.downtime),s(),i(e.stale_commands),l(e),m(!1,e,t)}catch(n){var r="rebasing onto stale commands threw an exception, user was force-reloaded";h(r),u(),E.errors().add({stack_info:{name:"rebasing_stale_commands",message:r,response:e}}),E.trigger("forceReload",n.toString())}}},w={0:[v],400:[d,u,y,p],401:[f],403:[v],422:[d,u,y,p],500:[b],502:[v],503:[v],defaults:[d,u,h,y,g]};return $.Deferred().done(function(t){(S[t.data.result]||S.stale)(t.data,t),e.resetRetries()}).fail(function(t){_.invoke(w[t?t.status:0]||w.defaults,"apply",e,arguments)})}function t(e){return function(){e.hasPendingUserCommands()&&r.Reporter.current().log({pending_commands:_.chain(e.workQueue().items()).pluck("command").invoke("toJSON").value(),project_id:e.workQueue().items()[0].command.project().id,pause_log:e.pauseLog(),been_paused_for:r.DateTime.now().getTime()-e.pauseLog()[0].timestamp}),e._pauseLogTimeout=setTimeout(t(e),e._pauseLogDelay)}}var n=this,r=_.namespace(n,"tracker"),i=new r.Collection,a=r.Model.extend({initialize:function(){this.MAX_RETRIES=2,i.push(this),this._workQueue=new r.WorkQueue,this._paused=$.Deferred().resolve(),this._pauseCount=0,this._retryCount=0,this._pauseLog=[],this._pauseLogTimeout=null,this._pauseLogDelay=12e4},hasRetriesLeft:function(){return this._retryCount<=this.MAX_RETRIES-1},useRetry:function(){this._retryCount+=1},resetRetries:function(){this._retryCount=0},size:function(){return this.workQueue().size()},workQueue:function(){return this._workQueue},pauseLog:function(){return this._pauseLog},add:function(e,t){t=t||{},e.toJSON&&!_.isEmpty(e.toJSON())&&r.Logger.current().log("command",e.toJSON());var n=this,i=this.workQueue().add({command:e,perform:function(e){return n.perform(e)}});return 1!==this.workQueue().size()||t.silent||this.workQueue().processHead(),i},perform:function(t){var n=this,r=$.Deferred();if(t.unexecutable)return r.resolve(!1),r.promise();var i=t.command,a=e(this,i,r);return i.save(null,{timeout:6e4}).done(function(){var e=arguments;n._paused.always(function(){a.resolveWith(n,e)})}).fail(function(){var e=arguments;n._paused.always(function(){a.rejectWith(n,e)})}),r.promise()},pause:function(e){var n=this;return this._pauseLog.push({action:"paused",timestamp:r.DateTime.now().getTime(),data:e}),this._pauseLogTimeout||(this._pauseLogTimeout=setTimeout(t(this),this._pauseLogDelay)),this.isPaused()||(this._paused=$.Deferred()),this._pauseCount++,console.log("Command Queue:",JSON.stringify({time:Date.now(),cid:this.cid,paused:this.isPaused(),count:this._pauseCount})),$.Deferred().done(function(e){n.resume(e)})},resume:function(e){if(this._pauseLog.push({action:"resumed",timestamp:r.DateTime.now().getTime(),data:e}),!this.isPaused()){var t="Error: Attempt to resume a command queue that is not paused.";throw r.Project.current().errors().add({stack_info:{message:t},raise:!0}),new Error(t)}this._pauseCount--,console.log("Command Queue:",JSON.stringify({time:Date.now(),cid:this.cid,paused:this.isPaused(),count:this._pauseCount})),this.isPaused()||(this._paused.resolve(),this._pauseLog=[],clearTimeout(this._pauseLogTimeout))},isPaused:function(){return 0!==this._pauseCount},hasPendingUserCommands:function(){return _.any(this.workQueue().items(),function(e){return"UpdateVersionCommand"!==e.command.get("type")})}},{all:function(){return i},pause:function(e){var t=$.Deferred();return a.all().map(function(n){var r=n.pause(e);t.done(r.resolve)}),t},resume:function(e){a.all().invoke("resume",e)},isPaused:function(){return a.all().all(function(e){return e.isPaused()})},reset:function(){a.all().reset.apply(a.all(),arguments)},hasPendingUserCommands:function(){return a.all().any(function(e){return e.hasPendingUserCommands()})},size:function(){return a.all().reduce(function(e,t){return e+t.size()},0)}});r.CommandQueue=a}.call(this),function(){"use strict";function e(){this._eventManager=Object.create(Backbone.Events),this._subEventProxies={}}var t=this,n=_.namespace(t,"tracker");e.prototype.on=function(){return this._eventManager.on.apply(this._eventManager,arguments)},e.prototype.off=function(){return this._eventManager.off.apply(this._eventManager,arguments)},e.prototype.listen=function(t,n,r){var i=this;if(n=n.split(" "),_.contains(n,"all")?this._eventManager.listenTo(t,"all",this._eventManager.trigger):_.each(n,function(e){i._eventManager.listenTo(t,e,_.partial(i._eventManager.trigger,e))}),_.isFunction(r)&&_.isFunction(t.each)){var a=function(t){var n=new e;i._subEventProxies[t.cid]=n,i._eventManager.listenTo(n,"all",i._eventManager.trigger),r.call(n,t)},o=function(e){var t=i._subEventProxies[e.cid];t.stop(),i._eventManager.stopListening(t),i._subEventProxies[e.cid]=null,delete i._subEventProxies[e.cid]};t.each(a),this._eventManager.listenTo(t,"add",a),this._eventManager.listenTo(t,"remove",o)}return this},e.prototype.stop=function(){this._eventManager.stopListening(),_.invoke(this._subEventProxies,"stop")},_.namespace(n).EventProxy=e}.call(this),function(e,t){var n={included:function(e){e.prototype.initialize=_.wrap(e.prototype.initialize,function(e,n,r){var i=new t.Label({},_.extend(r||{},{draft:!0}));return this.newLabel=function(){return i},e.call(this,n,r)})}};_.namespace(t,"mixins").draftNewLabel=n}(window,window.tracker),function(e,t){var n=t.Collection.extend({associations:[{belongsTo:"project"}],draggable:function(){return this.filter(function(e){return!e.isAccepted()})},destroy:function(){var e=this.project(),n=new t.Command({type:"MultiStoryDelete",parameters:{cids:this.cids()}},{project:function(){return e}});return this.reset(),n.executeAsInitiatingClient()},moveToProject:function(e){var n=this.project(),r=new t.Command({type:"MultiStoryMoveFromProject",parameters:{cids:this.cids(),destination_project_id:e}},{project:function(){return n}});return r.executeAsInitiatingClient()}});t.SelectedModels=n}(window,window.tracker),function(){"use strict";function e(e,t,n){return n&&_.has(n,e)?n[e]:t.get(e)}function t(t,n){return"release"===e("story_type",t,n)}function n(t,n){return"release"!==e("story_type",t,n)}function r(t,n){return!!e("deadline",t,n)}function i(t,n){return e("estimate",t,n)}function a(e,t){return _.isUndefined(t)?!h.Story.isPastDone(e.project(),e.attributes):!h.Story.isPastDone(e.project(),_.extend({},e.attributes,t))}function o(t,n){return"accepted"===e("current_state",t,n)}function s(t,n){var r=e("current_state",t,n);return _.include(["started","finished","delivered","rejected"],r)}function l(t,n){return"unstarted"===e("current_state",t,n)||"planned"===e("current_state",t,n)}function c(t,n){return"unscheduled"===e("current_state",t,n)}function u(t,n){return"unscheduled"!==e("current_state",t,n)}function d(t,n){var r=e("current_state",t,n);return!_.include(["accepted","unscheduled"],r)}var p=this,h=_.namespace(p,"tracker"),g={notPastDoneCount:function(e,t){return a(e,t)?1:0},pseudopoints:function(e,t){return n(e,t)&&Math.max(.5,i(e,t))},pseudopointsNotPastDone:function(e,t){return a(e,t)&&g.pseudopoints(e,t)},acceptedPseudopoints:function(e,t){return n(e,t)&&o(e,t)&&g.pseudopoints(e,t)},acceptedNotPastDonePseudopoints:function(e,t){return n(e,t)&&a(e,t)&&o(e,t)&&g.pseudopoints(e,t)},acceptedPoints:function(e,t){return o(e,t)?Math.max(0,i(e,t)):0},acceptedNotPastDonePoints:function(e,t){return a(e,t)&&o(e,t)?Math.max(0,i(e,t)):0},acceptedCount:function(e,t){return o(e,t)?1:0},acceptedNotPastDoneCount:function(e,t){return a(e,t)&&o(e,t)?1:0},notUnscheduledCount:function(e,t){return u(e,t)?1:0},notAcceptedNotUnscheduledCount:function(e,t){return d(e,t)?1:0},activePseudopoints:function(e,t){return n(e,t)&&s(e,t)&&g.pseudopoints(e,t)},activePoints:function(e,t){return s(e,t)?Math.max(0,i(e,t)):0},activeCount:function(e,t){return s(e,t)?1:0},unstartedPseudopoints:function(e,t){return n(e,t)&&l(e,t)&&g.pseudopoints(e,t)},unstartedPoints:function(e,t){return l(e,t)?Math.max(0,i(e,t)):0},unstartedCount:function(e,t){return l(e,t)?1:0},unscheduledPseudopoints:function(e,t){return n(e,t)&&c(e,t)&&g.pseudopoints(e,t)},unscheduledPoints:function(e,t){return c(e,t)?Math.max(0,i(e,t)):0},releaseDue:function(e,n){return t(e,n)&&r(e,n)&&!o(e,n)&&!c(e,n)&&e},unscheduled:function(e,t){return c(e,t)&&e}};_.namespace(h,"helpers").stories=g}.call(this),function(e,t){function n(e,t){return _.filter(t,function(t){return t.iteration()&&!t.isUnscheduled()&&-1!==e.indexOf(t.iteration().get("type"))})}var r={},i={};_.extend(i,{value:_.identity,points:function(e){return _.reduce(e,function(e,t){return e+Math.max(0,t.get("estimate"))},0)},pseudopoints:function(e){var t=r.not(e,"release");return _.reduce(t,function(e,t){return e+Math.max(.5,t.get("estimate"))},0)},at:function(e,t){return e[t]}}),_.extend(r,{not:function(e,t,n,i,a){var o=r[t].call(this,e,t,n,i,a);return _.difference(e,o)},bucket:function(e,t){return _.filter(e,function(e){return e.bucket()===t})},icebox:function(e){return _.filter(e,r.isUnscheduled_)},scheduled:function(e){return _.filter(e,r.isScheduled_)},releases:function(e){return _.filter(e,r.isRelease_)},features:function(e){return _.filter(e,r.isFeature_)},active:function(e){return _.filter(e,r.isActive_)},label:function(e,t){return _.filter(e,function(e){return _.include(e.labels().models,t)})},has:function(e,t){return _.filter(e,function(e){return e.has(t)})},between:function(e,t,n,r){return _.filter(e,function(e){var i=e.get(t);return i>=n&&r>i})},without:function(e,t){return _.filter(e,function(e){return e!==t})},inRelease:function(e,t){var n,r,i,a;return n=_.filter(e,function(e){return e.isRelease()&&e.isAccepted()}),r=_.indexOf(n,t),i=-1===r?_.last(n):n[r-1],a=_.indexOf(e,i),e.slice(-1!==a?a:0,_.indexOf(e,t))},isPastDone:function(e){return _.filter(e,r.isPastDone_)},notAccepted:function(e){return _.filter(e,r.isNotAccepted_)},acceptedBeforeCurrent:function(e){return _.filter(e,r.isAcceptedBeforeCurrent_)},filter:function(e,t,n){return _.filter(e,t,n)},work:function(e,t){return _.filter(e,function(e){return e.isWorkFor(t)})},isUnscheduled_:function(e){return e.isUnscheduled()},isNotAccepted_:function(e){return!e.isAccepted()},isAcceptedBeforeCurrent_:function(e){return e.isAcceptedBeforeCurrentIteration()},isScheduled_:function(e){return!e.isUnscheduled()},isRelease_:function(e){return e.isRelease()},isFeature_:function(e){return"feature"===e.get("story_type")},isActive_:function(e){return e.bucket()===t.Story.buckets.ACTIVE},isPastDone_:function(e){return e.isPastDone()}}),_.map(t.Story.stateMachines("feature").states(),function(e,t){r[t]=function(e){return _.filter(e,function(e){return e.get("current_state")===t})}}),_.map(t.Story.types,function(e){r[e]=function(t){return _.filter(t,function(t){return t.get("story_type")===e})}});var a=function(e){var t={},a=e.getModelsArray?e.getModelsArray():e.models,o=e.project?e.project():void 0;return o&&o.iterations()&&_.extend(r,{done:function(e){return n(["done"],e)},current:function(e){return n(["current"],e)},backlog:function(e){return n(["backlog"],e)},currentAndBacklog:function(e){return n(["current","backlog"],e)}}),_.each(r,function(e,n){t[n]=function(n,r,i,o){return a=e.call(t,a,n,r,i,o),t}}),_.chain(i).extend(_.pick(_,["map","each","first","last","pluck","isEmpty","invoke","size","head","rest"])).each(function(e,n){t[n]=function(n,r,i,o){return e.call(t,a,n,r,i,o)}}),t};t.Scope=a}(window,tracker),function(){"use strict";var e=this._;e.mixin({binarySearch:function(e,t,n,r){for(var i;t>=e;){i=Math.floor((t+e)/2);var a=n.call(r,i);if(0==a)return i;0>a?t=i-1:e=i+1}return null}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n="name,description,estimate,story_type,current_state,accepted_at,deadline,requested_by_id,owner_ids,label_ids,comments,tasks,integration_id,external_id,follower_ids,created_at,updated_at",r=t.Collection.extend({model:t.Story,clone:function(){return new this.constructor(this.models,this._options)},url:function(){return"/services/v5/projects/"+this.project().id+"/stories?"+$.param({authenticity_token:t.csrfToken(),date_format:"millis",fields:n})},associations:{belongsTo:"project"},scope:function(){return new t.Scope(this)},fetch:function(e){e=_.extend({success:$.noop},e,{add:!1,remove:!1,merge:!1,reset:!1});var n=e.success;return e.success=function(e,t){_.chain(t.data||[]).reverse().each(function(t){if(!e.project().stories().get(t)){var n=e.project().stories().push(t,{silent:!0,parse:!0}).moveIfNecessary({silent:!0});e.project().stories().trigger("add",n)}}),e.trigger("reset",e),n(e,t)},t.Collection.prototype.fetch.call(this,e)},acceptedBeforeDateCount:function(e){return _.sortedIndex(this.acceptedAtDates(),e)},acceptedBeforeCurrentCount:function(){var e=this.project().iterations().current()[0];return e&&this.acceptedBeforeDateCount(e.get("start_time"))||0},acceptedBeforeCurrentNotPastDoneCount:function(){return Math.max(0,this.acceptedBeforeCurrentCount()-this.acceptedBeforeDateCount(this.project().pastDoneStartTime()))},firstUnscheduledStoryIndex:function(){var e=this;return _.binarySearch(0,this.length-1,function(t){var n=e.at(t),r=e.at(t-1);return n.isUnscheduled()?r&&r.isUnscheduled()?-1:0:1})},firstUnscheduledStory:function(){return this.at(this.firstUnscheduledStoryIndex())},unscheduled:function(){var e=this.firstUnscheduledStoryIndex();return _.isNumber(e)?this.models.slice(e):[]},releasesDue:function(){for(var e,t=[],n=this.firstUnscheduledStoryIndex(),r=_.isNull(n)?this.length-1:n;r>=0&&(e=this.at(r),"accepted"!==e.get("current_state"));r--)e.get("deadline")&&t.push(e);return _.sortBy(t,function(e){return e.get("deadline")})}});t.Stories=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.stories,r=t.Stories.extend({unscheduledCount:function(){return this.unscheduled().length}});r.include(t.mixins.collections.caches({acceptedCount:{memo:0,dependsOn:["current_state"],add:function(e,t){return e+n.acceptedCount(t)},remove:function(e,t,r){return e-n.acceptedCount(t,r)}},acceptedPoints:{memo:0,dependsOn:["current_state","estimate"],add:function(e,t){return e+n.acceptedPoints(t)},remove:function(e,t,r){return e-n.acceptedPoints(t,r)}},pseudopoints:{memo:0,dependsOn:["estimate","story_type"],add:function(e,t){return e+n.pseudopoints(t)},remove:function(e,t,r){return e-n.pseudopoints(t,r)}},notPastDoneCount:{memo:0,dependsOn:["accepted_at","current_state"],add:function(e,t){return e+n.notPastDoneCount(t)},remove:function(e,t,r){return e-n.notPastDoneCount(t,r)}},pseudopointsNotPastDone:{memo:0,dependsOn:["accepted_at","estimate","story_type","current_state"],add:function(e,t){return e+n.pseudopointsNotPastDone(t)},remove:function(e,t,r){return e-n.pseudopointsNotPastDone(t,r)}},acceptedPseudopoints:{memo:0,dependsOn:["current_state","estimate","story_type"],add:function(e,t){return e+n.acceptedPseudopoints(t)},remove:function(e,t,r){return e-n.acceptedPseudopoints(t,r)}},acceptedNotPastDoneCount:{memo:0,dependsOn:["accepted_at","current_state"],add:function(e,t){return e+n.acceptedNotPastDoneCount(t)},remove:function(e,t,r){return e-n.acceptedNotPastDoneCount(t,r)}},acceptedNotPastDonePseudopoints:{memo:0,dependsOn:["accepted_at","current_state","estimate","story_type"],add:function(e,t){return e+n.acceptedNotPastDonePseudopoints(t)},remove:function(e,t,r){return e-n.acceptedNotPastDonePseudopoints(t,r)}},acceptedNotPastDonePoints:{memo:0,dependsOn:["accepted_at","current_state","estimate"],add:function(e,t){return e+n.acceptedNotPastDonePoints(t)},remove:function(e,t,r){return e-n.acceptedNotPastDonePoints(t,r)}},notUnscheduledCount:{memo:0,dependsOn:"current_state",add:function(e,t){return e+n.notUnscheduledCount(t)},remove:function(e,t,r){return e-n.notUnscheduledCount(t,r)}},notUnscheduledNotAcceptedCount:{memo:0,dependsOn:"current_state",add:function(e,t){return e+n.notAcceptedNotUnscheduledCount(t)},remove:function(e,t,r){return e-n.notAcceptedNotUnscheduledCount(t,r)}},acceptedAtDates:{memo:[],dependsOn:"accepted_at",add:function(e,t){var n=t.get("accepted_at");if(n){var r=_.sortedIndex(e,n);e.splice(r,0,n)}return e},remove:function(e,t,n){var r,i=n&&_.has(n,"accepted_at")&&n.accepted_at||t.get("accepted_at");return-1!==(r=e.indexOf(i))&&e.splice(r,1),e}},activePseudopoints:{memo:0,dependsOn:["current_state","estimate","story_type"],add:function(e,t){return e+n.activePseudopoints(t)},remove:function(e,t,r){return e-n.activePseudopoints(t,r)}},activePoints:{memo:0,dependsOn:["current_state","estimate"],add:function(e,t){return e+n.activePoints(t)},remove:function(e,t,r){return e-n.activePoints(t,r)}},activeCount:{memo:0,dependsOn:"current_state",add:function(e,t){return e+n.activeCount(t)},remove:function(e,t,r){return e-n.activeCount(t,r)}},unstartedPseudopoints:{memo:0,dependsOn:["current_state","estimate","story_type"],add:function(e,t){return e+n.unstartedPseudopoints(t)},remove:function(e,t,r){return e-n.unstartedPseudopoints(t,r)}},unstartedPoints:{memo:0,dependsOn:["current_state","estimate"],add:function(e,t){return e+n.unstartedPoints(t)},remove:function(e,t,r){return e-n.unstartedPoints(t,r)}},unstartedCount:{memo:0,dependsOn:"current_state",add:function(e,t){return e+n.unstartedCount(t)},remove:function(e,t,r){return e-n.unstartedCount(t,r)}},unscheduledPseudopoints:{memo:0,dependsOn:["current_state","estimate","story_type"],add:function(e,t){return e+n.unscheduledPseudopoints(t)},remove:function(e,t,r){return e-n.unscheduledPseudopoints(t,r)}},unscheduledPoints:{memo:0,dependsOn:["current_state","estimate"],add:function(e,t){return e+n.unscheduledPoints(t)},remove:function(e,t,r){return e-n.unscheduledPoints(t,r)}}})),_.namespace(t).CachedStories=r}.call(this),function(e,t){var n=t.Collection.extend({associations:{belongsTo:"project"},model:t.Epic,initialize:function(){var e,t=this,n=_.once(function(){t.project().labels().on("all",function(){e=null})});this.maxPseudopoints_=0,this.setLargestEpic_(),this.listenTo(this,"add remove change reset",this.setLargestEpic_),_.extend(t,{labels:function(){return n(),e=e||t.invoke("label")}})},setLargestEpic_:function(){if(this.isEmpty())this.maxPseudopoints_=0;else{var e=Math.max.apply(Math,this.invoke("pseudopoints"));e!==this.maxPseudopoints_&&(this.maxPseudopoints_=e,this.trigger("change:maxPseudopoints"))}},done:function(){return this.filter(function(e){return e.isDone()})},notDone:function(){return this.reject(function(e){return e.isDone()})},maxPseudopoints:function(){return this.maxPseudopoints_}});t.Epics=n}(window,window.tracker),function(e,t){var n=t.Model.extend({__name__:"Integration",associations:[{belongsTo:"project"},{hasMany:"stories",className:"IntegrationStories",inverseOf:"integration"}],defaults:{loaded:!1},parse:function(e){return e&&e.integration_type&&(e.type=e.integration_type),_.omit(e,"integration_type")}});t.Integration=n}(window,window.tracker),function(e,t){var n=t.Collection.extend({associations:{belongsTo:"project"},model:t.Integration,comparator:function(e){return e.get("name")},unlinkedOther:function(){return this.find(function(e){return!e.get("can_import")&&"other"===e.get("type")})},parse:function(e){return _.where(e,{active:!0})}});t.Integrations=n}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"DeadlineGroup",associations:[{hasMany:"releasesDue",className:"stories",parse:!1},{belongsTo:"iteration"},{belongsTo:"stories",through:"iteration"},{belongsTo:"project",through:"iteration"}],initialize:function(){var e=this;this.releasesDue().on("add remove change reset",function(){e.trigger("change",e)}),this.project().stories().on("change:deadline add remove",function(t){var n,r=e.iteration();t&&t.isRelease()&&(n=t.get("deadline"))&&n>=r.get("start_time")&&n<r.get("end_time")&&e.trigger("change",e)})},hasReleaseDue:function(){return this.releasesDue().length>0}});t.DeadlineGroup=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({model:t.DeadlineGroup});t.DeadlineGroups=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.stories,r=t.Stories.extend();r.include(t.mixins.collections.caches({acceptedPoints:{memo:0,dependsOn:["current_state","estimate"],add:function(e,t){return e+n.acceptedPoints(t)},remove:function(e,t,r){return e-n.acceptedPoints(t,r)}},points:{memo:0,dependsOn:"estimate",add:function(e,t){return e+Math.max(0,t.get("estimate"))},remove:function(e,t,n){return e-Math.max(0,n.estimate)}}})),_.namespace(t).IterationStories=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"AcceptedStoriesBar",associations:[{belongsTo:"iteration"},{belongsTo:"project",through:"iteration"}],initialize:function(){function e(){t.trigger("change",t)}var t=this,n=this.iteration(),r=n.stories();"current"===n.get("type")&&(r.on("add remove change:current_state",e),this.project().ready().then(e))},acceptedStoriesCount:function(){return"current"===this.get("type")?0:this.iteration().stories().scope().accepted().size()}});t.AcceptedStoriesBar=n}.call(this),function(){"use strict";function e(e,t){e.set({end_time:e.computeEndTime()},t)}function t(e,t){return _.isEqual(e.omit("collapsed"),t.omit("collapsed"))}var n=this,r=_.namespace(n,"tracker"),i={},a=r.Model.extend({__name__:"Iteration",associations:[{belongsTo:"project"},{belongsTo:"velocity"},{hasMany:"stories",className:"IterationStories",parse:!1},{hasMany:"deadlineGroups",parse:!1,inverseOf:"iteration"},{hasOne:"deadlineGroup",parse:!1,inverseOf:"iteration"},{belongsTo:"releasesDue",className:"stories",through:"deadlineGroup"},{hasOne:"acceptedStoriesBar",inverseOf:"iteration"}],computeEndTime:function(){var e=new r.DateTime(this.get("start_time")),t=this.project().get("time_zone").olson_name,n=t+this.length().toString()+e.getTime();return i[n]=i[n]||e.add({weeks:this.length(),time_zone:t}).getTime()},defaults:{editable:!0},initialize:function(t,n){var r=this.project().iterationSettings().get(t),i=this;this.stories().on("change",function(e,t){i.trigger("change",i,t)}),n.iterationSetting?this.setIterationSetting(_.result(n,"iterationSetting")):r&&this.setIterationSetting(r),this.deadlineGroups().reset(this.deadlineGroup()),this.on("change:start_time",e),e(this,{silent:!0})},clone:function(){return new this.constructor(this.attributes,{project:this.project(),velocity:this.velocity(),stories:this.stories().clone(),iterationSetting:this.iterationSetting().clone()})
},hasReleaseDue:function(){return this.deadlineGroup().hasReleaseDue()},iterationSetting:function(){return this._iterationSetting},setIterationSetting:function(t){this._iterationSetting=t&&t.clone(),e(this,{silent:!0})},containsTime:function(e){return e<this.get("end_time")&&e>=this.get("start_time")},length:function(){var e=this.iterationSetting();return e&&"default"!==e.get("length")?e.get("length"):this.project().iterationLength()},points:function(){return this.stories().points()},acceptedPoints:function(){return this.stories().acceptedPoints()},teamStrength:function(){var e=this.iterationSetting()&&this.iterationSetting().get("team_strength");return 0===e?0:e||1},isDisabled:function(){return 0===this.teamStrength()},isDisplayed:function(){return this.project().isShowingPastDone()||!this.isPastDone()},isManuallyPlanned:function(){return!this.project().get("automatic_planning")&&"current"===this.get("type")},availableCapacity:function(){return"done"===this.get("type")||this.isDisabled()?0:this.velocity().perWeek()*this.length()*this.teamStrength()+Math.max(0,this.get("previous_unused_capacity")||0)-this.points()},validate:function(e){return this.id||e.id?e.type?void 0:"type can't be blank":"id can't be blank"},isPastDone:function(){var e=this.get("start_time");if(this.project&&this.project()&&e){var t=this.project().pastDoneStartTime();if(e<t.getTime())return!0}return!1},isEqual:function(e){return e&&t(this,e)&&this.stories().isEqual(e.stories())&&this.releasesDue().isEqual(e.releasesDue())?this.iterationSetting()&&e.iterationSetting()&&this.iterationSetting().isEqual(e.iterationSetting())?!0:!this.iterationSetting()&&!e.iterationSetting():!1}},{invalidateEndTimeCache:function(){i={}}});a.include(r.mixins.saveWithCommand("iteration")).include(r.mixins.timezoneInJSON),r.Iteration=a}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories_out_of_order"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.stories_out_of_order=Handlebars.template(function(e,t,n,r,i){function a(e){var t="";return e=typeof e===h?e():e,t+=g(e)+". "}function o(e){var t,n="";return n+="(#",t=e.previousStory,t=null==t||t===!1?t:t.id,t=typeof t===h?t():t,n+=g(t)+") ",t=e.previousStory,t=null==t||t===!1?t:t.name,t=typeof t===h?t():t,n+=g(t)}function s(){return"nothing"}function l(e,t){var r,i,a="";return a+="  (#",i=n.id,i?r=i.call(e,{hash:{}}):(r=e.id,r=typeof r===h?r():r),a+=g(r)+"): ",i=n.story_type,i?r=i.call(e,{hash:{}}):(r=e.story_type,r=typeof r===h?r():r),a+=g(r)+", ",i=n.current_state,i?r=i.call(e,{hash:{}}):(r=e.current_state,r=typeof r===h?r():r),a+=g(r)+", ",i=n.accepted_at,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(8,c,t)}):(r=e.accepted_at,r=typeof r===h?r():r),n.accepted_at||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(8,c,t)})),(r||0===r)&&(a+=r),a+="\n"}function c(e){var t,r;return t={},t.format="%c",r=n.dateTime,t=r?r.call(e,e,{hash:t}):f.call(e,"dateTime",e,{hash:t}),g(t)}n=n||e.helpers;var u,d,p="",h="function",g=this.escapeExpression,f=n.helperMissing,m=this,_=n.blockHelperMissing;return d=n.extraMessage,d?u=d.call(t,{hash:{},inverse:m.noop,fn:m.program(1,a,i)}):(u=t.extraMessage,u=typeof u===h?u():u),n.extraMessage||(u=_.call(t,u,{hash:{},inverse:m.noop,fn:m.program(1,a,i)})),(u||0===u)&&(p+=u),p+="Stories out of order when placing (#",u=t.story,u=null==u||u===!1?u:u.id,u=typeof u===h?u():u,p+=g(u)+") ",u=t.story,u=null==u||u===!1?u:u.name,u=typeof u===h?u():u,p+=g(u)+" after ",u=t.previousStory,u=n["if"].call(t,u,{hash:{},inverse:m.program(5,s,i),fn:m.program(3,o,i)}),(u||0===u)&&(p+=u),p+=".\n\nStories before and after #",u=t.story,u=null==u||u===!1?u:u.id,u=typeof u===h?u():u,p+=g(u)+":\n",d=n.stories,d?u=d.call(t,{hash:{},inverse:m.noop,fn:m.program(7,l,i)}):(u=t.stories,u=typeof u===h?u():u),n.stories||(u=_.call(t,u,{hash:{},inverse:m.noop,fn:m.program(7,l,i)})),(u||0===u)&&(p+=u),p+="\n"}),this.HandlebarsTemplates.stories_out_of_order}.call(this)}.call(this),function(){"use strict";function e(e,t){return e.isManuallyPlanned()?!1:t.isRelease()?!0:"done"===e.get("type")?!1:e.isDisabled()?!1:e.availableCapacity()>=Math.max(0,t.get("estimate"))}function t(){this.models=[]}var n=this,r=_.namespace(n,"tracker"),i=r.Iteration.prototype,a={done:function(e,t){return e.containsTime(t.get("accepted_at"))},current:function(t,n){var r=n.get("current_state");switch(r){case"accepted":return t.containsTime(n.get("accepted_at"));case"started":case"finished":case"delivered":case"rejected":case"planned":return!0;case"unstarted":return e(t,n);default:return!1}},backlog:function(t,n){return"unstarted"===n.get("current_state")&&e(t,n)}};t.prototype.push=function(e){this.models.push(e)},t.prototype.cids=function(){return _.pluck(this.models,"cid")};var o=r.Model.extend({__name__:"FastIteration",defaults:{editable:!0},initialize:function(e,n){this._project=n.project,this._velocity=n.velocity,this._stories=new t,this._releasesDue=new t;var r=this._project.iterationSettings().get(e);this._iterationSetting=r&&r.clone(),this.set({end_time:this.computeEndTime()})},project:function(){return this._project},velocity:function(){return this._velocity},stories:function(){return this._stories},releasesDue:function(){return this._releasesDue},computeEndTime:i.computeEndTime,containsTime:i.containsTime,iterationSetting:i.iterationSetting,length:i.length,teamStrength:i.teamStrength,isDisabled:i.isDisabled,isManuallyPlanned:i.isManuallyPlanned,availableCapacity:i.availableCapacity,points:function(){return _.reduce(this.stories().models,function(e,t){return e+Math.max(0,t.get("estimate"))},0)},canContain:function(e){var t=this.get("type");return this.get("start_time")===this.get("end_time")?!1:(a[t]||$.noop)(this,e)}});r.FastIteration=o}.call(this),function(){"use strict";function e(){}function t(e,t){function n(e){e.setIteration(t)}e instanceof s.Collection?e.each(n):n(e)}function n(t,n,r,i){var a={story:t.attributes,previousStory:n&&n.attributes||null,stories:_.pluck(r.models.slice(Math.max(0,t.index()-10),t.index()+11),"attributes"),extraMessage:i},o=JST["templates/stories_out_of_order"](a);throw t.project().errors().add({stack_info:{message:o},reorder:!0}),new e}function r(e){var t;e.reduce(function(r,i){var a=i.bucket();return r>a&&n(i,t,e),t=i,a},0)}function i(e,t){return t&&e.each(function(e){e.id>t.id&&"done"===e.get("type")&&e.set({type:"pending"},{silent:!0})})}function a(n){var a=this,o=1,l=0,c=n.silent,u=n.iterations,d=u.project(),p=n.startTime,h=n.stories,g=s.DateTime.now().getTime(),f=h.firstUnscheduledStoryIndex(),m=null!==f?h.models.slice(0,f):h.models,v=_.groupBy(m,function(e){var t=e.get("accepted_at");return t&&t<n.startTime?"unschedulableStories":"schedulableStories"}),y=h.releasesDue();_.invoke(v.unschedulableStories,"setIteration");var b=v.schedulableStories||[];_.extend(this,{now:function(){return g},stories:function(){return h},prevStory:function(){return b[l-1]},currStory:function(){return b[l]},project:function(){return d},prevIteration:function(){return u.get(o-1)},currIteration:function(){return u.get(o)},releasesDue:function(){return y},nextStory:function(){return l++,this.currStory()},nextIteration:function(){return p=this.currIteration().get("end_time"),o++,this.currIteration()},createNextIteration:function(e){e=_.defaults(e,{id:o,start_time:p});var t=u.velocity(),n=new s.FastIteration(e,{project:d,velocity:t}),r=n.get("end_time");return n.releasesDue().models=_.filter(this.releasesDue(),function(e){var t=e.get("deadline");return t>=p&&r>t}),n},createNextBacklogIteration:function(){var e=this.prevIteration(),t=0;return e&&(t=e.isDisabled()?e.get("previous_unused_capacity"):e.availableCapacity()),this.createNextIteration({type:"backlog",previous_unused_capacity:t})},addOrUpdateIteration:function(e){var n,r=u.get(e);if(r){if(!r.isEqual(e)){var i=r.get("type");r.stories().setWithReorder(e.stories().models,{silent:c,merge:!1}),r.releasesDue().setWithReorder(e.releasesDue().models,{silent:c,merge:!1}),r.setIterationSetting(e.iterationSetting()),r.set(_.omit(e.attributes,"collapsed","id"),{silent:!0}),c||(r.trigger("change",r),i!==e.get("type")&&u.trigger("reorder",r,u))}r.unset("stale",{silent:c}),t(r.stories(),r)}else n=u.push(e.attributes,{silent:c}),n.stories().reset(e.stories().models,{silent:c}),n.releasesDue().reset(e.releasesDue().models,{silent:c}),t(n.stories(),n);return this.nextIteration(),r||n},removeIteration:function(e){e.stories().set([],{silent:c}),e.releasesDue().set([],{silent:c}),e.set({stale:!0},{silent:c})},calculate:function(t){function n(){var e=b.indexOf(_.find(b,function(e){return!e.isAccepted()||s&&s.containsTime(e.get("accepted_at"))}));return-1!==e?(l=e,!0):void 0}var s=u.current()&&u.current()[0];try{r(h);var f=t&&t.skipDoneIterations&&s;f&&n()?(o=s.id,p=s.get("start_time")):(a.calculateDoneIterations(),i(u,a.prevIteration()),u.trigger("doneIterationsCalculated"));var m=d.startTime().getTime()>g;s=a.createCurrentOrBacklogIteration(m),a.calculateCurrentAndBacklog(s),_.each(u.models.slice(o-1),a.removeIteration),d.get("automatic_planning")||d.iterations().backlog()[0].set({stale:!1},{silent:c}),_.invoke(h.unscheduled(),"setIteration")}catch(v){if(v instanceof e)return;throw v}u.trigger("recalculated")}})}var o=this,s=_.namespace(o,"tracker");a.prototype={calculateDoneIterations:function(){for(var t,n;;){if(n=this.createNextIteration({type:"done"}),n.get("end_time")>=this.now())break;if(n.id>a.MAX_ITERATIONS){var r="Too many done iterations";throw this.project().errors().add({stack_info:{message:r},reorder:!0}),new e}for(t=this.currStory();t&&n.canContain(t);t=this.nextStory())n.stories().push(t);this.addOrUpdateIteration(n)}},createCurrentOrBacklogIteration:function(e){var t=this.currStory();if(t){var n=!e||t.bucket()<s.Story.buckets.SCHEDULED?"current":"backlog";return this.createNextIteration({type:n})}return e?void 0:this.createNextIteration({type:"current"})},calculateCurrentAndBacklog:function(e){for(var t=e,r=this.currStory();r;r=this.nextStory()){for(;!t.canContain(r);)r.bucket()<s.Story.buckets.SCHEDULED&&n(r,this.prevStory(),this.stories()),this.addOrUpdateIteration(t),t=this.createNextBacklogIteration(),t.id>a.MAX_ITERATIONS&&n(r,this.prevStory(),this.stories(),"Too many backlog iterations");t.stories().push(r)}if(t&&("current"===t.get("type")||t.stories().models.length)&&this.addOrUpdateIteration(t),!this.project().get("automatic_planning")&&0===this.project().iterations().backlog().length){var i=this.addOrUpdateIteration(this.createNextBacklogIteration());i.set({editable:!1})}}},a.MAX_ITERATIONS=5e3,s.IterationCalculator=a}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={included:function(e){_.extend(e.prototype,{recalculate:function(e){return _.tap(this,function(n){var r=!n.length,i=n.project();i&&(t.Timer.measure("iteration_calculation",function(){new t.IterationCalculator({stories:i.stories(),iterations:n,startTime:i.startTime().getTime(),silent:r}).calculate(e||{})}),n.reset(n.models,{silent:!r}))})}})}};_.namespace(t,"mixins.iterations").calculation=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({model:t.Iteration,associations:[{belongsTo:"project"},{belongsTo:"velocity",through:"project"}],icebox:function(){return[]},displayed:function(){return this.filter(function(e){return e.isDisplayed()})},currentAndBacklog:function(){return this.current().concat(this.backlog())},doneNotPast:function(){return _.reject(this.done(),function(e){return e.isPastDone()})},iterationForDate:function(e){function n(e){var t=i.iterationSettings().get(e),n=t?t.get("length"):i.get("iteration_length");return"default"===n?i.get("iteration_length"):n}for(var r,i=this.project(),a=1,o=new t.DateTime(this.first().get("start_time")).add({weeks:n(a)});!r;)o>e?r=new t.FastIteration({id:a,start_time:o.add({weeks:-n(a)}).getTime()},{project:this.project()}):(a++,o=o.add({weeks:n(a)}));return r}});n.include(t.mixins.collections.caches(_.reduce(["done","current","backlog"],function(e,t){return e[t]={memo:[],dependsOn:"type",add:function(e,n){if(n.get("type")===t){var r=_.sortedIndex(e,n,function(e){return e.id});e.splice(r,0,n)}return e},remove:function(e,t){var n;return-1!==(n=e.indexOf(t))&&e.splice(n,1),e}},e},{}))),n.include(t.mixins.iterations.calculation),t.Iterations=n}.call(this),function(e,t){var n,r=t.Model.extend({__name__:"Velocity",associations:[{belongsTo:"project"}],initialize:function(){var e=this,t=1,r=_.memoize(n,function(){return t});this.perIteration=function(){return this.get("overridden_velocity")||r(e)},e.on("change",function(){t++}),_(e.project).isFunction()&&e.project()&&_(e.project().iterations).isFunction()&&e.project().iterations()&&e.listenTo(e.project().iterations(),"doneIterationsCalculated",function(){t++,e.trigger("change")})},defaults:{velocity_averaged_over:3},validate:function(e){return e.initial_velocity?void 0:"initial_velocity must be set"},perWeek:function(){return this.perIteration()/this.project().iterationLength()}});n=function(e){if(!e.isValid())return Number.POSITIVE_INFINITY;var t,n=e.get("velocity_averaged_over"),r=e.get("start_id");if(e.project().iterations()){if(r){var i=Math.max(r-n-1,0);t=e.project().iterations().done().slice(i,r-1),t=_(t).filter(function(e){return e.isDisplayed()})}else t=e.project().iterations().done().slice(-n);t=_(t).reject(function(e){return e.isDisabled()});var a=_(t).reduce(function(e,t){return e+t.length()},0);if(a>0){var o=_(t).reduce(function(e,t){return e+t.points()/t.teamStrength()},0);if(o>0)return Math.floor(e.project().iterationLength()*(o/a))||1}}return e.get("initial_velocity")},t.Velocity=r}(window,window.tracker),function(){"use strict";function e(){return _.compact(["/services/v5/projects",this.project().id,"my/searches",!this.isNew()&&this.id]).join("/")}var t=this,n=_.namespace(t,"tracker"),r=n.Model.extend({__name__:"SavedSearch",associations:[{belongsTo:"project"}],initialize:function(){this.url=e},parse:function(e){return e.data||e},validate:function(){var e=this;if(!this.attributes.name)return"name can't be blank!";if(!this.attributes.query)return"query can't be blank!";var t=this.attributes.name;return this.project().savedSearches().find(function(n){return e!==n&&n.get("name")===t})?"name must be unique!":void 0}});n.SavedSearch=r}.call(this),function(e,t){var n=t.Collection.extend({model:t.SavedSearch,associations:{belongsTo:"project"},url:function(){return"/services/v5/projects/"+this.project().id+"/my/searches"},parse:function(e){return e.data||e}});t.SavedSearches=n}(window,tracker),function(e,t){var n=t.Model.extend({associations:[{belongsTo:"project"}],initialize:function(){this.on("change:length",function(){t.Iteration.invalidateEndTimeCache()})},parse:function(e){return e.id=e.number,e},clone:function(){var e=this.project();return new this.constructor(this.attributes,{project:function(){return e}})},defaults:{length:"default",team_strength:1}});t.IterationSetting=n}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.IterationSettings=t.Collection.extend({model:t.IterationSetting,associations:{belongsTo:"project"},findOrCreateByIteration:function(e){var t=this.get(e);return t||(t=this.push({id:e.id,team_strength:1,length:"default"})),t}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Error",associations:[{belongsTo:"project"}]});t.Error=n}.call(this),function(){"use strict";var e=this,t=_(e).namespace("tracker"),n=e.$,r=t.Model.extend({blacklist:function(){return[270775,439167]},log:function(r){var i=r.get("stack_info"),a=r.get("details"),o=r.project();if(!_.include(this.blacklist(),t.Person.current().id)&&"Script error."!==i.message&&-1===i.message.indexOf("Error connecting to extension")){var s=(i.stack&&i.stack[1],n("script").map(function(){return this.src||this.innerText}).toArray(),{});o&&(s={project_id:o&&o.id,project_version:o&&o.get("version"),initial_stale_commands:o&&o.staleCommands().toJSON()}),n.post("/services/area_51/errors",_.extend({reorder:r.get("reorder"),type:i.name,message:i.message,trace:_(i.stack||[]).chain().rest().map(function(e){return e.func+" ("+e.url+":"+e.line+":"+e.column+")"}).value(),application:"next",url:e.location.toString(),raw:JSON.stringify(i),app_version:t.appVersion()},s,a||{}))}}});t.ErrorReporter=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({associations:[{hasOne:"errorReporter",parse:!1},{belongsTo:"project"}],model:t.Error,initialize:function(){var e=this;this.on("add",function(t){e.errorReporter().log(t)})}});t.Errors=n}.call(this),function(){"use strict";function e(e){this.iterationSettings().add(e.iteration_overrides,{parse:!0})}function t(e){var t=_.map(e.memberships,function(e){return{data:_({}).extend(e.person,{projects:[{project_id:this.id,role:e.role,last_visited_at:e.last_visited_at,will_receive_mention_notifications_or_emails:e.will_receive_mention_notifications_or_emails}]})}},this);this.members().add(t,{parse:!0})}var n=this,r=_.namespace(n,"tracker"),i={"0,1,2,3":"linear","0,1,2,4,8":"powers_of_2","0,1,2,3,5,8":"fibonacci"},a=r.Model.extend({__name__:"Project",defaults:function(){return{account:{status:"active"},time_zone:{},automatic_planning:!0}},url:function(){return"/services/v5/projects/"+this.id+"?date_format=millis&fields="+a.API_FIELDS},cachedUrl:function(){return"/services/v5/cached_projects/"+this.id},associations:[{hasMany:"selectedModels",parse:!1,inverseOf:"project"},{hasOne:"activityEntryGroup",parse:!1,inverseOf:"project"},{belongsTo:"activityEntries",through:"activityEntryGroup"},{hasMany:"labels",inverseOf:"project",silent:!0},{hasMany:"stories",inverseOf:"project",silent:!0},{hasMany:"epics",inverseOf:"project",silent:!0},{hasMany:"errors",inverseOf:"project",parse:!1},{hasMany:"integrations",inverseOf:"project"},{hasMany:"iterations",parse:!1,inverseOf:"project"},{hasOne:"velocity",parse:!1,inverseOf:"project"},{hasMany:"savedSearches",inverseOf:"project"},{hasMany:"iterationSettings",inverseOf:"project",parse:e},{hasMany:"members",parse:t},{hasMany:"fileAttachments",parse:!1},{hasOne:"staleCommands",parse:!1,inverseOf:"project"},{hasOne:"commandQueue",parse:!1},{belongsTo:"workspace"}],initialize:function(){var e=this,t=$.Deferred(),n=["story","epic"];e.activityEntries().on("add",function(t){_.each(t.get("primary_resources"),function(r){_.each(n,function(n){if(r.kind===n){var i=e[_.pluralize(n)]().get(r);i&&i.activityEntries().add(t.clone())}})})}),_.extend(this,{makeReady:function(){r.Timer.end("nr_dom_time"),e.stories().trigger("reset",e.stories()),e.epics().trigger("reset",e.epics()),e.labels().trigger("reset",e.labels()),t.resolve()},ready:function(){return t.promise()}})},startTime:function(){return new r.DateTime(this.get("start_time"))},pastDoneStartTime:function(){return this.has("shown_iterations_start_time")&&new r.DateTime(this.get("shown_iterations_start_time"))},isShowingPastDone:function(){return!!this.get("show_past_done")},iterationLength:function(){return this.get("iteration_length")||1},isStoryTypeEstimatable:function(e){return"feature"===e||("bug"===e||"chore"===e)&&this.get("bugs_and_chores_are_estimatable")},status:function(){return this.get("account")&&this.get("account").status},parse:function(e){return r.Timer.end("nr_total_be_time"),r.Timer.begin("nr_dom_time"),r.Timer.begin("nr_fe_time"),e&&(e=e.data.project||e.data,this.set({shown_iterations_start_time:e.shown_iterations_start_time},{silent:!0}),e.point_scale&&_.extend(e,{point_scale_type:i[e.point_scale]||"custom",point_scale:_(e.point_scale.split(",")).map(function(e){return parseInt(e,10)})}),this.velocity()&&this.velocity().set(_.pick(e,"velocity_averaged_over","initial_velocity"),{silent:!0})),e},timezone:function(){var e=this.get("time_zone")&&this.get("time_zone").olson_name;return r.Timezone.get(e)},fetch:function(e){var t=this,n=_.defaults(e||{},{beforeSend:function(){r.Timer.begin("fetch_project")},dataFilter:function(e){return r.Timer.end("fetch_project"),r.Timer.begin("parse_json"),e}});return r.Model.prototype.fetch.call(this,n).then(function(e){return t.timezone().fetch().then(function(){return e})})},otherIntegration:function(){return this.integrations().findWhere({story_name:"Bug",is_other:!0})||this.integrations().unlinkedOther()}});a.API_FIELDS=":default,shown_iterations_start_time,epics(id,name,label_id),memberships,labels,integrations",a.include(r.mixins.identityMap).include(r.mixins.current),r.Project=a}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({model:t.Project,associations:[{belongsTo:"workspace"}],comparator:function(e){return e.workspace()&&e.workspace().get("project_ids")?e.workspace().get("project_ids").indexOf(e.id):void 0}});t.Projects=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.Model.extend({__name__:"Workspace",associations:[{hasMany:"projects",parse:!1,inverseOf:"workspace"},{belongsTo:"person"}],urlRoot:"/services/v5/my/workspaces",ready:function(){return(this._deferred=this._deferred||$.Deferred()).promise()},parse:function(e){if(e=e&&e.data||e,e&&e.project_ids){var n=this,r=_.difference(_.pluck(n.projects().models,"id"),e.project_ids);n.projects().remove(r),_.each(r,function(e){t.ActiveProjects.current().unregister("workspace",t.Project.get(e))}),n.set({project_ids:e.project_ids})}return e},fetch:function(){var e=this,n=_.map(this.get("project_ids"),function(n){var r=t.Project.get(n,{workspace:e});return t.ActiveProjects.current().register("workspace",r),r.ready().then(function(){e.projects().add(r)})});e._deferred=e._deferred||$.Deferred(),$.when.apply(e,n).then(function(){e._deferred.resolve(e)},function(){e._deferred.reject(e)})},stories:function(){return this._stories=this._stories||new n.CollectionProxy({collection:this.projects(),getter:"stories"}),this._stories},epics:function(){return this._epics=this._epics||new n.CollectionProxy({collection:this.projects(),getter:"epics"}),this._epics}});t.Workspace=r,r.include(t.mixins.current)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"Workspaces",model:t.Workspace});t.Workspaces=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Notification",defaults:{read_at:null},urlRoot:"/services/v5/my/notifications?date_format=millis"});t.Notification=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"Notifications",model:t.Notification,initialize:function(){var e=this;e.on("remove",function(){var t=e.last();t&&t.trigger("change",t)})},parse:function(e){return this.lastNotificationTimestamp=e.last_notification_timestamp||0,e.data},unread:function(){return this.where({read_at:null})},markAllAsRead:function(){var e=this.unread();if(e.length){_.invoke(e,"set",{read_at:t.DateTime.now().getTime()});var n=_.max(e,function(e){return e.id});return $.ajax({url:"/services/v5/my/notifications/mark_read",type:"PUT",data:{before:n.id}}).fail(function(){_.invoke(e,"set",{read_at:null})})}return $.Deferred().reject().promise()},url:"/services/v5/my/notifications?date_format=millis",comparator:function(e){return-e.get("created_at")},updateUrl:function(){var e;return e=this.models.length?_.max(this.models,function(e){return e.get("updated_at")}).get("updated_at"):this.lastNotificationTimestamp?this.lastNotificationTimestamp:0,"/services/v5/people/"+t.Person.current().id+"/notifications/since/"+e}});t.Notifications=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"FavoriteEpic",associations:[{belongsTo:"layoutScheme"}],url:function(){return["/services/area_51/layouts",this.layoutScheme().id,"favorite_epics"].join("/")},sync:function(e,n,r){return"update"===e?t.Model.prototype.sync.call(this,"create",n,r):"delete"===e?t.Model.prototype.sync.call(this,e,n,_.extend(r||{},{url:_.result(this,"url")+"/"+this.id})):void 0},epic:function(){return t.Project.current().epics().get(this.id)}});t.FavoriteEpic=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"FavoriteEpics",associations:[{belongsTo:"layoutScheme"}],model:t.FavoriteEpic});t.FavoriteEpics=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"FavoriteLabel",associations:[{belongsTo:"layoutScheme"}],url:function(){return["/services/area_51/layouts",this.layoutScheme().id,"favorite_labels"].join("/")},label:function(){return t.Project.current().labels().get(this.id)}});t.FavoriteLabel=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"FavoriteLabels",associations:[{belongsTo:"layoutScheme"}],model:t.FavoriteLabel});t.FavoriteLabels=n}.call(this),function(){"use strict";function e(e){return _.map(e.stories,function(e){var t=r.Project.get(e.project_id),n=t.stories().get(e);return n||(n=new r.Story(e,{parse:!0,project:t}),t.stories().unshift(n,{silent:!0}).moveIfNecessary({silent:!0})),n})}function t(e){return _.chain(e.epics).map(function(e){var t=r.Project.get(e.project_id);return t.epics().get(e)}).sortBy(function(e){return e.sortingBucket()}).value()}var n=this,r=_.namespace(n,"tracker"),i=r.Model.extend({__name__:"SearchResult",associations:[{hasMany:"epics",parse:t},{hasMany:"stories",parse:e}],initialize:function(){function e(){t.trigger.apply(t,arguments)}var t=this;this.stories().on("all",e),this.epics().on("all",e)},models:function(){return _.flatten([this.stories().models,this.epics().models])},totalHits:function(){return"epics"===this.get("type")?_.reject(this.models(),function(e){return e.isDone()}).length:this.get("total_hits")},totalHitsWithDone:function(){return"epics"===this.get("type")?this.models().length:this.get("total_hits_with_done")},pastDoneCount:function(){var e=this.totalHits(),t=this.totalHitsWithDone();return 0!==e&&!e||0!==t&&!t?null:t-e},hasPastDone:function(){return this.pastDoneCount()>0}});r.SearchResult=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.SearchResults=t.Collection.extend({model:t.SearchResult,get:function(e){return t.Collection.prototype.get.apply(this,arguments)||_.compact(this.map(function(t){return t.stories()&&t.stories().get(e)||t.epics()&&t.epics().get(e)}))[0]}})}.call(this),function(){"use strict";function e(e){return _.chain(e).reduce(function(e,t){function n(e){return{id:e.id,project_id:t.project().id}}return t.searchResults().each(function(t){var r=t.get("type");_.isEmpty(e)&&(e={epics:{epics:[],type:"epics",total_hits:0,total_hits_with_done:0},stories:{stories:[],type:"stories",total_hits:0,total_hits_with_done:0}}),e[r][r]=e[r][r].concat(t[r]().map(n)),e[r].total_hits+=t.totalHits()||0,e[r].total_hits_with_done+=t.totalHitsWithDone()||0}),e},void 0).values().value()}function t(e,t){return _.map(t,function(t){return _.extend({project_id:e},t)})}function n(e){if(e){var n=[],r=e.epics,i=e.stories,a=this.project().id;return r&&r.epics.length&&n.push(_.extend({type:"epics"},r,{epics:t(a,r.epics)})),i&&(i.stories.length||i.total_hits_with_done>0)&&n.push(_.extend({type:"stories"},i,{stories:t(a,i.stories)})),n}return e}var r=this,i=_.namespace(r,"tracker"),a=i.Model.extend({__name__:"Search",associations:[{belongsTo:"project"},{hasMany:"searchResults",parse:n},{belongsTo:"workspace"}],url:function(){var e=":default,epics(:default,epics("+i.Epic.API_FIELDS+")),stories(:default,stories("+i.Story.API_FIELDS+"))";return"/services/v5/projects/"+this.project().id+"/search?date_format=millis&fields="+e+"&query="+encodeURIComponent(this.get("query"))},parse:function(e){return e.data},fetch:_.wrap(i.Model.prototype.fetch,function(t,n){var r=this,a=this.attributes;if(this.project())return t.call(this,n);var o=this.workspace().projects().map(function(e){return new i.Search(a,{project:e})});return $.when.apply(this,_.invoke(o,"fetch")).then(function(){r.searchResults().reset(e.call(r,o),{parse:!0})})})});i.Search=a}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"FavoriteSearch",associations:{belongsTo:"layoutScheme"},parse:function(e){return e.data||e},project:function(){return t.Project.get(this.get("project_id"))},search:function(){return new t.Search({query:this.get("query")},{project:this.project()})},url:function(){return _.compact(["/services/area_51/layouts",this.layoutScheme().id,"favorite_searches",this.id]).join("/")},validate:function(e){if(!_.has(e,"name"))return"Search name cannot be blank.";var t=this,n=e.name.toLowerCase();return this.collection&&this.collection.find(function(e){return e!==t&&e.get("name").toLowerCase()===n})?"Search name already exists. Please choose another.":void 0}});t.FavoriteSearch=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"FavoriteSearches",associations:[{belongsTo:"layoutScheme"}],model:t.FavoriteSearch});t.FavoriteSearches=n}.call(this),function(){"use strict";function e(e){e.trigger("change",e,{skipChangeHandling:!0})}var t=this,n=_(t).namespace("tracker"),r=n.Model.extend({__name__:"PanelIteration",associations:[{belongsTo:"panel"},{belongsTo:"project",through:"panel"}],initialize:function(){var t=this.iteration();this.listenTo(this.panel(),"change:show_accepted",function(){e(t.acceptedStoriesBar())}),this.listenTo(t,"change",function(){this.trigger("change",this)})},defaults:{collapsed:!1},iteration:function(){return this.project().iterations().get(this)}});n.PanelIteration=r}.call(this),function(){"use strict";var e=this;e.tracker.ArrayDiff={compressedDiff:function(e,t){return this.compressOrder(e,t)},compressOrder:function(e,t){for(var n,r=this.diff(e,t),i=[],a=[],o=0;o<r.length;o++){var s=r[o][0],l=r[o][1];switch(s){case"=":s="=";break;case"-":s=-1!==t.indexOf(l)?"x":"-";break;case"+":s=-1!==e.indexOf(l)?"p":"+"}n&&s===n?a.push(l):(n&&i.push([n,a]),a=[l],n=s)}return n&&i.push([n,a]),i},diff:function(e,t){var n=this.longestCommonSubstring(e,t),r=n.startString1,i=n.startString2;if(0===n.length)return e.map(this.minus).concat(t.map(this.plus));var a=e.slice(0,r),o=t.slice(0,i),s=t.slice(i,i+n.length).map(this.equal),l=e.slice(r+n.length),c=t.slice(i+n.length);return this.diff(a,o).concat(s,this.diff(l,c))},minus:function(e){return["-",e]},plus:function(e){return["+",e]},equal:function(e){return["=",e]},longestCommonSubstring:function(e,t){for(var n=t.length,r={startString1:0,startString2:0,length:0},i=this.indexMap(e),a=[],o=0;n>o;o++){for(var s,l=t[o],c=[],u=i[l]||[],d=0;d<u.length;d++){var p=u[d];s=(p&&a[p-1]||0)+1,s>r.length&&(r.length=s,r.startString1=p-s+1,r.startString2=o-s+1),c[p]=s}a=c}return r},indexMap:function(e){for(var t=e.length,n={},r=0;t>r;r++)n[e[r]]=n[e[r]]||[],n[e[r]].push(r);return n}}}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.PanelItems=t.Collection.extend({get:function(e){return null===e||void 0===e?void 0:this._byId[e.cid]||this._byId[e]},refresh:function(e){var n=this.cids(),r=_.pluck(e,"cid"),i={};if(!this.areCidsEqual_(r,n)){if(this.isEmpty())return this.reset(e),void 0;for(var a=t.ArrayDiff.compressedDiff(n,r),o=0;o<a.length;o++){var s=a[o][0],l=a[o][1];switch(s){case"+":var c=this.cidsToModels_(l,e);this.add(c,{at:_.indexOf(r,l[0])}),this.trigger("multiadd",c);break;case"x":for(var u=0;u<l.length;u++)i[l[u]]||this.move(this.get(l[u]),this.length,{silent:!0});break;case"p":var d=_.indexOf(r,l[0]);l.reverse();for(var p=0;p<l.length;p++)i[l[p]]=!0,this.move(this.get(l[p]),d);break;case"-":for(var h=0;h<l.length;h++)this.remove(this.get(l[h]))}}}},areCidsEqual_:function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;n>r;r++)if(e[r]!==t[r])return!1;return!0},cidsToModels_:function(e,t){var n=[];n.length=e.length;for(var r=0;r<t.length;r++){var i=t[r],a=e.indexOf(i.cid);-1!==a&&(n[a]=i)}return n}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=5,r=t.Collection.extend({associations:[{belongsTo:"panel"},{hasMany:"iterations",className:"panelItems"}],model:t.PanelIteration,initialize:function(){var e=this.iterations(),t=this.panel().project();t&&(this.listenTo(e,"add",this.onAdd_),this.listenTo(e,"remove",this.onRemove_),this.listenTo(e,"reset",this.onReset_),this.listenTo(e,"change:id",this.onChangeId_),this.listenTo(t.iterations(),"add remove reset change:id reorder",this.refresh_),this.refresh_())},remove:function(){t.Collection.prototype.remove.apply(this,arguments).stopListening()},reset:function(){this.invoke("stopListening"),t.Collection.prototype.reset.apply(this,arguments)
},refresh_:function(){this.iterations().refresh(_.intersection(this.panel().content().iterations,this.panel().project().iterations().models))},onAdd_:function(e){this.add(e.pick("id"))},onRemove_:function(e){this.remove(this.get(e))},onReset_:function(){this.reset(_.invoke(this.panel().content().iterations,"pick","id"))},onChangeId_:function(e){this.remove(this.get(e.previous("id"))),this.add(e.pick("id"))},collapseForLoad:function(){var e=this.panel();if(e.isBacklog())this.chain().rest(n).invoke("set",{collapsed:!0}).value();else if(e.isDone()){var t=e.project().velocity();this.chain().first(this.length-t.get("velocity_averaged_over")).invoke("set",{collapsed:!0}).value()}}});t.PanelIterations=r}.call(this),function(){"use strict";function e(e){return{included:function(t){var n={content:function(){var t=this.get("type"),n=(e[this.baseId()]||e[t]||e._default).call(this),r=_.extend({id:this.generateId(this.baseId()||t),name:this.get("name")||t},n.attrs);return _.extend(n,{attrs:r})}};_(e).chain().keys().without("_default").each(function(e){n[_("is_"+e).camelize()]=function(){return this.get("type")===e}}),_(t.prototype).extend(n)}}}var t=this,n=_(t).namespace("tracker");_.namespace(n,"mixins.panels").content=e}.call(this),function(){"use strict";function e(e){return _.isFunction(e.then)?String($.Deferred().then)===String(e.then):!1}function t(e){return function(t,n){return t[n]=function(){var t=_.toArray(arguments);return this._operations.unshift(function(r){return _.isUndefined(r)?void 0:_.first(e[n].apply(this,[[r]].concat(t)))}),this},t}}function n(t,n,r){var i,o=_.bind(this.push,this);_.extend(this,{_operations:[],_model:new Backbone.Model,destroy:function(){return i?r&&i.off(n,r,o)||i.off(n,o):void 0}}),t&&(t instanceof a.HTMLElement||t instanceof $?i=r&&$(t).on(n,r,o)||$(t).on(n,o):e(t)?t[n](o):i=t.on(n,o))}function r(e){return function(){var t=this._model,n=t[e].apply(t,arguments);return n===t&&this||n}}function i(e,t,n){return _.each(e,t,n)||e}var a=this,o=_.namespace(a,"tracker"),s=["collect","filter","invoke","map","omit","pick","pluck","select","where"];n.prototype=_.extend({get:r("get"),take:function(e){var t=e||1,n=[];return _.extend(this,{_eventSize:t,_events:n}),this._operations.unshift(function(e){return _.isUndefined(e)||n.length!==t?void 0:n.splice(0,t)}),this},merge:function(){var e=new n;return _.each(arguments,function(t){t.each(e.push,e)}),this.each(e.push,e),e},reverseMerge:function(){return _.each(arguments,function(e){e.each(this.push,this)},this),this},on:r("on"),off:r("off"),push:function(e){this._eventSize>1&&this._events.push(e),_.compose.apply(this,this._operations)(e)},set:r("set"),toAttr:function(e){var t=this._model;return this._operations.unshift(function(n){_.isUndefined(n)||(t.set(e,n,{silent:!0}),t.trigger("change:"+e,t,n).trigger("change",t))}),this}},_.reduce(s,t(_),{}),_.reduce(["each"],t({each:i}),{})),_.namespace(o).Stream=n}.call(this),function(){"use strict";function e(e){return e.attribute("collection").reduce(function(t,n){return t.concat(n[e.attribute("getter")]().models)},[])}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next"),i=n.Model.extend({__name__:"CollectionProxy",attribute:function(e){return n.Model.prototype.get.call(this,e)},initialize:function(){this.setupEventForwarding(),this.listenTo(this.attribute("collection"),"add remove",this.setupEventForwarding)},setupEventForwarding:function(){function e(){t.trigger.apply(t,arguments)}var t=this;this.attribute("collection").each(function(n){n[t.attribute("getter")]().off("all"),n[t.attribute("getter")]().on("all",e)})},getModelsArray:function(){return e(this)},scope:function(){return new n.Scope(this)},get:function(e){var t=this.attribute("getter");return this.attribute("collection").reduce(function(n,r){return n||r[t]().get(e)},null)}});_.each(["each","map"],function(t){i.prototype[t]=function(){var n=_(e(this));return _.flatten(n[t].apply(n,arguments))}}),r.CollectionProxy=i}.call(this),function(){"use strict";function e(e,t){return function(){return _.reduce(e[t](),function(e,t){return e.concat(t.stories().models)},[])}}var t=this,n=_.namespace(t,"tracker"),r={my_work:function(){function e(){return t.scope().work(n.Person.current()).value()}var t=this.project()?this.project().stories():this.workspace().stories();return{attrs:{id:this.id||this.generateId(),name:"my work"},items:e,collection:t,allowsClone:!0,allowsSelectAll:!0,areItemsDraggable:!0,areItemsRevealable:!0,shouldSave:!0,counter:function(){return e().length}}},current:function(){var t=this.project().iterations(),n=t.current(),r=this.project().stories();return{items:e(t,"current"),newStoryState:this.project().get("automatic_planning")?"unstarted":"planned",iterations:n,collection:r,areItemsDraggable:!0,areItemsDroppable:!0,shouldCache:!0,allowsClone:!0,allowsItemsToBeRevealed:!0,allowsSelectAll:!0,shouldSave:!0}},backlog:function(){{var t=this.project(),n=t.get("automatic_planning"),r=!!this.get("split"),i=this.get("split"),a=i&&"backlog"||"currentAndBacklog",o=t.iterations(),s=o[a]();this.backlogGroups()}return{attrs:{name:i&&"backlog"||"current/backlog",id:this.generateId(this.baseId()||"backlog")},newStoryState:r||n?"unstarted":"planned",items:e(o,a),iterations:s,collection:this.project().stories(),areItemsDraggable:!0,areItemsDroppable:!0,allowsClone:!0,allowsSelectAll:!0,shouldCache:!0,allowsIterationFolding:!0,allowsItemsToBeRevealed:!0}},done:function(){var t=this.project(),n=(this.doneGroups(),t.iterations()),r=t.stories(),i=t.iterations().done();return{items:e(n,"done"),iterations:i,collection:r,shouldCache:!0,allowsClone:!0,allowsSelectAll:!0,allowsIterationFolding:!0,allowsItemsToBeRevealed:!0,shouldSave:!0}},notifications:function(){var e=this.person().notifications();return{attrs:{id:this.get("type"),name:"notifications"},items:function(){return e.models},collection:e,allowsClone:!1,areItemsDraggable:!1,areItemsRevealable:!0}},search:function(){function e(){return _.flatten(a)}var t,r=this.search(),i=r.searchResults(),a=i.map(function(e){return[e,e.models()]});0===a.length&&(a=[new n.SearchResult({type:"stories",total_hits:0,total_points:0})]);var o=[this.generateId(this.get("type")),n.DateTime.now().getTime(),_.uniqueId()].join("_");return t=this.favoriteSearch()?this.id:o,{attrs:{id:t,name:r.get("query")},remote:r,items:e,collection:i,areItemsRevealable:!0,allowsSelectAll:!0,areItemsDraggable:!0,loadingMessage:"Searching..."}},releases:function(){function e(){return t.scope().releases().value()}var t=this.project().stories();return{items:e,collection:t,allowsClone:!0,areItemsRevealable:!0,shouldSave:!0}},charts:function(){return{items:function(){return[]},collection:new n.Collection,allowsClone:!0,shouldSave:!0}},charts2:function(){return{attrs:{name:"Charts Beta"},items:function(){return[]},collection:new n.Collection,allowsClone:!0,shouldSave:!0}},integration:function(){function e(){return n.models}var t=this.integration(),n=t&&t.stories(),r=t&&this.generateId([t.get("type"),t.id].join("_")),i=t&&t.get("name"),a=t&&t.id;return{attrs:{id:r,name:i,integration_id:a},items:e,collection:n,shouldSave:!1,disallowExpansion:!0,areItemsDraggable:!0}},pinned_search:function(){return r.search.call(this)},labels:function(){function e(){return _(t.models).sortBy(function(e){return e.get("name")})}var t=this.project().labels();return{items:e,collection:t,shouldCache:!1,shouldSave:!0,attrs:{name:"Labels",id:this.id||this.generateId()}}},saved_searches:function(){function e(){return t.models}var t=this.project().savedSearches();return{items:e,collection:t}},icebox:function(){function e(){var e=r.firstUnscheduledStory(),n=e&&r.slice(r.indexOf(e))||[];return t.newModel()&&[t.newModel()].concat(n)||n}var t=this,n=this.project(),r=n.stories();return{items:e,newStoryState:"unscheduled",collection:r,areItemsDraggable:!0,areItemsDroppable:!0,allowsSelectAll:!0,shouldCache:!0,allowsClone:!0,allowsItemsToBeRevealed:!0,shouldSave:!0}},icebox2:function(){var e=this;return _(r.icebox.call(this)).extend({items:function(){return e.project().stories().scope().icebox().value()}})},label_stories:function(){function e(){var e=r.scope().unscheduled().value(),n=_.difference(r.models,e);return _.compact(n.concat(t.newModel(),e))}var t=this,n=this.label(),r=n&&n.stories();return{attrs:n?{id:this.generateId("label_"+n.cid+"_stories"),name:n.get("name")}:{},items:e,collection:r,allowsSelectAll:!0,areItemsDraggable:!0,areItemsDroppable:!0,areItemsRevealable:!0,failureMessage:"Done stories are currently unavailable.",done:function(){return{length:r&&n.doneCount(),type:"story"}},validate:function(){return n?void 0:"Epic stories panels must have an epic."}}},epics:function(){var e=this.project().epics();return{items:function(){return e.models},collection:e,areItemsDraggable:!0,areItemsDroppable:!0,shouldCache:!0,allowsItemsToBeRevealed:!0,shouldSave:!0}},epic_stories:function(){function e(){var e=i.scope().unscheduled().value(),n=_(i.toArray()).difference(e);return t.newModel()&&n.push(t.newModel()),n.concat(e)}var t=this,r=this.epic(),i=r&&r.stories();return{attrs:r?{id:this.generateId("epic_"+r.cid+"_stories"),name:r.get("name")}:{},items:e,collection:i,allowsSelectAll:!0,areItemsDraggable:!0,areItemsDroppable:!0,areItemsRevealable:!0,done:function(){return{length:i&&r.doneCount(),type:"story"}},failureMessage:"Done stories are currently unavailable.",validate:function(){return t.epic()instanceof n.Epic?void 0:"Epic stories panels must have an epic."}}},project_history:function(){var e=this.project(),t=e.activityEntries();return{attrs:{id:this.generateId("project_history"),name:"project history"},items:function(){return t.models},collection:t,shouldSave:!0}},story_history:function(){function e(){return n.toArray()}var t=this.story(),n=t&&t.activityEntries();return{attrs:t?{id:this.generateId("story_"+t.cid+"_history"),name:"history of '"+t.get("name")+"'"}:{},items:e,collection:n}},epic_history:function(){function e(){return n.toArray()}var t=this.epic(),n=t&&t.activityEntries();return{attrs:t?{id:this.generateId("epic_"+t.cid+"_history"),name:"history of '"+t.get("name")+"'"}:{},items:e,collection:n}},recent_updates:function(){function e(){return[]}var t=new n.Collection;return{attrs:{name:"Recent Updates"},items:e,collection:t}},ui_guide:function(){function e(){return[]}var t=new n.Collection;return{attrs:{name:"New UI Guide"},items:e,collection:t}},_default:function(){function e(){return[]}var t=new Backbone.Collection;return{attrs:{},items:e,collection:t}}};_.namespace(n,"mixins.panels").sources=r}.call(this),function(){"use strict";function e(e,t,n){var r=_.trim(t).split(" ");return _.all(r,function(t){return e[t](n)})}function t(t,n,r,i){var a=_.find(n,function(n,a){var o=a.split(":"),s=o[0],l=o[1],c=e(t,s,r),u=e(t,l,i);return c&&u});return _.isUndefined(a)?!1:a}function n(e,n,r,l){function c(e){return m&&"planned"===e?"unstarted":e}function u(e){return m&&e===!0&&n.isPlanned&&n.isPlanned()?"unstarted":e}function d(e){return n.get("current_state")===e?!0:e}var p=i.Story.buckets;if(_.isFunction(this.areItemsDraggable)&&!this.areItemsDraggable())return!1;if(n instanceof i.Epic)return!1;if("epic_stories"===this.get("type")&&n.project().id!==this.project().id)return!1;var h,g,f=this,m=n.project().get("automatic_planning");if(h=l?this.project().stories().scope()["unscheduled"===l?"icebox":"currentAndBacklog"]().value():this.items(),r&&r.isAccepted())return!1;if(e&&e.isAccepted()&&e.next()&&e.next().isAccepted())return!1;e=e&&e.isRelease()?e.previousNotRelease(h):e,r=r&&r.isRelease()?r.nextNotRelease(h):r;var v={any:function(){return!0},story:function(e){return!e.isRelease()},release:function(e){return e.isRelease()},accepted:function(e){return e.bucket()===p.ACCEPTED},active:function(e){return e.bucket()===p.ACTIVE},inactive:function(e){return e.bucket()>p.ACTIVE},planned:function(e){return e.bucket()===p.PLANNED},scheduled:function(e){return e.bucket()===p.SCHEDULED},unscheduled:function(e){return e.bucket()===p.UNSCHEDULED},unsaved:function(e){return e.isNew()&&f.newModel()===e},done:function(e){return e.isDone()},current_or_backlog:function(e){return e.isCurrent()||e.isBacklog()},current_and_backlog:function(e){return e.isBacklog()&&!e.get("split")},current:function(e){return e.isCurrent()&&e.get("split")},backlog:function(e){return e.isBacklog()&&e.get("split")},icebox:function(e){return e.isIcebox()},epic_stories:function(e){return e.isEpicStories()},panel:function(e){return e instanceof i.Panel},first_in_panel:function(){return!_(e).isObject()},above_icebox_marker:function(){return!_(r).isUndefined()&&_(e).isUndefined()},group_unscheduled:function(){return"unscheduled"===l},group_scheduled:function(){return"scheduled"===l},group_current:function(){return"current"===l},automatically_planned:function(e){return!!e.project().get("automatic_planning")}},y=!_.isObject(e),b=!_.isObject(r),E=!y&&!b,S=!y&&t(v,o,n,e),w=!b&&t(v,a,n,r),T=S&&w,A=y&&b,x=A&&t(v,s,n,this);return g=E?T:S||w||x,d(u(c(g)))}var r=this,i=_.namespace(r,"tracker"),a={"any : accepted":!1,"story : unsaved":!1,"release : unsaved":!1,"accepted release: any":!1,"active release : active story":"planned","active : active":!0,"active release : scheduled group_current":"planned","active release : scheduled story":"unstarted","active release : unscheduled story group_scheduled":"unstarted","active release : unscheduled story group_current":!0,"active release : scheduled":!0,"active release : planned":"planned","active story : unscheduled story group_current":!0,"active story : first_in_panel group_current":!0,"active : first_in_panel scheduled":!1,"active : scheduled":!0,"active release : unscheduled":"unscheduled","inactive story : active story":!1,"active story : planned":!0,"scheduled release : active":"planned","scheduled release : unscheduled group_current":"planned","scheduled : scheduled group_current":"planned","scheduled : scheduled group_scheduled":!0,"scheduled : scheduled":!0,"scheduled : unscheduled group_scheduled":!0,"scheduled : unscheduled group_current":"planned","scheduled : unscheduled":"unscheduled","unscheduled release : active":"planned","unscheduled : scheduled group_current":"planned","unscheduled : scheduled":"unstarted","unscheduled : unscheduled group_current":"planned","unscheduled : unscheduled group_scheduled":"unstarted","unscheduled : unscheduled":!0,"scheduled : planned":"planned","unscheduled : planned":"planned","planned release : active story":!0,"planned release : unscheduled group_current":!0,"planned : unscheduled group_current":!0,"planned : scheduled group_current":!0,"planned : scheduled group_scheduled":"unstarted","planned : unscheduled group_scheduled":"unstarted","planned : unscheduled":"unscheduled","planned : scheduled":"unstarted","planned : planned":!0,"planned : any automatically_planned":"unstarted"},o={"accepted : any":!1,"active release : accepted group_scheduled":"unstarted","active : accepted group_scheduled":!1,"active : accepted":!0,"active : active":!0,"active release : scheduled":"unstarted","active release : unscheduled":"unscheduled","active story : planned":!1,"scheduled : accepted group_current":"planned","scheduled : accepted":!0,"scheduled : active group_current":"planned","scheduled : active":!0,"scheduled : scheduled group_unscheduled":"unscheduled","scheduled : scheduled":!0,"scheduled : unscheduled":"unscheduled","unscheduled : accepted group_current":"planned","unscheduled : accepted":"unstarted","unscheduled : active group_current":"planned","unscheduled : active":"unstarted","unscheduled : scheduled group_unscheduled":!0,"any : planned group_scheduled":"unstarted","unscheduled : scheduled":"unstarted","unscheduled : unscheduled":!0,"planned : accepted group_current":!0,"planned : accepted group_scheduled":"unstarted","planned : planned":!0,"story : planned":"planned","release : planned":"planned","planned : scheduled":"unstarted","planned : unscheduled":"unscheduled","accepted : planned":!1,"planned : active":!0,"planned : accepted":!0,"inactive : any group_current":"planned","planned : scheduled group_scheduled":"unstarted","planned : any automatically_planned":"unstarted"},s={"active release : panel group_unscheduled":"unscheduled","active release : panel group_scheduled":"unstarted","active release : panel group_current":"planned","inactive : panel group_unscheduled":"unscheduled","inactive : panel group_scheduled":"unstarted","inactive : panel group_current":"planned","active release : panel current_or_backlog":!0,"active release : group_unscheduled":"unscheduled","active release : panel icebox":"unscheduled","active : panel group_current":!0,"active release: panel epic_stories":!0,"scheduled : panel current_or_backlog":!0,"scheduled : panel epic_stories":!0,"scheduled : panel icebox":"unscheduled","unscheduled : panel current_or_backlog":"unstarted","unscheduled : panel epic_stories":!0,"unscheduled : panel icebox":!0,"planned : panel done":!1,"planned : panel icebox":"unscheduled","planned : panel automatically_planned":"unstarted","planned : panel current":!0,"planned : panel backlog":"unstarted"};_.namespace(i,"mixins.panels.story").isAllowedOrdering=n}.call(this),function(e,t){var n=t.Model.extend({__name__:"IntegrationStory",associations:[{belongsTo:"project"},{belongsTo:"integration"}],defaults:function(){return{extra:{}}},bucket:function(){return t.Story.buckets.UNSCHEDULED},group:$.noop,parse:function(e){return e&&e.external_id&&(e.id=e.external_id),e},isRelease:function(){return!1},toStoryAttributes:function(e){function n(e){var t=_(a.models).chain().reject(function(e){return e.isReadOnly(r.project())||e.isInactive(r.project())}).find(function(t){return t.get("name")===e}).value();return t?t.id:void 0}var r=this,i=_(this.attributes).chain().omit("kind","extra","external_owner","id","state","external_requester","created_at","owned_by_id").extend(e).value(),a=this.project().members();i.requested_by_id=n(this.get("external_requester"))||t.Person.current().id;var o=n(this.get("external_owner"));return i.owner_ids=o?[o]:[],i}});t.IntegrationStory=n}(window,window.tracker),function(){"use strict";function e(e){return!(e.isDone()||e.isAccepted())}function t(e,t){return i[goog.getUid(t.constructor)].apply(this,arguments)}var n=this,r=_.namespace(n,"tracker"),i={};i[goog.getUid(r.Epic)]=function(t,n,r){return!e(n)||n.isNew()?!1:!r||e(r)&&!r.isNew()},i[goog.getUid(r.Story)]=function(e,t,n){return n&&n.project().id!==t.project().id?!1:!!n},i[goog.getUid(r.IntegrationStory)]=function(){return!1},_.namespace(r,"mixins.panels.epic").isAllowedOrdering=t}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={included:function(e){e.prototype.isAllowedOrdering=function(){return this.isEpics()?t.mixins.panels.epic.isAllowedOrdering.apply(this,arguments):t.mixins.panels.story.isAllowedOrdering.apply(this,arguments)}}};_.namespace(t,"mixins.panels").isAllowedOrdering=n}.call(this),function(){function e(e,t,n,r){var i={story:function(){return{isCollapseable:r.iteration_id,belongsInIteration:t.iteration()}},deadline:function(){return{isCollapseable:!0,belongsInIteration:t.iteration()}},iteration:function(){return{isCollapseable:!0,belongsInIteration:t}}};if(e&&e.allowsIterationFolding()&&i.hasOwnProperty(n)&&i[n]().isCollapseable){var a=i[n](),o=a.belongsInIteration,s=o&&e.panelIterations().get(o);r.is_collapsed=s&&s.get("collapsed")}return r}function t(e,t,n,r){return e&&_.include(["story","epic"],n)&&(r.is_revealable=e.areItemsRevealable()),r}var n=this,r=_.namespace(n,"tracker"),i={toItemJSON:function(n){return{toItemJSON:function(r){r=r||{};var i=r.type||n,a=(r.decorator||this.decorator()).toJSON(r),o={};return o[i]=e(r.panel,this,i,a),o[i]=t(r.panel,this,i,a),o}}}};_.namespace(r,"helpers").decorator=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.AcceptedStoriesBar,toJSON:function(e){var t;return _.extend(this.toJSON(),{id:_.uniqueId(),cid:this.cid,show_accepted:e&&(t=e.panel)&&t.get("show_accepted"),count:this.acceptedStoriesCount()})}},n.toItemJSON("accepted_stories_bar")));t.AcceptedStoriesBarDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"DoneGroup",associations:[{belongsTo:"project"},{belongsTo:"panel"}],iterationModels:function(){var e=this.project().iterations().done();return this.project().isShowingPastDone()||(e=_.reject(e,function(e){return e.isPastDone()})),e}});t.DoneGroup=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"DoneGroups",model:t.DoneGroup,associations:[{belongsTo:"panel"},{belongsTo:"project",through:"panel"}]});t.DoneGroups=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"BacklogGroup",associations:[{belongsTo:"project"},{hasMany:"stories"}]});t.BacklogGroup=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"BacklogGroups",model:t.BacklogGroup,associations:[{belongsTo:"panel"},{belongsTo:"project",through:"panel"}],get:function(){var e=this.project().stories();return e.get.apply(e,arguments)}});t.BacklogGroups=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.DoneGroup,collection:t.DoneGroups,toJSON:function(){return _.extend({displayed_iterations:this.iterationModels().length},this.panel().decorator().toJSON(),this.toJSON())}},n.toItemJSON("done_group")));t.DoneGroupDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.BacklogGroup,collection:t.BacklogGroups,toJSON:function(){return this.toJSON()}},n.toItemJSON("backlog_group")));t.BacklogGroupDecorator=r}.call(this),function(e,t){var n=t.helpers,r={backlog:function(e,t){e.backlogGroups().last().stories().remove(t)}},i=t.Model.extend({__name__:"Panel",associations:[{belongsTo:"project"},{belongsTo:"epic"},{belongsTo:"story"},{belongsTo:"search"},{hasMany:"panelIterations",parse:!1,inverseOf:"panel"},{hasMany:"backlogGroups",inverseOf:"panel"},{hasMany:"doneGroups",inverseOf:"panel"},{belongsTo:"layoutScheme"},{belongsTo:"person",through:"layoutScheme"},{belongsTo:"workspace"},{belongsTo:"label"},{belongsTo:"favoriteSearch"}],initialize:function(e){"backlog"===(e||{}).type?this.backlogGroups().add([{type:"iterations"},{type:"new_story"}]):"done"===(e||{}).type&&this.doneGroups().add({});var n=(this.get("type"),t.Person.current()),r=n&&n.layoutScheme();this.expandedModels_=new t.Collection,this.listenTo(this.expandedModels_,"add",this.addExpandedModelHandler_),this.newModel_=null;var i=this.content(),a=i.attrs;this.set(a,{silent:!0}),this.allowsIterationFolding_=!!i.allowsIterationFolding,this.areItemsRevealable_=!!i.areItemsRevealable,this.allowsClone_=!!i.allowsClone,this.shouldSave_=!!i.shouldSave,this.shouldCache_=!!i.shouldCache,this.allowsSelectAll_=!!i.allowsSelectAll,this.areItemsDraggable_=!!i.areItemsDraggable,this.areItemsDroppable_=!!i.areItemsDroppable,this.isValid()&&(this.story()&&this.listenTo(this.story(),"change",this.changeModelHandler_),this.epic()&&this.listenTo(this.epic(),"change",this.changeModelHandler_)),this.listenTo(this,"remove",this.removePanelHandler_),r&&"epic_stories"===this.get("type")&&this.listenTo(r.favoriteEpics(),"add remove",function(){this.set("has_saved_search",this.hasSavedSearch())}),this.set("has_saved_search",this.hasSavedSearch())},expandedModels:function(){return this.expandedModels_},getExpandedModel:function(e){return e instanceof t.DraftStory||e instanceof t.DraftEpic?e:this.expandedModels().find(function(t){return t.original()===e})},collapseModel:function(e){var t=this.getExpandedModel(e);t&&(t.stopListening(),this.abandonModel(t),t.panel=$.noop)},abandonModel:function(e){var t=this.getExpandedModel(e);t&&(e=t.original(),e===this.newModel_&&this.clearNewModel(),this.expandedModels().remove(t))},clearNewModel:function(){(r[this.get("type")]||$.noop)(this,this.newModel());var e=this.newModel_;this.newModel_=null,e&&e.isNew()&&e.trigger("destroy",e)},toJSON:function(e){var n,r=this,i=t.Model.prototype.toJSON.call(this,e);return _.each(["project","story","epic","label"],function(e){n=r[e](),n&&(i[e+"_id"]=n.id)}),(n=r.favoriteSearch())&&(i.favorite_search_id=n.id),(n=this.search())&&n.workspace()&&(i.workspace_id=n.workspace().id),i},expandModel:function(e){var n;if(e instanceof t.DraftStory||e instanceof t.DraftEpic)n=e;else{var r=e instanceof t.Story?t.DraftStory:t.DraftEpic;n=r.create(e,e.project())}this.expandedModels().add(n);var i=_.result(e,"iteration");if(i){var a=this.panelIterations().get(i.id);a&&a.set({collapsed:!1})}},isUnsaved:function(e){return this.expandedModels().chain().invoke("isUnsaved",e).any().value()},setNewModel:function(e){return this.newModel_=e,this.newModel_},isModelExpanded:function(e){return this.expandedModels().any(function(t){return t.original()===e})},isModelCollapsed:function(e){return!this.isModelExpanded(e)},newModel:function(){return this.newModel_},parse:function(e){return e&&_(i.backendLayoutKeyToType).find(function(t,n){return e.type===n?(_(e).extend({type:t}),!0):void 0}),e},baseId:function(){return this.id&&this.id.replace(/^(.*)_\d+$/,"$1")},generateId:function(e){var t;return _.compact([e||this.get("type"),(t=this.project())&&t.id]).join("_")},defaults:{cloned:!1,visible:!0,show_accepted:!0,pinned:!1},close:function(e){this.shouldCache()?this.set({visible:!1}):e.remove(this)},validate:function(e){return e.type?(this.content().validate||$.noop).call(this,e):"A type must be specified."},fetchItems:function(e){var r=this,i=r.content().remote||r.itemCollection();return r.set({message:r.content().loadingMessage||"Loading..."}),e=_.extend({},e,{reset:!0}),t.Project.get(this.project().id).promise().pipe(function(){return i.fetch(e)}).done(function(){r.unset("message")}).fail(function(e){e&&404===e.status&&e.responseJSON.data.general_problem?r.set({message:n.apiPolicy.errorMessage(e.responseJSON.data)}):r.set({message:r.content().failureMessage||"Sorry, could not retrieve data."})})},isClone:function(){return this.generateId(this.get("type")+2)===this.id},items:function(){return this.content().items.call(this)},itemCollection:function(){return this.content().collection},areItemsDraggable:function(){return this.areItemsDraggable_},areItemsDroppable:function(e){return this.project()&&t.Person.current().isReadOnly(this.project())?!1:e&&e instanceof t.IntegrationStory?!(e&&e.project()!==this.project()||!this.areItemsDroppable_):e&&e.project()!==this.project()&&(e.isNew()||e.integration()||this.project()&&"custom"!==this.project().get("point_scale_type")&&"custom"===e.project().get("point_scale_type")&&e.isEstimated())?!1:this.areItemsDroppable_},isWorkflow:function(){return!this.isClone()&&_.include(["done","current","backlog","icebox","epics"],this.get("type"))},setFavoriteSearch:function(e){e?(this._associations.favoriteSearch=e,this._options.favoriteSearch=e):(delete this._associations.favoriteSearch,delete this._options.favoriteSearch),this.set("has_saved_search",!!e)},favoriteEpic:function(){var e=t.Person.current(),n=e&&e.layoutScheme();return n&&this.epic()&&n.favoriteEpics().get(this.epic().id)},hasSavedSearch:function(){return!(!this.favoriteSearch()&&!this.favoriteEpic())},areItemsRevealable:function(){return this.areItemsRevealable_},allowsSelectAll:function(){return this.allowsSelectAll_},shouldCache:function(){return!this.isClone()&&this.shouldCache_},allowsClone:function(){return this.allowsClone_},allowsIterationFolding:function(){return this.allowsIterationFolding_},shouldSave:function(){return!this.isClone()&&this.shouldSave_},integration:function(){var e=this.project();return e&&e.integrations().get(this.get("integration_id"))},addExpandedModelHandler_:function(e){var t=this;e.panel=function(){return t}},removePanelHandler_:function(e,t){var n=e.get("type");if(e.get("cloned")){var r=t.findWhere({type:n});r&&r.set({id:r.generateId(),cloned:!1})}"integration"===n&&this.integration().set({loaded:!1}).stories().reset([],{silent:!0})},changeModelHandler_:function(){this.set(this.content().attrs)}});i.backendLayoutKeyToType={history:"project_history",sidebar:"labels",mywork:"my_work",beta_overview:"ui_guide"},i.include(t.mixins.panels.isAllowedOrdering).include(t.mixins.panels.content(t.mixins.panels.sources)),t.Panel=i,t.Panel.prototype.person=_.wrap(t.Panel.prototype.person,function(e){return e.apply(this,_.rest(arguments))||t.Person.current()})}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({model:t.Panel,initialize:function(){this.listenTo(this,"add",function(e,n,r){_.isNumber(_.result(r,"at"))||t.helpers.panels.resort(this,e)}),this.listenTo(this,"add change:visible",function(e){e.get("visible")&&e.panelIterations().collapseForLoad()}),this.listenTo(this,"remove",function(e){e.panelIterations().stopListening(),e.panelIterations().invoke("stopListening"),e.stopListening()}),this.listenTo(this,"reset",function(){_.invoke(this.invoke("panelIterations"),"collapseForLoad")})},url:"/services/area_51/layout",comparator:void 0,isUnsaved:function(e){return this.chain().invoke("isUnsaved",e).any().value()},open:function(e,t){t=_.extend({},t);var n=this.find(function(n){return(!t.project||n.project()===t.project)&&n.get("type")===e.type});return n||(n=this.add(e,t)),n.set({visible:!0})},save:$.noop});t.Panels=n}.call(this),function(){"use strict";function e(e,t,n){var r=e.project_id||t;if(r){var i=s.Project.get(r),a=s.Workspace.current();return!a||_.include(a.projects().map(function(e){return e.id}),i.id)?n.call(this,i):void 0}}function t(t,n){var r={notifications:function(){return new s.Panel(t,{parse:!0,layoutScheme:this})},recent_updates:function(){return new s.Panel(t,{parse:!0,layoutScheme:this})},ui_guide:function(){return new s.Panel(t,{parse:!0,layoutScheme:this})},epic_stories:function(){return e.call(this,t,n,function(e){var n=e.epics().get(t.epic_id);return n&&new s.Panel(t,{parse:!0,project:e,epic:n,layoutScheme:this})})},label_stories:function(){return e.call(this,t,n,function(e){var n=e.labels().get(t.label_id);return n&&new s.Panel(t,{parse:!0,project:e,label:n,layoutScheme:this})})},story_history:function(){return e.call(this,t,n,function(e){var n=e.stories().get(t.story_id);return n&&new s.Panel(t,{parse:!0,project:e,story:n,layoutScheme:this})})},epic_history:function(){return e.call(this,t,n,function(e){var n=e.epics().get(t.epic_id);return n&&new s.Panel(t,{parse:!0,project:e,epic:n,layoutScheme:this})})},search:function(){var r,i=this.favoriteSearches().get(t.favorite_search_id);if(t.workspace_id){var a;return(a=this.person().workspaces().get(t.workspace_id))&&(r=new s.Search({query:t.name},{workspace:a}))&&new s.Panel(t,{parse:!0,search:r,favoriteSearch:i,layoutScheme:this})}return e.call(this,t,n,function(e){return r=new s.Search({query:t.name},{project:e}),new s.Panel(t,{parse:!0,project:e,search:r,favoriteSearch:i,layoutScheme:this})})},integration:function(){return e.call(this,t,n,function(e){var n=e.integrations().get(t.integration_id);return n&&new s.Panel(t,{parse:!0,project:e,layoutScheme:this})})},epics:function(){return e.call(this,t,n,function(e){return new s.Panel(_.extend(t,{show_done_epics:!1}),{parse:!0,project:e,layoutScheme:this})})},_default:function(){if("all_my_work"!==t.type){var r={parse:!0,layoutScheme:this};return e.call(this,t,n,function(e){r.project=e}),r.project||t.project_id||(r.workspace=s.Workspace.current()),r.project||r.workspace?new s.Panel(t,r):void 0}}};return r[_.has(r,t.type)&&t.type||"_default"].call(this)}function n(e){return function(t){return-1===e.indexOf(t.type)}}function r(e,r){var i=s.Person.current().appSettings(),a=_.chain(e).filter(n(i.disallowedPanelTypes())).map(function(e){return t.call(this,e,r)},this).compact().value();this.panels().reset(a)}function i(e,t){if(_.any(e.panels_json)){var n=$.parseJSON(e.panels_json);if(_.any(n)){var r=_.findWhere(n,{type:"labels",visible:!1});return _.without(n,r)}}return e.workspace_id?[]:t&&e.project_id===t.id?this.person().get("include_current_in_backlog")?l:c:[]}function a(e){return function(t,n){return(n||{}).parse!==!1?_.map((t.data||t)[_.underscored(e)],function(e){return{id:e}}):void 0}}var o=this,s=_.namespace(o,"tracker"),l=(_.namespace(o,"next"),[{type:"backlog"},{type:"icebox"}]),c=[{type:"current",split:!0},{type:"backlog",split:!0},{type:"icebox"}],u=s.Model.extend({__name__:"LayoutScheme",associations:[{hasMany:"panels",inverseOf:"layout_scheme",parse:!1},{hasMany:"favoriteEpics",parse:a("favoriteEpics"),inverseOf:"layoutScheme"},{hasMany:"favoriteLabels",parse:a("favoriteLabels"),inverseOf:"layoutScheme"},{hasMany:"favoriteSearches",inverseOf:"layoutScheme"},{belongsTo:"person"}],defaults:{width_mode:"auto"},initialize:function(){this.parsePanelWidth=_.once(this.parsePanelWidth)
},toJSON:function(){var e=this.get("workspace_id"),t=e&&{workspace_id:e}||{project_id:this.get("project_id")},n=this.panels().invoke("toJSON");return n=n.map(function(e){return _.omit(e,"show_done_stories")}),_.extend({width_mode:this.get("width_mode"),panel_width:s.Layout.current().get("panel_width"),panels_json:JSON.stringify(n)},t)},parse:function(e,t){if((t||{}).parse===!1)return e;e=e&&e.data||e||{};var n=this,a=s.Project.current(),o=s.Workspace.current(),l=i.call(this,e,a);if(e.id&&(this.id=e.id),!this.panels()||!_.isEqual(_.pluck(this.panels().models,"id"),_.pluck(l,"id"))){var c=a||o;c&&c.ready().then(function(){r.call(n,l,e.project_id)})}return(o&&e.workspace_id===o.id||a&&e.project_id===a.id)&&this.parsePanelWidth(e),e},parsePanelWidth:function(e){e.panel_width&&s.Layout.current().set("panel_width",e.panel_width)},urlRoot:"/services/area_51/layouts"});u.include(s.mixins.models.lastAjax("save")),u.include(s.mixins.models.guest),s.LayoutScheme=u}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"LayoutSchemes",model:t.LayoutScheme,associations:{belongsTo:"person"},findOrCreateByProjectId:function(e){var n=t.Project.get(e),r=this.findWhere({project_id:e});return r||(r=this.push({project_id:e},{person:this.person(),parse:!0}),n.ready().then(function(){r.save()})),r},findOrCreateByWorkspaceId:function(e){var t=this.findWhere({workspace_id:e});return t||(t=this.push({workspace_id:e},{person:this.person(),parse:!0}),t.save()),t}});t.LayoutSchemes=n}.call(this),function(){"use strict";function e(e){return e instanceof n.Project?e.id:e}var t=this,n=_.namespace(t,"tracker"),r=n.Guest.extend({__name__:"Person",url:"/services/v5/me?date_format=millis&fields=:default,layout_schemes,include_current_in_backlog,workspaces,projects(:default,project(public))",associations:[{hasMany:"workspaces",parse:!1,inverseOf:"person"}],initialize:function(){var e=this;e.currentMyWorkVersion=0},fetch:_.wrap(n.Guest.prototype.fetch,function(e,t){var n=this;return e.call(this,t).then(function(e){n.workspaces().set(e.data.workspaces,{parse:!0,person:n}),n.set({layout_schemes:e.data.layout_schemes})})}),parseLayoutSchemes:function(){var e;n.Project.current()?e=_.detect(this.get("layout_schemes"),function(e){return e.project_id===n.Project.current().id}):n.Workspace.current()&&(e=_.detect(this.get("layout_schemes"),function(e){return e.workspace_id===n.Workspace.current().id})),e&&this.layoutSchemes().set([e],{parse:!0,person:this})},isOwner:function(t){var n=this.memberships().findByProjectId(e(t));return!!(n&&"owner"===n.get("role")||this.appSettings().get("super_admin"))},membership:function(e){return e=e||n.Project.current(),e&&this.memberships().findWhere({project_id:e.id})},isReadOnly:function(t){var r=this.memberships().findByProjectId(e(t)),i=t instanceof n.Project?t:_.findWhere(this.projects(),{id:t});return!r||"viewer"===r.get("role")||i&&"active"!==i.status()||!1},isInactive:function(t){var n=this.memberships().findByProjectId(e(t));return n&&"inactive"===n.get("role")||!1},timezone:function(){var e=this.get("time_zone")&&this.get("time_zone").olson_name;return n.Timezone.get(e)},projectColor:function(e){var t=this.membership(e);return t?t.get("project_color"):"FF13E8"},projects:function(){return _.chain(this.workspaces().chain().invoke("projects").pluck("models").flatten().value().concat([n.Project.current()])).compact().uniq().value()},wantsCommentNotifications:function(t){var n=this.memberships().findByProjectId(e(t));return n&&n.get("will_receive_mention_notifications_or_emails")||!1},useClickToCopy:function(){return n.hasFlash()&&this.appSettings().get("use_flash_click_to_copy")},isGuest:function(){return!1}});r.include(n.mixins.current),n.Person=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({__name__:"Members",model:t.Person,findByName:function(e){return this.find(function(t){return t.get("name")===e})},findAllByIdsOrCids:function(){var e=this;return _.chain(arguments).toArray().flatten().compact().map(function(t){return e.get(t)}).compact().uniq().value()}});t.Members=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={requireWriteAccess:function(e,t){var n=$.Deferred();return t.isReadOnly(e)?n.reject():n.resolve(),n},authenticate:function(e){var n=new t.Guest,r=new t.Person,i=$.Deferred(),a=r.appSettings().fetch(),o=r.fetch({data:_.extend(e||{},{time_zone_offset:t.DateTime.getTimezoneOffsetHours()})});return $.when(a,o).done(function(){mixpanel.register({density_mode:r.appSettings().get("story_density_mode")}),r.timezone().fetch().done(function(){i.resolve(r)}).fail(function(){i.reject(n)})}).fail(function(e){500===e.status?(new t.LightboxesController).create("force_reload",{message:"Sorry, Tracker is having unexpected issues.",opacity:!0}):i.reject(n)}),i}};_.namespace(t,"helpers").access=n}.call(this),function(){"use strict";function e(e){e=e||{},this.$el=$(e.el||"#root"),this.el=this.$el[0],this.initialize.apply(this,arguments)}var t=this,n=_.namespace(t,"next");_.extend(e,{extend:Backbone.View.extend},tracker.mixins.include),_.extend(e.prototype,{initialize:$.noop,$:function(e){return this.$el.find(e)},views:function(){return this.constructor._views=this.constructor._views||{},new tracker.Views(this,this.constructor._views)}}),n.Controller=e}.call(this),function(){"use strict";function e(){this.$el=n.$el,this.el=this.$el[0],this.initialize.apply(this,arguments)}var t=this,n=_.namespace(t,"tracker");_.extend(e,{extend:Backbone.View.extend},n.mixins.include),_.extend(e.prototype,{initialize:$.noop,$:function(e){return n.$(e)},views:function(){return this.constructor._views=this.constructor._views||{},new n.Views(this,this.constructor._views)}}),n.Controller=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"Lightbox",className:"lightbox wrapper",initialize:function(e){t.View.prototype.initialize.call(this,e),this.$delegate=e.$delegate,this.isOpen=!1,this.isEscKeyActive=!0,_.bindAll(this,"keyUpEsc"),this.$delegate.on("keyup",this.keyUpEsc)},events:{"open.lightbox":"open","close.lightbox":"close",afterScrimClose:"cleanup","click .close,.cancel":"close",kill:"disableEscKey"},open:function(e,t){this.isOpen=!0,this.$el.addClass("visible"),this.views().$trigger("scrimOpen",t||{})},close:function(e){e&&e.preventDefault(),this.$trigger("scrimClose"),this.cleanup()},cleanup:function(){this.views().removeView(),this.$el.attr("class","lightbox wrapper").empty(),t.CommandQueue.isPaused()&&t.CommandQueue.resume("generic lightbox cleanup resumed the CQ"),this.isOpen=!1},disableEscKey:function(){this.isEscKeyActive=!1},keyUpEsc:function(e){27===e.which&&this.isOpen&&this.isEscKeyActive&&this.close(e)}});_(t).namespace("views").Lightbox=n}.call(this),/*!
 * jQuery UI Position @VERSION
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(e,t){function n(e,t,n){return[parseInt(e[0],10)*(p.test(e[0])?t/100:1),parseInt(e[1],10)*(p.test(e[1])?n/100:1)]}function r(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var i,a=Math.max,o=Math.abs,s=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+%?/,d=/^\w+/,p=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(i!==t)return i;var n,r,a=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=a.children()[0];return e("body").append(a),n=o.offsetWidth,a.css("overflow","scroll"),r=o.offsetWidth,n===r&&(r=a[0].clientWidth),a.remove(),i=n-r},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,a="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:i?e.position.scrollbarWidth():0,height:a?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return h.apply(this,arguments);t=e.extend({},t);var i,p,g,f,m,_=e(t.of),v=e.position.getWithinInfo(t.within),y=e.position.getScrollInfo(v),b=_[0],E=(t.collision||"flip").split(" "),S={};return 9===b.nodeType?(p=_.width(),g=_.height(),f={top:0,left:0}):e.isWindow(b)?(p=_.width(),g=_.height(),f={top:_.scrollTop(),left:_.scrollLeft()}):b.preventDefault?(t.at="left top",p=g=0,f={top:b.pageY,left:b.pageX}):(p=_.outerWidth(),g=_.outerHeight(),f=_.offset()),m=e.extend({},f),e.each(["my","at"],function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=l.test(r[0])?r.concat(["center"]):c.test(r[0])?["center"].concat(r):["center","center"]),r[0]=l.test(r[0])?r[0]:"center",r[1]=c.test(r[1])?r[1]:"center",e=u.exec(r[0]),n=u.exec(r[1]),S[this]=[e?e[0]:0,n?n[0]:0],t[this]=[d.exec(r[0])[0],d.exec(r[1])[0]]}),1===E.length&&(E[1]=E[0]),"right"===t.at[0]?m.left+=p:"center"===t.at[0]&&(m.left+=p/2),"bottom"===t.at[1]?m.top+=g:"center"===t.at[1]&&(m.top+=g/2),i=n(S.at,p,g),m.left+=i[0],m.top+=i[1],this.each(function(){var l,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),b=r(this,"marginLeft"),w=r(this,"marginTop"),T=d+b+r(this,"marginRight")+y.width,A=h+w+r(this,"marginBottom")+y.height,x=e.extend({},m),M=n(S.my,u.outerWidth(),u.outerHeight());"right"===t.my[0]?x.left-=d:"center"===t.my[0]&&(x.left-=d/2),"bottom"===t.my[1]?x.top-=h:"center"===t.my[1]&&(x.top-=h/2),x.left+=M[0],x.top+=M[1],e.support.offsetFractions||(x.left=s(x.left),x.top=s(x.top)),l={marginLeft:b,marginTop:w},e.each(["left","top"],function(n,r){e.ui.position[E[n]]&&e.ui.position[E[n]][r](x,{targetWidth:p,targetHeight:g,elemWidth:d,elemHeight:h,collisionPosition:l,collisionWidth:T,collisionHeight:A,offset:[i[0]+M[0],i[1]+M[1]],my:t.my,at:t.at,within:v,elem:u})}),e.fn.bgiframe&&u.bgiframe(),t.using&&(c=function(e){var n=f.left-x.left,r=n+p-d,i=f.top-x.top,s=i+g-h,l={target:{element:_,left:f.left,top:f.top,width:p,height:g},element:{element:u,left:x.left,top:x.top,width:d,height:h},horizontal:0>r?"left":n>0?"right":"center",vertical:0>s?"top":i>0?"bottom":"middle"};d>p&&o(n+r)<p&&(l.horizontal="center"),h>g&&o(i+s)<g&&(l.vertical="middle"),l.important=a(o(n),o(r))>a(o(i),o(s))?"horizontal":"vertical",t.using.call(this,e,l)}),u.offset(e.extend(x,{using:c}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,o=r.width,s=e.left-t.collisionPosition.marginLeft,l=i-s,c=s+t.collisionWidth-o-i;t.collisionWidth>o?l>0&&0>=c?(n=e.left+l+t.collisionWidth-o-i,e.left+=l-n):e.left=c>0&&0>=l?i:l>c?i+o-t.collisionWidth:i:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-s,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=i-s,c=s+t.collisionHeight-o-i;t.collisionHeight>o?l>0&&0>=c?(n=e.top+l+t.collisionHeight-o-i,e.top+=l-n):e.top=c>0&&0>=l?i:l>c?i+o-t.collisionHeight:i:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,a=i.offset.left+i.scrollLeft,s=i.width,l=i.isWindow?i.scrollLeft:i.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,g=-2*t.offset[0];0>u?(n=e.left+p+h+g+t.collisionWidth-s-a,(0>n||n<o(u))&&(e.left+=p+h+g)):d>0&&(r=e.left-t.collisionPosition.marginLeft+p+h+g-l,(r>0||o(r)<d)&&(e.left+=p+h+g))},top:function(e,t){var n,r,i=t.within,a=i.offset.top+i.scrollTop,s=i.height,l=i.isWindow?i.scrollTop:i.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,p="top"===t.my[1],h=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,g="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>u?(r=e.top+h+g+f+t.collisionHeight-s-a,e.top+h+g+f>u&&(0>r||r<o(u))&&(e.top+=h+g+f)):d>0&&(n=e.top-t.collisionPosition.marginTop+h+g+f-l,e.top+h+g+f>d&&(n>0||o(n)<d)&&(e.top+=h+g+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,a,o=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in r)t.style[a]=r[a];t.appendChild(s),n=o||document.documentElement,n.insertBefore(t,n.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",i=e(s).offset().left,e.support.offsetFractions=i>10&&11>i,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&!function(e){var n=e.fn.position;e.fn.position=function(r){if(!r||!r.offset)return n.call(this,r);var i=r.offset.split(" "),a=r.at.split(" ");return 1===i.length&&(i[1]=i[0]),/^\d/.test(i[0])&&(i[0]="+"+i[0]),/^\d/.test(i[1])&&(i[1]="+"+i[1]),1===a.length&&(/left|center|right/.test(a[0])?a[1]="center":(a[1]=a[0],a[0]="center")),n.call(this,e.extend(r,{at:a[0]+i[0]+" "+a[1]+i[1],offset:t}))}}(jQuery)}(jQuery),function(){"use strict";var e={"null":function(){return null},number:function(e){return _.isString(e)&&e.match(/^-?\d+$/)?parseInt(e,10):e},"boolean":function(e){return _.isString(e)?"true"===e:e},lowercase:function(e){return e.toLowerCase()},"float":function(e){return _.isString(e)&&e.match(/^-?\d*(\.\d+)?$/)?parseFloat(e,10):e},percent:function(t){var n=e.float(t);return _.isNumber(n)?Math.floor(n)/100:t}};_.mixin({convertFields:function(t,n){function r(e,t){return _.isArray(e)?_.map(e,t):t(e)}function i(e){return _.reduce(e,function(e,t,n){if(_.isObject(t)&&!_.isArray(t)){var r=i(t);r.length&&e.push([n,r])}else("id"===n||n.match(/_id$/i))&&e.push([n]);return e},[])}function a(e){""===_.last(e)&&e.pop()}return n=n||{number:i(t)},_.each(n,function(n,i){_.each(n,function(n){a(n),_.reduce(_.initial(n),function(e,t){return e[t]},t)[_.last(n)]=r(_.namespace(t,n),e[i])})}),t},convertAttrsToStrings:function(e,t){return _.each(t,function(t){e[t]&&(e[t]=""+e[t])}),e}})}.call(this),function(e){"use strict";function t(e){return e.attr("contenteditable")?e.text():e.val()}function n(){if(!this.length)return!1;var n=this,r={},i=r,a=':input[type!="checkbox"][type!="radio"], input:checked, [contenteditable=true]';return n.find(a).andSelf().filter(a).not(":disabled").each(function(){var n=e(this),a=n.attr("name");if(a){var o=a.replace(/\[([^\]]+)?\]/g,",$1").split(","),s=o.length-1,l=0;if(o[0]){for(;s>l;l++)i=i[o[l]]=i[o[l]]||(""===o[l+1]?[]:{});void 0!==i.length?i.push(t(n)):i[o[s]]=t(n),i=r}}}),r}function r(t,n){var r='input[data-type="'+n+'"], textarea[data-type="'+n+'"]';return _.map(e(t).find(r).andSelf().filter(r).not(":disabled").toArray(),function(e){return e.name.replace(/\[([^\]]+)?\]/g,",$1").split(",")})}e.fn.serializeObject=function(){var e=n.apply(this,arguments);return _.convertFields(e,{number:r(this,"number"),"boolean":r(this,"boolean"),lowercase:r(this,"lowercase"),percent:r(this,"percent"),"null":r(this,"null")})}}(jQuery),function(e){e.ui.position.classyFlip={left:function(t,n){var r=e(window),i=t.left-n.collisionPosition.marginLeft,a=i+n.collisionWidth-r.width()-r.scrollLeft();e.ui.position.flip.left.apply(this,arguments);var o=0>i||a>0;n.elem.toggleClass("flipped",o).toggleClass("horizontal",o)},top:function(t,n){var r=e(window),i=t.top-n.collisionPosition.marginTop,a=i+n.collisionHeight-r.height()-r.scrollTop();e.ui.position.flip.top.apply(this,arguments);var o=0>i||a>0;n.elem.toggleClass("flipped",o).toggleClass("vertical",o)}}}(jQuery),function(e,t){function n(e){var t={clipboardPath:{path:function(){return["/"+_(e).singularize(),"show",this.id].join("/")}},allImagesPath:{path:function(){return["/projects",this.project().id,_(e).pluralize(),this.id,"images"].join("/")}}},n={};return{included:function(e){_(t).each(function(t,r){n[r]=function(){return this.project()?this.isNew()?t.newPath?t.newPath.call(this):null:t.path.call(this):null},_(e.fn).extend(n)});var r=e.fn.toJSON;_(e.fn).extend({toJSON:function(){var e=this;return _(t).reduce(function(t,r,i){return t[_(i).underscored()]=n[i].call(e),t},r.apply(this,arguments))}})}}}_(t).namespace("mixins").path=n}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=function(){function e(e,n){return e instanceof t.Story&&_.contains(e.get("owner_ids"),n.id)||e.get("requested_by_id")===n.id}function n(e){var n=e.project().members();return _.chain([e instanceof t.Story&&e.get("owner_ids"),e.get("requested_by_id"),e.get("followers")]).flatten().uniq().without(-1).map(function(e){return n.get(e)}).compact().value()}function r(e){return n(e).length}function i(e){return _.chain(n(e)).invoke("get","name").sort().value()}return{included:function(n){var a=n.fn.toJSON;n.fn.toJSON=function(){var n=a.apply(this,arguments);return _.extend(n,{follower_count:r(this),follower_names:i(this),is_following:this.followedByPerson(t.Person.current())||e(this,t.Person.current()),is_disabled:t.Person.current().isReadOnly(this.project())||e(this,t.Person.current())})}}}};_.namespace(t,"mixins").withFollowers=n}.call(this),function(e,t){var n={included:function(e){var t=e.fn.toJSON;_(e.fn).extend({toJSON:function(){function e(e){return _.contains(r.get("owner_ids"),e.id)}function n(e){return r.get("requested_by_id")===e.id}var r=this,i=this.project();return _(t.apply(this,arguments)).extend({members:i.members().chain().inject(function(t,r){var a=r.get("initials"),o={label:r.get("name"),value:r.id,description:a&&a.substring(0,3)};return(e(r)||n(r))&&(r.isInactive(i)||r.isReadOnly(i))?(r.isInactive(i)&&(o.label=o.label+" <inactive>",o.inactive=!0),r.isReadOnly(i)&&(o.readOnly=!0),t.push(o)):r.isInactive(i)||r.isReadOnly(i)||t.push(o),t},[]).sortBy(function(e){return e.label.toLowerCase()}).value()})}})}};_(t).namespace("mixins").withMemberships=n}(window,window.tracker),function(e,t){var n=function(e){function t(e){return e.get("comments")?{size:function(){return e.get("comments").length},hasAttachments:function(){return _(e.get("comments")).any(function(e){var t=e.file_attachments,n=e.google_attachments;return!!(t&&t.length||n&&n.length)})},decorator:function(){return{toJSON:function(){return{}}}},hasImageFileAttachments:function(){return!1}}:e.comments()}return e=e||{},{included:function(n){var r=n.fn.toJSON;_(n.fn).extend({toJSON:function(){var n=r.apply(this,arguments),i=t(this);return i.size()?_(n).extend({comments:e.fast?{length:i.size()}:i.decorator().toJSON(),has_attachments:i.hasAttachments(),has_image_attachments:i.hasImageFileAttachments()}):_(n).extend({comments:e.fast?{length:0}:[],has_attachments:!1,has_image_attachments:!1})}})}}};_(t).namespace("mixins").withComments=n}(window,window.tracker),function(e,t){var n=function(e){return e=e||{},{included:function(t){t.fn.toJSON=_.wrap(t.fn.toJSON,function(t){var n=this,r=this.project(),i=_.clone(r.get("point_scale"));return _.chain(t.apply(this,_.rest(arguments))).tap(function(t){if(!e.fast&&i){var r=n.get("estimate"),a=_.sortedIndex(i,r);n.isEstimated()&&i[a]!==r&&i.splice(a,0,r);var o=_.map(i,function(e){return{name:_(e+" point").pluralize(e),value:e}});(_.include(["unscheduled","unstarted","planned"],n.get("current_state"))||!n.isEstimated())&&o.unshift({name:"unestimated",value:-1}),t.point_scale_options=o}}).extend({point_scale:i,point_scale_type:r.get("point_scale_type")}).value()})}}};_(t).namespace("mixins").withPointScale=n}(window,tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({toJSON:function(e){function n(){var t=e.panel;return!t||!_.include(["backlog","current"],t.get("type"))||!this.isAccepted()||t.get("show_accepted")}e=e||{};var r=this.project(),i=this.toJSON({fast:!0}),a=r.otherIntegration(),o={my_work:this.project().workspace(),search:this.project().workspace()},s=e&&e.panel;a&&_.extend(i,{other_integration:a.decorator().toJSON({story:this})});var l;return l=this instanceof t.DraftStory?this.original()&&this.original().iteration()&&this.original().iteration().id:this.iteration()&&this.iteration().id,_.extend(i,{show_accepted:n.call(this),project_id:r.id,is_new:this.isNew(),state:this.state(),is_selected:r.selectedModels().get(this.cid)===this,is_estimatable:this.isEstimatable(),needs_estimate:this.isEstimatable()&&!this.isEstimated(),owners:_.map(this.get("owner_ids"),_.bind(this.findMemberById,this)),cid:this.cid,project_name:s&&o[s.get("type")]&&this.project().get("name"),tasks:{length:r.get("enable_tasks")?this.has("tasks")?this.get("tasks").length:this.tasks().length:0},is_release_past_deadline:!this.isAccepted()&&this.isReleasePastDeadline(),labels:this.labels().decorator().toJSON({fast:!0}),is_past_done:this.isPastDone(),accepted_before_current:this.isAcceptedBeforeCurrentIteration(),is_deadline_past_done:this.isDeadlinePastDone(),iteration_id:l,integration:this.integration()&&this.integration()!==a&&this.integration().decorator().toJSON({story:this}),read_only:t.Person.current().isReadOnly(r)})}},n.toItemJSON("story")));r.include(t.mixins.withComments({fast:!0})).include(t.mixins.withPointScale({fast:!0})),t.StoryPreviewDecorator=r}.call(this),function(){"use strict";function e(e){return _.extend(this.findMemberById(e),{is_selected:this.get("selected_owner")===e})}function t(e){var t=e.project(),n=e.allStates();return _.chain(n).without("unscheduled","planned").map(function(n){return"unstarted"!==n||t.get("automatic_planning")||"unstarted"===e.get("current_state")?{label:n,value:n}:{label:n,value:"planned"}}).value()}var n=this,r=_.namespace(n,"tracker"),i=r.Decorator.extend({model:r.Story,toJSON:function(){var n=this.project(),i=this.toJSON();return _.extend(i,r.StoryPreviewDecorator.fn.toJSON.apply(this,arguments),{project_id:n.id,is_release:this.isRelease(),is_unscheduled:this.isUnscheduled(),is_accepted:this.isAccepted(),accepted_at_date:this.isAccepted()?new Date(this.get("accepted_at")):null,is_not_estimatable:!this.isEstimatable(),requested_by:this.findMemberById(i.requested_by_id),tasks:n.get("enable_tasks")&&!this.has("tasks")&&this.tasks().toJSON(),completed_task_count:this.tasks().select(function(e){return e.get("complete")}).length,is_tasks_empty:0===(this.has("tasks")?this.get("tasks"):this.tasks()).length,display_state:"planned"===this.get("current_state")?"unstarted":this.get("current_state"),all_states:t(this,n),story_type_options:r.Story.types,disable_state_button:this.isEstimatable()&&-1===this.get("estimate"),read_only:r.Person.current().isReadOnly(n),owners:_.map(i.owner_ids,_.bind(e,this)),one_owner:1===i.owner_ids.length,max_owners:3===i.owner_ids.length})}});i.include(r.mixins.path("story")).include(r.mixins.withMemberships).include(r.mixins.withComments()).include(r.mixins.withFollowers()).include(r.mixins.withPointScale()),r.StoryDecorator=i}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/custom_point_scale/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/custom_point_scale/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n    ",i=n.point_scale,i?r=i.call(e,{hash:{},inverse:p.noop,fn:p.program(2,o,t)}):(r=e.point_scale,r=typeof r===u?r():r),n.point_scale||(r=h.call(e,r,{hash:{},inverse:p.noop,fn:p.program(2,o,t)})),(r||0===r)&&(a+=r),a+="\n  "}function o(e){var t="";return t+="\n      <label>\n        ",e=typeof e===u?e():e,t+=d(e)+'\n        <input type="radio" name="story[estimate]" data-type="number" value="',e=typeof e===u?e():e,t+=d(e)+'">\n      </label>\n    '}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing;return c+='<div class="custom_point_scale">\n  ',l=n.formTag,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(s=t.formTag,s=typeof s===u?s():s),n.formTag||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(s||0===s)&&(c+=s),c+="\n</div>\n"}),this.HandlebarsTemplates["lightboxes/custom_point_scale/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){$(e.currentTarget.form).submit()}function r(e){e.preventDefault(),o.save($(e.currentTarget).serializeObject().story),a.$trigger("close.lightbox")}function i(){a.delegateEvents({"change :radio":t,"submit form":r})}var a=new(n.View.extend({className:"lightbox right anchored"}))(e),o=a.model,s=e.button;return a.render=a.wrapRender(function(){n.CommandQueue.pause("custom point scale lightbox was opened");var e={point_scale:o.decorator().toJSON().point_scale.slice(5)},t=JST["templates/lightboxes/custom_point_scale/show"](e);return a.$el.html(t).position({my:"right top",at:"right bottom",of:s,offset:"12 4",collision:"classyFlip none"}),a}),i(),a}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.lightboxes").CustomPointScale=e}.call(this),function(){"use strict";function e(e){var t=r.Deferred();return r.post("/services/area_51/projects/"+e+"/expire_cache").always(function(){t.resolve(e)}),t.promise()}{var t=this,n=_.namespace(t,"tracker"),r=t.$;t.Backbone}_.namespace(n,"helpers").expireProject=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/force_reload/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/force_reload/show"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+="<p>\n  ",i=n.message,i?r=i.call(t,{hash:{}}):(r=t.message,r=typeof r===o?r():r),a+=s(r)+'<br>\n  Please click \'OK\' to reload Tracker.\n</p>\n<button type="button" class="std">OK</button>\n'}),this.HandlebarsTemplates["lightboxes/force_reload/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(_.namespace(e,"next"),t.View.extend({__name__:"LightboxesForceReload",className:"lightbox force_reload",events:{"click button":"reload",afterScrimClose:"reload"},initialize:function(e){this.message_=e.message,this.project_=e.project,t.NetworkScheduler.current().stop()},render:function(){return $(window).data("skipUnload",!0),$(".above_scrim").not(this.el).removeClass("above_scrim"),this.$el.html(JST["templates/lightboxes/force_reload/show"]({message:this.message_})),this.$el.trigger("kill"),t.$("#layouts_show *").attr("tabindex",-1),this},reload:function(){this.project_?t.helpers.expireProject(this.project_.id).always(function(){t.location.reload()}):t.location.reload()}}));_.namespace(t,"views.lightboxes").ForceReload=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/iteration_update/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/iteration_update/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n    <section>\n      <input type="hidden" name="iteration[id]" data-type="number" value="',r=n.id,r?t=r.call(e,{hash:{}}):(t=e.id,t=typeof t===c?t():t),i+=u(t)+'">\n      <label>\n        Iteration length:\n        <input type="text" name="iteration[length]" data-type="number" value="',r=n.length,r?t=r.call(e,{hash:{}}):(t=e.length,t=typeof t===c?t():t),i+=u(t)+'" maxlength="2" class="std">\n        wks\n      </label>\n      <p class="message">Must be greater than or equal to zero</p>\n      <button class="std" type="submit">Apply</button>\n      <button class="std revert">Revert</button>\n    </section>\n    <p>\n      Adjusts this iteration\'s length.\n    </p>\n    <nav>\n      <a class="close">Close</a>\n    </nav>\n  '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.blockHelperMissing;return l+='<div class="iteration_update">\n  ',s=n.formTag,s?o=s.call(t,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}):(o=t.formTag,o=typeof o===c?o():o),n.formTag||(o=p.call(t,o,{hash:{},inverse:d.noop,fn:d.program(1,a,i)})),(o||0===o)&&(l+=o),l+="\n</div>\n"}),this.HandlebarsTemplates["lightboxes/iteration_update/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){e.preventDefault(),s.$trigger("close.lightbox")}function r(e){return"default"!==e.length&&mixpanel.track("/iterations/change_length",{iteration_length:e.length}),l.save(e),!0}function i(e){e.preventDefault();var n=$(e.currentTarget).serializeObject();return n.iteration.length<0||_(n.iteration.length).isString()?(s.$el.find(".message").addClass("show_error"),void 0):((l.length()===n.iteration.length||r(n.iteration))&&t(e),void 0)}function a(e){mixpanel.track("/iterations/revert_length"),(l.length()===u.iterationLength()||r({id:l.id,length:"default"}))&&t(e)}function o(){s.delegateEvents({"submit form":i,"click .revert":a})}var s=new(n.View.extend({className:"lightbox standard left anchored"}))(e),l=s.model,c=e.button,u=l.project();return s.render=s.wrapRender(function(){n.CommandQueue.pause("iteration length lightbox was opened");var e=JST["templates/lightboxes/iteration_update/show"]({id:l.id,length:l.length()});return s.$el.html(e).position({my:"left top",at:"left bottom",of:c,offset:"0 8",collision:"classyFlip none"}).find("label").click(),s}),o(),s}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.lightboxes").IterationUpdate=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/keyboard_shortcuts/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/keyboard_shortcuts/show"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<header class="title">\n  <a class="cancel" title="Close"></a>\n  <h2>keyboard shortcuts</h2>\n</header>\n<article class="content">\n  <div class="wrapper">\n    <dl>\n      <dt>toggle backlog</dt>\n      <dd><span>Shift + B</span></dd>\n\n      <dt>toggle charts (graphs)</dt>\n      <dd><span>Shift + G</span></dd>\n\n      <dt>toggle done</dt>\n      <dd><span>Shift + D</span></dd>\n\n      <dt>toggle history</dt>\n      <dd><span>Shift + H</span></dd>\n\n      <dt>toggle icebox</dt>\n      <dd><span>Shift + I</span></dd>\n\n      <dt>toggle my work</dt>\n      <dd><span>Shift + W</span></dd>\n\n      <dt>toggle labels &amp; searches</dt>\n      <dd><span>Shift + L</span></dd>\n\n      <dt>toggle current</dt>\n      <dd><span>Shift + C</span></dd>\n\n      <dt>toggle notifications</dt>\n      <dd><span>Shift + N</span></dd>\n\n      <dt>toggle epics panel</dt>\n      <dd><span>Shift + E</span></dd>\n    </dl>\n    <dl>\n      <dt>help (this)</dt>\n      <dd><span>?</span></dd>\n\n      <dt>add story</dt>\n      <dd><span>A</span></dd>\n\n      <dt>add epic</dt>\n      <dd><span>E</span></dd>\n\n      <dt>search</dt>\n      <dd><span>/</span></dd>\n\n      <dt>save currently open story</dt>\n      <dd><span>CMD + S</span></dd>\n\n      <dt>save comment being edited</dt>\n      <dd><span>Shift + Enter</span></dd>\n    </dl>\n  </div>\n  <footer>\n    <nav><button class="cancel submit" id="lightbox_cancel" title="Close">Close</button></nav>\n  </footer>\n</article>\n'}),this.HandlebarsTemplates["next/lightboxes/keyboard_shortcuts/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"LightboxesKeyboardShortcuts",className:"lightbox keyboard_shortcuts",render:function(){return this.$el.html(JST[_.result(this,"template")]()),this},template:"templates/next/lightboxes/keyboard_shortcuts/show"});_.namespace(t,"views.lightboxes").KeyboardShortcuts=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/reject/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/reject/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i,a="";return a+='\n    <section class="comment">\n      <input type="hidden" name="story[current_state]" value="rejected">\n      <input type="hidden" data-type="number" name="comment[story_cid]" value="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===c?t():t),a+=u(t)+'">\n      ',t={},t.name="comment[text]",t["id-prefix"]="reason",t["class"]="std no_save_on_enter",t.placeholder="Add a comment",r=e.cid,t.id=r,r=e.project_id,t["project-id"]=r,i=n.mentionable,t=i?i.call(e,{hash:t}):d.call(e,"mentionable",{hash:t}),a+=u(t)+'\n    </section>\n\n    <nav>\n      <button type="submit">Reject</button>\n      <button class="close" type="button">Cancel</button>\n    </nav>\n  '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=n.helperMissing,p=this,h=n.blockHelperMissing;return l+='<div class="reject">\n  <h2>Reason for Rejection (optional)</h2>\n\n  ',s=n.formTag,s?o=s.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(o=t.formTag,o=typeof o===c?o():o),n.formTag||(o=h.call(t,o,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(o||0===o)&&(l+=o),l+="\n</div>\n"}),this.HandlebarsTemplates["lightboxes/reject/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"LightboxesReject",className:"lightbox standard right anchored reject",initialize:function(e){t.View.prototype.initialize.call(this,e),this.button=e.button;var n=this.model;this.draftStory=t.DraftStory.create(n),this.views().addView(new t.views.Mentionable({el:this.el,project:n.project(),model:this.draftStory}))},events:{"submit form":"submit","keypress textarea":"keypress"},render:function(){this.$trigger("prerender"),t.CommandQueue.pause("story rejection lightbox was opened");var e=JST["templates/lightboxes/reject/show"](this.model.decorator().toJSON());return this.$el.html(e).position({my:"right top",at:"right bottom",of:this.button,offset:"0 6",collision:"classyFlip none"}).find("textarea").focus(),this.$("textarea.editor").autosize({append:""}),this.$trigger("postrender"),this},submit:function(e){e.preventDefault(),this.saveComment($(e.target).serializeObject()),this.close()},saveComment:function(e){var t=_(e.story).extend({comment:{text:e.comment.text}});this.model.save(t)},close:function(){this.$trigger("close.lightbox")},keypress:function(e){e.shiftKey&&13===e.which&&(e.preventDefault(),this.saveComment($(e.target).closest("form").serializeObject()),this.close())},remove:function(){this.$("textarea.editor").trigger("autosize.destroy"),this.draftStory.stopListening(),t.View.prototype.remove.call(this)}});_.namespace(t,"views.lightboxes").Reject=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/manual_planning/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/manual_planning/show"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div>\n  <h2>Manual Planning Mode</h2>\n  <article>\n    <h3>\n      This project is in Manual Planning Mode.\n    </h3>\n    <p>\n      This allows you to override velocity-based planning, and move more (or fewer) stories into the current iteration.\n    </p>\n    <br>\n    <p>\n      In Automatic Planning Mode, Tracker plans each iteration automatically, based on velocity. The Project Owner can switch to Automatic Planning Mode in <a href="/projects/',i=n.project_id,i?r=i.call(t,{hash:{}}):(r=t.project_id,r=typeof r===o?r():r),a+=s(r)+'/settings">Project Settings.</a>\n    </p>\n  </article>\n</div>\n'}),this.HandlebarsTemplates["lightboxes/manual_planning/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({className:"lightbox standard right anchored manual_planning_lightbox",initialize:function(e){this.button=e.button},render:function(){var e=JST["templates/lightboxes/manual_planning/show"]({project_id:this.model.id});return this.$el.html(e).position({my:"center top",at:"center bottom",of:this.button,offset:"84 6",collision:"classyFlip none"}),this}});_.namespace(t,"views.lightboxes").ManualPlanning=n}.call(this),function(e,t){function n(e){var t=this;this.model=e,e.on("invalid",function(e,n){t.error=n})}n.prototype.toJSON=function(){var e=this.model.toJSON();return this.error&&_.extend(e,{error:this.error}),e},t.ErrorDecorator=n}(window,tracker),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/rename_label/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/rename_label/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n  <label for="lightbox_label_name">Rename label</label>\n  <nav>\n    <button type="submit" class="std button save" id="lightbox_save">save</button>\n    <button type="button" class="std button cancel" id="lightbox_cancel">cancel</button>\n  </nav>\n  <section>\n    <input type="text" name="label[name]" value="',i=n.name,i?r=i.call(e,{hash:{}}):(r=e.name,r=typeof r===u?r():r),a+=d(r)+'" class="std" id="lightbox_label_name" data-type="lowercase">\n  </section>\n  ',i=n.error,i?r=i.call(e,{hash:{},inverse:p.noop,fn:p.program(2,o,t)}):(r=e.error,r=typeof r===u?r():r),n.error||(r=h.call(e,r,{hash:{},inverse:p.noop,fn:p.program(2,o,t)})),(r||0===r)&&(a+=r),a+="\n"}function o(e){var t="";return t+='\n    <div class="error">',e=typeof e===u?e():e,t+=d(e)+"</div>\n  "}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing,g=n.helperMissing;return s={},s["class"]="labels",l=n.formTag,s=l?l.call(t,{hash:s,inverse:p.noop,fn:p.program(1,a,i)}):g.call(t,"formTag",{hash:s,inverse:p.noop,fn:p.program(1,a,i)}),(s||0===s)&&(c+=s),c+="\n"}),this.HandlebarsTemplates["lightboxes/rename_label/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){e.preventDefault(),a.$trigger("close.lightbox")}function r(e){e.preventDefault();var n,r=$(e.currentTarget),i=r.serializeObject().label;i.name=i.name.trim(),void 0===(n=o.validate(i))?(o.save(i),t(e)):(s.trigger("invalid",o,n),s.set(i,{silent:!0}),a.render())}function i(){a.delegateEvents({"submit form":r})}var a=new(n.View.extend({className:"lightbox rename_label"}))(e),o=a.model,s=new n.Label(o.attributes,{project:function(){return o.project()},draft:!0}),l=new n.ErrorDecorator(s);return a.render=a.wrapRender(function(){return a.$el.html(JST["templates/lightboxes/rename_label/show"](l.toJSON())).find("input[type='text']").focus(),a}),i(),a}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.lightboxes").RenameLabel=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/screencast/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/screencast/show"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<h1>Welcome to Pivotal Tracker.</h1>\n<p>If you\'re new to Tracker, or just need a refresher, we recommend watching this short introductory video. Click the image below to begin.</p>\n\n<div class="thumbnail"></div>\n\n<div class="no_thanks">\n  <a>No Thanks</a>\n</div>\n'}),this.HandlebarsTemplates["lightboxes/screencast/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(){a.$el.trigger("close.lightbox")}function r(){t(),(new n.LightboxesController).create("video_player",{opacity:!0})}function i(){a.delegateEvents({"click .no_thanks":t,"click .thumbnail":r})}var a=new(n.View.extend({className:"lightbox screencast"}))(e);return a.render=a.wrapRender(function(){return n.Person.current().appSettings().save({shown_screencast_at:n.DateTime.now().getTime()}),a.$el.html(JST["templates/lightboxes/screencast/show"]()),a
}),i(),a}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.lightboxes").Screencast=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/team_strength_update/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/team_strength_update/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n    <section>\n      <input type="hidden" name="iteration[id]" data-type="number" value="',r=n.id,r?t=r.call(e,{hash:{}}):(t=e.id,t=typeof t===c?t():t),i+=u(t)+'">\n      <label>\n        Team strength:\n        <input type="text" name="iteration[team_strength]" data-type="percent" value="',t=e.team_strength,r=n.percent,t=r?r.call(e,t,{hash:{}}):d.call(e,"percent",t,{hash:{}}),i+=u(t)+'" class="std">\n        %\n      </label>\n      <p class="message">Must be greater than or equal to zero</p>\n      <button class="std" type="submit">Apply</button>\n    </section>\n    <p>\n      Adjusts this iteration\'s weight in velocity calculations.\n    </p>\n    <nav>\n      <a class="close">Close</a>\n    </nav>\n  '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=n.helperMissing,p=this,h=n.blockHelperMissing;return l+='<div class="team_strength_update">\n  ',s=n.formTag,s?o=s.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(o=t.formTag,o=typeof o===c?o():o),n.formTag||(o=h.call(t,o,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(o||0===o)&&(l+=o),l+="\n</div>\n"}),this.HandlebarsTemplates["lightboxes/team_strength_update/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){e.preventDefault(),a.$trigger("close.lightbox")}function r(e){e.preventDefault();var n=$(e.currentTarget).serializeObject();return _(n.iteration.team_strength).isNaN()||n.iteration.team_strength<0||_(n.iteration.team_strength).isString()?(a.$el.find(".message").addClass("show_error"),void 0):(mixpanel.track("/iterations/change_team_strength",{team_strength:Math.floor(100*n.iteration.team_strength)}),o.teamStrength()!==n.iteration.team_strength&&o.save(n.iteration),t(e),void 0)}function i(){a.delegateEvents({"submit form":r})}var a=new(n.View.extend({className:"lightbox standard right anchored"}))(e),o=a.model,s=(o.project(),e.button);return a.render=a.wrapRender(function(){n.CommandQueue.pause("iteration team strength lightbox was opened");var e=JST["templates/lightboxes/team_strength_update/show"]({id:o.id,team_strength:o.teamStrength()});return a.$el.html(e).position({my:"right top",at:"right bottom",of:s,offset:"9 8",collision:"classyFlip none"}).find("label").click(),a}),i(),a}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.lightboxes").TeamStrengthUpdate=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.Velocity,toJSON:function(){return _.extend({},this.attributes,{valid:this.isValid(),per_iteration:this.perIteration()})}});t.VelocityDecorator=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/velocity_update/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/velocity_update/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n    <nav>\n      <button class="apply submit" type="submit" title="Apply">Apply</button>\n      <button class="revert" type="button" title="Revert">Revert</button>\n    </nav>\n    <fieldset>\n      <label for="velocity_overridden_velocity">Velocity</label>\n      <input type="text" name="velocity[overridden_velocity]" data-type="number" value="',i=n.per_iteration,i?r=i.call(e,{hash:{}}):(r=e.per_iteration,r=typeof r===u?r():r),a+=d(r)+'" class="std" id="velocity_overridden_velocity">\n    </fieldset>\n    ',r=e.valid,r=n.unless.call(e,r,{hash:{},inverse:p.noop,fn:p.program(2,o,t)}),(r||0===r)&&(a+=r),a+="\n\n    <p>Use this to experiment with different velocities.</p>\n    <p>Iterations in Current and Backlog will be temporarily recalculated based on the velocity you enter. No other user will see your overridden velocity.</p>\n  "}function o(){return'\n      <div class="show_error">\n        Must be greater than zero\n      </div>\n    '}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing;return c+='<header class="title">\n  <h2>Override Velocity</h2>\n</header>\n<article class="content">\n  ',l=n.formTag,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(s=t.formTag,s=typeof s===u?s():s),n.formTag||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(s||0===s)&&(c+=s),c+="\n</article>\n"}),this.HandlebarsTemplates["next/lightboxes/velocity_update/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"LightboxesVelocityUpdate",className:"lightbox velocity_update",initialize:_.wrap(t.View.prototype.initialize,function(e,n){function r(e){e=""+e;var t=parseInt(e,10);return t&&t>0&&""+t===e}function i(e){e.preventDefault(),s.$trigger("close.lightbox")}function a(e){e.preventDefault();var t=$(e.currentTarget).serializeObject(),n=t.velocity.overridden_velocity;r(n)?(mixpanel.track("/velocity/override"),c.set({overridden_velocity:n}),c.project().iterations().recalculate({skipDoneIterations:!0}),i(e)):(u={valid:!1,overridden_velocity:n},s.render())}function o(e){e.preventDefault(),mixpanel.track("/velocity/revert"),c.unset("overridden_velocity"),c.project().iterations().recalculate({skipDoneIterations:!0}),i(e)}e.call(this,n);var s=this,l=n.button,c=s.model,u={};s.render=s.wrapRender(function(){t.CommandQueue.pause("velocity override lightbox was opened");var e=JST[_.result(this,"template")](_.extend(c.decorator().toJSON(),u));return s.$el.html(e).position(_.extend({my:"right top",at:"center bottom",of:l,offset:"18 18",collision:"none"},n.position)).find("label").click(),s}),s.delegateEvents({"submit form":a,"click .revert":o})}),template:"templates/next/lightboxes/velocity_update/show"});_.namespace(t,"views.lightboxes").VelocityUpdate=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/video_player/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/video_player/show"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<a class="close_button">close</a>\n<object width="850" height="676" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0" id="lightwindow_media_primary" name="lightwindow_media_primary">\n  <param value="/flash/flvplayer.swf?file=',i=n.video_url,i?r=i.call(t,{hash:{}}):(r=t.video_url,r=typeof r===o?r():r),a+=s(r)+"&image=",i=n.preview_image,i?r=i.call(t,{hash:{}}):(r=t.preview_image,r=typeof r===o?r():r),a+=s(r)+'&autostart=true" name="movie"/>\n  <param value="/flash/flvplayer.swf?file=',i=n.video_url,i?r=i.call(t,{hash:{}}):(r=t.video_url,r=typeof r===o?r():r),a+=s(r)+"&image=",i=n.preview_image,i?r=i.call(t,{hash:{}}):(r=t.preview_image,r=typeof r===o?r():r),a+=s(r)+'&autostart=true" name="src"/>\n  <param value="true" name="controller"/>\n  <param value="transparent" name="wmode"/>\n  <param value="false" name="cache"/>\n  <param value="high" name="quality"/>\n  <object width="850" height="676" type="application/x-shockwave-flash" data="/flash/flvplayer.swf?file=',i=n.video_url,i?r=i.call(t,{hash:{}}):(r=t.video_url,r=typeof r===o?r():r),a+=s(r)+"&image=",i=n.preview_image,i?r=i.call(t,{hash:{}}):(r=t.preview_image,r=typeof r===o?r():r),a+=s(r)+'&autostart=true" id="lightwindow_media_secondary" name="lightwindow_media_secondary">\n    <param value="true" name="controller"/>\n    <param value="transparent" name="wmode"/>\n    <param value="false" name="cache"/>\n    <param value="high" name="quality"/>\n  </object>\n</object>\n'}),this.HandlebarsTemplates["lightboxes/video_player/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){e.preventDefault(),o.$el.trigger("close.lightbox")}function a(){o.delegateEvents({"click .close_button":t})}var o=new(n.View.extend({className:"lightbox video_player"}))(e),s={preview_image:i,video_url:r};return o.render=o.wrapRender(function(){return o.$el.html(JST["templates/lightboxes/video_player/show"](s)),o}),a(),o}var t=this,n=_.namespace(t,"tracker"),r=t.location.protocol+"//s3.amazonaws.com/tracker.screencast/GettingStarted-2.0.mov",i=t.location.origin+"///d3jgo56a5b0my0.cloudfront.net/next/assets/screencast/tracker2013-5ace4ab175a43c9a6426103a122c7713.png";_(n).namespace("views.lightboxes").VideoPlayer=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Feedback",url:"/services/area_51/feedback"});t.Feedback=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={defer:function(e){return function(){var t=this,n=arguments;_.defer(function(){e.apply(t,n)})}},flush:_.noop,repeatTimeout:function(e,t){var n=[];return function r(e,t){var i=setTimeout(function(){n.splice(n.indexOf(i),1),e(),r(e,t)},t);n.push(i)}(e,t),n},requestAnimationFrame:function(t){return function(){e.requestAnimationFrame.polyfill?t.apply(this,arguments):e.requestAnimationFrame(t)}},submitClosestForm:function(){return function(e){$(e.currentTarget).closest("form").submit()}},intersects:function(e,t){var n=_.invoke(e.toArray(),"getBoundingClientRect");return _.find(t.toArray(),function(e){var t=e.getBoundingClientRect();return _.find(n,function(e){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)})})},isAboveTheBottomOf:function(e,t){if(e.length&&t.length){var n=e[0].getBoundingClientRect(),r=t[0].getBoundingClientRect();return n.top<=r.bottom}return!1},preventDefault:function(e){e.preventDefault()},stopImmediatePropagation:function(e){e.stopImmediatePropagation()},requireWriteAccess:function(e,n,r){var i=this;return function(a){var o=arguments;t.helpers.access.requireWriteAccess(e,t.Person.current()).done(function(){n.apply(i,o)}).fail(function(){r?r.apply(i,o):a instanceof $.Event&&a.preventDefault()})}},transformArguments:function(e){var t=this;return function(){var n=arguments;return function(){var r=e.apply(t,arguments);return _.isArray(r)||_.isArguments(r)?_.last(_.map(n,function(e){return e.apply(t,r)})):void 0}}},invoke:function(e){return function(t){t[e]()}}};_.namespace(t,"helpers").view=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/feedback/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/feedback/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return'\n  <p>What do you think of the Charts beta, and what would you like to see?</p>\n  <textarea name="description" autofocus></textarea>\n  <nav>\n    <button type="submit" class="button std save">Submit</button>\n    <button type="button" class="button clear cancel">cancel</button>\n  </nav>\n  <p class="role_label">What best describes your role?</p>\n  <select class="feedback_role">\n    <option value="" disabled selected>Select a role</option>\n    <option>CEO</option>\n    <option>CTO</option>\n    <option>Project Manager</option>\n    <option>Product Manager</option>\n    <option>Engineering Manager</option>\n    <option>Developer/Engineer</option>\n    <option>Tester/QA</option>\n    <option>Designer</option>\n    <option>Customer Support</option>\n  </select>\n'}n=n||e.helpers;var o,s,l="",c=this,u=n.helperMissing;return l+="<h2>Charts Beta Feedback</h2>\n",o={},o["class"]="feedback",s=n.formTag,o=s?s.call(t,{hash:o,inverse:c.noop,fn:c.program(1,a,i)}):u.call(t,"formTag",{hash:o,inverse:c.noop,fn:c.program(1,a,i)}),(o||0===o)&&(l+=o),l+='\n<div class="thanks">\n  <p>\n    Thank you! Although we are not always able to reply, we do read all submissions, and your feedback greatly helps us improve Tracker. For support that requires follow-up, please email tracker@pivotal.io.\n  </p>\n  <nav>\n    <button type="button" class="button std close">Close</button>\n  </nav>\n</div>\n'}),this.HandlebarsTemplates["next/lightboxes/feedback/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(){i.delegateEvents({"submit form":i.sendFeedback,"click .cancel":i.close,"keyup textarea":i.handleEscape,"click .ui_guide":i.openUiGuidePanel})}var i=new(r.View.extend({className:"lightbox feedback"}))(e),a=n.Person.current();return i.render=function(){return i.html(JST["templates/next/lightboxes/feedback/show"]()),i.$("textarea[autofocus]").focus(),i.$trigger("kill"),i},i.sendFeedback=function(){var e=this.$("textarea").val(),t=this.$(".feedback_role").val();if(_.isBlank(e))i.close();else{mixpanel.track("/feedback/submit");var r=new n.Feedback({message:e+"\n[Role: "+t+"]"});r.save(),i.$el.addClass("submitted"),i.$(".close").focus()}},i.close=function(){i.$trigger("close.lightbox")},i.handleEscape=function(e){e.preventDefault(),27===e.which&&(_.isBlank(i.$("textarea").val())||window.confirm("Are you sure you wish to abandon your feedback?"))&&i.close()},i.openUiGuidePanel=function(){mixpanel.track("/panels/show",{panel_type:"ui_guide",source:"feedback"}),a.panels().open({type:"ui_guide"},{at:0}),i.$(".panel.ui_guide").scrollIntoView()},t(),i}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next");_.namespace(n,"views.lightboxes").Feedback=e}.call(this),function(){"use strict";var e,t=this,n=_.namespace(t,"tracker"),r=!1,i=n.Controller.extend({initialize:function(){e=e||new n.views.Lightbox({$delegate:$(document.body)}),0===this.views().size()&&this.views().addView(e)},create:function(t,i){if(!r){i=i||{};var a=new(n.views.lightboxes[_.classify(t)])(i);e.views().removeView(),e.views().addView(a).attach(),this.views().pick(e).attach().$trigger("open.lightbox",_.pick(i,"opacity","modal")),a.render()}"force_reload"===t&&(r=!0)}},{reset:function(){r=!1}});n.LightboxesController=i}.call(this),function(){"use strict";function e(){return tracker.Project.current()||tracker.Workspace.current().projects().first()}function t(t){return function(){var n=t.type,r=!_.include(["notifications"],n)&&e()||void 0,i=tracker.Person.current().panels(),a=i.find(function(e){return e.project()===r&&e.get("type")===n});a?a.set({visible:!a.get("visible")}):(_.include(["notifications"],n)||r)&&i.add(_.extend({visible:!0},t),{project:r})}}function n(e,t){return function(n){n.trigger(e,_.isFunction(t)&&t()||void 0)}}function r(n){return function(){var r=tracker.Person.current().panels(),i=e(),a=r.find(function(e){return e.get("split")&&i===e.project()});t(_.extend({},n,!a&&{type:"backlog",name:"current/backlog"}))()}}function i(e){e.find("form.search_bar :input").focus()}function a(e,t){return function(){(new tracker.LightboxesController).create(e,t)}}function o(){tracker.MixpanelReporter.current().track("/epics/add",{source:"keyboard_shortcut"}),n("addEpic",e).apply(this,arguments)}function s(){tracker.MixpanelReporter.current().track("/stories/add",{source:"keyboard_shortcut"}),n("addStory",e).apply(this,arguments)}var l=this,c=_.namespace(l,"next"),u=tracker.helpers.view,d={search:i,addStory:s,addEpic:o,current:r({type:"current"}),backlog:r({type:"backlog"}),done:t({type:"done"}),epics:t({type:"epics"}),charts:t({type:"charts"}),history:t({type:"project_history"}),icebox:t({type:"icebox"}),labels:t({type:"labels"}),notifications:t({type:"notifications"}),myWork:t({type:"my_work"}),help:a("keyboard_shortcuts",{opacity:!0}),esc:n("scrimClose")},p=c.View.extend({__name__:"KeyboardsIndex",initialize:_.wrap(c.View.prototype.initialize,function(e,t){function n(e,t){_.include(["a","e"],t.key)&&(o=!0,i.$(".keyboard_buffer").val("").focus()),d[t.action](i.$el)}function r(e){var t;o&&(t=$(e.target))&&!t.is(".keyboard_buffer")&&!t.val().length&&(t.val(i.$(".keyboard_buffer").val()),_.defer(function(){var e=t.val();t[0].selectionEnd=e.length,t[0].selectionStart=e.length}),o=!1)}e.apply(this,_.rest(arguments));var i=this,a=t.stream,o=!1;this.delegateEvents({focusin:r},[a,{"change:hotkey":u.defer(n)}])}),render:function(){this.$el.append('<input type="text" class="keyboard_buffer" />')}});_.namespace(c,"views.keyboards").Index=p}.call(this),function(){"use strict";function e(e){return!$(e.target).is(":input")}function t(){return 0===$(".scrim.visible").length&&0===$(".tc_scrim").length}function n(n){var r=new tracker.Stream(n,"keydown"),i=new tracker.Stream(n,"keyup"),o=r.merge(i).take(2).filter(function(e){return"keydown"===e[0].type&&"keyup"===e[1].type}).filter(function(e){return _.all(e,function(e){return 27===e.charCode})}).map(function(){return"esc"}),s=new tracker.Stream(n,"keypress").filter(e).filter(t).each(function(e){"/"===String.fromCharCode(e.charCode)&&e.preventDefault()}).map(function(e){return _.compact([e.shiftKey&&"shift",String.fromCharCode(e.charCode).toLowerCase()]).join("+")});return s.merge(o).filter(function(e){return _.has(a,e)}).map(function(e){return{key:e,action:a[e]}}).toAttr("hotkey")}var r=this,i=_.namespace(r,"next"),a={"/":"search",a:"addStory",e:"addEpic","shift+b":"backlog","shift+c":"current","shift+d":"done","shift+e":"epics","shift+g":"charts","shift+h":"history","shift+i":"icebox","shift+l":"labels","shift+n":"notifications","shift+w":"myWork","shift+?":"help",esc:"esc"},o=i.Controller.extend({__name__:"KeyboardsController",index:function(){var e=new i.views.keyboards.Index({el:this.el,stream:n($("body"))});this.views().addView(e).render()}});i.KeyboardsController=o}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Status",toJSON:_.wrap(t.Model.prototype.toJSON,function(e,t){return _.extend(e.call(this,t),{cid:this.cid})})});t.Status=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Collection.extend({model:t.Status});n.include(t.mixins.identityMap),t.Statuses=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Layout",associations:[{hasMany:"statuses",className:"Statuses",parse:!1},{hasMany:"flashMessages",className:"Statuses",parse:!1},{hasMany:"stickyMessages",className:"Statuses",parse:!1}],defaults:{maximized:!1,sidebar_display:"expanded",panel_width:400},fragment:function(){return this.get("workspace")&&"workspaces/"+t.Workspace.current().id||"projects/"+t.Project.current().id}});n.include(t.mixins.current),n.include(t.mixins.models.Guest),t.Layout=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.DeployWarning=t.Model.extend({set:_.wrap(Backbone.Model.prototype.set,function(e,t){return e.call(this,t,{validate:!0})}),validate:function(e){return e.next_deploy&&e.next_deploy<t.DateTime.now()?"next_deploy can't be in the past!":void 0}}),t.DeployWarning.include(t.mixins.current)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({initialize:function(){this.log_={}},log:function(e,t){this.log_[e]=this.log_[e]||[],this.log_[e].push({data:t,timestamp:Date.now()}),this.log_[e].length>3&&this.log_[e].shift()},get:function(e){return this.log_[e]||[]},size:function(){return _.reduce(this.log_,function(e,t){return e+t.length},0)}});n.include(t.mixins.current),t.Logger=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"Menu",events:{"click .menu.notifications .anchor":"trackNotificationsClick_","click .menu .anchor":"toggleWithoutDefault_","click .menu .item":"toggle_","close .menu .item":"close_","afterScrimClose .menu":"afterScrimClose_"},initialize:function(){this.handleEsc_=this.handleEsc_.bind(this),$(document).on("keyup",this.handleEsc_)},remove:function(){return $(document).off("keyup",this.handleEsc_),t.View.prototype.remove.call(this)},trackNotificationsClick_:function(){var e=$(".menu.notifications");e&&e.hasClass("visible")||t.MixpanelReporter.current().track("/notifications/index",{unread_count:t.Person.current().notifications().unread().length})},openMenu_:function(e,t){t.addClass("above_scrim").removeClass("visible"),e.addClass("visible")},closeMenu_:function(e,t){t.removeClass("above_scrim").removeClass("visible"),e.removeClass("visible")},openScrim_:function(e){e.trigger("scrimOpen")},closeScrim_:function(e){e.trigger("scrimClose")},toggle_:function(e){var t=$(e.target).closest(".menu"),n=this.$(".menu");t.is(".visible")?(this.closeMenu_(t,n),this.closeScrim_(t)):(this.openMenu_(t,n),this.openScrim_(t))},toggleWithoutDefault_:function(e){e.preventDefault(),this.toggle_(e)},close_:function(e){var t=$(e.target).closest(".menu"),n=this.$(".menu");this.closeMenu_(t,n),this.closeScrim_(t)},afterScrimClose_:function(e){e.stopPropagation(),this.$(".menu").removeClass("visible").removeClass("above_scrim")},handleEsc_:function(e){27===e.which&&(this.$(".menu").removeClass("above_scrim").removeClass("visible"),this.$(".menu").trigger("scrimClose"))}});_.namespace(t,"views").Menu=n}.call(this),function(e,t){var n=t.View.extend({initialize:function(){this.$scrim_=$('<div class="scrim"></div>'),this.$target_=$(),this.modal_=!1},events:{scrimOpen:"scrimOpen_",scrimClose:"scrimClose_","click .scrim":"click_"},render:function(){return this.$trigger("prerender"),this.$el.prepend(this.$scrim_),this.$trigger("postrender"),this},scrimOpen_:function(e,t){t=t||{},this.modal_=t.modal,this.$target_=$(e.target).addClass("above_scrim"),this.$scrim_.addClass("visible"),t.opacity&&this.$scrim_.addClass("opacity")},scrimClose_:function(){this.$scrim_.removeClass("visible").removeClass("opacity"),this.$target_.removeClass("above_scrim")},click_:function(e){this.modal_||(this.scrimClose_(e),this.$target_.trigger("afterScrimClose"),this.$target_=$())}});_(t).namespace("views").Scrim=n}(window,window.tracker),function(){"use strict";function e(e){function t(){i=setTimeout(t,o),$.ajax({url:c,dataType:"json"}).done(function(e){e.version!==n.appVersion()&&(e.force_reload?((new n.LightboxesController).create("force_reload",{message:"Tracker has been updated to a new version.",opacity:!0}),n.CommandQueue.pause("new version of tracker was released, user was force-reloaded"),clearTimeout(i)):s&&(l.add({type:"AppUpdated"}),s=!1))}).fail(function(e){e.status&&e.status.toString().match(/^5/)&&e.responseText.match(/status\.pivotaltracker\.com/)&&clearTimeout(i)})}function r(){"HEAD"!==n.appVersion()&&(i=setTimeout(t,o))}e=e||{};var i,a=new(n.View.extend({}))(e),o=6e4,s=!0,l=a.collection,c=e.url;return r(),a}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views").AppVersionChecker=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"RemoteChangeDetection",initialize:function(){this.listenTo(t.CommandQueue.all(),"remoteChange",this.remoteChange_)},remoteChange_:function(e,n){if(n&&n.member_id&&n.member_id!==t.Person.current().id){var r=n.member_id,i=n.members.get(r)||new t.Guest({id:r}),a=this.collection.findWhere({type:"RemoteChange"}),o=[i];a?(o=_.uniq(a.get("members").concat(o)),a.set({members:o})):this.collection.add({type:"RemoteChange",members:o},{validate:!0})}}});_(t).namespace("views.layouts").RemoteChangeDetection=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/loading/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/loading/show"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<section><div class="spinner"></div><h2>loading ',i=n.name,i?r=i.call(t,{hash:{}}):(r=t.name,r=typeof r===o?r():r),a+=s(r)+"</h2></section>\n"}),this.HandlebarsTemplates["next/lightboxes/loading/show"]}.call(this)}.call(this),function(){"use strict";function e(e){var i=new(r.View.extend({className:"lightbox loading"}))(e),a=i.model;return i.render=function(){return i.html(JST["templates/next/lightboxes/loading/show"]({name:a instanceof n.Workspace&&"workspace"||"project"})),a.ready().then(function(){if(i.$trigger("close.lightbox"),n.Timer.end("nr_fe_time"),a instanceof n.Project&&window.NREUM&&window.NREUM.inlineHit){var e=n.Timer.data()[""];t.NREUM.inlineHit("next_javascript",0,e.nr_app_time.lastTime,e.nr_total_be_time.lastTime,e.nr_dom_time.lastTime,e.nr_fe_time.lastTime)}}),i},i}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next");_.namespace(n,"views.lightboxes").Loading=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/layouts/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/layouts/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return"workspace"}function o(){return"project"}function s(){return" expanded"}function l(e,t){var r;return r=e.maximized,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(8,c,t)}),r||0===r?r:""}function c(){return" main"}n=n||e.helpers;var u,d,p="",h=this,g="function",f=this.escapeExpression,m=n.blockHelperMissing;return p+='<div class="page_header_container"></div>\n<div class="intro_tour_container"></div>\n<section class="main ',u=t.layout,u=null==u||u===!1?u:u.workspace,u=n["if"].call(t,u,{hash:{},inverse:h.program(3,o,i),fn:h.program(1,a,i)}),(u||0===u)&&(p+=u),p+='">\n  <aside class="sidebar ',u=t.layout,u=null==u||u===!1?u:u.sidebar_display,u=typeof u===g?u():u,p+=f(u)+'"></aside>\n  <article class="main',u=t.sidebar_expanded,u=n.unless.call(t,u,{hash:{},inverse:h.noop,fn:h.program(5,s,i)}),(u||0===u)&&(p+=u),p+='">\n    <section class="panels"></section>\n  </article>\n</section>\n<section class="maximized',d=n.layout,d?u=d.call(t,{hash:{},inverse:h.noop,fn:h.program(7,l,i)}):(u=t.layout,u=typeof u===g?u():u),n.layout||(u=m.call(t,u,{hash:{},inverse:h.noop,fn:h.program(7,l,i)})),(u||0===u)&&(p+=u),p+='" id="maximizes_show"></section>\n'}),this.HandlebarsTemplates["next/layouts/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(){i.$el.attr("class","layouts show "+a.get("story_density_mode"))}function r(){t(),i.delegateEvents([a,{"change:story_density_mode":t}])}var i=new(n.View.extend())(e),a=tracker.Person.current().appSettings();return r(),i}var t=this,n=_.namespace(t,"next");_.namespace(n,"views.layouts.storyDensityMode").Show=e}.call(this),function(){"use strict";function e(e){function t(e,t){var n=a.$(".sidebar"),r=a.$("article.main");n.removeClass("expanded").removeClass("collapsed").removeClass("floated").addClass(t),r.toggleClass("expanded","expanded"!==t)}function r(){a.$(".maximized").toggleClass("main",o.get("maximized")),a.$(".main.project, .main.workspace").toggleClass("hide",o.get("maximized"))}function i(){a.views().addView(new n.views.layouts.storyDensityMode.Show({el:a.el})),a.delegateEvents({"drop.livedrop .droppable":$.noop},[o,{"change:sidebar_display":t,"change:maximized":r}])}var a=new(n.View.extend())(e),o=a.model;return a.render=function(){tracker.Workspace.current()&&0===tracker.Workspace.current().get("project_ids").length&&o.set("sidebar_display","expanded");var e=JST["templates/next/layouts/show"]({layout:o.toJSON(),sidebar_expanded:"expanded"===o.get("sidebar_display")});return a.html(e),a},i(),a}var t=this,n=_.namespace(t,"next");_.namespace(n,"views.layouts").Show=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/layouts/single_model/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/layouts/single_model/show"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<div class="page_header_container"></div>\n<header class="main">\n  <section class="status"></section>\n</header>\n<section class="main maximized">\n</section>\n'}),this.HandlebarsTemplates["next/layouts/single_model/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(){r.views().addView(new n.views.layouts.storyDensityMode.Show({el:r.el})),r.delegateEvents({"drop.livedrop .droppable":$.noop})}var r=new(n.View.extend({className:"layouts show"}))(e),i=r.model;return r.render=function(){var e=JST["templates/next/layouts/single_model/show"]({layout:i.toJSON()});return r.html(e),r},t(),r}var t=this,n=_.namespace(t,"next");_.namespace(n,"views.layouts.singleModel").Show=e}.call(this),function(){"use strict";function e(e){return _.any(e,function(e){return r.browser["is"+e.browser]()?r.browser.isVersionOrHigher(e.version)&&(!e.engine||r.engine.isVersionOrHigher(e.engine)):void 0})}var t=this,n=_.namespace(t,"tracker"),r=goog.labs.userAgent,i=n.View.extend({__name__:"BrowserCheckerShow",initialize:function(){var t=this.collection;e(this.supportedUserAgents)||t.add({type:"UnsupportedBrowser"},{validate:!0})},supportedUserAgents:[{version:"27",browser:"Chrome"},{version:"6.0",browser:"Safari",engine:"536.25"},{version:"17.0",browser:"Firefox"},{version:"10.0",browser:"IE"}]});_.namespace(n,"views.browserChecker").Show=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={hasPendingCommands:"Some are your changes are still being saved, are you sure you want to leave?",hasUnsavedChanges:"You have unsaved changes, are you sure you want to leave?"},r=t.View.extend({initialize:function(e){this.options_=e,this.beforeunload_=this.beforeunload_.bind(this),$(window).on("beforeunload",this.beforeunload_)},events:{kill:"kill_"},beforeunload_:function(){return r.beforeunload(this.options_)},kill_:function(){this.remove()},remove:function(){$(window).off("beforeunload",this.beforeunload_),t.View.prototype.remove.call(this)}});r.beforeunload=function(e){return $(window).data("skipUnload")?($(window).data("skipUnload",!1),void 0):t.CommandQueue.hasPendingUserCommands()?n.hasPendingCommands:e.panels.isUnsaved()?n.hasUnsavedChanges:void 0},_.namespace(t,"views").WarnBeforeLeaving=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/app_notifications/recent_updates"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["app_notifications/recent_updates"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'Tracker has some new updates - <a class="read_more close_button" target="_blank" href="/help/recentupdates">read more</a>\n'}),this.HandlebarsTemplates["app_notifications/recent_updates"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(){l.save({viewed_recent_updates_at:Date.now()}),l.unset("show_recent_updates")}function r(){if("basic"===l.get("show_recent_updates")){var e=JST["templates/app_notifications/recent_updates"]({});u.unshift({content:e,cssClass:"notice",permanent:!0,rawHTML:!0,prepend:!0,closeable:!0,onClose:t})}}function i(){var e=c.get("finish")-n.DateTime.now();if(c.get("start")&&e>0){var t=u.push({type:"MaintenanceDowntime",startTime:c.get("start"),finishTime:c.get("finish")});clearTimeout(o),o=setTimeout(function(){u.remove([t,u.get("deploy_warning")])},e)}}function a(){s.delegateEvents([c,{change:i}]),r(),i()}var o,s=new(n.View.extend())(e),l=n.Person.current().appSettings(),c=n.MaintenanceDowntime.current(),u=n.Layout.current().statuses();return a(),s}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views").AppNotifications=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({initialize:function(e){this.networkStatus=e.networkStatus,this.trackerStatus=e.trackerStatus,this.pinger=e.pinger,this.listenTo(this.trackerStatus,"change:isOnline",this.handleStatusChange_),this.listenTo(this.trackerStatus,"change:maintenance",this.handleMaintenance_),this.listenTo(this.trackerStatus,"change:unauthorized",this.handleUnauthorize_),this.listenTo(this.networkStatus,"change:isOnline",this.handleStatusChange_)},handleStatusChange_:function(){this.clearMessages(),this.networkStatus.get("isOnline")?this.trackerStatus.get("isOnline")||this.unhealthyDetected():this.offlineDetected()},handleMaintenance_:function(){(new t.LightboxesController).create("force_reload",{message:"Sorry, Tracker is having unexpected issues.",opacity:!0}),t.CommandQueue.pause("maintenance detected")},handleUnauthorize_:function(){t.Person.current()&&!t.Person.current().isGuest()&&((new t.LightboxesController).create("force_reload",{message:"Your session has expired.",opacity:!0}),t.CommandQueue.pause("maintenance detected"))},clearMessages:function(){var e=t.Layout.current().stickyMessages();e.remove(e.findWhere({type:"TrackerOffline"})),e.remove(e.findWhere({type:"NetworkOffline"}))},unhealthyDetected:function(){t.Layout.current().stickyMessages().add({type:"TrackerOffline"})},offlineDetected:function(){t.Layout.current().stickyMessages().add({type:"NetworkOffline"})
},handleRetry_:function(){t.TrackerStatus.current().set({retrying:!0}),t.NetworkScheduler.current().start()},handleReconnect_:function(){t.NetworkScheduler.current().start()}});_(t).namespace("views").ServerConditionDetection=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"GlobalEvents",events:{ajaxComplete:"handleAjaxComplete_",error:"handleError_"},initialize:function(e){this.networkStatus_=e.networkStatus,this.trackerStatus_=e.trackerStatus,this.logger_=e.logger},handleAjaxComplete_:function(e,t,n){this.networkStatus_.parseAjaxComplete(e,t,n),this.trackerStatus_.parseAjaxComplete(e,t,n)},handleError_:function(e){this.logger_.log("uncaught_error",e.originalEvent)}});_.namespace(t,"views").GlobalEvents=n}.call(this),/**
 * React (with addons) v0.11.1
 *
 * Copyright 2013-2014 Facebook, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.React=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t){"use strict";var n=e("./focusNode"),r={componentDidMount:function(){this.props.autoFocus&&n(this.getDOMNode())}};t.exports=r},{"./focusNode":117}],2:[function(e,t){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}var i=e("./EventConstants"),a=e("./EventPropagators"),o=e("./ExecutionEnvironment"),s=e("./SyntheticInputEvent"),l=e("./keyOf"),c=o.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||n()),u=32,d=String.fromCharCode(u),p=i.topLevelTypes,h={beforeInput:{phasedRegistrationNames:{bubbled:l({onBeforeInput:null}),captured:l({onBeforeInputCapture:null})},dependencies:[p.topCompositionEnd,p.topKeyPress,p.topTextInput,p.topPaste]}},g=null,f={eventTypes:h,extractEvents:function(e,t,n,i){var o;if(c)switch(e){case p.topKeyPress:var l=i.which;if(l!==u)return;o=String.fromCharCode(l);break;case p.topTextInput:if(o=i.data,o===d)return;break;default:return}else{switch(e){case p.topPaste:g=null;break;case p.topKeyPress:i.which&&!r(i)&&(g=String.fromCharCode(i.which));break;case p.topCompositionEnd:g=i.data}if(null===g)return;o=g}if(o){var f=s.getPooled(h.beforeInput,n,i);return f.data=o,g=null,a.accumulateTwoPhaseDispatches(f),f}}};t.exports=f},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./SyntheticInputEvent":95,"./keyOf":138}],3:[function(e,t){var n=e("./invariant"),r={addClass:function(e,t){return n(!/\s/.test(t)),t&&(e.classList?e.classList.add(t):r.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return n(!/\s/.test(t)),t&&(e.classList?e.classList.remove(t):r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?r.addClass:r.removeClass)(e,t)},hasClass:function(e,t){return n(!/\s/.test(t)),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};t.exports=r},{"./invariant":131}],4:[function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={columnCount:!0,fillOpacity:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var a={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},o={isUnitlessNumber:r,shorthandPropertyExpansions:a};t.exports=o},{}],5:[function(e,t){"use strict";var n=e("./CSSProperty"),r=e("./dangerousStyleValue"),i=e("./hyphenateStyleName"),a=e("./memoizeStringOnly"),o=a(function(e){return i(e)}),s={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i&&(t+=o(n)+":",t+=r(n,i)+";")}return t||null},setValueForStyles:function(e,t){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var o=r(a,t[a]);if(o)i[a]=o;else{var s=n.shorthandPropertyExpansions[a];if(s)for(var l in s)i[l]="";else i[a]=""}}}};t.exports=s},{"./CSSProperty":4,"./dangerousStyleValue":112,"./hyphenateStyleName":129,"./memoizeStringOnly":140}],6:[function(e,t){"use strict";function n(){this._callbacks=null,this._contexts=null}var r=e("./PooledClass"),i=e("./invariant"),a=e("./mixInto");a(n,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){i(e.length===t.length),this._callbacks=null,this._contexts=null;for(var n=0,r=e.length;r>n;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(n),t.exports=n},{"./PooledClass":28,"./invariant":131,"./mixInto":144}],7:[function(e,t){"use strict";function n(e){return"SELECT"===e.nodeName||"INPUT"===e.nodeName&&"file"===e.type}function r(e){var t=S.getPooled(M.change,k,e);y.accumulateTwoPhaseDispatches(t),E.batchedUpdates(i,t)}function i(e){v.enqueueEvents(e),v.processEventQueue()}function a(e,t){D=e,k=t,D.attachEvent("onchange",r)}function o(){D&&(D.detachEvent("onchange",r),D=null,k=null)}function s(e,t,n){return e===x.topChange?n:void 0}function l(e,t,n){e===x.topFocus?(o(),a(t,n)):e===x.topBlur&&o()}function c(e,t){D=e,k=t,O=e.value,N=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(D,"value",U),D.attachEvent("onpropertychange",d)}function u(){D&&(delete D.value,D.detachEvent("onpropertychange",d),D=null,k=null,O=null,N=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==O&&(O=t,r(e))}}function p(e,t,n){return e===x.topInput?n:void 0}function h(e,t,n){e===x.topFocus?(u(),c(t,n)):e===x.topBlur&&u()}function g(e){return e!==x.topSelectionChange&&e!==x.topKeyUp&&e!==x.topKeyDown||!D||D.value===O?void 0:(O=D.value,k)}function f(e){return"INPUT"===e.nodeName&&("checkbox"===e.type||"radio"===e.type)}function m(e,t,n){return e===x.topClick?n:void 0}var _=e("./EventConstants"),v=e("./EventPluginHub"),y=e("./EventPropagators"),b=e("./ExecutionEnvironment"),E=e("./ReactUpdates"),S=e("./SyntheticEvent"),w=e("./isEventSupported"),T=e("./isTextInputElement"),A=e("./keyOf"),x=_.topLevelTypes,M={change:{phasedRegistrationNames:{bubbled:A({onChange:null}),captured:A({onChangeCapture:null})},dependencies:[x.topBlur,x.topChange,x.topClick,x.topFocus,x.topInput,x.topKeyDown,x.topKeyUp,x.topSelectionChange]}},D=null,k=null,O=null,N=null,R=!1;b.canUseDOM&&(R=w("change")&&(!("documentMode"in document)||document.documentMode>8));var C=!1;b.canUseDOM&&(C=w("input")&&(!("documentMode"in document)||document.documentMode>9));var U={get:function(){return N.get.call(this)},set:function(e){O=""+e,N.set.call(this,e)}},F={eventTypes:M,extractEvents:function(e,t,r,i){var a,o;if(n(t)?R?a=s:o=l:T(t)?C?a=p:(a=g,o=h):f(t)&&(a=m),a){var c=a(e,t,r);if(c){var u=S.getPooled(M.change,c,i);return y.accumulateTwoPhaseDispatches(u),u}}o&&o(e,t,r)}};t.exports=F},{"./EventConstants":16,"./EventPluginHub":18,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactUpdates":84,"./SyntheticEvent":93,"./isEventSupported":132,"./isTextInputElement":134,"./keyOf":138}],8:[function(e,t){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};t.exports=r},{}],9:[function(e,t){"use strict";function n(e){switch(e){case _.topCompositionStart:return y.compositionStart;case _.topCompositionEnd:return y.compositionEnd;case _.topCompositionUpdate:return y.compositionUpdate}}function r(e,t){return e===_.topKeyDown&&t.keyCode===g}function i(e,t){switch(e){case _.topKeyUp:return-1!==h.indexOf(t.keyCode);case _.topKeyDown:return t.keyCode!==g;case _.topKeyPress:case _.topMouseDown:case _.topBlur:return!0;default:return!1}}function a(e){this.root=e,this.startSelection=c.getSelection(e),this.startValue=this.getText()}var o=e("./EventConstants"),s=e("./EventPropagators"),l=e("./ExecutionEnvironment"),c=e("./ReactInputSelection"),u=e("./SyntheticCompositionEvent"),d=e("./getTextContentAccessor"),p=e("./keyOf"),h=[9,13,27,32],g=229,f=l.canUseDOM&&"CompositionEvent"in window,m=!f||"documentMode"in document&&document.documentMode>8&&document.documentMode<=11,_=o.topLevelTypes,v=null,y={compositionEnd:{phasedRegistrationNames:{bubbled:p({onCompositionEnd:null}),captured:p({onCompositionEndCapture:null})},dependencies:[_.topBlur,_.topCompositionEnd,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:p({onCompositionStart:null}),captured:p({onCompositionStartCapture:null})},dependencies:[_.topBlur,_.topCompositionStart,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:p({onCompositionUpdate:null}),captured:p({onCompositionUpdateCapture:null})},dependencies:[_.topBlur,_.topCompositionUpdate,_.topKeyDown,_.topKeyPress,_.topKeyUp,_.topMouseDown]}};a.prototype.getText=function(){return this.root.value||this.root[d()]},a.prototype.getData=function(){var e=this.getText(),t=this.startSelection.start,n=this.startValue.length-this.startSelection.end;return e.substr(t,e.length-n-t)};var b={eventTypes:y,extractEvents:function(e,t,o,l){var c,d;if(f?c=n(e):v?i(e,l)&&(c=y.compositionEnd):r(e,l)&&(c=y.compositionStart),m&&(v||c!==y.compositionStart?c===y.compositionEnd&&v&&(d=v.getData(),v=null):v=new a(t)),c){var p=u.getPooled(c,o,l);return d&&(p.data=d),s.accumulateTwoPhaseDispatches(p),p}}};t.exports=b},{"./EventConstants":16,"./EventPropagators":21,"./ExecutionEnvironment":22,"./ReactInputSelection":61,"./SyntheticCompositionEvent":91,"./getTextContentAccessor":126,"./keyOf":138}],10:[function(e,t){"use strict";function n(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}var r,i=e("./Danger"),a=e("./ReactMultiChildUpdateTypes"),o=e("./getTextContentAccessor"),s=e("./invariant"),l=o();r="textContent"===l?function(e,t){e.textContent=t}:function(e,t){for(;e.firstChild;)e.removeChild(e.firstChild);if(t){var n=e.ownerDocument||document;e.appendChild(n.createTextNode(t))}};var c={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:r,processUpdates:function(e,t){for(var o,l=null,c=null,u=0;o=e[u];u++)if(o.type===a.MOVE_EXISTING||o.type===a.REMOVE_NODE){var d=o.fromIndex,p=o.parentNode.childNodes[d],h=o.parentID;s(p),l=l||{},l[h]=l[h]||[],l[h][d]=p,c=c||[],c.push(p)}var g=i.dangerouslyRenderMarkup(t);if(c)for(var f=0;f<c.length;f++)c[f].parentNode.removeChild(c[f]);for(var m=0;o=e[m];m++)switch(o.type){case a.INSERT_MARKUP:n(o.parentNode,g[o.markupIndex],o.toIndex);break;case a.MOVE_EXISTING:n(o.parentNode,l[o.parentID][o.fromIndex],o.toIndex);break;case a.TEXT_CONTENT:r(o.parentNode,o.textContent);break;case a.REMOVE_NODE:}}};t.exports=c},{"./Danger":13,"./ReactMultiChildUpdateTypes":67,"./getTextContentAccessor":126,"./invariant":131}],11:[function(e,t){"use strict";var n=e("./invariant"),r={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=e.Properties||{},i=e.DOMAttributeNames||{},o=e.DOMPropertyNames||{},s=e.DOMMutationMethods||{};e.isCustomAttribute&&a._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var l in t){n(!a.isStandardName.hasOwnProperty(l)),a.isStandardName[l]=!0;var c=l.toLowerCase();if(a.getPossibleStandardName[c]=l,i.hasOwnProperty(l)){var u=i[l];a.getPossibleStandardName[u]=l,a.getAttributeName[l]=u}else a.getAttributeName[l]=c;a.getPropertyName[l]=o.hasOwnProperty(l)?o[l]:l,a.getMutationMethod[l]=s.hasOwnProperty(l)?s[l]:null;var d=t[l];a.mustUseAttribute[l]=d&r.MUST_USE_ATTRIBUTE,a.mustUseProperty[l]=d&r.MUST_USE_PROPERTY,a.hasSideEffects[l]=d&r.HAS_SIDE_EFFECTS,a.hasBooleanValue[l]=d&r.HAS_BOOLEAN_VALUE,a.hasNumericValue[l]=d&r.HAS_NUMERIC_VALUE,a.hasPositiveNumericValue[l]=d&r.HAS_POSITIVE_NUMERIC_VALUE,a.hasOverloadedBooleanValue[l]=d&r.HAS_OVERLOADED_BOOLEAN_VALUE,n(!a.mustUseAttribute[l]||!a.mustUseProperty[l]),n(a.mustUseProperty[l]||!a.hasSideEffects[l]),n(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1)}}},i={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<a._isCustomAttributeFunctions.length;t++){var n=a._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,r=i[e];return r||(i[e]=r={}),t in r||(n=document.createElement(e),r[t]=n[t]),r[t]},injection:r};t.exports=a},{"./invariant":131}],12:[function(e,t){"use strict";function n(e,t){return null==t||r.hasBooleanValue[e]&&!t||r.hasNumericValue[e]&&isNaN(t)||r.hasPositiveNumericValue[e]&&1>t||r.hasOverloadedBooleanValue[e]&&t===!1}var r=e("./DOMProperty"),i=e("./escapeTextForBrowser"),a=e("./memoizeStringOnly"),o=(e("./warning"),a(function(e){return i(e)+'="'})),s={createMarkupForID:function(e){return o(r.ID_ATTRIBUTE_NAME)+i(e)+'"'},createMarkupForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){if(n(e,t))return"";var a=r.getAttributeName[e];return r.hasBooleanValue[e]||r.hasOverloadedBooleanValue[e]&&t===!0?i(a):o(a)+i(t)+'"'}return r.isCustomAttribute(e)?null==t?"":o(e)+i(t)+'"':null},setValueForProperty:function(e,t,i){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var a=r.getMutationMethod[t];if(a)a(e,i);else if(n(t,i))this.deleteValueForProperty(e,t);else if(r.mustUseAttribute[t])e.setAttribute(r.getAttributeName[t],""+i);else{var o=r.getPropertyName[t];r.hasSideEffects[t]&&e[o]===i||(e[o]=i)}}else r.isCustomAttribute(t)&&(null==i?e.removeAttribute(t):e.setAttribute(t,""+i))},deleteValueForProperty:function(e,t){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){var n=r.getMutationMethod[t];if(n)n(e,void 0);else if(r.mustUseAttribute[t])e.removeAttribute(r.getAttributeName[t]);else{var i=r.getPropertyName[t],a=r.getDefaultValueForProperty(e.nodeName,i);r.hasSideEffects[t]&&e[i]===a||(e[i]=a)}}else r.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=s},{"./DOMProperty":11,"./escapeTextForBrowser":115,"./memoizeStringOnly":140,"./warning":153}],13:[function(e,t){"use strict";function n(e){return e.substring(1,e.indexOf(" "))}var r=e("./ExecutionEnvironment"),i=e("./createNodesFromMarkup"),a=e("./emptyFunction"),o=e("./getMarkupWrap"),s=e("./invariant"),l=/^(<[^ \/>]+)/,c="data-danger-index",u={dangerouslyRenderMarkup:function(e){s(r.canUseDOM);for(var t,u={},d=0;d<e.length;d++)s(e[d]),t=n(e[d]),t=o(t)?t:"*",u[t]=u[t]||[],u[t][d]=e[d];var p=[],h=0;for(t in u)if(u.hasOwnProperty(t)){var g=u[t];for(var f in g)if(g.hasOwnProperty(f)){var m=g[f];g[f]=m.replace(l,"$1 "+c+'="'+f+'" ')}var _=i(g.join(""),a);for(d=0;d<_.length;++d){var v=_[d];v.hasAttribute&&v.hasAttribute(c)&&(f=+v.getAttribute(c),v.removeAttribute(c),s(!p.hasOwnProperty(f)),p[f]=v,h+=1)}}return s(h===p.length),s(p.length===e.length),p},dangerouslyReplaceNodeWithMarkup:function(e,t){s(r.canUseDOM),s(t),s("html"!==e.tagName.toLowerCase());var n=i(t,a)[0];e.parentNode.replaceChild(n,e)}};t.exports=u},{"./ExecutionEnvironment":22,"./createNodesFromMarkup":110,"./emptyFunction":113,"./getMarkupWrap":123,"./invariant":131}],14:[function(e,t){"use strict";var n=e("./keyOf"),r=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({CompositionEventPlugin:null}),n({BeforeInputEventPlugin:null}),n({AnalyticsEventPlugin:null}),n({MobileSafariClickEventPlugin:null})];t.exports=r},{"./keyOf":138}],15:[function(e,t){"use strict";var n=e("./EventConstants"),r=e("./EventPropagators"),i=e("./SyntheticMouseEvent"),a=e("./ReactMount"),o=e("./keyOf"),s=n.topLevelTypes,l=a.getFirstReactDOM,c={mouseEnter:{registrationName:o({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:o({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},u=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,o){if(e===s.topMouseOver&&(o.relatedTarget||o.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var d;if(t.window===t)d=t;else{var p=t.ownerDocument;d=p?p.defaultView||p.parentWindow:window}var h,g;if(e===s.topMouseOut?(h=t,g=l(o.relatedTarget||o.toElement)||d):(h=d,g=t),h===g)return null;var f=h?a.getID(h):"",m=g?a.getID(g):"",_=i.getPooled(c.mouseLeave,f,o);_.type="mouseleave",_.target=h,_.relatedTarget=g;var v=i.getPooled(c.mouseEnter,m,o);return v.type="mouseenter",v.target=g,v.relatedTarget=h,r.accumulateEnterLeaveDispatches(_,v,f,m),u[0]=_,u[1]=v,u}};t.exports=d},{"./EventConstants":16,"./EventPropagators":21,"./ReactMount":65,"./SyntheticMouseEvent":97,"./keyOf":138}],16:[function(e,t){"use strict";var n=e("./keyMirror"),r=n({bubbled:null,captured:null}),i=n({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),a={topLevelTypes:i,PropagationPhases:r};t.exports=a},{"./keyMirror":137}],17:[function(e,t){var n=e("./emptyFunction"),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!0),{remove:function(){e.removeEventListener(t,r,!0)}}):{remove:n}},registerDefault:function(){}};t.exports=r},{"./emptyFunction":113}],18:[function(e,t){"use strict";var n=e("./EventPluginRegistry"),r=e("./EventPluginUtils"),i=e("./accumulate"),a=e("./forEachAccumulated"),o=e("./invariant"),s=(e("./isEventSupported"),e("./monitorCodeUse"),{}),l=null,c=function(e){if(e){var t=r.executeDispatch,i=n.getPluginModuleForEvent(e);i&&i.executeDispatch&&(t=i.executeDispatch),r.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e)}},u=null,d={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(e){u=e},getInstanceHandle:function(){return u},injectEventPluginOrder:n.injectEventPluginOrder,injectEventPluginsByName:n.injectEventPluginsByName},eventNameDispatchConfigs:n.eventNameDispatchConfigs,registrationNameModules:n.registrationNameModules,putListener:function(e,t,n){o(!n||"function"==typeof n);var r=s[t]||(s[t]={});r[e]=n},getListener:function(e,t){var n=s[t];return n&&n[e]},deleteListener:function(e,t){var n=s[t];n&&delete n[e]},deleteAllListeners:function(e){for(var t in s)delete s[t][e]},extractEvents:function(e,t,r,a){for(var o,s=n.plugins,l=0,c=s.length;c>l;l++){var u=s[l];if(u){var d=u.extractEvents(e,t,r,a);d&&(o=i(o,d))}}return o},enqueueEvents:function(e){e&&(l=i(l,e))},processEventQueue:function(){var e=l;l=null,a(e,c),o(!l)},__purge:function(){s={}},__getListenerBank:function(){return s}};t.exports=d},{"./EventPluginRegistry":19,"./EventPluginUtils":20,"./accumulate":103,"./forEachAccumulated":118,"./invariant":131,"./isEventSupported":132,"./monitorCodeUse":145}],19:[function(e,t){"use strict";function n(){if(o)for(var e in s){var t=s[e],n=o.indexOf(e);if(a(n>-1),!l.plugins[n]){a(t.extractEvents),l.plugins[n]=t;var i=t.eventTypes;for(var c in i)a(r(i[c],t,c))}}}function r(e,t,n){a(!l.eventNameDispatchConfigs.hasOwnProperty(n)),l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return e.registrationName?(i(e.registrationName,t,n),!0):!1}function i(e,t,n){a(!l.registrationNameModules[e]),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e("./invariant"),o=null,s={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){a(!o),o=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];s.hasOwnProperty(r)&&s[r]===i||(a(!s[r]),s[r]=i,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){o=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};t.exports=l},{"./invariant":131}],20:[function(e,t){"use strict";function n(e){return e===f.topMouseUp||e===f.topTouchEnd||e===f.topTouchCancel}function r(e){return e===f.topMouseMove||e===f.topTouchMove}function i(e){return e===f.topMouseDown||e===f.topTouchStart}function a(e,t){var n=e._dispatchListeners,r=e._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)t(e,n[i],r[i]);else n&&t(e,n,r)}function o(e,t,n){e.currentTarget=g.Mount.getNode(n);var r=t(e,n);return e.currentTarget=null,r}function s(e,t){a(e,t),e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function c(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function u(e){var t=e._dispatchListeners,n=e._dispatchIDs;h(!Array.isArray(t));var r=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,r}function d(e){return!!e._dispatchListeners}var p=e("./EventConstants"),h=e("./invariant"),g={Mount:null,injectMount:function(e){g.Mount=e}},f=p.topLevelTypes,m={isEndish:n,isMoveish:r,isStartish:i,executeDirectDispatch:u,executeDispatch:o,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:c,hasDispatches:d,injection:g,useTouchEvents:!1};t.exports=m},{"./EventConstants":16,"./invariant":131}],21:[function(e,t){"use strict";function n(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return f(e,r)}function r(e,t,r){var i=t?g.bubbled:g.captured,a=n(e,r,i);a&&(r._dispatchListeners=p(r._dispatchListeners,a),r._dispatchIDs=p(r._dispatchIDs,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,r,e)}function a(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=f(e,r);i&&(n._dispatchListeners=p(n._dispatchListeners,i),n._dispatchIDs=p(n._dispatchIDs,e))}}function o(e){e&&e.dispatchConfig.registrationName&&a(e.dispatchMarker,null,e)}function s(e){h(e,i)}function l(e,t,n,r){d.injection.getInstanceHandle().traverseEnterLeave(n,r,a,e,t)}function c(e){h(e,o)}var u=e("./EventConstants"),d=e("./EventPluginHub"),p=e("./accumulate"),h=e("./forEachAccumulated"),g=u.PropagationPhases,f=d.getListener,m={accumulateTwoPhaseDispatches:s,accumulateDirectDispatches:c,accumulateEnterLeaveDispatches:l};t.exports=m},{"./EventConstants":16,"./EventPluginHub":18,"./accumulate":103,"./forEachAccumulated":118}],22:[function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},{}],23:[function(e,t){"use strict";var n,r=e("./DOMProperty"),i=e("./ExecutionEnvironment"),a=r.injection.MUST_USE_ATTRIBUTE,o=r.injection.MUST_USE_PROPERTY,s=r.injection.HAS_BOOLEAN_VALUE,l=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,u=r.injection.HAS_POSITIVE_NUMERIC_VALUE,d=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var p=document.implementation;n=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var h={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,accessKey:null,action:null,allowFullScreen:a|s,allowTransparency:a,alt:null,async:s,autoComplete:null,autoPlay:s,cellPadding:null,cellSpacing:null,charSet:a,checked:o|s,className:n?a:o,cols:a|u,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:o|s,coords:null,crossOrigin:null,data:null,dateTime:a,defer:s,dir:null,disabled:a|s,download:d,draggable:null,encType:null,form:a,formNoValidate:s,frameBorder:a,height:a,hidden:a|s,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:o,label:null,lang:null,list:null,loop:o|s,max:null,maxLength:a,mediaGroup:null,method:null,min:null,multiple:o|s,muted:o|s,name:null,noValidate:s,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:o|s,rel:null,required:s,role:a,rows:a|u,rowSpan:null,sandbox:null,scope:null,scrollLeft:o,scrolling:null,scrollTop:o,seamless:a|s,selected:o|s,shape:null,size:a|u,span:u,spellCheck:null,src:null,srcDoc:o,srcSet:null,start:c,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:o|l,width:a,wmode:a,autoCapitalize:null,autoCorrect:null,itemProp:a,itemScope:a|s,itemType:a,property:null},DOMAttributeNames:{className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};t.exports=h},{"./DOMProperty":11,"./ExecutionEnvironment":22}],24:[function(e,t){"use strict";var n=e("./ReactLink"),r=e("./ReactStateSetters"),i={linkState:function(e){return new n(this.state[e],r.createStateKeySetter(this,e))}};t.exports=i},{"./ReactLink":63,"./ReactStateSetters":79}],25:[function(e,t){"use strict";function n(e){l(null==e.props.checkedLink||null==e.props.valueLink)}function r(e){n(e),l(null==e.props.value&&null==e.props.onChange)}function i(e){n(e),l(null==e.props.checked&&null==e.props.onChange)}function a(e){this.props.valueLink.requestChange(e.target.value)}function o(e){this.props.checkedLink.requestChange(e.target.checked)}var s=e("./ReactPropTypes"),l=e("./invariant"),c={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},u={Mixin:{propTypes:{value:function(e,t){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?void 0:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?void 0:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func}},getValue:function(e){return e.props.valueLink?(r(e),e.props.valueLink.value):e.props.value},getChecked:function(e){return e.props.checkedLink?(i(e),e.props.checkedLink.value):e.props.checked},getOnChange:function(e){return e.props.valueLink?(r(e),a):e.props.checkedLink?(i(e),o):e.props.onChange}};t.exports=u},{"./ReactPropTypes":73,"./invariant":131}],26:[function(e,t){"use strict";function n(e){e.remove()}var r=e("./ReactBrowserEventEmitter"),i=e("./accumulate"),a=e("./forEachAccumulated"),o=e("./invariant"),s={trapBubbledEvent:function(e,t){o(this.isMounted());var n=r.trapBubbledEvent(e,t,this.getDOMNode());this._localEventListeners=i(this._localEventListeners,n)},componentWillUnmount:function(){this._localEventListeners&&a(this._localEventListeners,n)}};t.exports=s},{"./ReactBrowserEventEmitter":31,"./accumulate":103,"./forEachAccumulated":118,"./invariant":131}],27:[function(e,t){"use strict";var n=e("./EventConstants"),r=e("./emptyFunction"),i=n.topLevelTypes,a={eventTypes:null,extractEvents:function(e,t,n,a){if(e===i.topTouchStart){var o=a.target;o&&!o.onclick&&(o.onclick=r)}}};t.exports=a},{"./EventConstants":16,"./emptyFunction":113}],28:[function(e,t){"use strict";var n=e("./invariant"),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},o=function(e,t,n,r,i){var a=this;if(a.instancePool.length){var o=a.instancePool.pop();return a.call(o,e,t,n,r,i),o}return new a(e,t,n,r,i)},s=function(e){var t=this;n(e instanceof t),e.destructor&&e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=10,c=r,u=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=l),n.release=s,n},d={addPoolingTo:u,oneArgumentPooler:r,twoArgumentPooler:i,threeArgumentPooler:a,fiveArgumentPooler:o};t.exports=d},{"./invariant":131}],29:[function(e,t){"use strict";var n=e("./DOMPropertyOperations"),r=e("./EventPluginUtils"),i=e("./ReactChildren"),a=e("./ReactComponent"),o=e("./ReactCompositeComponent"),s=e("./ReactContext"),l=e("./ReactCurrentOwner"),c=e("./ReactDescriptor"),u=e("./ReactDOM"),d=e("./ReactDOMComponent"),p=e("./ReactDefaultInjection"),h=e("./ReactInstanceHandles"),g=e("./ReactMount"),f=e("./ReactMultiChild"),m=e("./ReactPerf"),_=e("./ReactPropTypes"),v=e("./ReactServerRendering"),y=e("./ReactTextComponent"),b=e("./onlyChild");p.inject();var E={Children:{map:i.map,forEach:i.forEach,count:i.count,only:b},DOM:u,PropTypes:_,initializeTouchEvents:function(e){r.useTouchEvents=e},createClass:o.createClass,createDescriptor:function(e){var t=Array.prototype.slice.call(arguments,1);return e.apply(null,t)},constructAndRenderComponent:g.constructAndRenderComponent,constructAndRenderComponentByID:g.constructAndRenderComponentByID,renderComponent:m.measure("React","renderComponent",g.renderComponent),renderComponentToString:v.renderComponentToString,renderComponentToStaticMarkup:v.renderComponentToStaticMarkup,unmountComponentAtNode:g.unmountComponentAtNode,isValidClass:c.isValidFactory,isValidComponent:c.isValidDescriptor,withContext:s.withContext,__internals:{Component:a,CurrentOwner:l,DOMComponent:d,DOMPropertyOperations:n,InstanceHandles:h,Mount:g,MultiChild:f,TextComponent:y}};E.version="0.11.1",t.exports=E},{"./DOMPropertyOperations":12,"./EventPluginUtils":20,"./ReactChildren":34,"./ReactComponent":35,"./ReactCompositeComponent":38,"./ReactContext":39,"./ReactCurrentOwner":40,"./ReactDOM":41,"./ReactDOMComponent":43,"./ReactDefaultInjection":53,"./ReactDescriptor":54,"./ReactInstanceHandles":62,"./ReactMount":65,"./ReactMultiChild":66,"./ReactPerf":69,"./ReactPropTypes":73,"./ReactServerRendering":77,"./ReactTextComponent":80,"./onlyChild":146}],30:[function(e,t){"use strict";var n=e("./ReactEmptyComponent"),r=e("./ReactMount"),i=e("./invariant"),a={getDOMNode:function(){return i(this.isMounted()),n.isNullComponentID(this._rootNodeID)?null:r.getNode(this._rootNodeID)}};t.exports=a},{"./ReactEmptyComponent":56,"./ReactMount":65,"./invariant":131}],31:[function(e,t){"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=p++,u[e[g]]={}),u[e[g]]}var r=e("./EventConstants"),i=e("./EventPluginHub"),a=e("./EventPluginRegistry"),o=e("./ReactEventEmitterMixin"),s=e("./ViewportMetrics"),l=e("./isEventSupported"),c=e("./merge"),u={},d=!1,p=0,h={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),f=c(o,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(f.handleTopLevel),f.ReactEventListener=e
}},setEnabled:function(e){f.ReactEventListener&&f.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!f.ReactEventListener||!f.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var i=t,o=n(i),s=a.registrationNameDependencies[e],c=r.topLevelTypes,u=0,d=s.length;d>u;u++){var p=s[u];o.hasOwnProperty(p)&&o[p]||(p===c.topWheel?l("wheel")?f.ReactEventListener.trapBubbledEvent(c.topWheel,"wheel",i):l("mousewheel")?f.ReactEventListener.trapBubbledEvent(c.topWheel,"mousewheel",i):f.ReactEventListener.trapBubbledEvent(c.topWheel,"DOMMouseScroll",i):p===c.topScroll?l("scroll",!0)?f.ReactEventListener.trapCapturedEvent(c.topScroll,"scroll",i):f.ReactEventListener.trapBubbledEvent(c.topScroll,"scroll",f.ReactEventListener.WINDOW_HANDLE):p===c.topFocus||p===c.topBlur?(l("focus",!0)?(f.ReactEventListener.trapCapturedEvent(c.topFocus,"focus",i),f.ReactEventListener.trapCapturedEvent(c.topBlur,"blur",i)):l("focusin")&&(f.ReactEventListener.trapBubbledEvent(c.topFocus,"focusin",i),f.ReactEventListener.trapBubbledEvent(c.topBlur,"focusout",i)),o[c.topBlur]=!0,o[c.topFocus]=!0):h.hasOwnProperty(p)&&f.ReactEventListener.trapBubbledEvent(p,h[p],i),o[p]=!0)}},trapBubbledEvent:function(e,t,n){return f.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return f.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!d){var e=s.refreshScrollValues;f.ReactEventListener.monitorScrollValue(e),d=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});t.exports=f},{"./EventConstants":16,"./EventPluginHub":18,"./EventPluginRegistry":19,"./ReactEventEmitterMixin":58,"./ViewportMetrics":102,"./isEventSupported":132,"./merge":141}],32:[function(e,t){"use strict";var n=e("./React"),r=e("./ReactTransitionGroup"),i=e("./ReactCSSTransitionGroupChild"),a=n.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:n.PropTypes.string.isRequired,transitionEnter:n.PropTypes.bool,transitionLeave:n.PropTypes.bool},getDefaultProps:function(){return{transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return i({name:this.props.transitionName,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return this.transferPropsTo(r({childFactory:this._wrapChild},this.props.children))}});t.exports=a},{"./React":29,"./ReactCSSTransitionGroupChild":33,"./ReactTransitionGroup":83}],33:[function(e,t){"use strict";var n=e("./React"),r=e("./CSSCore"),i=e("./ReactTransitionEvents"),a=e("./onlyChild"),o=17,s=n.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(e,t){var n=this.getDOMNode(),a=this.props.name+"-"+e,o=a+"-active",s=function(){r.removeClass(n,a),r.removeClass(n,o),i.removeEndEventListener(n,s),t&&t()};i.addEndEventListener(n,s),r.addClass(n,a),this.queueClass(o)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,o))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return a(this.props.children)}});t.exports=s},{"./CSSCore":3,"./React":29,"./ReactTransitionEvents":82,"./onlyChild":146}],34:[function(e,t){"use strict";function n(e,t){this.forEachFunction=e,this.forEachContext=t}function r(e,t,n,r){var i=e;i.forEachFunction.call(i.forEachContext,t,r)}function i(e,t,i){if(null==e)return e;var a=n.getPooled(t,i);d(e,r,a),n.release(a)}function a(e,t,n){this.mapResult=e,this.mapFunction=t,this.mapContext=n}function o(e,t,n,r){var i=e,a=i.mapResult,o=!a.hasOwnProperty(n);if(o){var s=i.mapFunction.call(i.mapContext,t,r);a[n]=s}}function s(e,t,n){if(null==e)return e;var r={},i=a.getPooled(r,t,n);return d(e,o,i),a.release(i),r}function l(){return null}function c(e){return d(e,l,null)}var u=e("./PooledClass"),d=e("./traverseAllChildren"),p=(e("./warning"),u.twoArgumentPooler),h=u.threeArgumentPooler;u.addPoolingTo(n,p),u.addPoolingTo(a,h);var g={forEach:i,map:s,count:c};t.exports=g},{"./PooledClass":28,"./traverseAllChildren":151,"./warning":153}],35:[function(e,t){"use strict";var n=e("./ReactDescriptor"),r=e("./ReactOwner"),i=e("./ReactUpdates"),a=e("./invariant"),o=e("./keyMirror"),s=e("./merge"),l=o({MOUNTED:null,UNMOUNTED:null}),c=!1,u=null,d=null,p={injection:{injectEnvironment:function(e){a(!c),d=e.mountImageIntoNode,u=e.unmountIDFromEnvironment,p.BackendIDOperations=e.BackendIDOperations,c=!0}},LifeCycle:l,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===l.MOUNTED},setProps:function(e,t){var n=this._pendingDescriptor||this._descriptor;this.replaceProps(s(n.props,e),t)},replaceProps:function(e,t){a(this.isMounted()),a(0===this._mountDepth),this._pendingDescriptor=n.cloneAndReplaceProps(this._pendingDescriptor||this._descriptor,e),i.enqueueUpdate(this,t)},_setPropsInternal:function(e,t){var r=this._pendingDescriptor||this._descriptor;this._pendingDescriptor=n.cloneAndReplaceProps(r,s(r.props,e)),i.enqueueUpdate(this,t)},construct:function(e){this.props=e.props,this._owner=e._owner,this._lifeCycleState=l.UNMOUNTED,this._pendingCallbacks=null,this._descriptor=e,this._pendingDescriptor=null},mountComponent:function(e,t,n){a(!this.isMounted());var i=this._descriptor.props;if(null!=i.ref){var o=this._descriptor._owner;r.addComponentAsRefTo(this,i.ref,o)}this._rootNodeID=e,this._lifeCycleState=l.MOUNTED,this._mountDepth=n},unmountComponent:function(){a(this.isMounted());var e=this.props;null!=e.ref&&r.removeComponentAsRefFrom(this,e.ref,this._owner),u(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=l.UNMOUNTED},receiveComponent:function(e,t){a(this.isMounted()),this._pendingDescriptor=e,this.performUpdateIfNecessary(t)},performUpdateIfNecessary:function(e){if(null!=this._pendingDescriptor){var t=this._descriptor,n=this._pendingDescriptor;this._descriptor=n,this.props=n.props,this._owner=n._owner,this._pendingDescriptor=null,this.updateComponent(e,t)}},updateComponent:function(e,t){var n=this._descriptor;(n._owner!==t._owner||n.props.ref!==t.props.ref)&&(null!=t.props.ref&&r.removeComponentAsRefFrom(this,t.props.ref,t._owner),null!=n.props.ref&&r.addComponentAsRefTo(this,n.props.ref,n._owner))},mountComponentIntoNode:function(e,t,n){var r=i.ReactReconcileTransaction.getPooled();r.perform(this._mountComponentIntoNode,this,e,t,r,n),i.ReactReconcileTransaction.release(r)},_mountComponentIntoNode:function(e,t,n,r){var i=this.mountComponent(e,n,0);d(i,t,r)},isOwnedBy:function(e){return this._owner===e},getSiblingByRef:function(e){var t=this._owner;return t&&t.refs?t.refs[e]:null}}};t.exports=p},{"./ReactDescriptor":54,"./ReactOwner":68,"./ReactUpdates":84,"./invariant":131,"./keyMirror":137,"./merge":141}],36:[function(e,t){"use strict";var n=e("./ReactDOMIDOperations"),r=e("./ReactMarkupChecksum"),i=e("./ReactMount"),a=e("./ReactPerf"),o=e("./ReactReconcileTransaction"),s=e("./getReactRootElementInContainer"),l=e("./invariant"),c=e("./setInnerHTML"),u=1,d=9,p={ReactReconcileTransaction:o,BackendIDOperations:n,unmountIDFromEnvironment:function(e){i.purgeID(e)},mountImageIntoNode:a.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(e,t,n){if(l(t&&(t.nodeType===u||t.nodeType===d)),n){if(r.canReuseMarkup(e,s(t)))return;l(t.nodeType!==d)}l(t.nodeType!==d),c(t,e)})};t.exports=p},{"./ReactDOMIDOperations":45,"./ReactMarkupChecksum":64,"./ReactMount":65,"./ReactPerf":69,"./ReactReconcileTransaction":75,"./getReactRootElementInContainer":125,"./invariant":131,"./setInnerHTML":147}],37:[function(e,t){"use strict";var n=e("./shallowEqual"),r={shouldComponentUpdate:function(e,t){return!n(this.props,e)||!n(this.state,t)}};t.exports=r},{"./shallowEqual":148}],38:[function(e,t){"use strict";function n(e){var t=e._owner||null;return t&&t.constructor&&t.constructor.displayName?" Check the render method of `"+t.constructor.displayName+"`.":""}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&w("function"==typeof t[n])}function i(e,t){var n=N.hasOwnProperty(t)?N[t]:null;U.hasOwnProperty(t)&&w(n===k.OVERRIDE_BASE),e.hasOwnProperty(t)&&w(n===k.DEFINE_MANY||n===k.DEFINE_MANY_MERGED)}function a(e){var t=e._compositeLifeCycleState;w(e.isMounted()||t===C.MOUNTING),w(t!==C.RECEIVING_STATE),w(t!==C.UNMOUNTING)}function o(e,t){w(!g.isValidFactory(t)),w(!g.isValidDescriptor(t));var n=e.prototype;for(var r in t){var a=t[r];if(t.hasOwnProperty(r))if(i(n,r),R.hasOwnProperty(r))R[r](e,a);else{var o=N.hasOwnProperty(r),s=n.hasOwnProperty(r),l=a&&a.__reactDontBind,d="function"==typeof a,p=d&&!o&&!s&&!l;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=a,n[r]=a;else if(s){var h=N[r];w(o&&(h===k.DEFINE_MANY_MERGED||h===k.DEFINE_MANY)),h===k.DEFINE_MANY_MERGED?n[r]=c(n[r],a):h===k.DEFINE_MANY&&(n[r]=u(n[r],a))}else n[r]=a}}}function s(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in e,a=r;if(i){var o=e[n],s=typeof o,l=typeof r;w("function"===s&&"function"===l),a=u(o,r)}e[n]=a}}}function l(e,t){return w(e&&t&&"object"==typeof e&&"object"==typeof t),M(t,function(t,n){w(void 0===e[n]),e[n]=t}),e}function c(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);return null==n?r:null==r?n:l(n,r)}}function u(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}var d=e("./ReactComponent"),p=e("./ReactContext"),h=e("./ReactCurrentOwner"),g=e("./ReactDescriptor"),f=(e("./ReactDescriptorValidator"),e("./ReactEmptyComponent")),m=e("./ReactErrorUtils"),_=e("./ReactOwner"),v=e("./ReactPerf"),y=e("./ReactPropTransferer"),b=e("./ReactPropTypeLocations"),E=(e("./ReactPropTypeLocationNames"),e("./ReactUpdates")),S=e("./instantiateReactComponent"),w=e("./invariant"),T=e("./keyMirror"),A=e("./merge"),x=e("./mixInto"),M=(e("./monitorCodeUse"),e("./mapObject")),D=e("./shouldUpdateReactComponent"),k=(e("./warning"),T({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null})),O=[],N={mixins:k.DEFINE_MANY,statics:k.DEFINE_MANY,propTypes:k.DEFINE_MANY,contextTypes:k.DEFINE_MANY,childContextTypes:k.DEFINE_MANY,getDefaultProps:k.DEFINE_MANY_MERGED,getInitialState:k.DEFINE_MANY_MERGED,getChildContext:k.DEFINE_MANY_MERGED,render:k.DEFINE_ONCE,componentWillMount:k.DEFINE_MANY,componentDidMount:k.DEFINE_MANY,componentWillReceiveProps:k.DEFINE_MANY,shouldComponentUpdate:k.DEFINE_ONCE,componentWillUpdate:k.DEFINE_MANY,componentDidUpdate:k.DEFINE_MANY,componentWillUnmount:k.DEFINE_MANY,updateComponent:k.OVERRIDE_BASE},R={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){r(e,t,b.childContext),e.childContextTypes=A(e.childContextTypes,t)},contextTypes:function(e,t){r(e,t,b.context),e.contextTypes=A(e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?c(e.getDefaultProps,t):t},propTypes:function(e,t){r(e,t,b.prop),e.propTypes=A(e.propTypes,t)},statics:function(e,t){s(e,t)}},C=T({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null,RECEIVING_STATE:null}),U={construct:function(){d.Mixin.construct.apply(this,arguments),_.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return d.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==C.MOUNTING},mountComponent:v.measure("ReactCompositeComponent","mountComponent",function(e,t,n){d.Mixin.mountComponent.call(this,e,t,n),this._compositeLifeCycleState=C.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._descriptor._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,w("object"==typeof this.state&&!Array.isArray(this.state)),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=S(this._renderValidatedComponent()),this._compositeLifeCycleState=null;var r=this._renderedComponent.mountComponent(e,t,n+1);return this.componentDidMount&&t.getReactMountReady().enqueue(this.componentDidMount,this),r}),unmountComponent:function(){this._compositeLifeCycleState=C.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,d.Mixin.unmountComponent.call(this)},setState:function(e,t){w("object"==typeof e||null==e),this.replaceState(A(this._pendingState||this.state,e),t)},replaceState:function(e,t){a(this),this._pendingState=e,this._compositeLifeCycleState!==C.MOUNTING&&E.enqueueUpdate(this,t)},_processContext:function(e){var t=null,n=this.constructor.contextTypes;if(n){t={};for(var r in n)t[r]=e[r]}return t},_processChildContext:function(e){var t=this.getChildContext&&this.getChildContext();if(this.constructor.displayName||"ReactCompositeComponent",t){w("object"==typeof this.constructor.childContextTypes);for(var n in t)w(n in this.constructor.childContextTypes);return A(e,t)}return e},_processProps:function(e){var t,n=this.constructor.defaultProps;if(n){t=A(e);for(var r in n)"undefined"==typeof t[r]&&(t[r]=n[r])}else t=e;return t},_checkPropTypes:function(e,t,r){var i=this.constructor.displayName;for(var a in e)if(e.hasOwnProperty(a)){var o=e[a](t,a,i,r);o instanceof Error&&n(this)}},performUpdateIfNecessary:function(e){var t=this._compositeLifeCycleState;if(t!==C.MOUNTING&&t!==C.RECEIVING_PROPS&&(null!=this._pendingDescriptor||null!=this._pendingState||this._pendingForceUpdate)){var n=this.context,r=this.props,i=this._descriptor;null!=this._pendingDescriptor&&(i=this._pendingDescriptor,n=this._processContext(i._context),r=this._processProps(i.props),this._pendingDescriptor=null,this._compositeLifeCycleState=C.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(r,n)),this._compositeLifeCycleState=C.RECEIVING_STATE;var a=this._pendingState||this.state;this._pendingState=null;try{var o=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(r,a,n);o?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,r,a,n,e)):(this._descriptor=i,this.props=r,this.state=a,this.context=n,this._owner=i._owner)}finally{this._compositeLifeCycleState=null}}},_performComponentUpdate:function(e,t,n,r,i){var a=this._descriptor,o=this.props,s=this.state,l=this.context;this.componentWillUpdate&&this.componentWillUpdate(t,n,r),this._descriptor=e,this.props=t,this.state=n,this.context=r,this._owner=e._owner,this.updateComponent(i,a),this.componentDidUpdate&&i.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,o,s,l),this)},receiveComponent:function(e,t){(e!==this._descriptor||null==e._owner)&&d.Mixin.receiveComponent.call(this,e,t)},updateComponent:v.measure("ReactCompositeComponent","updateComponent",function(e,t){d.Mixin.updateComponent.call(this,e,t);var n=this._renderedComponent,r=n._descriptor,i=this._renderValidatedComponent();if(D(r,i))n.receiveComponent(i,e);else{var a=this._rootNodeID,o=n._rootNodeID;n.unmountComponent(),this._renderedComponent=S(i);var s=this._renderedComponent.mountComponent(a,e,this._mountDepth+1);d.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(o,s)}}),forceUpdate:function(e){var t=this._compositeLifeCycleState;w(this.isMounted()||t===C.MOUNTING),w(t!==C.RECEIVING_STATE&&t!==C.UNMOUNTING),this._pendingForceUpdate=!0,E.enqueueUpdate(this,e)},_renderValidatedComponent:v.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var e,t=p.current;p.current=this._processChildContext(this._descriptor._context),h.current=this;try{e=this.render(),null===e||e===!1?(e=f.getEmptyComponent(),f.registerNullComponentID(this._rootNodeID)):f.deregisterNullComponentID(this._rootNodeID)}finally{p.current=t,h.current=null}return w(g.isValidDescriptor(e)),e}),_bindAutoBindMethods:function(){for(var e in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(e)){var t=this.__reactAutoBindMap[e];this[e]=this._bindAutoBindMethod(m.guard(t,this.constructor.displayName+"."+e))}},_bindAutoBindMethod:function(e){var t=this,n=function(){return e.apply(t,arguments)};return n}},F=function(){};x(F,d.Mixin),x(F,_.Mixin),x(F,y.Mixin),x(F,U);var L={LifeCycle:C,Base:F,createClass:function(e){var t=function(e,t){this.construct(e,t)};t.prototype=new F,t.prototype.constructor=t,O.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),w(t.prototype.render);for(var n in N)t.prototype[n]||(t.prototype[n]=null);var r=g.createFactory(t);return r},injection:{injectMixin:function(e){O.push(e)}}};t.exports=L},{"./ReactComponent":35,"./ReactContext":39,"./ReactCurrentOwner":40,"./ReactDescriptor":54,"./ReactDescriptorValidator":55,"./ReactEmptyComponent":56,"./ReactErrorUtils":57,"./ReactOwner":68,"./ReactPerf":69,"./ReactPropTransferer":70,"./ReactPropTypeLocationNames":71,"./ReactPropTypeLocations":72,"./ReactUpdates":84,"./instantiateReactComponent":130,"./invariant":131,"./keyMirror":137,"./mapObject":139,"./merge":141,"./mixInto":144,"./monitorCodeUse":145,"./shouldUpdateReactComponent":149,"./warning":153}],39:[function(e,t){"use strict";var n=e("./merge"),r={current:{},withContext:function(e,t){var i,a=r.current;r.current=n(a,e);try{i=t()}finally{r.current=a}return i}};t.exports=r},{"./merge":141}],40:[function(e,t){"use strict";var n={current:null};t.exports=n},{}],41:[function(e,t){"use strict";function n(e,t){var n=function(e){this.construct(e)};n.prototype=new i(t,e),n.prototype.constructor=n,n.displayName=t;var a=r.createFactory(n);return a}var r=e("./ReactDescriptor"),i=(e("./ReactDescriptorValidator"),e("./ReactDOMComponent")),a=e("./mergeInto"),o=e("./mapObject"),s=o({a:!1,abbr:!1,address:!1,area:!0,article:!1,aside:!1,audio:!1,b:!1,base:!0,bdi:!1,bdo:!1,big:!1,blockquote:!1,body:!1,br:!0,button:!1,canvas:!1,caption:!1,cite:!1,code:!1,col:!0,colgroup:!1,data:!1,datalist:!1,dd:!1,del:!1,details:!1,dfn:!1,div:!1,dl:!1,dt:!1,em:!1,embed:!0,fieldset:!1,figcaption:!1,figure:!1,footer:!1,form:!1,h1:!1,h2:!1,h3:!1,h4:!1,h5:!1,h6:!1,head:!1,header:!1,hr:!0,html:!1,i:!1,iframe:!1,img:!0,input:!0,ins:!1,kbd:!1,keygen:!0,label:!1,legend:!1,li:!1,link:!0,main:!1,map:!1,mark:!1,menu:!1,menuitem:!1,meta:!0,meter:!1,nav:!1,noscript:!1,object:!1,ol:!1,optgroup:!1,option:!1,output:!1,p:!1,param:!0,pre:!1,progress:!1,q:!1,rp:!1,rt:!1,ruby:!1,s:!1,samp:!1,script:!1,section:!1,select:!1,small:!1,source:!0,span:!1,strong:!1,style:!1,sub:!1,summary:!1,sup:!1,table:!1,tbody:!1,td:!1,textarea:!1,tfoot:!1,th:!1,thead:!1,time:!1,title:!1,tr:!1,track:!0,u:!1,ul:!1,"var":!1,video:!1,wbr:!0,circle:!1,defs:!1,ellipse:!1,g:!1,line:!1,linearGradient:!1,mask:!1,path:!1,pattern:!1,polygon:!1,polyline:!1,radialGradient:!1,rect:!1,stop:!1,svg:!1,text:!1,tspan:!1},n),l={injectComponentClasses:function(e){a(s,e)}};s.injection=l,t.exports=s},{"./ReactDOMComponent":43,"./ReactDescriptor":54,"./ReactDescriptorValidator":55,"./mapObject":139,"./mergeInto":143}],42:[function(e,t){"use strict";var n=e("./AutoFocusMixin"),r=e("./ReactBrowserComponentMixin"),i=e("./ReactCompositeComponent"),a=e("./ReactDOM"),o=e("./keyMirror"),s=a.button,l=o({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=i.createClass({displayName:"ReactDOMButton",mixins:[n,r],render:function(){var e={};for(var t in this.props)!this.props.hasOwnProperty(t)||this.props.disabled&&l[t]||(e[t]=this.props[t]);return s(e,this.props.children)}});t.exports=c},{"./AutoFocusMixin":1,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./keyMirror":137}],43:[function(e,t){"use strict";function n(e){e&&(f(null==e.children||null==e.dangerouslySetInnerHTML),f(null==e.style||"object"==typeof e.style))}function r(e,t,n,r){var i=d.findReactContainerForID(e);if(i){var a=i.nodeType===T?i.ownerDocument:i;b(t,a)}r.getPutListenerQueue().enqueuePutListener(e,t,n)}function i(e,t){this._tagOpen="<"+e,this._tagClose=t?"":"</"+e+">",this.tagName=e.toUpperCase()}var a=e("./CSSPropertyOperations"),o=e("./DOMProperty"),s=e("./DOMPropertyOperations"),l=e("./ReactBrowserComponentMixin"),c=e("./ReactComponent"),u=e("./ReactBrowserEventEmitter"),d=e("./ReactMount"),p=e("./ReactMultiChild"),h=e("./ReactPerf"),g=e("./escapeTextForBrowser"),f=e("./invariant"),m=e("./keyOf"),_=e("./merge"),v=e("./mixInto"),y=u.deleteListener,b=u.listenTo,E=u.registrationNameModules,S={string:!0,number:!0},w=m({style:null}),T=1;i.Mixin={mountComponent:h.measure("ReactDOMComponent","mountComponent",function(e,t,r){return c.Mixin.mountComponent.call(this,e,t,r),n(this.props),this._createOpenTagMarkupAndPutListeners(t)+this._createContentMarkup(t)+this._tagClose}),_createOpenTagMarkupAndPutListeners:function(e){var t=this.props,n=this._tagOpen;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(null!=o)if(E.hasOwnProperty(i))r(this._rootNodeID,i,o,e);else{i===w&&(o&&(o=t.style=_(t.style)),o=a.createMarkupForStyles(o));var l=s.createMarkupForProperty(i,o);l&&(n+=" "+l)}}if(e.renderToStaticMarkup)return n+">";var c=s.createMarkupForID(this._rootNodeID);return n+" "+c+">"},_createContentMarkup:function(e){var t=this.props.dangerouslySetInnerHTML;if(null!=t){if(null!=t.__html)return t.__html}else{var n=S[typeof this.props.children]?this.props.children:null,r=null!=n?null:this.props.children;if(null!=n)return g(n);if(null!=r){var i=this.mountChildren(r,e);return i.join("")}}return""},receiveComponent:function(e,t){(e!==this._descriptor||null==e._owner)&&c.Mixin.receiveComponent.call(this,e,t)},updateComponent:h.measure("ReactDOMComponent","updateComponent",function(e,t){n(this._descriptor.props),c.Mixin.updateComponent.call(this,e,t),this._updateDOMProperties(t.props,e),this._updateDOMChildren(t.props,e)}),_updateDOMProperties:function(e,t){var n,i,a,s=this.props;for(n in e)if(!s.hasOwnProperty(n)&&e.hasOwnProperty(n))if(n===w){var l=e[n];for(i in l)l.hasOwnProperty(i)&&(a=a||{},a[i]="")}else E.hasOwnProperty(n)?y(this._rootNodeID,n):(o.isStandardName[n]||o.isCustomAttribute(n))&&c.BackendIDOperations.deletePropertyByID(this._rootNodeID,n);for(n in s){var u=s[n],d=e[n];if(s.hasOwnProperty(n)&&u!==d)if(n===w)if(u&&(u=s.style=_(u)),d){for(i in d)!d.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&d[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else E.hasOwnProperty(n)?r(this._rootNodeID,n,u,t):(o.isStandardName[n]||o.isCustomAttribute(n))&&c.BackendIDOperations.updatePropertyByID(this._rootNodeID,n,u)}a&&c.BackendIDOperations.updateStylesByID(this._rootNodeID,a)},_updateDOMChildren:function(e,t){var n=this.props,r=S[typeof e.children]?e.children:null,i=S[typeof n.children]?n.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,o=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,s=null!=r?null:e.children,l=null!=i?null:n.children,u=null!=r||null!=a,d=null!=i||null!=o;null!=s&&null==l?this.updateChildren(null,t):u&&!d&&this.updateTextContent(""),null!=i?r!==i&&this.updateTextContent(""+i):null!=o?a!==o&&c.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,o):null!=l&&this.updateChildren(l,t)},unmountComponent:function(){this.unmountChildren(),u.deleteAllListeners(this._rootNodeID),c.Mixin.unmountComponent.call(this)}},v(i,c.Mixin),v(i,i.Mixin),v(i,p.Mixin),v(i,l),t.exports=i},{"./CSSPropertyOperations":5,"./DOMProperty":11,"./DOMPropertyOperations":12,"./ReactBrowserComponentMixin":30,"./ReactBrowserEventEmitter":31,"./ReactComponent":35,"./ReactMount":65,"./ReactMultiChild":66,"./ReactPerf":69,"./escapeTextForBrowser":115,"./invariant":131,"./keyOf":138,"./merge":141,"./mixInto":144}],44:[function(e,t){"use strict";var n=e("./EventConstants"),r=e("./LocalEventTrapMixin"),i=e("./ReactBrowserComponentMixin"),a=e("./ReactCompositeComponent"),o=e("./ReactDOM"),s=o.form,l=a.createClass({displayName:"ReactDOMForm",mixins:[i,r],render:function(){return this.transferPropsTo(s(null,this.props.children))},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(n.topLevelTypes.topSubmit,"submit")}});t.exports=l},{"./EventConstants":16,"./LocalEventTrapMixin":26,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41}],45:[function(e,t){"use strict";var n=e("./CSSPropertyOperations"),r=e("./DOMChildrenOperations"),i=e("./DOMPropertyOperations"),a=e("./ReactMount"),o=e("./ReactPerf"),s=e("./invariant"),l=e("./setInnerHTML"),c={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:o.measure("ReactDOMIDOperations","updatePropertyByID",function(e,t,n){var r=a.getNode(e);s(!c.hasOwnProperty(t)),null!=n?i.setValueForProperty(r,t,n):i.deleteValueForProperty(r,t)}),deletePropertyByID:o.measure("ReactDOMIDOperations","deletePropertyByID",function(e,t,n){var r=a.getNode(e);s(!c.hasOwnProperty(t)),i.deleteValueForProperty(r,t,n)}),updateStylesByID:o.measure("ReactDOMIDOperations","updateStylesByID",function(e,t){var r=a.getNode(e);n.setValueForStyles(r,t)}),updateInnerHTMLByID:o.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(e,t){var n=a.getNode(e);l(n,t)}),updateTextContentByID:o.measure("ReactDOMIDOperations","updateTextContentByID",function(e,t){var n=a.getNode(e);r.updateTextContent(n,t)}),dangerouslyReplaceNodeWithMarkupByID:o.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(e,t){var n=a.getNode(e);r.dangerouslyReplaceNodeWithMarkup(n,t)}),dangerouslyProcessChildrenUpdates:o.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=a.getNode(e[n].parentID);r.processUpdates(e,t)})};t.exports=u},{"./CSSPropertyOperations":5,"./DOMChildrenOperations":10,"./DOMPropertyOperations":12,"./ReactMount":65,"./ReactPerf":69,"./invariant":131,"./setInnerHTML":147}],46:[function(e,t){"use strict";var n=e("./EventConstants"),r=e("./LocalEventTrapMixin"),i=e("./ReactBrowserComponentMixin"),a=e("./ReactCompositeComponent"),o=e("./ReactDOM"),s=o.img,l=a.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[i,r],render:function(){return s(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(n.topLevelTypes.topError,"error")}});t.exports=l},{"./EventConstants":16,"./LocalEventTrapMixin":26,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41}],47:[function(e,t){"use strict";var n=e("./AutoFocusMixin"),r=e("./DOMPropertyOperations"),i=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),o=e("./ReactCompositeComponent"),s=e("./ReactDOM"),l=e("./ReactMount"),c=e("./invariant"),u=e("./merge"),d=s.input,p={},h=o.createClass({displayName:"ReactDOMInput",mixins:[n,i.Mixin,a],getInitialState:function(){var e=this.props.defaultValue;return{checked:this.props.defaultChecked||!1,value:null!=e?e:null}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=u(this.props);e.defaultChecked=null,e.defaultValue=null;var t=i.getValue(this);e.value=null!=t?t:this.state.value;var n=i.getChecked(this);return e.checked=null!=n?n:this.state.checked,e.onChange=this._handleChange,d(e,this.props.children)},componentDidMount:function(){var e=l.getID(this.getDOMNode());p[e]=this},componentWillUnmount:function(){var e=this.getDOMNode(),t=l.getID(e);delete p[t]},componentDidUpdate:function(){var e=this.getDOMNode();null!=this.props.checked&&r.setValueForProperty(e,"checked",this.props.checked||!1);var t=i.getValue(this);null!=t&&r.setValueForProperty(e,"value",""+t)},_handleChange:function(e){var t,n=i.getOnChange(this);n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1),this.setState({checked:e.target.checked,value:e.target.value});var r=this.props.name;if("radio"===this.props.type&&null!=r){for(var a=this.getDOMNode(),o=a;o.parentNode;)o=o.parentNode;for(var s=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),u=0,d=s.length;d>u;u++){var h=s[u];if(h!==a&&h.form===a.form){var g=l.getID(h);c(g);var f=p[g];c(f),f.setState({checked:!1})}}}return t}});t.exports=h},{"./AutoFocusMixin":1,"./DOMPropertyOperations":12,"./LinkedValueUtils":25,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./ReactMount":65,"./invariant":131,"./merge":141}],48:[function(e,t){"use strict";var n=e("./ReactBrowserComponentMixin"),r=e("./ReactCompositeComponent"),i=e("./ReactDOM"),a=(e("./warning"),i.option),o=r.createClass({displayName:"ReactDOMOption",mixins:[n],componentWillMount:function(){},render:function(){return a(this.props,this.props.children)}});t.exports=o},{"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./warning":153}],49:[function(e,t){"use strict";function n(e,t){if(null!=e[t])if(e.multiple){if(!Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(e[t]))return new Error("The `"+t+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function r(e,t){var n,r,i,a=e.props.multiple,o=null!=t?t:e.state.value,s=e.getDOMNode().options;if(a)for(n={},r=0,i=o.length;i>r;++r)n[""+o[r]]=!0;else n=""+o;for(r=0,i=s.length;i>r;r++){var l=a?n.hasOwnProperty(s[r].value):s[r].value===n;l!==s[r].selected&&(s[r].selected=l)}}var i=e("./AutoFocusMixin"),a=e("./LinkedValueUtils"),o=e("./ReactBrowserComponentMixin"),s=e("./ReactCompositeComponent"),l=e("./ReactDOM"),c=e("./merge"),u=l.select,d=s.createClass({displayName:"ReactDOMSelect",mixins:[i,a.Mixin,o],propTypes:{defaultValue:n,value:n},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillReceiveProps:function(e){!this.props.multiple&&e.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!e.multiple&&this.setState({value:this.state.value[0]})},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=c(this.props);return e.onChange=this._handleChange,e.value=null,u(e,this.props.children)},componentDidMount:function(){r(this,a.getValue(this))},componentDidUpdate:function(e){var t=a.getValue(this),n=!!e.multiple,i=!!this.props.multiple;(null!=t||n!==i)&&r(this,t)},_handleChange:function(e){var t,n=a.getOnChange(this);n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1);var r;if(this.props.multiple){r=[];for(var i=e.target.options,o=0,s=i.length;s>o;o++)i[o].selected&&r.push(i[o].value)}else r=e.target.value;return this.setState({value:r}),t}});t.exports=d},{"./AutoFocusMixin":1,"./LinkedValueUtils":25,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./merge":141}],50:[function(e,t){"use strict";function n(e,t,n,r){return e===n&&t===r}function r(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var a=i.text.length,o=a+r;return{start:a,end:o}}function i(e){var t=window.getSelection();if(0===t.rangeCount)return null;var r=t.anchorNode,i=t.anchorOffset,a=t.focusNode,o=t.focusOffset,s=t.getRangeAt(0),l=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(e),u.setEnd(s.startContainer,s.startOffset);var d=n(u.startContainer,u.startOffset,u.endContainer,u.endOffset),p=d?0:u.toString().length,h=p+c,g=document.createRange();g.setStart(r,i),g.setEnd(a,o);var f=g.collapsed;return g.detach(),{start:f?h:p,end:f?p:h}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function o(e,t){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),a="undefined"==typeof t.end?i:Math.min(t.end,r);if(!n.extend&&i>a){var o=a;a=i,i=o}var s=l(e,i),u=l(e,a);if(s&&u){var d=document.createRange();
d.setStart(s.node,s.offset),n.removeAllRanges(),i>a?(n.addRange(d),n.extend(u.node,u.offset)):(d.setEnd(u.node,u.offset),n.addRange(d)),d.detach()}}var s=e("./ExecutionEnvironment"),l=e("./getNodeForCharacterOffset"),c=e("./getTextContentAccessor"),u=s.canUseDOM&&document.selection,d={getOffsets:u?r:i,setOffsets:u?a:o};t.exports=d},{"./ExecutionEnvironment":22,"./getNodeForCharacterOffset":124,"./getTextContentAccessor":126}],51:[function(e,t){"use strict";var n=e("./AutoFocusMixin"),r=e("./DOMPropertyOperations"),i=e("./LinkedValueUtils"),a=e("./ReactBrowserComponentMixin"),o=e("./ReactCompositeComponent"),s=e("./ReactDOM"),l=e("./invariant"),c=e("./merge"),u=(e("./warning"),s.textarea),d=o.createClass({displayName:"ReactDOMTextarea",mixins:[n,i.Mixin,a],getInitialState:function(){var e=this.props.defaultValue,t=this.props.children;null!=t&&(l(null==e),Array.isArray(t)&&(l(t.length<=1),t=t[0]),e=""+t),null==e&&(e="");var n=i.getValue(this);return{initialValue:""+(null!=n?n:e)}},shouldComponentUpdate:function(){return!this._isChanging},render:function(){var e=c(this.props);return l(null==e.dangerouslySetInnerHTML),e.defaultValue=null,e.value=null,e.onChange=this._handleChange,u(e,this.state.initialValue)},componentDidUpdate:function(){var e=i.getValue(this);if(null!=e){var t=this.getDOMNode();r.setValueForProperty(t,"value",""+e)}},_handleChange:function(e){var t,n=i.getOnChange(this);return n&&(this._isChanging=!0,t=n.call(this,e),this._isChanging=!1),this.setState({value:e.target.value}),t}});t.exports=d},{"./AutoFocusMixin":1,"./DOMPropertyOperations":12,"./LinkedValueUtils":25,"./ReactBrowserComponentMixin":30,"./ReactCompositeComponent":38,"./ReactDOM":41,"./invariant":131,"./merge":141,"./warning":153}],52:[function(e,t){"use strict";function n(){this.reinitializeTransaction()}var r=e("./ReactUpdates"),i=e("./Transaction"),a=e("./emptyFunction"),o=e("./mixInto"),s={initialize:a,close:function(){d.isBatchingUpdates=!1}},l={initialize:a,close:r.flushBatchedUpdates.bind(r)},c=[l,s];o(n,i.Mixin),o(n,{getTransactionWrappers:function(){return c}});var u=new n,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n){var r=d.isBatchingUpdates;d.isBatchingUpdates=!0,r?e(t,n):u.perform(e,null,t,n)}};t.exports=d},{"./ReactUpdates":84,"./Transaction":101,"./emptyFunction":113,"./mixInto":144}],53:[function(e,t){"use strict";function n(){T.EventEmitter.injectReactEventListener(w),T.EventPluginHub.injectEventPluginOrder(s),T.EventPluginHub.injectInstanceHandle(A),T.EventPluginHub.injectMount(x),T.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:k,EnterLeaveEventPlugin:l,ChangeEventPlugin:i,CompositionEventPlugin:o,MobileSafariClickEventPlugin:d,SelectEventPlugin:M,BeforeInputEventPlugin:r}),T.DOM.injectComponentClasses({button:m,form:_,img:v,input:y,option:b,select:E,textarea:S,html:N(f.html),head:N(f.head),body:N(f.body)}),T.CompositeComponent.injectMixin(p),T.DOMProperty.injectDOMPropertyConfig(u),T.DOMProperty.injectDOMPropertyConfig(O),T.EmptyComponent.injectEmptyComponent(f.noscript),T.Updates.injectReconcileTransaction(h.ReactReconcileTransaction),T.Updates.injectBatchingStrategy(g),T.RootIndex.injectCreateReactRootIndex(c.canUseDOM?a.createReactRootIndex:D.createReactRootIndex),T.Component.injectEnvironment(h)}var r=e("./BeforeInputEventPlugin"),i=e("./ChangeEventPlugin"),a=e("./ClientReactRootIndex"),o=e("./CompositionEventPlugin"),s=e("./DefaultEventPluginOrder"),l=e("./EnterLeaveEventPlugin"),c=e("./ExecutionEnvironment"),u=e("./HTMLDOMPropertyConfig"),d=e("./MobileSafariClickEventPlugin"),p=e("./ReactBrowserComponentMixin"),h=e("./ReactComponentBrowserEnvironment"),g=e("./ReactDefaultBatchingStrategy"),f=e("./ReactDOM"),m=e("./ReactDOMButton"),_=e("./ReactDOMForm"),v=e("./ReactDOMImg"),y=e("./ReactDOMInput"),b=e("./ReactDOMOption"),E=e("./ReactDOMSelect"),S=e("./ReactDOMTextarea"),w=e("./ReactEventListener"),T=e("./ReactInjection"),A=e("./ReactInstanceHandles"),x=e("./ReactMount"),M=e("./SelectEventPlugin"),D=e("./ServerReactRootIndex"),k=e("./SimpleEventPlugin"),O=e("./SVGDOMPropertyConfig"),N=e("./createFullPageComponent");t.exports={inject:n}},{"./BeforeInputEventPlugin":2,"./ChangeEventPlugin":7,"./ClientReactRootIndex":8,"./CompositionEventPlugin":9,"./DefaultEventPluginOrder":14,"./EnterLeaveEventPlugin":15,"./ExecutionEnvironment":22,"./HTMLDOMPropertyConfig":23,"./MobileSafariClickEventPlugin":27,"./ReactBrowserComponentMixin":30,"./ReactComponentBrowserEnvironment":36,"./ReactDOM":41,"./ReactDOMButton":42,"./ReactDOMForm":44,"./ReactDOMImg":46,"./ReactDOMInput":47,"./ReactDOMOption":48,"./ReactDOMSelect":49,"./ReactDOMTextarea":51,"./ReactDefaultBatchingStrategy":52,"./ReactEventListener":59,"./ReactInjection":60,"./ReactInstanceHandles":62,"./ReactMount":65,"./SVGDOMPropertyConfig":86,"./SelectEventPlugin":87,"./ServerReactRootIndex":88,"./SimpleEventPlugin":89,"./createFullPageComponent":109}],54:[function(e,t){"use strict";function n(e,t){if("function"==typeof t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if("function"==typeof r){var i=r.bind(t);for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);e[n]=i}else e[n]=r}}var r=e("./ReactContext"),i=e("./ReactCurrentOwner"),a=e("./merge"),o=(e("./warning"),function(){});o.createFactory=function(e){var t=Object.create(o.prototype),s=function(e,n){null==e?e={}:"object"==typeof e&&(e=a(e));var o=arguments.length-1;if(1===o)e.children=n;else if(o>1){for(var s=Array(o),l=0;o>l;l++)s[l]=arguments[l+1];e.children=s}var c=Object.create(t);return c._owner=i.current,c._context=r.current,c.props=e,c};return s.prototype=t,s.type=e,t.type=e,n(s,e),t.constructor=s,s},o.cloneAndReplaceProps=function(e,t){var n=Object.create(e.constructor.prototype);return n._owner=e._owner,n._context=e._context,n.props=t,n},o.isValidFactory=function(e){return"function"==typeof e&&e.prototype instanceof o},o.isValidDescriptor=function(e){return e instanceof o},t.exports=o},{"./ReactContext":39,"./ReactCurrentOwner":40,"./merge":141,"./warning":153}],55:[function(e,t){"use strict";function n(){var e=d.current;return e&&e.constructor.displayName||void 0}function r(e,t){e._store.validated||null!=e.props.key||(e._store.validated=!0,a("react_key_warning",'Each child in an array should have a unique "key" prop.',e,t))}function i(e,t,n){m.test(e)&&a("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",t,n)}function a(e,t,r,i){var a=n(),o=i.displayName,s=a||o,l=h[e];if(!l.hasOwnProperty(s)){l[s]=!0,t+=a?" Check the render method of "+a+".":" Check the renderComponent call using <"+o+">.";var c=null;r._owner&&r._owner!==d.current&&(c=r._owner.constructor.displayName,t+=" It was passed a child from "+c+"."),t+=" See http://fb.me/react-warning-keys for more information.",p(e,{component:s,componentOwner:c}),console.warn(t)}}function o(){var e=n()||"";g.hasOwnProperty(e)||(g[e]=!0,p("react_object_map_children"))}function s(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++){var a=e[n];c.isValidDescriptor(a)&&r(a,t)}else if(c.isValidDescriptor(e))e._store.validated=!0;else if(e&&"object"==typeof e){o();for(var s in e)i(s,e[s],t)}}function l(e,t,n,r){for(var i in t)if(t.hasOwnProperty(i)){var a;try{a=t[i](n,i,e,r)}catch(o){a=o}a instanceof Error&&!(a.message in f)&&(f[a.message]=!0,p("react_failed_descriptor_type_check",{message:a.message}))}}var c=e("./ReactDescriptor"),u=e("./ReactPropTypeLocations"),d=e("./ReactCurrentOwner"),p=e("./monitorCodeUse"),h={react_key_warning:{},react_numeric_key_warning:{}},g={},f={},m=/^\d+$/,_={createFactory:function(e,t,n){var r=function(){for(var r=e.apply(this,arguments),i=1;i<arguments.length;i++)s(arguments[i],r.type);var a=r.type.displayName;return t&&l(a,t,r.props,u.prop),n&&l(a,n,r._context,u.context),r};r.prototype=e.prototype,r.type=e.type;for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);return r}};t.exports=_},{"./ReactCurrentOwner":40,"./ReactDescriptor":54,"./ReactPropTypeLocations":72,"./monitorCodeUse":145}],56:[function(e,t){"use strict";function n(){return s(o),o()}function r(e){l[e]=!0}function i(e){delete l[e]}function a(e){return l[e]}var o,s=e("./invariant"),l={},c={injectEmptyComponent:function(e){o=e}},u={deregisterNullComponentID:i,getEmptyComponent:n,injection:c,isNullComponentID:a,registerNullComponentID:r};t.exports=u},{"./invariant":131}],57:[function(e,t){"use strict";var n={guard:function(e){return e}};t.exports=n},{}],58:[function(e,t){"use strict";function n(e){r.enqueueEvents(e),r.processEventQueue()}var r=e("./EventPluginHub"),i={handleTopLevel:function(e,t,i,a){var o=r.extractEvents(e,t,i,a);n(o)}};t.exports=i},{"./EventPluginHub":18}],59:[function(e,t){"use strict";function n(e){var t=u.getID(e),n=c.getReactRootIDFromNodeID(t),r=u.findReactContainerForID(n),i=u.getFirstReactDOM(r);return i}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){for(var t=u.getFirstReactDOM(p(e.nativeEvent))||window,r=t;r;)e.ancestors.push(r),r=n(r);for(var i=0,a=e.ancestors.length;a>i;i++){t=e.ancestors[i];var o=u.getID(t)||"";f._handleTopLevel(e.topLevelType,t,o,e.nativeEvent)}}function a(e){var t=h(window);e(t)}var o=e("./EventListener"),s=e("./ExecutionEnvironment"),l=e("./PooledClass"),c=e("./ReactInstanceHandles"),u=e("./ReactMount"),d=e("./ReactUpdates"),p=e("./getEventTarget"),h=e("./getUnboundedScrollPosition"),g=e("./mixInto");g(r,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),l.addPoolingTo(r,l.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:s.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?o.listen(r,t,f.dispatchEvent.bind(null,e)):void 0},trapCapturedEvent:function(e,t,n){var r=n;return r?o.capture(r,t,f.dispatchEvent.bind(null,e)):void 0},monitorScrollValue:function(e){var t=a.bind(null,e);o.listen(window,"scroll",t),o.listen(window,"resize",t)},dispatchEvent:function(e,t){if(f._enabled){var n=r.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{r.release(n)}}}};t.exports=f},{"./EventListener":17,"./ExecutionEnvironment":22,"./PooledClass":28,"./ReactInstanceHandles":62,"./ReactMount":65,"./ReactUpdates":84,"./getEventTarget":122,"./getUnboundedScrollPosition":127,"./mixInto":144}],60:[function(e,t){"use strict";var n=e("./DOMProperty"),r=e("./EventPluginHub"),i=e("./ReactComponent"),a=e("./ReactCompositeComponent"),o=e("./ReactDOM"),s=e("./ReactEmptyComponent"),l=e("./ReactBrowserEventEmitter"),c=e("./ReactPerf"),u=e("./ReactRootIndex"),d=e("./ReactUpdates"),p={Component:i.injection,CompositeComponent:a.injection,DOMProperty:n.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,DOM:o.injection,EventEmitter:l.injection,Perf:c.injection,RootIndex:u.injection,Updates:d.injection};t.exports=p},{"./DOMProperty":11,"./EventPluginHub":18,"./ReactBrowserEventEmitter":31,"./ReactComponent":35,"./ReactCompositeComponent":38,"./ReactDOM":41,"./ReactEmptyComponent":56,"./ReactPerf":69,"./ReactRootIndex":76,"./ReactUpdates":84}],61:[function(e,t){"use strict";function n(e){return i(document.documentElement,e)}var r=e("./ReactDOMSelection"),i=e("./containsNode"),a=e("./focusNode"),o=e("./getActiveElement"),s={hasSelectionCapabilities:function(e){return e&&("INPUT"===e.nodeName&&"text"===e.type||"TEXTAREA"===e.nodeName||"true"===e.contentEditable)},getSelectionInformation:function(){var e=o();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=o(),r=e.focusedElem,i=e.selectionRange;t!==r&&n(r)&&(s.hasSelectionCapabilities(r)&&s.setSelection(r,i),a(r))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&"INPUT"===e.nodeName){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if("undefined"==typeof i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&"INPUT"===e.nodeName){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",i-n),a.select()}else r.setOffsets(e,t)}};t.exports=s},{"./ReactDOMSelection":50,"./containsNode":106,"./focusNode":117,"./getActiveElement":119}],62:[function(e,t){"use strict";function n(e){return p+e.toString(36)}function r(e,t){return e.charAt(t)===p||t===e.length}function i(e){return""===e||e.charAt(0)===p&&e.charAt(e.length-1)!==p}function a(e,t){return 0===t.indexOf(e)&&r(t,e.length)}function o(e){return e?e.substr(0,e.lastIndexOf(p)):""}function s(e,t){if(d(i(e)&&i(t)),d(a(e,t)),e===t)return e;for(var n=e.length+h,o=n;o<t.length&&!r(t,o);o++);return t.substr(0,o)}function l(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var a=0,o=0;n>=o;o++)if(r(e,o)&&r(t,o))a=o;else if(e.charAt(o)!==t.charAt(o))break;var s=e.substr(0,a);return d(i(s)),s}function c(e,t,n,r,i,l){e=e||"",t=t||"",d(e!==t);var c=a(t,e);d(c||a(e,t));for(var u=0,p=c?o:s,h=e;;h=p(h,t)){var f;if(i&&h===e||l&&h===t||(f=n(h,c,r)),f===!1||h===t)break;d(u++<g)}}var u=e("./ReactRootIndex"),d=e("./invariant"),p=".",h=p.length,g=100,f={createReactRootID:function(){return n(u.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===p&&e.length>1){var t=e.indexOf(p,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,r,i){var a=l(e,t);a!==e&&c(e,a,n,r,!1,!0),a!==t&&c(a,t,n,i,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},_getFirstCommonAncestorID:l,_getNextDescendantID:s,isAncestorIDOf:a,SEPARATOR:p};t.exports=f},{"./ReactRootIndex":76,"./invariant":131}],63:[function(e,t){"use strict";function n(e,t){this.value=e,this.requestChange=t}function r(e){var t={value:"undefined"==typeof e?i.PropTypes.any.isRequired:e.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(t)}var i=e("./React");n.PropTypes={link:r},t.exports=n},{"./React":29}],64:[function(e,t){"use strict";var n=e("./adler32"),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return e.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+t+'">')},canReuseMarkup:function(e,t){var i=t.getAttribute(r.CHECKSUM_ATTR_NAME);i=i&&parseInt(i,10);var a=n(e);return a===i}};t.exports=r},{"./adler32":104}],65:[function(e,t){"use strict";function n(e){var t=_(e);return t&&O.getID(t)}function r(e){var t=i(e);if(t)if(w.hasOwnProperty(t)){var n=w[t];n!==e&&(y(!s(n,t)),w[t]=e)}else w[t]=e;return t}function i(e){return e&&e.getAttribute&&e.getAttribute(S)||""}function a(e,t){var n=i(e);n!==t&&delete w[n],e.setAttribute(S,t),w[t]=e}function o(e){return w.hasOwnProperty(e)&&s(w[e],e)||(w[e]=O.findReactNodeByID(e)),w[e]}function s(e,t){if(e){y(i(e)===t);var n=O.findReactContainerForID(t);if(n&&m(n,e))return!0}return!1}function l(e){delete w[e]}function c(e){var t=w[e];return t&&s(t,e)?void(k=t):!1}function u(e){k=null,g.traverseAncestors(e,c);var t=k;return k=null,t}var d=e("./DOMProperty"),p=e("./ReactBrowserEventEmitter"),h=(e("./ReactCurrentOwner"),e("./ReactDescriptor")),g=e("./ReactInstanceHandles"),f=e("./ReactPerf"),m=e("./containsNode"),_=e("./getReactRootElementInContainer"),v=e("./instantiateReactComponent"),y=e("./invariant"),b=e("./shouldUpdateReactComponent"),E=(e("./warning"),g.SEPARATOR),S=d.ID_ATTRIBUTE_NAME,w={},T=1,A=9,x={},M={},D=[],k=null,O={_instancesByReactRootID:x,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){var i=t.props;return O.scrollMonitor(n,function(){e.replaceProps(i,r)}),e},_registerComponent:function(e,t){y(t&&(t.nodeType===T||t.nodeType===A)),p.ensureScrollValueMonitoring();var n=O.registerContainer(t);return x[n]=e,n},_renderNewRootComponent:f.measure("ReactMount","_renderNewRootComponent",function(e,t,n){var r=v(e),i=O._registerComponent(r,t);return r.mountComponentIntoNode(i,t,n),r}),renderComponent:function(e,t,r){y(h.isValidDescriptor(e));var i=x[n(t)];if(i){var a=i._descriptor;if(b(a,e))return O._updateRootComponent(i,e,t,r);O.unmountComponentAtNode(t)}var o=_(t),s=o&&O.isRenderedByReact(o),l=s&&!i,c=O._renderNewRootComponent(e,t,l);return r&&r.call(c),c},constructAndRenderComponent:function(e,t,n){return O.renderComponent(e(t),n)},constructAndRenderComponentByID:function(e,t,n){var r=document.getElementById(n);return y(r),O.constructAndRenderComponent(e,t,r)},registerContainer:function(e){var t=n(e);return t&&(t=g.getReactRootIDFromNodeID(t)),t||(t=g.createReactRootID()),M[t]=e,t},unmountComponentAtNode:function(e){var t=n(e),r=x[t];return r?(O.unmountComponentFromNode(r,e),delete x[t],delete M[t],!0):!1},unmountComponentFromNode:function(e,t){for(e.unmountComponent(),t.nodeType===A&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)},findReactContainerForID:function(e){var t=g.getReactRootIDFromNodeID(e),n=M[t];return n},findReactNodeByID:function(e){var t=O.findReactContainerForID(e);return O.findComponentRoot(t,e)},isRenderedByReact:function(e){if(1!==e.nodeType)return!1;var t=O.getID(e);return t?t.charAt(0)===E:!1},getFirstReactDOM:function(e){for(var t=e;t&&t.parentNode!==t;){if(O.isRenderedByReact(t))return t;t=t.parentNode}return null},findComponentRoot:function(e,t){var n=D,r=0,i=u(t)||e;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var a,o=n[r++];o;){var s=O.getID(o);s?t===s?a=o:g.isAncestorIDOf(s,t)&&(n.length=r=0,n.push(o.firstChild)):n.push(o.firstChild),o=o.nextSibling}if(a)return n.length=0,a}n.length=0,y(!1)},getReactRootID:n,getID:r,setID:a,getNode:o,purgeID:l};t.exports=O},{"./DOMProperty":11,"./ReactBrowserEventEmitter":31,"./ReactCurrentOwner":40,"./ReactDescriptor":54,"./ReactInstanceHandles":62,"./ReactPerf":69,"./containsNode":106,"./getReactRootElementInContainer":125,"./instantiateReactComponent":130,"./invariant":131,"./shouldUpdateReactComponent":149,"./warning":153}],66:[function(e,t){"use strict";function n(e,t,n){g.push({parentID:e,parentNode:null,type:c.INSERT_MARKUP,markupIndex:f.push(t)-1,textContent:null,fromIndex:null,toIndex:n})}function r(e,t,n){g.push({parentID:e,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:t,toIndex:n})}function i(e,t){g.push({parentID:e,parentNode:null,type:c.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:t,toIndex:null})}function a(e,t){g.push({parentID:e,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,textContent:t,fromIndex:null,toIndex:null})}function o(){g.length&&(l.BackendIDOperations.dangerouslyProcessChildrenUpdates(g,f),s())}function s(){g.length=0,f.length=0}var l=e("./ReactComponent"),c=e("./ReactMultiChildUpdateTypes"),u=e("./flattenChildren"),d=e("./instantiateReactComponent"),p=e("./shouldUpdateReactComponent"),h=0,g=[],f=[],m={Mixin:{mountChildren:function(e,t){var n=u(e),r=[],i=0;this._renderedChildren=n;for(var a in n){var o=n[a];if(n.hasOwnProperty(a)){var s=d(o);n[a]=s;var l=this._rootNodeID+a,c=s.mountComponent(l,t,this._mountDepth+1);s._mountIndex=i,r.push(c),i++}}return r},updateTextContent:function(e){h++;var t=!0;try{var n=this._renderedChildren;for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(e),t=!1}finally{h--,h||(t?s():o())}},updateChildren:function(e,t){h++;var n=!0;try{this._updateChildren(e,t),n=!1}finally{h--,h||(n?s():o())}},_updateChildren:function(e,t){var n=u(e),r=this._renderedChildren;if(n||r){var i,a=0,o=0;for(i in n)if(n.hasOwnProperty(i)){var s=r&&r[i],l=s&&s._descriptor,c=n[i];if(p(l,c))this.moveChild(s,o,a),a=Math.max(s._mountIndex,a),s.receiveComponent(c,t),s._mountIndex=o;else{s&&(a=Math.max(s._mountIndex,a),this._unmountChildByName(s,i));var h=d(c);this._mountChildByNameAtIndex(h,i,o,t)}o++}for(i in r)!r.hasOwnProperty(i)||n&&n[i]||this._unmountChildByName(r[i],i)}},unmountChildren:function(){var e=this._renderedChildren;for(var t in e){var n=e[t];n.unmountComponent&&n.unmountComponent()}this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&r(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){n(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){i(this._rootNodeID,e._mountIndex)},setTextContent:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,r){var i=this._rootNodeID+t,a=e.mountComponent(i,r,this._mountDepth+1);e._mountIndex=n,this.createChild(e,a),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[t]=e},_unmountChildByName:function(e,t){this.removeChild(e),e._mountIndex=null,e.unmountComponent(),delete this._renderedChildren[t]}}};t.exports=m},{"./ReactComponent":35,"./ReactMultiChildUpdateTypes":67,"./flattenChildren":116,"./instantiateReactComponent":130,"./shouldUpdateReactComponent":149}],67:[function(e,t){"use strict";var n=e("./keyMirror"),r=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});t.exports=r},{"./keyMirror":137}],68:[function(e,t){"use strict";var n=e("./emptyObject"),r=e("./invariant"),i={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r(i.isValidOwner(n)),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(i.isValidOwner(n)),n.refs[t]===e&&n.detachRef(t)},Mixin:{construct:function(){this.refs=n},attachRef:function(e,t){r(t.isOwnedBy(this));var i=this.refs===n?this.refs={}:this.refs;i[e]=t},detachRef:function(e){delete this.refs[e]}}};t.exports=i},{"./emptyObject":114,"./invariant":131}],69:[function(e,t){"use strict";function n(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:n,measure:function(e,t,n){return n},injection:{injectMeasure:function(e){r.storedMeasure=e}}};t.exports=r},{}],70:[function(e,t){"use strict";function n(e){return function(t,n,r){t[n]=t.hasOwnProperty(n)?e(t[n],r):r}}function r(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=c[n];r&&c.hasOwnProperty(n)?r(e,n,t[n]):e.hasOwnProperty(n)||(e[n]=t[n])}return e}var i=e("./emptyFunction"),a=e("./invariant"),o=e("./joinClasses"),s=e("./merge"),l=n(function(e,t){return s(t,e)}),c={children:i,className:n(o),key:i,ref:i,style:l},u={TransferStrategies:c,mergeProps:function(e,t){return r(s(e),t)},Mixin:{transferPropsTo:function(e){return a(e._owner===this),r(e.props,this.props),e}}};t.exports=u},{"./emptyFunction":113,"./invariant":131,"./joinClasses":136,"./merge":141}],71:[function(e,t){"use strict";var n={};t.exports=n},{}],72:[function(e,t){"use strict";var n=e("./keyMirror"),r=n({prop:null,context:null,childContext:null});t.exports=r},{"./keyMirror":137}],73:[function(e,t){"use strict";function n(e){function t(t,n,r,i,a){if(i=i||y,null!=n[r])return e(n,r,i,a);var o=_[a];return t?new Error("Required "+o+" `"+r+"` was not specified in "+("`"+i+"`.")):void 0}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function r(e){function t(t,n,r,i){var a=t[n],o=g(a);if(o!==e){var s=_[i],l=f(a);return new Error("Invalid "+s+" `"+n+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `"+e+"`."))}}return n(t)}function i(){return n(v.thatReturns())}function a(e){function t(t,n,r,i){var a=t[n];if(!Array.isArray(a)){var o=_[i],s=g(a);return new Error("Invalid "+o+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<a.length;l++){var c=e(a,l,r,i);if(c instanceof Error)return c}}return n(t)}function o(){function e(e,t,n,r){if(!m.isValidDescriptor(e[t])){var i=_[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a React component."))}}return n(e)}function s(e){function t(t,n,r,i){if(!(t[n]instanceof e)){var a=_[i],o=e.name||y;return new Error("Invalid "+a+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+o+"`."))}}return n(t)}function l(e){function t(t,n,r,i){for(var a=t[n],o=0;o<e.length;o++)if(a===e[o])return;var s=_[i],l=JSON.stringify(e);return new Error("Invalid "+s+" `"+n+"` of value `"+a+"` "+("supplied to `"+r+"`, expected one of "+l+"."))}return n(t)}function c(e){function t(t,n,r,i){var a=t[n],o=g(a);if("object"!==o){var s=_[i];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+o+"` supplied to `"+r+"`, expected an object."))}for(var l in a)if(a.hasOwnProperty(l)){var c=e(a,l,r,i);if(c instanceof Error)return c}}return n(t)}function u(e){function t(t,n,r,i){for(var a=0;a<e.length;a++){var o=e[a];if(null==o(t,n,r,i))return}var s=_[i];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+r+"`."))}return n(t)}function d(){function e(e,t,n,r){if(!h(e[t])){var i=_[r];return new Error("Invalid "+i+" `"+t+"` supplied to "+("`"+n+"`, expected a renderable prop."))}}return n(e)}function p(e){function t(t,n,r,i){var a=t[n],o=g(a);if("object"!==o){var s=_[i];return new Error("Invalid "+s+" `"+n+"` of type `"+o+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var u=c(a,l,r,i);if(u)return u}}}return n(t,"expected `object`")}function h(e){switch(typeof e){case"number":case"string":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(h);if(m.isValidDescriptor(e))return!0;for(var t in e)if(!h(e[t]))return!1;return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function f(e){var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}var m=e("./ReactDescriptor"),_=e("./ReactPropTypeLocationNames"),v=e("./emptyFunction"),y="<<anonymous>>",b={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:i(),arrayOf:a,component:o(),instanceOf:s,objectOf:c,oneOf:l,oneOfType:u,renderable:d(),shape:p};t.exports=b},{"./ReactDescriptor":54,"./ReactPropTypeLocationNames":71,"./emptyFunction":113}],74:[function(e,t){"use strict";function n(){this.listenersToPut=[]}var r=e("./PooledClass"),i=e("./ReactBrowserEventEmitter"),a=e("./mixInto");a(n,{enqueuePutListener:function(e,t,n){this.listenersToPut.push({rootNodeID:e,propKey:t,propValue:n})},putListeners:function(){for(var e=0;e<this.listenersToPut.length;e++){var t=this.listenersToPut[e];i.putListener(t.rootNodeID,t.propKey,t.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(n),t.exports=n},{"./PooledClass":28,"./ReactBrowserEventEmitter":31,"./mixInto":144}],75:[function(e,t){"use strict";function n(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=s.getPooled()}var r=e("./CallbackQueue"),i=e("./PooledClass"),a=e("./ReactBrowserEventEmitter"),o=e("./ReactInputSelection"),s=e("./ReactPutListenerQueue"),l=e("./Transaction"),c=e("./mixInto"),u={initialize:o.getSelectionInformation,close:o.restoreSelection},d={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},g=[h,u,d,p],f={getTransactionWrappers:function(){return g},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};c(n,l.Mixin),c(n,f),i.addPoolingTo(n),t.exports=n},{"./CallbackQueue":6,"./PooledClass":28,"./ReactBrowserEventEmitter":31,"./ReactInputSelection":61,"./ReactPutListenerQueue":74,"./Transaction":101,"./mixInto":144}],76:[function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){r.createReactRootIndex=e}},r={createReactRootIndex:null,injection:n};t.exports=r},{}],77:[function(e,t){"use strict";function n(e){c(i.isValidDescriptor(e)),c(!(2===arguments.length&&"function"==typeof arguments[1]));var t;try{var n=a.createReactRootID();return t=s.getPooled(!1),t.perform(function(){var r=l(e),i=r.mountComponent(n,t,0);return o.addChecksumToMarkup(i)},null)}finally{s.release(t)}}function r(e){c(i.isValidDescriptor(e));var t;try{var n=a.createReactRootID();return t=s.getPooled(!0),t.perform(function(){var r=l(e);return r.mountComponent(n,t,0)},null)}finally{s.release(t)}}var i=e("./ReactDescriptor"),a=e("./ReactInstanceHandles"),o=e("./ReactMarkupChecksum"),s=e("./ReactServerRenderingTransaction"),l=e("./instantiateReactComponent"),c=e("./invariant");t.exports={renderComponentToString:n,renderComponentToStaticMarkup:r}},{"./ReactDescriptor":54,"./ReactInstanceHandles":62,"./ReactMarkupChecksum":64,"./ReactServerRenderingTransaction":78,"./instantiateReactComponent":130,"./invariant":131}],78:[function(e,t){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=i.getPooled(null),this.putListenerQueue=a.getPooled()}var r=e("./PooledClass"),i=e("./CallbackQueue"),a=e("./ReactPutListenerQueue"),o=e("./Transaction"),s=e("./emptyFunction"),l=e("./mixInto"),c={initialize:function(){this.reactMountReady.reset()},close:s},u={initialize:function(){this.putListenerQueue.reset()},close:s},d=[u,c],p={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,a.release(this.putListenerQueue),this.putListenerQueue=null}};l(n,o.Mixin),l(n,p),r.addPoolingTo(n),t.exports=n},{"./CallbackQueue":6,"./PooledClass":28,"./ReactPutListenerQueue":74,"./Transaction":101,"./emptyFunction":113,"./mixInto":144}],79:[function(e,t){"use strict";function n(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var r={createStateSetter:function(e,t){return function(n,r,i,a,o,s){var l=t.call(e,n,r,i,a,o,s);l&&e.setState(l)}},createStateKeySetter:function(e,t){var r=e.__keySetters||(e.__keySetters={});return r[t]||(r[t]=n(e,t))}};r.Mixin={createStateSetter:function(e){return r.createStateSetter(this,e)},createStateKeySetter:function(e){return r.createStateKeySetter(this,e)}},t.exports=r},{}],80:[function(e,t){"use strict";var n=e("./DOMPropertyOperations"),r=e("./ReactBrowserComponentMixin"),i=e("./ReactComponent"),a=e("./ReactDescriptor"),o=e("./escapeTextForBrowser"),s=e("./mixInto"),l=function(e){this.construct(e)};s(l,i.Mixin),s(l,r),s(l,{mountComponent:function(e,t,r){i.Mixin.mountComponent.call(this,e,t,r);var a=o(this.props);return t.renderToStaticMarkup?a:"<span "+n.createMarkupForID(e)+">"+a+"</span>"},receiveComponent:function(e){var t=e.props;t!==this.props&&(this.props=t,i.BackendIDOperations.updateTextContentByID(this._rootNodeID,t))}}),t.exports=a.createFactory(l)},{"./DOMPropertyOperations":12,"./ReactBrowserComponentMixin":30,"./ReactComponent":35,"./ReactDescriptor":54,"./escapeTextForBrowser":115,"./mixInto":144}],81:[function(e,t){"use strict";var n=e("./ReactChildren"),r={getChildMapping:function(e){return n.map(e,function(e){return e})},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o,s={};for(var l in t){if(r.hasOwnProperty(l))for(o=0;o<r[l].length;o++){var c=r[l][o];s[r[l][o]]=n(c)}s[l]=n(l)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}};t.exports=r},{"./ReactChildren":34}],82:[function(e,t){"use strict";function n(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete o.animationend.animation,"TransitionEvent"in window||delete o.transitionend.transition;for(var n in o){var r=o[n];for(var i in r)if(i in t){s.push(r[i]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function i(e,t,n){e.removeEventListener(t,n,!1)}var a=e("./ExecutionEnvironment"),o={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];a.canUseDOM&&n();var l={addEndEventListener:function(e,t){return 0===s.length?void window.setTimeout(t,0):void s.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){i(e,n,t)})}};t.exports=l},{"./ExecutionEnvironment":22}],83:[function(e,t){"use strict";var n=e("./React"),r=e("./ReactTransitionChildMapping"),i=e("./cloneWithProps"),a=e("./emptyFunction"),o=e("./merge"),s=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.func,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:n.DOM.span,childFactory:a.thatReturnsArgument}
},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillReceiveProps:function(e){var t=r.getChildMapping(e.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,t)});var i;for(i in t){var a=n&&n.hasOwnProperty(i);!t[i]||a||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var o=t&&t.hasOwnProperty(i);!n[i]||o||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(e))this.performEnter(e);else{var i=o(this.state.children);delete i[e],this.setState({children:i})}},render:function(){var e={};for(var t in this.state.children){var n=this.state.children[t];n&&(e[t]=i(this.props.childFactory(n),{ref:t}))}return this.transferPropsTo(this.props.component(null,e))}});t.exports=s},{"./React":29,"./ReactTransitionChildMapping":81,"./cloneWithProps":105,"./emptyFunction":113,"./merge":141}],84:[function(e,t){"use strict";function n(){p(E.ReactReconcileTransaction&&f)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(null),this.reconcileTransaction=E.ReactReconcileTransaction.getPooled()}function i(e,t,r){n(),f.batchedUpdates(e,t,r)}function a(e,t){return e._mountDepth-t._mountDepth}function o(e){var t=e.dirtyComponentsLength;p(t===g.length),g.sort(a);for(var n=0;t>n;n++){var r=g[n];if(r.isMounted()){var i=r._pendingCallbacks;if(r._pendingCallbacks=null,r.performUpdateIfNecessary(e.reconcileTransaction),i)for(var o=0;o<i.length;o++)e.callbackQueue.enqueue(i[o],r)}}}function s(e,t){return p(!t||"function"==typeof t),n(),f.isBatchingUpdates?(g.push(e),void(t&&(e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t]))):void f.batchedUpdates(s,e,t)}var l=e("./CallbackQueue"),c=e("./PooledClass"),u=(e("./ReactCurrentOwner"),e("./ReactPerf")),d=e("./Transaction"),p=e("./invariant"),h=e("./mixInto"),g=(e("./warning"),[]),f=null,m={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),y()):g.length=0}},_={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},v=[m,_];h(r,d.Mixin),h(r,{getTransactionWrappers:function(){return v},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,E.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return d.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),c.addPoolingTo(r);var y=u.measure("ReactUpdates","flushBatchedUpdates",function(){for(;g.length;){var e=r.getPooled();e.perform(o,null,e),r.release(e)}}),b={injectReconcileTransaction:function(e){p(e),E.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){p(e),p("function"==typeof e.batchedUpdates),p("boolean"==typeof e.isBatchingUpdates),f=e}},E={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:s,flushBatchedUpdates:y,injection:b};t.exports=E},{"./CallbackQueue":6,"./PooledClass":28,"./ReactCurrentOwner":40,"./ReactPerf":69,"./Transaction":101,"./invariant":131,"./mixInto":144,"./warning":153}],85:[function(e,t){"use strict";var n=e("./LinkedStateMixin"),r=e("./React"),i=e("./ReactComponentWithPureRenderMixin"),a=e("./ReactCSSTransitionGroup"),o=e("./ReactTransitionGroup"),s=e("./cx"),l=e("./cloneWithProps"),c=e("./update");r.addons={CSSTransitionGroup:a,LinkedStateMixin:n,PureRenderMixin:i,TransitionGroup:o,classSet:s,cloneWithProps:l,update:c},t.exports=r},{"./LinkedStateMixin":24,"./React":29,"./ReactCSSTransitionGroup":32,"./ReactComponentWithPureRenderMixin":37,"./ReactTransitionGroup":83,"./cloneWithProps":105,"./cx":111,"./update":152}],86:[function(e,t){"use strict";var n=e("./DOMProperty"),r=n.injection.MUST_USE_ATTRIBUTE,i={Properties:{cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};t.exports=i},{"./DOMProperty":11}],87:[function(e,t){"use strict";function n(e){if("selectionStart"in e&&o.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(document.selection){var t=document.selection.createRange();return{parentElement:t.parentElement(),text:t.text,top:t.boundingTop,left:t.boundingLeft}}var n=window.getSelection();return{anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}function r(e){if(!_&&null!=g&&g==l()){var t=n(g);if(!m||!d(m,t)){m=t;var r=s.getPooled(h.select,f,e);return r.type="select",r.target=g,a.accumulateTwoPhaseDispatches(r),r}}}var i=e("./EventConstants"),a=e("./EventPropagators"),o=e("./ReactInputSelection"),s=e("./SyntheticEvent"),l=e("./getActiveElement"),c=e("./isTextInputElement"),u=e("./keyOf"),d=e("./shallowEqual"),p=i.topLevelTypes,h={select:{phasedRegistrationNames:{bubbled:u({onSelect:null}),captured:u({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},g=null,f=null,m=null,_=!1,v={eventTypes:h,extractEvents:function(e,t,n,i){switch(e){case p.topFocus:(c(t)||"true"===t.contentEditable)&&(g=t,f=n,m=null);break;case p.topBlur:g=null,f=null,m=null;break;case p.topMouseDown:_=!0;break;case p.topContextMenu:case p.topMouseUp:return _=!1,r(i);case p.topSelectionChange:case p.topKeyDown:case p.topKeyUp:return r(i)}}};t.exports=v},{"./EventConstants":16,"./EventPropagators":21,"./ReactInputSelection":61,"./SyntheticEvent":93,"./getActiveElement":119,"./isTextInputElement":134,"./keyOf":138,"./shallowEqual":148}],88:[function(e,t){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};t.exports=r},{}],89:[function(e,t){"use strict";var n=e("./EventConstants"),r=e("./EventPluginUtils"),i=e("./EventPropagators"),a=e("./SyntheticClipboardEvent"),o=e("./SyntheticEvent"),s=e("./SyntheticFocusEvent"),l=e("./SyntheticKeyboardEvent"),c=e("./SyntheticMouseEvent"),u=e("./SyntheticDragEvent"),d=e("./SyntheticTouchEvent"),p=e("./SyntheticUIEvent"),h=e("./SyntheticWheelEvent"),g=e("./invariant"),f=e("./keyOf"),m=n.topLevelTypes,_={blur:{phasedRegistrationNames:{bubbled:f({onBlur:!0}),captured:f({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:f({onClick:!0}),captured:f({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:f({onContextMenu:!0}),captured:f({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:f({onCopy:!0}),captured:f({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:f({onCut:!0}),captured:f({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:f({onDoubleClick:!0}),captured:f({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:f({onDrag:!0}),captured:f({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:f({onDragEnd:!0}),captured:f({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:f({onDragEnter:!0}),captured:f({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:f({onDragExit:!0}),captured:f({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:f({onDragLeave:!0}),captured:f({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:f({onDragOver:!0}),captured:f({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:f({onDragStart:!0}),captured:f({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:f({onDrop:!0}),captured:f({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:f({onFocus:!0}),captured:f({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:f({onInput:!0}),captured:f({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:f({onKeyDown:!0}),captured:f({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:f({onKeyPress:!0}),captured:f({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:f({onKeyUp:!0}),captured:f({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:f({onLoad:!0}),captured:f({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:f({onError:!0}),captured:f({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:f({onMouseDown:!0}),captured:f({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:f({onMouseMove:!0}),captured:f({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:f({onMouseOut:!0}),captured:f({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:f({onMouseOver:!0}),captured:f({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:f({onMouseUp:!0}),captured:f({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:f({onPaste:!0}),captured:f({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:f({onReset:!0}),captured:f({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:f({onScroll:!0}),captured:f({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:f({onSubmit:!0}),captured:f({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:f({onTouchCancel:!0}),captured:f({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:f({onTouchEnd:!0}),captured:f({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:f({onTouchMove:!0}),captured:f({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:f({onTouchStart:!0}),captured:f({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:f({onWheel:!0}),captured:f({onWheelCapture:!0})}}},v={topBlur:_.blur,topClick:_.click,topContextMenu:_.contextMenu,topCopy:_.copy,topCut:_.cut,topDoubleClick:_.doubleClick,topDrag:_.drag,topDragEnd:_.dragEnd,topDragEnter:_.dragEnter,topDragExit:_.dragExit,topDragLeave:_.dragLeave,topDragOver:_.dragOver,topDragStart:_.dragStart,topDrop:_.drop,topError:_.error,topFocus:_.focus,topInput:_.input,topKeyDown:_.keyDown,topKeyPress:_.keyPress,topKeyUp:_.keyUp,topLoad:_.load,topMouseDown:_.mouseDown,topMouseMove:_.mouseMove,topMouseOut:_.mouseOut,topMouseOver:_.mouseOver,topMouseUp:_.mouseUp,topPaste:_.paste,topReset:_.reset,topScroll:_.scroll,topSubmit:_.submit,topTouchCancel:_.touchCancel,topTouchEnd:_.touchEnd,topTouchMove:_.touchMove,topTouchStart:_.touchStart,topWheel:_.wheel};for(var y in v)v[y].dependencies=[y];var b={eventTypes:_,executeDispatch:function(e,t,n){var i=r.executeDispatch(e,t,n);i===!1&&(e.stopPropagation(),e.preventDefault())},extractEvents:function(e,t,n,r){var f=v[e];if(!f)return null;var _;switch(e){case m.topInput:case m.topLoad:case m.topError:case m.topReset:case m.topSubmit:_=o;break;case m.topKeyPress:if(0===r.charCode)return null;case m.topKeyDown:case m.topKeyUp:_=l;break;case m.topBlur:case m.topFocus:_=s;break;case m.topClick:if(2===r.button)return null;case m.topContextMenu:case m.topDoubleClick:case m.topMouseDown:case m.topMouseMove:case m.topMouseOut:case m.topMouseOver:case m.topMouseUp:_=c;break;case m.topDrag:case m.topDragEnd:case m.topDragEnter:case m.topDragExit:case m.topDragLeave:case m.topDragOver:case m.topDragStart:case m.topDrop:_=u;break;case m.topTouchCancel:case m.topTouchEnd:case m.topTouchMove:case m.topTouchStart:_=d;break;case m.topScroll:_=p;break;case m.topWheel:_=h;break;case m.topCopy:case m.topCut:case m.topPaste:_=a}g(_);var y=_.getPooled(f,n,r);return i.accumulateTwoPhaseDispatches(y),y}};t.exports=b},{"./EventConstants":16,"./EventPluginUtils":20,"./EventPropagators":21,"./SyntheticClipboardEvent":90,"./SyntheticDragEvent":92,"./SyntheticEvent":93,"./SyntheticFocusEvent":94,"./SyntheticKeyboardEvent":96,"./SyntheticMouseEvent":97,"./SyntheticTouchEvent":98,"./SyntheticUIEvent":99,"./SyntheticWheelEvent":100,"./invariant":131,"./keyOf":138}],90:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(n,i),t.exports=n},{"./SyntheticEvent":93}],91:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i={data:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticEvent":93}],92:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticMouseEvent"),i={dataTransfer:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticMouseEvent":97}],93:[function(e,t){"use strict";function n(e,t,n){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];this[a]=o?o(n):n[a]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=s?i.thatReturnsTrue:i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse}var r=e("./PooledClass"),i=e("./emptyFunction"),a=e("./getEventTarget"),o=e("./merge"),s=e("./mergeInto"),l={type:null,target:a,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};s(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=i.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=i.thatReturnsTrue},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=l,n.augmentClass=function(e,t){var n=this,i=Object.create(n.prototype);s(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=o(n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.threeArgumentPooler)},r.addPoolingTo(n,r.threeArgumentPooler),t.exports=n},{"./PooledClass":28,"./emptyFunction":113,"./getEventTarget":122,"./merge":141,"./mergeInto":143}],94:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i={relatedTarget:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticUIEvent":99}],95:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i={data:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticEvent":93}],96:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i=e("./getEventKey"),a=e("./getEventModifierState"),o={key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){return"keypress"===e.type?"charCode"in e?e.charCode:e.keyCode:0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return e.keyCode||e.charCode}};r.augmentClass(n,o),t.exports=n},{"./SyntheticUIEvent":99,"./getEventKey":120,"./getEventModifierState":121}],97:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i=e("./ViewportMetrics"),a=e("./getEventModifierState"),o={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};r.augmentClass(n,o),t.exports=n},{"./SyntheticUIEvent":99,"./ViewportMetrics":102,"./getEventModifierState":121}],98:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticUIEvent"),i=e("./getEventModifierState"),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};r.augmentClass(n,a),t.exports=n},{"./SyntheticUIEvent":99,"./getEventModifierState":121}],99:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticEvent"),i=e("./getEventTarget"),a={view:function(e){if(e.view)return e.view;var t=i(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(n,a),t.exports=n},{"./SyntheticEvent":93,"./getEventTarget":122}],100:[function(e,t){"use strict";function n(e,t,n){r.call(this,e,t,n)}var r=e("./SyntheticMouseEvent"),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(n,i),t.exports=n},{"./SyntheticMouseEvent":97}],101:[function(e,t){"use strict";var n=e("./invariant"),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,r,i,a,o,s,l){n(!this.isInTransaction());var c,u;try{this._isInTransaction=!0,c=!0,this.initializeAll(0),u=e.call(t,r,i,a,o,s,l),c=!1}finally{try{if(c)try{this.closeAll(0)}catch(d){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return u},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(a){}}}},closeAll:function(e){n(this.isInTransaction());for(var t=this.transactionWrappers,r=e;r<t.length;r++){var a,o=t[r],s=this.wrapperInitData[r];try{a=!0,s!==i.OBSERVED_ERROR&&o.close&&o.close.call(this,s),a=!1}finally{if(a)try{this.closeAll(r+1)}catch(l){}}}this.wrapperInitData.length=0}},i={Mixin:r,OBSERVED_ERROR:{}};t.exports=i},{"./invariant":131}],102:[function(e,t){"use strict";var n=e("./getUnboundedScrollPosition"),r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var e=n(window);r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{"./getUnboundedScrollPosition":127}],103:[function(e,t){"use strict";function n(e,t){if(r(null!=t),null==e)return t;var n=Array.isArray(e),i=Array.isArray(t);return n?e.concat(t):i?[e].concat(t):[e,t]}var r=e("./invariant");t.exports=n},{"./invariant":131}],104:[function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0;i<e.length;i++)t=(t+e.charCodeAt(i))%r,n=(n+t)%r;return t|n<<16}var r=65521;t.exports=n},{}],105:[function(e,t){"use strict";function n(e,t){var n=r.mergeProps(t,e.props);return!n.hasOwnProperty(a)&&e.props.hasOwnProperty(a)&&(n.children=e.props.children),e.constructor(n)}var r=e("./ReactPropTransferer"),i=e("./keyOf"),a=(e("./warning"),i({children:null}));t.exports=n},{"./ReactPropTransferer":70,"./keyOf":138,"./warning":153}],106:[function(e,t){function n(e,t){return e&&t?e===t?!0:r(e)?!1:r(t)?n(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var r=e("./isTextNode");t.exports=n},{"./isTextNode":135}],107:[function(e,t){function n(e,t,n,r,i,a){e=e||{};for(var o,s=[t,n,r,i,a],l=0;s[l];){o=s[l++];for(var c in o)e[c]=o[c];o.hasOwnProperty&&o.hasOwnProperty("toString")&&"undefined"!=typeof o.toString&&e.toString!==o.toString&&(e.toString=o.toString)}return e}t.exports=n},{}],108:[function(e,t){function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return n(e)?Array.isArray(e)?e.slice():i(e):[e]}var i=e("./toArray");t.exports=r},{"./toArray":150}],109:[function(e,t){"use strict";function n(e){var t=r.createClass({displayName:"ReactFullPageComponent"+(e.type.displayName||""),componentWillUnmount:function(){i(!1)},render:function(){return this.transferPropsTo(e(null,this.props.children))}});return t}var r=e("./ReactCompositeComponent"),i=e("./invariant");t.exports=n},{"./ReactCompositeComponent":38,"./invariant":131}],110:[function(e,t){function n(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var r=l;s(!!l);var i=n(e),c=i&&o(i);if(c){r.innerHTML=c[1]+e+c[2];for(var u=c[0];u--;)r=r.lastChild}else r.innerHTML=e;var d=r.getElementsByTagName("script");d.length&&(s(t),a(d).forEach(t));for(var p=a(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return p}var i=e("./ExecutionEnvironment"),a=e("./createArrayFrom"),o=e("./getMarkupWrap"),s=e("./invariant"),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=r},{"./ExecutionEnvironment":22,"./createArrayFrom":108,"./getMarkupWrap":123,"./invariant":131}],111:[function(e,t){function n(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).join(" "):Array.prototype.join.call(arguments," ")}t.exports=n},{}],112:[function(e,t){"use strict";function n(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var r=isNaN(t);return r||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var r=e("./CSSProperty"),i=r.isUnitlessNumber;t.exports=n},{"./CSSProperty":4}],113:[function(e,t){function n(e){return function(){return e}}function r(){}var i=e("./copyProperties");i(r,{thatReturns:n,thatReturnsFalse:n(!1),thatReturnsTrue:n(!0),thatReturnsNull:n(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),t.exports=r},{"./copyProperties":107}],114:[function(e,t){"use strict";var n={};t.exports=n},{}],115:[function(e,t){"use strict";function n(e){return i[e]}function r(e){return(""+e).replace(a,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},a=/[&><"']/g;t.exports=r},{}],116:[function(e,t){"use strict";function n(e,t,n){var r=e,i=!r.hasOwnProperty(n);i&&null!=t&&(r[n]=t)}function r(e){if(null==e)return e;var t={};return i(e,n,t),t}var i=e("./traverseAllChildren");e("./warning"),t.exports=r},{"./traverseAllChildren":151,"./warning":153}],117:[function(e,t){"use strict";function n(e){e.disabled||e.focus()}t.exports=n},{}],118:[function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=n},{}],119:[function(e,t){function n(){try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=n},{}],120:[function(e,t){"use strict";function n(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n="charCode"in e?e.charCode:e.keyCode;return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":void r(!1)}var r=e("./invariant"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=n},{"./invariant":131}],121:[function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return r?!!n[r]:!1}function r(){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=r},{}],122:[function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}t.exports=n},{}],123:[function(e,t){function n(e){return i(!!a),d.hasOwnProperty(e)||(e="*"),o.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",o[e]=!a.firstChild),o[e]?d[e]:null}var r=e("./ExecutionEnvironment"),i=e("./invariant"),a=r.canUseDOM?document.createElement("div"):null,o={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],u=[1,"<svg>","</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c,circle:u,defs:u,ellipse:u,g:u,line:u,linearGradient:u,path:u,polygon:u,polyline:u,radialGradient:u,rect:u,stop:u,text:u};t.exports=n},{"./ExecutionEnvironment":22,"./invariant":131}],124:[function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),a=0,o=0;i;){if(3==i.nodeType){if(o=a+i.textContent.length,t>=a&&o>=t)return{node:i,offset:t-a};a=o}i=n(r(i))}}t.exports=i},{}],125:[function(e,t){"use strict";function n(e){return e?e.nodeType===r?e.documentElement:e.firstChild:null}var r=9;t.exports=n},{}],126:[function(e,t){"use strict";function n(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=e("./ExecutionEnvironment"),i=null;t.exports=n},{"./ExecutionEnvironment":22}],127:[function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],128:[function(e,t){function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;t.exports=n},{}],129:[function(e,t){"use strict";function n(e){return r(e).replace(i,"-ms-")}var r=e("./hyphenate"),i=/^ms-/;t.exports=n},{"./hyphenate":128}],130:[function(e,t){"use strict";function n(e){return e&&"function"==typeof e.type&&"function"==typeof e.type.prototype.mountComponent&&"function"==typeof e.type.prototype.receiveComponent}function r(e){return i(n(e)),new e.type(e)}var i=e("./invariant");t.exports=r},{"./invariant":131}],131:[function(e,t){"use strict";var n=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[u++]}))}throw l.framesToPop=1,l}};t.exports=n},{}],132:[function(e,t){"use strict";function n(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,a=n in document;if(!a){var o=document.createElement("div");o.setAttribute(n,"return;"),a="function"==typeof o[n]}return!a&&r&&"wheel"===e&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}var r,i=e("./ExecutionEnvironment");i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=n},{"./ExecutionEnvironment":22}],133:[function(e,t){function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=n},{}],134:[function(e,t){"use strict";function n(e){return e&&("INPUT"===e.nodeName&&r[e.type]||"TEXTAREA"===e.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=n},{}],135:[function(e,t){function n(e){return r(e)&&3==e.nodeType}var r=e("./isNode");t.exports=n},{"./isNode":133}],136:[function(e,t){"use strict";function n(e){e||(e="");var t,n=arguments.length;if(n>1)for(var r=1;n>r;r++)t=arguments[r],t&&(e+=" "+t);return e}t.exports=n},{}],137:[function(e,t){"use strict";var n=e("./invariant"),r=function(e){var t,r={};n(e instanceof Object&&!Array.isArray(e));for(t in e)e.hasOwnProperty(t)&&(r[t]=t);return r};t.exports=r},{"./invariant":131}],138:[function(e,t){var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=n},{}],139:[function(e,t){"use strict";function n(e,t,n){if(!e)return null;var r=0,i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=t.call(n,e[a],a,r++));return i}t.exports=n},{}],140:[function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)?t[n]:t[n]=e.call(this,n)}}t.exports=n},{}],141:[function(e,t){"use strict";var n=e("./mergeInto"),r=function(e,t){var r={};return n(r,e),n(r,t),r};t.exports=r},{"./mergeInto":143}],142:[function(e,t){"use strict";var n=e("./invariant"),r=e("./keyMirror"),i=36,a=function(e){return"object"!=typeof e||null===e},o={MAX_MERGE_DEPTH:i,isTerminal:a,normalizeMergeArg:function(e){return void 0===e||null===e?{}:e},checkMergeArrayArgs:function(e,t){n(Array.isArray(e)&&Array.isArray(t))},checkMergeObjectArgs:function(e,t){o.checkMergeObjectArg(e),o.checkMergeObjectArg(t)},checkMergeObjectArg:function(e){n(!a(e)&&!Array.isArray(e))},checkMergeIntoObjectArg:function(e){n(!(a(e)&&"function"!=typeof e||Array.isArray(e)))},checkMergeLevel:function(e){n(i>e)},checkArrayStrategy:function(e){n(void 0===e||e in o.ArrayStrategies)},ArrayStrategies:r({Clobber:!0,IndexByIndex:!0})};t.exports=o},{"./invariant":131,"./keyMirror":137}],143:[function(e,t){"use strict";function n(e,t){if(a(e),null!=t){i(t);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}var r=e("./mergeHelpers"),i=r.checkMergeObjectArg,a=r.checkMergeIntoObjectArg;t.exports=n},{"./mergeHelpers":142}],144:[function(e,t){"use strict";var n=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e.prototype[n]=t[n])};t.exports=n},{}],145:[function(e,t){"use strict";function n(e){r(e&&!/[^a-z0-9_]/.test(e))}var r=e("./invariant");t.exports=n},{"./invariant":131}],146:[function(e,t){"use strict";function n(e){return i(r.isValidDescriptor(e)),e}var r=e("./ReactDescriptor"),i=e("./invariant");t.exports=n},{"./ReactDescriptor":54,"./invariant":131}],147:[function(e,t){"use strict";var n=e("./ExecutionEnvironment"),r=function(e,t){e.innerHTML=t};if(n.canUseDOM){var i=document.createElement("div");i.innerHTML=" ",""===i.innerHTML&&(r=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),t.match(/^[ \r\n\t\f]/)||"<"===t[0]&&(-1!==t.indexOf("<noscript")||-1!==t.indexOf("<script")||-1!==t.indexOf("<style")||-1!==t.indexOf("<meta")||-1!==t.indexOf("<link"))){e.innerHTML=""+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)
}else e.innerHTML=t})}t.exports=r},{"./ExecutionEnvironment":22}],148:[function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}t.exports=n},{}],149:[function(e,t){"use strict";function n(e,t){return e&&t&&e.type===t.type&&(e.props&&e.props.key)===(t.props&&t.props.key)&&e._owner===t._owner?!0:!1}t.exports=n},{}],150:[function(e,t){function n(e){var t=e.length;if(r(!Array.isArray(e)&&("object"==typeof e||"function"==typeof e)),r("number"==typeof t),r(0===t||t-1 in e),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var i=Array(t),a=0;t>a;a++)i[a]=e[a];return i}var r=e("./invariant");t.exports=n},{"./invariant":131}],151:[function(e,t){"use strict";function n(e){return p[e]}function r(e,t){return e&&e.props&&null!=e.props.key?a(e.props.key):t.toString(36)}function i(e){return(""+e).replace(h,n)}function a(e){return"$"+i(e)}function o(e,t,n){return null==e?0:g(e,"",0,t,n)}var s=e("./ReactInstanceHandles"),l=e("./ReactTextComponent"),c=e("./invariant"),u=s.SEPARATOR,d=":",p={"=":"=0",".":"=1",":":"=2"},h=/[=.:]/g,g=function(e,t,n,i,o){var s=0;if(Array.isArray(e))for(var p=0;p<e.length;p++){var h=e[p],f=t+(t?d:u)+r(h,p),m=n+s;s+=g(h,f,m,i,o)}else{var _=typeof e,v=""===t,y=v?u+r(e,0):t;if(null==e||"boolean"===_)i(o,null,y,n),s=1;else if(e.type&&e.type.prototype&&e.type.prototype.mountComponentIntoNode)i(o,e,y,n),s=1;else if("object"===_){c(!e||1!==e.nodeType);for(var b in e)e.hasOwnProperty(b)&&(s+=g(e[b],t+(t?d:u)+a(b)+d+r(e[b],0),n+s,i,o))}else if("string"===_){var E=l(e);i(o,E,y,n),s+=1}else if("number"===_){var S=l(""+e);i(o,S,y,n),s+=1}}return s};t.exports=o},{"./ReactInstanceHandles":62,"./ReactTextComponent":80,"./invariant":131}],152:[function(e,t){"use strict";function n(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function r(e,t,n){s(Array.isArray(e));var r=t[n];s(Array.isArray(r))}function i(e,t){if(s("object"==typeof t),t.hasOwnProperty(d))return s(1===Object.keys(t).length),t[d];var o=n(e);if(t.hasOwnProperty(p)){var g=t[p];s(g&&"object"==typeof g),s(o&&"object"==typeof o),a(o,t[p])}t.hasOwnProperty(l)&&(r(e,t,l),t[l].forEach(function(e){o.push(e)})),t.hasOwnProperty(c)&&(r(e,t,c),t[c].forEach(function(e){o.unshift(e)})),t.hasOwnProperty(u)&&(s(Array.isArray(e)),s(Array.isArray(t[u])),t[u].forEach(function(e){s(Array.isArray(e)),o.splice.apply(o,e)})),t.hasOwnProperty(h)&&(s("function"==typeof t[h]),o=t[h](o));for(var m in t)f.hasOwnProperty(m)&&f[m]||(o[m]=i(e[m],t[m]));return o}var a=e("./copyProperties"),o=e("./keyOf"),s=e("./invariant"),l=o({$push:null}),c=o({$unshift:null}),u=o({$splice:null}),d=o({$set:null}),p=o({$merge:null}),h=o({$apply:null}),g=[l,c,u,d,p,h],f={};g.forEach(function(e){f[e]=!0}),t.exports=i},{"./copyProperties":107,"./invariant":131,"./keyOf":138}],153:[function(e,t){"use strict";var n=e("./emptyFunction"),r=n;t.exports=r},{"./emptyFunction":113}]},{},[85])(85)}),function(){var e=!0,t=t||{};t.global=this,t.isDef=function(e){return void 0!==e},t.exportPath_=function(e,n,r){e=e.split("."),r=r||t.global,e[0]in r||!r.execScript||r.execScript("var "+e[0]);for(var i;e.length&&(i=e.shift());)!e.length&&t.isDef(n)?r[i]=n:r=r[i]?r[i]:r[i]={}},t.define=function(n,r){var i=r;e||(t.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(t.global.CLOSURE_UNCOMPILED_DEFINES,n)?i=t.global.CLOSURE_UNCOMPILED_DEFINES[n]:t.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(t.global.CLOSURE_DEFINES,n)&&(i=t.global.CLOSURE_DEFINES[n])),t.exportPath_(n,i)},t.DEBUG=!1,t.LOCALE="en",t.TRUSTED_SITE=!0,t.STRICT_MODE_COMPATIBLE=!1,t.provide=function(n){if(!e){if(t.isProvided_(n))throw Error('Namespace "'+n+'" already declared.');delete t.implicitNamespaces_[n];for(var r=n;(r=r.substring(0,r.lastIndexOf(".")))&&!t.getObjectByName(r);)t.implicitNamespaces_[r]=!0}t.exportPath_(n)},t.setTestOnly=function(n){if(e&&!t.DEBUG)throw n=n||"",Error("Importing test-only code into non-debug environment"+(n?": "+n:"."))},t.forwardDeclare=function(){},e||(t.isProvided_=function(e){return!t.implicitNamespaces_[e]&&t.isDefAndNotNull(t.getObjectByName(e))},t.implicitNamespaces_={}),t.getObjectByName=function(e,n){for(var r,i=e.split("."),a=n||t.global;r=i.shift();){if(!t.isDefAndNotNull(a[r]))return null;a=a[r]}return a},t.globalize=function(e,n){var r,i=n||t.global;for(r in e)i[r]=e[r]},t.addDependency=function(e,n,r){if(t.DEPENDENCIES_ENABLED){var i;e=e.replace(/\\/g,"/");for(var a=t.dependencies_,o=0;i=n[o];o++)a.nameToPath[i]=e,e in a.pathToNames||(a.pathToNames[e]={}),a.pathToNames[e][i]=!0;for(i=0;n=r[i];i++)e in a.requires||(a.requires[e]={}),a.requires[e][n]=!0}},t.ENABLE_DEBUG_LOADER=!0,t.require=function(n){if(!e&&!t.isProvided_(n)){if(t.ENABLE_DEBUG_LOADER){var r=t.getPathFromDeps_(n);if(r)return t.included_[r]=!0,t.writeScripts_(),void 0}throw n="goog.require could not find: "+n,t.global.console&&t.global.console.error(n),Error(n)}},t.basePath="",t.nullFunction=function(){},t.identityFunction=function(e){return e},t.abstractMethod=function(){throw Error("unimplemented abstract method")},t.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(t.DEBUG&&(t.instantiatedSingletons_[t.instantiatedSingletons_.length]=e),e.instance_=new e)}},t.instantiatedSingletons_=[],t.DEPENDENCIES_ENABLED=!e&&t.ENABLE_DEBUG_LOADER,t.DEPENDENCIES_ENABLED&&(t.included_={},t.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},t.inHtmlDocument_=function(){var e=t.global.document;return"undefined"!=typeof e&&"write"in e},t.findBasePath_=function(){if(t.global.CLOSURE_BASE_PATH)t.basePath=t.global.CLOSURE_BASE_PATH;else if(t.inHtmlDocument_())for(var e=t.global.document.getElementsByTagName("script"),n=e.length-1;n>=0;--n){var r=e[n].src,i=r.lastIndexOf("?"),i=-1==i?r.length:i;if("base.js"==r.substr(i-7,7)){t.basePath=r.substr(0,i-7);break}}},t.importScript_=function(e){var n=t.global.CLOSURE_IMPORT_SCRIPT||t.writeScriptTag_;!t.dependencies_.written[e]&&n(e)&&(t.dependencies_.written[e]=!0)},t.writeScriptTag_=function(e){if(t.inHtmlDocument_()){var n=t.global.document;if("complete"==n.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}return n.write('<script type="text/javascript" src="'+e+'"></script>'),!0}return!1},t.writeScripts_=function(){function e(n){if(!(n in a.written)){if(!(n in a.visited)&&(a.visited[n]=!0,n in a.requires))for(var o in a.requires[n])if(!t.isProvided_(o)){if(!(o in a.nameToPath))throw Error("Undefined nameToPath for "+o);e(a.nameToPath[o])}n in i||(i[n]=!0,r.push(n))}}var n,r=[],i={},a=t.dependencies_;for(n in t.included_)a.written[n]||e(n);for(n=0;n<r.length;n++){if(!r[n])throw Error("Undefined script input");t.importScript_(t.basePath+r[n])}},t.getPathFromDeps_=function(e){return e in t.dependencies_.nameToPath?t.dependencies_.nameToPath[e]:null},t.findBasePath_(),t.global.CLOSURE_NO_DEPS||t.importScript_(t.basePath+"deps.js")),t.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},t.isNull=function(e){return null===e},t.isDefAndNotNull=function(e){return null!=e},t.isArray=function(e){return"array"==t.typeOf(e)},t.isArrayLike=function(e){var n=t.typeOf(e);return"array"==n||"object"==n&&"number"==typeof e.length},t.isDateLike=function(e){return t.isObject(e)&&"function"==typeof e.getFullYear},t.isString=function(e){return"string"==typeof e},t.isBoolean=function(e){return"boolean"==typeof e},t.isNumber=function(e){return"number"==typeof e},t.isFunction=function(e){return"function"==t.typeOf(e)},t.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},t.getUid=function(e){return e[t.UID_PROPERTY_]||(e[t.UID_PROPERTY_]=++t.uidCounter_)},t.hasUid=function(e){return!!e[t.UID_PROPERTY_]},t.removeUid=function(e){"removeAttribute"in e&&e.removeAttribute(t.UID_PROPERTY_);try{delete e[t.UID_PROPERTY_]}catch(n){}},t.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),t.uidCounter_=0,t.getHashCode=t.getUid,t.removeHashCode=t.removeUid,t.cloneObject=function(e){var n=t.typeOf(e);if("object"==n||"array"==n){if(e.clone)return e.clone();var r,n="array"==n?[]:{};for(r in e)n[r]=t.cloneObject(e[r]);return n}return e},t.bindNative_=function(e){return e.call.apply(e.bind,arguments)},t.bindJs_=function(e,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),e.apply(t,r)}}return function(){return e.apply(t,arguments)}},t.bind=function(){return t.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t.bindNative_:t.bindJs_,t.bind.apply(null,arguments)},t.partial=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}},t.mixin=function(e,t){for(var n in t)e[n]=t[n]},t.now=t.TRUSTED_SITE&&Date.now||function(){return+new Date},t.globalEval=function(e){if(t.global.execScript)t.global.execScript(e,"JavaScript");else{if(!t.global.eval)throw Error("goog.globalEval not available");if(null==t.evalWorksForGlobals_&&(t.global.eval("var _et_ = 1;"),"undefined"!=typeof t.global._et_?(delete t.global._et_,t.evalWorksForGlobals_=!0):t.evalWorksForGlobals_=!1),t.evalWorksForGlobals_)t.global.eval(e);else{var n=t.global.document,r=n.createElement("script");r.type="text/javascript",r.defer=!1,r.appendChild(n.createTextNode(e)),n.body.appendChild(r),n.body.removeChild(r)}}},t.evalWorksForGlobals_=null,t.getCssName=function(e,n){var r=function(e){return t.cssNameMapping_[e]||e},i=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(r(e[n]));return t.join("-")},i=t.cssNameMapping_?"BY_WHOLE"==t.cssNameMappingStyle_?r:i:function(e){return e};return n?e+"-"+i(n):i(e)},t.setCssNameMapping=function(e,n){t.cssNameMapping_=e,t.cssNameMappingStyle_=n},!e&&t.global.CLOSURE_CSS_NAME_MAPPING&&(t.cssNameMapping_=t.global.CLOSURE_CSS_NAME_MAPPING),t.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,n){return n in t?t[n]:e})),e},t.getMsgWithFallback=function(e){return e},t.exportSymbol=function(e,n,r){t.exportPath_(e,n,r)},t.exportProperty=function(e,t,n){e[t]=n},t.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n){var r=Array.prototype.slice.call(arguments,2);return t.prototype[n].apply(e,r)}},t.base=function(e,n){var r=arguments.callee.caller;if(t.STRICT_MODE_COMPATIBLE||t.DEBUG&&!r)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(r.superClass_)return r.superClass_.constructor.apply(e,Array.prototype.slice.call(arguments,1));for(var i=Array.prototype.slice.call(arguments,2),a=!1,o=e.constructor;o;o=o.superClass_&&o.superClass_.constructor)if(o.prototype[n]===r)a=!0;else if(a)return o.prototype[n].apply(e,i);if(e[n]===r)return e.constructor.prototype[n].apply(e,i);throw Error("goog.base called from a method of one name to a method of a different name")},t.scope=function(e){e.call(t.global)},e||(t.global.COMPILED=e),t.defineClass=function(e,n){var r=n.constructor,i=n.statics;return r&&r!=Object.prototype.constructor||(r=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),r=t.defineClass.createSealingConstructor_(r,e),e&&t.inherits(r,e),delete n.constructor,delete n.statics,t.defineClass.applyProperties_(r.prototype,n),null!=i&&(i instanceof Function?i(r):t.defineClass.applyProperties_(r,i)),r},t.defineClass.SEAL_CLASS_INSTANCES=t.DEBUG,t.defineClass.createSealingConstructor_=function(e,n){if(t.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(n&&n.prototype&&n.prototype[t.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return e;var r=function(){var t=e.apply(this,arguments)||this;return this.constructor===r&&Object.seal(t),t};return r}return e},t.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),t.defineClass.applyProperties_=function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);for(var i=0;i<t.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;i++)r=t.defineClass.OBJECT_PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},t.tagUnsealableClass=function(n){!e&&t.defineClass.SEAL_CLASS_INSTANCES&&(n.prototype[t.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},t.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";var n={util:{}};n.util.redirect=function(e){window.location=e},n.util.ellipsify=function(e,t){return e.length>t?e.substring(0,t)+"...":e},n.util.stringSort=function(e,t){return e.toLowerCase()>t.toLowerCase()?1:e.toLowerCase()<t.toLowerCase()?-1:0},n.util.propertySorter=function(e){return function(t,r){return n.util.stringSort(t[e],r[e])}},t.exportSymbol("tc.util",n.util),n.CreateProject={},n.CreateProject.ErrorResponse={},function(){function e(e){this.jqXHR=e}e.prototype.serverError=function(){return!!this.jqXHR.status.toString().match(/^5/)},e.prototype.clientError=function(){return!!this.jqXHR.status.toString().match(/^4/)},e.prototype.permissionError=function(){return"Authorization failure."===this.errorText()},e.prototype.projectLimitError=function(){return this.generalProblem().match(/account has reached its limit of/)},e.prototype.responseJSON=function(){try{return jQuery.parseJSON(this.jqXHR.responseText||"{}")}catch(e){return{}}},e.prototype.generalProblem=function(){return this.responseJSON().general_problem||""},e.prototype.errorText=function(){return this.responseJSON().error||""},e.prototype.errors=function(){return this.generalProblem().split("., ").map(function(e){return"."===e[e.length-1]?e:e+"."}).filter(function(e){return"."!==e})},n.CreateProject.ErrorResponse=e}.call(this),n.AdminLink=React.createClass({displayName:"AdminLink",render:function(){return React.DOM.a({href:"/admin/find_projects",className:"tc_header_item_name"},"Admin")}}),t.exportSymbol("tc.AdminLink",n.AdminLink),n.Callout=React.createClass({displayName:"Callout",render:function(){return React.DOM.span({className:"tc_callout",title:this.props.text},n.util.ellipsify(this.props.text,this.props.maxLength))}}),t.exportSymbol("tc.Callout",n.Callout),n.DashboardLink=React.createClass({displayName:"DashboardLink",render:function(){return React.DOM.a({href:"/dashboard",className:"tc_header_item_name"},"dashboard")}}),t.exportSymbol("tc.DashboardLink",n.DashboardLink),n.Dropdown=React.createClass({displayName:"Dropdown",getInitialState:function(){return{isOpen:!1}},render:function(){return React.DOM.div({className:this.props.className},React.DOM.div({className:"tc_dropdown"},React.DOM.a({className:"tc_dropdown_name",onClick:this.toggle},this.props.name),this.state.isOpen?n.DropdownMenu({onClose:this.toggle},this.props.children):null))},menuItem:function(e,t){return React.isValidComponent(e)?React.addons.cloneWithProps(e,{key:t,onClick:chainHandlers(this.toggle,e.props.onClick)}):void 0},toggle:function(){this.setState({isOpen:!this.state.isOpen})}}),t.exportSymbol("tc.Dropdown",n.Dropdown),n.Empty=React.createClass({displayName:"Empty",render:function(){return React.DOM.noscript(null)}}),t.exportSymbol("tc.Empty",n.Empty),n.HeaderLogo=React.createClass({displayName:"HeaderLogo",render:function(){return React.DOM.a({className:"tc_header_item tc_header_logo",href:"/dashboard"})}}),t.exportSymbol("tc.HeaderLogo",n.HeaderLogo),n.PageHeader=React.createClass({displayName:"PageHeader",render:function(){return React.DOM.header({className:"tc_page_header"},React.DOM.ul(null,this.props.children))}}),t.exportSymbol("tc.PageHeader",n.PageHeader),n.Scrim=React.createClass({displayName:"Scrim",componentDidMount:function(){document.addEventListener("keyup",this.handleEsc)},componentWillUnmount:function(){document.removeEventListener("keyup",this.handleEsc)},render:function(){return React.DOM.div({className:React.addons.classSet({tc_scrim:!0,tc_scrim_dark:this.props.darken}),onClick:this.handleClick})},handleClick:function(){this.props.onClick&&this.props.onClick.apply(this,arguments),this.props.onClose&&this.props.onClose.apply(this,arguments)},handleEsc:function(e){27===e.which&&(this.props.onEsc&&this.props.onEsc.apply(this,arguments),this.props.onClose&&this.props.onClose.apply(this,arguments))}}),t.exportSymbol("tc.Scrim",n.Scrim),n.DropdownMenu={},function(){function e(e,t){return t?function(){e.apply(this,arguments),t.apply(this,arguments)}:e}n.DropdownMenu=React.createClass({displayName:"DropdownMenu",render:function(){return React.DOM.div({className:"tc_menu_wrapper"},n.Scrim({onClose:this.props.onClose}),React.DOM.ul({className:"tc_menu tc_menu_v2 tc_justify_right"},this.props.children.map(this.menuItem)))},menuItem:function(t,n){return React.isValidComponent(t)?React.addons.cloneWithProps(t,{key:n,onClick:e(this.props.onClose,t.props.onClick)}):void 0}})}.call(this),t.exportSymbol("tc.DropdownMenu",n.DropdownMenu),n.Modal={},function(){n.Modal=React.createClass({displayName:"Modal",render:function(){var e={tc_modal:!0};return this.props.addClass&&(e[this.props.addClass]=!0),React.DOM.div({onKeyDown:this.closeOnEsc},n.Scrim({darken:!0,onClick:this.props.onClose}),React.DOM.div({className:React.addons.classSet(e)},React.DOM.header(null,React.DOM.h1(null,this.props.title)),React.DOM.div({className:"tc_modal_content"},this.props.children)))},closeOnEsc:function(e){27===e.which&&this.props.onClose()}}),t.exportSymbol("tc.Modal",n.Modal)}.call(this),n.SignOutButton=React.createClass({displayName:"SignOutButton",stopPropagation:function(e){e.stopPropagation()},render:function(){return React.DOM.form({action:"/signin",method:"post"},React.DOM.input({type:"hidden",name:"authenticity_token",value:this.props.authenticityToken}),React.DOM.input({type:"hidden",name:"_method",value:"delete"}),React.DOM.button({type:"submit",onClick:this.stopPropagation},"Sign Out"))}}),t.exportSymbol("tc.SignOutButton",n.SignOutButton),n.ProfileDropdown={},function(){var e=React.createClass({displayName:"AccountLink",render:function(){return React.DOM.li(null,React.DOM.a({href:"/accounts"},"Accounts"))}}),t=React.createClass({displayName:"TimeLink",render:function(){return React.DOM.li(null,React.DOM.a({href:"/time_shifts"},"Time"))}});n.ProfileDropdown=React.createClass({displayName:"ProfileDropdown",render:function(){return n.Dropdown({name:this.props.name,className:this.props.className},React.DOM.li(null,React.DOM.a({href:"/profile"},"Profile")),this.props.single_account_mode?null:this.props.children,this.props.single_account_mode?null:e(null),React.DOM.li(null,React.DOM.a({href:"/reports/progress"},"Reports")),this.props.time_tracking_enabled?t(null):null,React.DOM.li(null,n.SignOutButton({authenticityToken:this.props.authenticityToken})))}})}(),t.exportSymbol("tc.ProfileDropdown",n.ProfileDropdown),n.SigninLink=React.createClass({displayName:"SigninLink",render:function(){return React.DOM.a({href:"/signin",className:"tc_header_item_name"},"Sign In")}}),t.exportSymbol("tc.SigninLink",n.SigninLink),n.SignupLink=React.createClass({displayName:"SignupLink",render:function(){return React.DOM.a({href:"/signup/new",className:"tc_header_item_name"},"Sign Up")}}),t.exportSymbol("tc.SignupLink",n.SignupLink),n.Tooltip=React.createClass({displayName:"Tooltip",getInitialState:function(){return{visible:!1}},hover:function(){this.setState({visible:!0})},exit:function(){this.setState({visible:!1})},render:function(){var e={tc_tooltip_link:!0};return e[this.props.className]=!0,React.DOM.a({className:React.addons.classSet(e),onMouseEnter:this.hover,onMouseLeave:this.exit},this.props.children,this.state.visible?React.DOM.div({className:"tc_tooltip"},React.DOM.div({className:"tc_tooltip_content"},this.props.content)):null)}}),t.exportSymbol("tc.Tooltip",n.Tooltip),n.CreateProject.AccountCreator=React.createClass({displayName:"AccountCreator",render:function(){return React.DOM.div({className:React.addons.classSet({tc_form_group:!0,tc_form_error:this.props.errors})},React.DOM.label({className:"tc_form_label",htmlFor:"account_name"},"Account"),React.DOM.input({ref:"newAccountName",placeholder:"New account name",className:"tc_form_input",type:"text",value:this.props.newAccountName,onChange:this.props.onChange,maxLength:100}),React.DOM.a({className:"tc_link tc_new_account_cancellation",onClick:this.props.onToggleCreateAccountMode},"Or, choose another account >"),React.DOM.div({className:"tc_form_error_message"},this.props.errors))},componentDidMount:function(){this.refs.newAccountName.getDOMNode().focus()}}),t.exportSymbol("tc.CreateProject.AccountCreator",n.CreateProject.AccountCreator),n.CreateProject.AccountSelector=React.createClass({displayName:"AccountSelector",getInitialState:function(){return{value:this.props.selected,open:!1}},componentWillReceiveProps:function(e){e.selected&&this.setState({value:e.selected})},getAccountName:function(e){var t=this.props.accounts.filter(function(t){return t.id===e});return 1===t.length&&t[0].name},owner:function(e){return e.owner.id===this.props.user.id?"You":e.owner.name},sortedAccounts:function(){var e=this;return this.props.accounts.sort(function(t,r){return n.util.stringSort(t.name,r.name)||n.util.stringSort(e.owner(t),e.owner(r))})},toggleMenu:function(){this.setState({open:!this.state.open})},selectValue:function(e,t){return function(){e.toggleMenu(),e.setState({value:t}),e.props.onChange(t)}},render:function(){return React.DOM.div({className:React.addons.classSet({tc_form_group:!0,tc_form_error:this.props.errors,tc_form_disabled:this.props.isDisabled})},React.DOM.label({className:"tc_form_label",htmlFor:"account_id"},"Account"),this.state.open?this.menu():this.menuHeader(),React.DOM.div({className:"tc_form_error_message"},this.props.errors))},menuHeader:function(){return React.DOM.div({ref:"menuHeader",className:"tc_form_select",onMouseDown:this.toggleMenu},this.getAccountName(this.state.value))},menu:function(){var e=this,t={tc_select_dropdown:!0,tc_select_dropdown_fetching:this.props.fetching};return React.DOM.div(null,n.Scrim({ref:"scrim",onClick:this.toggleMenu}),this.menuHeader(),React.DOM.ul({className:React.addons.classSet(t)},React.DOM.li({className:"tc_select_option tc_select_create_account",onMouseUp:this.props.onToggleCreateAccountMode},"Create New Account"),React.DOM.hr({className:"tc_select_option_separator"}),this.sortedAccounts().map(function(t,n){return React.DOM.li({className:"tc_select_option",onMouseUp:e.selectValue(e,t.id),key:n},React.DOM.span({className:"tc_select_account_name"},t.name),React.DOM.span({className:"tc_select_account_owner"},e.owner(t)))})))}}),t.exportSymbol("tc.CreateProject.AccountSelector",n.CreateProject.AccountSelector),n.CreateProject.PermissionWarning={},function(){var e=React.createClass({displayName:"AccountOwnerTooltip",render:function(){return n.Tooltip({className:"tc_account_owner",content:React.DOM.div({className:"tc_tooltip_content_item"},this.props.owner.name)},"account owner")}}),r=React.createClass({displayName:"AdminsTooltip",render:function(){return n.Tooltip({className:"tc_account_admins",content:this.props.admins.map(function(e,t){return React.DOM.div({className:"tc_tooltip_content_item",key:t},e.name)})},"admins")}}),i=React.createClass({displayName:"MultiAdminCallToAction",render:function(){return React.DOM.span(null,"Contact the ",e({owner:this.props.owner})," or ",r({admins:this.props.admins})," to request Project Creator permission on the Account Members page.")}}),a=React.createClass({displayName:"AccountOwnerCallToAction",render:function(){return React.DOM.span(null,"Contact the account owner (",n.Callout({text:this.props.owner.name,maxLength:19}),") to request Project Creator permission on the Account Members page.")}});n.CreateProject.PermissionWarning=React.createClass({displayName:"PermissionWarning",render:function(){var e=this.props.account;return React.DOM.div({className:"tc_create_project_modal_message tc_warning"},"You do not have permission to create projects in the ",n.Callout({text:e.name,maxLength:20})," account. ",0<e.admins.length?i({owner:e.owner,admins:e.admins}):a({owner:e.owner}))}}),t.exportSymbol("tc.CreateProject.PermissionWarning",n.CreateProject.PermissionWarning)}.call(this),n.CreateProject.ProjectLimitWarning={},function(){var e=React.createClass({displayName:"MemberProjectLimitWarning",archiveLink:function(){var e=this.props.account;return e.permissions.match(/administration/)?"/accounts/"+e.id+"/projects":"/help/faq#howdoiarchiveaprojectandwhatdoesitmean"},render:function(){var e=this.props.account;return React.DOM.div({className:"tc_create_project_modal_message tc_error"},React.DOM.div({className:"tc_error_highlight"},"The ",n.Callout({text:e.name,maxLength:25})," account has reached its limit of "+e.project_limit+" projects."),React.DOM.br(null),React.DOM.div(null,n.Callout({text:e.owner.name,maxLength:20})," can upgrade the account, or ",React.DOM.a({className:"tc_link",href:this.archiveLink(),target:"_blank"},"archive")," an existing project, to allow new projects to be created. Public and sample projects are not counted."))}}),t=React.createClass({displayName:"OwnerProjectLimitWarning",render:function(){var e=this.props.account,t="/accounts/"+e.id+"/plans",r="/accounts/"+e.id+"/projects";return React.DOM.div({className:"tc_create_project_modal_message tc_error"},React.DOM.div({className:"tc_error_highlight"},"The ",n.Callout({text:e.name,maxLength:25})," account has reached its limit of "+e.project_limit+" projects."),React.DOM.br(null),React.DOM.div(null,"You can ",React.DOM.a({className:"tc_link",href:t,target:"_blank"},"upgrade the account"),", or ",React.DOM.a({className:"tc_link",href:r,target:"_blank"},"archive")," an existing project, to allow new projects to be created. Public and sample projects are not counted."))}});n.CreateProject.ProjectLimitWarning=React.createClass({displayName:"ProjectLimitWarning",render:function(){return this.props.user.id===this.props.account.owner.id?t({account:this.props.account}):e({account:this.props.account})}})}.call(this),n.CreateProject.ProjectName=React.createClass({displayName:"ProjectName",render:function(){var e={tc_form_input:!0,sample:this.props.sample},t=this.props.sample?"Sample Project":this.props.projectName;return React.DOM.div({className:React.addons.classSet({tc_form_group:!0,tc_form_error:this.props.errors})},React.DOM.label({className:"tc_form_label",htmlFor:"project_name"},"Project Name"),React.DOM.input({ref:"input",className:React.addons.classSet(e),type:"text",autoFocus:!0,maxLength:50,disabled:this.props.sample,readOnly:this.props.sample,onChange:this.props.onChange,value:t}),React.DOM.div({ref:"inlineError",className:"tc_form_error_message"},this.props.errors))}}),t.exportSymbol("tc.CreateProject.ProjectName",n.CreateProject.ProjectName),n.CreateProject.ProjectModal={},function(){var e=React.createClass({displayName:"GeneralError",render:function(){return React.DOM.div({className:"tc_create_project_modal_message"},this.props.errors.map(function(e,t){return e="."===e[e.length-1]?e:e+".",React.DOM.p({key:t},e)}))}}),r=React.createClass({displayName:"ServerError",render:function(){return React.DOM.div({className:"tc_create_project_modal_message"},"A server error has occurred, please try again later.")}}),i=React.createClass({displayName:"UnknownError",render:function(){return React.DOM.div({className:"tc_create_project_modal_message"},"An unknown error has occurred, please try again later.")}});n.CreateProject.ProjectModal=React.createClass({displayName:"ProjectModal",mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{projectName:"",accountId:(this.props.account||{}).id,newAccountName:"",createAccountMode:!1,sample:!1,publicProject:!1,errors:{},accounts:[],warning:null,fetching:!1}},initializeAccount:function(e){var t={accounts:e,fetching:!1};1===e.length&&(t.accountId=e[0].id),this.setState(t)},componentDidMount:function(){this.props.accounts?this.initializeAccount(this.props.accounts):(this.setState({fetching:!0}),jQuery.get("/services/v5/account_summaries?fields=:default,permissions,admins,owner,number_of_private_projects,project_limit",{},this.initializeAccount))},render:function(){return n.Modal({addClass:"tc_project_modal_wrapper",title:"Create new Project",onClose:this.props.onClose},React.DOM.form({className:"tc_form",onSubmit:this.handleSubmit},React.DOM.div({className:"tc_create_project_modal"},React.DOM.section(null,this.state.warning,n.CreateProject.ProjectName({ref:"projectName",projectName:this.state.projectName,onChange:this.updateProjectName,sample:this.state.sample,errors:this.state.errors.projectName}),this.accountField(),React.DOM.div({className:"tc_form_group",style:{marginTop:"8px"}},React.DOM.label({className:"tc_form_label tc_form_checkbox",id:"tc_public_project"},React.DOM.input({ref:"publicProject",type:"checkbox",disabled:this.state.sample,checkedLink:this.linkState("publicProject")}),"Make this project publicly visible. ",React.DOM.a({className:"tc_link",target:"_blank",href:"/faq#whatarepublicprojects"},"Read more..."))),React.DOM.div({className:"tc_form_group",style:{paddingBottom:"2px"}},React.DOM.label({className:"tc_form_label tc_form_checkbox"},React.DOM.input({ref:"sample",type:"checkbox",disabled:this.state.publicProject,checkedLink:this.linkState("sample")}),"Add sample project data"))),React.DOM.footer(null,React.DOM.button({type:"button",className:"tc_button tc_button_cancel",onClick:this.props.onClose},"Cancel"),React.DOM.button({type:"submit",className:"tc_button tc_button_submit"},"Create Project")))))},accountField:function(){return this.props.account?React.DOM.div({className:"tc_form_group tc_form_disabled",ref:"accountSelector"},React.DOM.label({className:"tc_form_label",htmlFor:"account_id"},"Account"),React.DOM.div({className:"tc_form_input"},this.props.account.name)):this.state.createAccountMode?n.CreateProject.AccountCreator({ref:"accountCreator",accountName:this.state.newAccountName,errors:this.state.errors.newAccountName,onChange:this.updateNewAccountName,onToggleCreateAccountMode:this.toggleCreateAccountMode}):n.CreateProject.AccountSelector({ref:"accountSelector",selected:this.state.accountId,accounts:this.state.accounts,user:this.props.user,errors:this.state.errors.accountId,onChange:this.updateAccountId,fetching:this.state.fetching,onToggleCreateAccountMode:this.toggleCreateAccountMode})},toggleCreateAccountMode:function(){var e={warning:null,createAccountMode:!this.state.createAccountMode,errors:{projectName:this.state.errors.projectName}};this.state.createAccountMode&&(e.warning=this.accountWarning(this.state.accountId)),this.setState(e)},updateAccountId:function(e){var t={accountId:e,errors:this.state.errors};e&&delete t.errors.accountId,t.warning=this.accountWarning(e),this.setState(t)},updateNewAccountName:function(e){this.setState({newAccountName:e.target.value})},updateProjectName:function(e){var t=e.target.value;e=this.validateProjectName(t),t={projectName:t,errors:this.state.errors},t.errors.projectName&&!e&&delete t.errors.projectName,this.setState(t)},validateProjectName:function(e){return 0===e.replace(/\s*/,"").length?"project name can't be blank":void 0},accountWarning:function(e){return(e=this.findAccount(e))&&!e.permissions.match(/project_creation/)?n.CreateProject.PermissionWarning({account:e}):e&&e.number_of_private_projects===e.project_limit?n.CreateProject.ProjectLimitWarning({account:e,user:this.props.user}):null},handleSubmit:function(e){e={};var t=this.state.newAccountName.replace(/\s*/,""),n=this.state.publicProject,r={};return this.state.sample?r.create_sample=!0:(r["public"]=n,r.name=this.state.projectName,(n=this.validateProjectName(this.state.projectName))&&(e.projectName=n)),this.state.createAccountMode?(r.new_account_name=t,0===t.length&&(e.newAccountName="account name is invalid")):(r.account_id=this.state.accountId,this.state.accountId||(e.accountId="please select or create an account for the new project")),this.setState({errors:e}),0===Object.keys(e).length&&jQuery.post("/services/v5/projects",r,this.redirectToProject).fail(this.handleSubmitError),!1
},redirectToProject:function(e){n.util.redirect("/projects/"+e.id)},handleSubmitError:function(t){t=new n.CreateProject.ErrorResponse(t),t.permissionError()?this.setState({warning:n.CreateProject.PermissionWarning({account:this.findAccount(this.state.accountId)})}):t.projectLimitError()?this.setState({warning:n.CreateProject.ProjectLimitWarning({account:this.findAccount(this.state.accountId),user:this.props.user})}):t.errors().length?this.setState({warning:e({errors:t.errors()})}):t.serverError()?this.setState({warning:r(null)}):this.setState({warning:i(null)})},findAccount:function(e){for(var t=this.state.accounts,n=0;n<t.length;n++)if(t[n].id==e)return t[n]}}),t.exportSymbol("tc.CreateProject.ProjectModal",n.CreateProject.ProjectModal)}.call(this),n.CreateWorkspace={},n.CreateWorkspace.WorkspaceModal={},function(){n.CreateWorkspace.WorkspaceModal=React.createClass({displayName:"WorkspaceModal",mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{workspaceName:"",errors:{},errorMessage:""}},render:function(){var e={tc_form_group:!0,tc_form_error:this.state.errors.workspaceName};return n.Modal({addClass:"tc_workspace_modal_wrapper",title:"Create new Workspace",onClose:this.props.onClose},React.DOM.form({className:"tc_form",onSubmit:this.handleSubmit},React.DOM.div({className:"tc_create_workspace_modal"},React.DOM.div({className:React.addons.classSet({tc_create_workspace_modal_error:this.state.errorMessage})},this.state.errorMessage),React.DOM.section(null,React.DOM.p({className:"tc_workspace_modal_message"},"Search across multiple projects, view project backlogs side-by-side and plan with the big picture in mind."),React.DOM.div({className:React.addons.classSet(e)},React.DOM.label({className:"tc_form_label",htmlFor:"workspace_name"},"Workspace Name"),React.DOM.input({ref:"input",className:"tc_form_input",type:"text",autoFocus:!0,maxLength:25,onChange:this.updateWorkspaceName}),React.DOM.div({ref:"inlineError",className:"tc_form_error_message"},this.state.errors.workspaceName))),React.DOM.footer(null,React.DOM.button({type:"button",className:"tc_button tc_button_cancel",onClick:this.props.onClose},"Cancel"),React.DOM.button({type:"submit",className:"tc_button tc_button_submit"},"Create Workspace")))))},handleSubmit:function(e){e={};var t={};t.name=this.state.workspaceName;var n=this.validateWorkspaceName(this.state.workspaceName);return n&&(e.workspaceName=n),this.setState({errors:e}),0===Object.keys(e).length&&jQuery.post("/services/v5/my/workspaces",t,this.redirectToWorkspace).fail(this.handleSubmitError),!1},updateWorkspaceName:function(e){var t=e.target.value;e=this.validateWorkspaceName(t),t={workspaceName:t,errors:this.state.errors},t.errors.workspaceName&&!e&&delete t.errors.workspaceName,this.setState(t)},validateWorkspaceName:function(e){return 0===e.replace(/\s*/,"").length?"workspace name can't be blank":void 0},redirectToWorkspace:function(e){n.util.redirect("/n/workspaces/"+e.id)},handleSubmitError:function(e){e=new n.CreateProject.ErrorResponse(e),this.setState({errorMessage:e.errors()})}}),t.exportSymbol("tc.CreateWorkspace.WorkspaceModal",n.CreateWorkspace.WorkspaceModal)}.call(this),n.ProjectsDropdown={},function(){var e=React.createClass({displayName:"ProjectList",render:function(){return 0===this.props.children.length?n.Empty(null):React.DOM.ul({className:"tc_projects_menu_list",style:this.props.style},this.props.children)}}),t=React.createClass({displayName:"CreateProjectItem",render:function(){return React.DOM.li({ref:"createProject",className:"tc_projects_menu_item tc_projects_menu_callout tc_create_project"},React.DOM.a({onClick:this.props.onClick},"Create Project"))}}),r=React.createClass({displayName:"ShowAllProjectsItem",render:function(){return React.DOM.li({className:"tc_projects_menu_item"},React.DOM.a({href:"/projects"},React.DOM.span({className:"tc_projects_menu_show_all"},"Show All Projects")))}}),i=React.createClass({displayName:"ProjectLinkItem",render:function(){var e,t=this.props.project;return e=t.is_public?[React.DOM.span({key:1,className:"raw_project_name public"},t.name),React.DOM.span({key:2}," (Public)")]:React.DOM.span({className:"raw_project_name"},t.name),React.DOM.li({className:"tc_projects_menu_item",key:t.url},React.DOM.a({href:t.url},e))}}),a=React.createClass({displayName:"WorkspaceList",render:function(){var e=this.props.workspaces.slice(0,11).sort(n.util.propertySorter("name"));return React.DOM.div({className:"tc_projects_menu_list_group"},React.DOM.header({className:"tc_menu_header tc_menu_header_workspaces"},"Workspaces"),React.DOM.ul({className:"tc_workspaces_menu_list"},React.DOM.li({className:"tc_projects_menu_item tc_projects_menu_callout tc_create_workspace"},React.DOM.a({onClick:this.props.onClickCreateWorkspace},"Create Workspace")),e.map(function(e){return React.DOM.li({className:"tc_projects_menu_item",key:e.url},React.DOM.a({href:e.url},e.name))}),React.DOM.li({className:"tc_projects_menu_item"},React.DOM.a({href:"/projects",className:"tc_projects_menu_show_all"},React.DOM.span({className:"tc_projects_menu_show_all"},"Show All Workspaces")))))}}),o=React.createClass({displayName:"ProjectsMenu",render:function(){var o=this.props.workspaces,s=[],l=[];return 11>=this.props.projects.length?s=[].concat(t({ref:"createProjectItem",onClick:this.props.onClickCreateProject,key:-1}),this.sortedProjects().map(function(e){return i({project:e,key:e.url})}),r({key:-2})):(s=[].concat(t({ref:"createProjectItem",onClick:this.props.onClickCreateProject,key:-1}),this.sortedProjects().slice(0,12).map(function(e){return i({project:e,key:e.url})})),l=[].concat(this.sortedProjects().slice(12,24).map(function(e){return i({project:e,key:e.url})}),r({key:-2}))),React.DOM.div({onClick:this.props.onClose},n.Scrim({onClose:this.props.onClose}),React.DOM.div({className:"tc_projects_menu_arrow"}),React.DOM.div({className:"tc_menu tc_projects_menu"},React.DOM.div({className:"tc_projects_menu_list_group"},React.DOM.header({className:"tc_menu_header tc_menu_header_projects"},"Projects"),e({ref:"firstProjectList"},s),e(null,l)),o?a({workspaces:o,onClickCreateWorkspace:this.props.onClickCreateWorkspace}):null,React.DOM.a({className:"tc_projects_menu_footer",href:"/dashboard"},React.DOM.span({className:"tc_projects_menu_dashboard"},"Dashboard"))))},sortedProjects:function(){return this.props.projects.slice(0,24).sort(n.util.propertySorter("name"))}});n.ProjectsDropdown=React.createClass({displayName:"ProjectsDropdown",getInitialState:function(){return{isOpen:!1}},toggleProjectsDropdown:function(){this.setState({isOpen:!this.state.isOpen})},openCreateProjectModal:function(){this.setState({isCreateProjectModalOpen:!0})},closeCreateProjectModal:function(){this.setState({isCreateProjectModalOpen:!1})},openCreateWorkspaceModal:function(){this.setState({isCreateWorkspaceModalOpen:!0})},closeCreateWorkspaceModal:function(){this.setState({isCreateWorkspaceModalOpen:!1})},render:function(){var e=n.CreateProject.ProjectModal,t=n.CreateWorkspace.WorkspaceModal;return React.DOM.div({className:"tc_projects_dropdown"},React.DOM.h1(null,this.props.name?this.renderLink():null),this.state.isOpen?o({workspaces:this.props.workspaces,projects:this.props.projects,onClickCreateWorkspace:this.openCreateWorkspaceModal,onClickCreateProject:this.openCreateProjectModal,onClose:this.toggleProjectsDropdown}):null,this.state.isCreateProjectModalOpen?e({onClose:this.closeCreateProjectModal,accounts:this.props.accounts,user:this.props.user}):null,this.state.isCreateWorkspaceModalOpen?t({onClose:this.closeCreateWorkspaceModal}):null)},renderLink:function(){return this.props.isGuest?React.DOM.a({href:"/signin",className:"tc_guest_context_link tc_context_name"},this.props.name):React.DOM.a({className:"tc_projects_dropdown_link tc_context_name",onClick:this.toggleProjectsDropdown},this.props.name)}})}.call(this),t.exportSymbol("tc.ProjectsDropdown",n.ProjectsDropdown),n.main=function(){}}(),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=e.tc,r=n.Scrim,i={position:function(e,t,n){var r=12,i=$(this.getDOMNode()).width()+r,a=$(".panel."+e).offset().left,o=$(window).width()-($(".panel."+e).width()+a);$(this.getDOMNode()).position({my:"left top",at:"right top",of:$(".panel."+e+" .panel_header")[0],offset:t,collision:"classyFlip none"}),$(this.getDOMNode()).hasClass("flipped")&&this.setState({position:"right"});var s=i>a,l=i>o;l&&s&&(this.setState({position:"up"}),$(this.getDOMNode()).position({my:"right top",at:"center bottom",of:$(".panel."+e+" .panel_controls .add_story")[0],offset:n,collision:"none none"}))}},a=React.createClass({displayName:"MoreDots",createClickFunction:function(e,t){return function(){e(t)}},render:function(){var e=_.range(this.props.stepCount),t=this.props.stepIndex,n=this;return React.DOM.div({className:"tn_intro_tour_dots"},e.map(function(e,r){var i={tn_intro_tour_dot_container:!0,tn_intro_tour_dot_current:r===t},a=p[r],o=n.createClickFunction(n.props.gotoStep,r);return React.DOM.div({className:React.addons.classSet(i),onClick:o,title:a,key:r},React.DOM.div({className:"tn_intro_tour_dot"}))}))}}),o=React.createClass({displayName:"AddStoryStep",getInitialState:function(){return{position:"up"}},render:function(){var e={tn_intro_tour_arrow:!0,tn_intro_tour_arrow_left:"left"===this.state.position,tn_intro_tour_arrow_up_left:"up"===this.state.position};return React.DOM.div({className:"tn_intro_tour"},React.DOM.div({className:React.addons.classSet(e)}),React.DOM.header({className:"tn_intro_tour_header"},React.DOM.span({className:"tn_intro_tour_header_prefix"},"Intro Tour:")," Adding Stories",a({stepCount:this.props.stepCount,stepIndex:this.props.stepIndex,gotoStep:this.props.gotoStep})),React.DOM.section({className:"tn_intro_tour_content tn_intro_tour_content_add_story"},React.DOM.p({className:"tn_intro_tour_content_text"},"Click the Add Story button, or press 'a', to create a new story in the Icebox."),React.DOM.p({className:"tn_intro_tour_content_text"},"The default story type describes a feature, and is usually written from the perspective of a user. ",React.DOM.br(null),React.DOM.span({className:"tn_intro_tour_content_example"},"eg. 'User can add item to shopping cart'")),React.DOM.a({className:"tn_intro_tour_content_exit",onClick:this.props.onClose},"Exit Tour"),React.DOM.a({className:"tn_intro_tour_content_next",onClick:this.props.incrementStep},"Next")))},position:function(){"up"===this.state.position?$(this.getDOMNode()).position({my:"left top",at:"center bottom",of:$(".sidebar .add_story")[0],offset:"15 -4",collision:"none"}):$(this.getDOMNode()).position({my:"left top",at:"right top",of:$(".sidebar .add_story")[0],offset:"-2 -2",collision:"none"})},componentWillMount:function(){this.props.appSettings.get("sidebar_expanded")||this.setState({position:"left"})},componentDidMount:function(){this.position()}}),s=React.createClass({displayName:"IceboxEstimationStep",mixins:[i],getInitialState:function(){return{position:"left"}},render:function(){var e={tn_intro_tour_arrow:!0,tn_intro_tour_arrow_left:"left"===this.state.position,tn_intro_tour_arrow_up_right:"up"===this.state.position,tn_intro_tour_arrow_right:"right"===this.state.position};return React.DOM.div({className:"tn_intro_tour"},React.DOM.div({className:React.addons.classSet(e)}),React.DOM.header({className:"tn_intro_tour_header"},React.DOM.span({className:"tn_intro_tour_header_prefix"},"Intro Tour:")," Icebox & Estimation",a({stepCount:this.props.stepCount,stepIndex:this.props.stepIndex,gotoStep:this.props.gotoStep})),React.DOM.section({className:"tn_intro_tour_content tn_intro_tour_content_icebox"},React.DOM.p({className:"tn_intro_tour_content_text"},"The icebox is where you start storing all your features and ideas throughout the course of the project."),React.DOM.p({className:"tn_intro_tour_content_text"},"Any new stories usually go there first, so that the Product Owner can decide when and where to prioritize them."),React.DOM.p({className:"tn_intro_tour_content_text"},"The team can estimate the level of effort for a story, which is represented by the project's Point Scale"),React.DOM.p({className:"tn_intro_tour_content_text"},"You can click the bars to the right of the story titles to choose the number of points estimated for it."),React.DOM.div({className:"tn_intro_tour_content_image"}),React.DOM.a({className:"tn_intro_tour_content_exit",onClick:this.props.onClose},"Exit Tour"),React.DOM.a({className:"tn_intro_tour_content_prev",onClick:this.props.decrementStep},"Prev"),React.DOM.a({className:"tn_intro_tour_content_next",onClick:this.props.incrementStep},"Next")))},componentDidMount:function(){this.position("icebox","6 -6","22 0")},componentWillMount:function(){this.props.panels.open({type:"icebox"},{project:this.props.project}),$(".panel.icebox .add_story").scrollIntoView(),$(".panel.icebox .close").scrollIntoView()}}),l=React.createClass({displayName:"BacklogPrioritization",mixins:[i],getInitialState:function(){return{position:"left"}},render:function(){var e={tn_intro_tour_arrow:!0,tn_intro_tour_arrow_left:"left"===this.state.position,tn_intro_tour_arrow_up:"up"===this.state.position,tn_intro_tour_arrow_right:"right"===this.state.position};return React.DOM.div({className:"tn_intro_tour"},React.DOM.div({className:React.addons.classSet(e)}),React.DOM.header({className:"tn_intro_tour_header"},React.DOM.span({className:"tn_intro_tour_header_prefix"},"Intro Tour:")," Backlog & Prioritization",a({stepCount:this.props.stepCount,stepIndex:this.props.stepIndex,gotoStep:this.props.gotoStep})),React.DOM.section({className:"tn_intro_tour_content tn_intro_tour_content_backlog"},React.DOM.p({className:"tn_intro_tour_content_text"},"Stories are prioritized by moving them from the icebox to the backlog. The higher they are in the backlog, the sooner they need to be started."),React.DOM.div({className:"tn_intro_tour_content_image"}),React.DOM.p({className:"tn_intro_tour_content_text"},React.DOM.strong(null,"Current")," shows stories that your team has started working on in this iteration. Also any other stories that can fit in the current iteration, according to your project velocity."),React.DOM.p({className:"tn_intro_tour_content_text"},React.DOM.strong(null,"Backlog")," shows your future iterations. In a new project, dropping stories there moves them straight to Current, as it is empty. Current is really the top of the overall backlog (combine them by clicking the ",React.DOM.span({className:"tn_intro_tour_content_linked"})," icon at bottom of the panel)."),React.DOM.a({className:"tn_intro_tour_content_exit",onClick:this.props.onClose},"Exit Tour"),React.DOM.a({className:"tn_intro_tour_content_prev",onClick:this.props.decrementStep},"Prev"),React.DOM.a({className:"tn_intro_tour_content_next",onClick:this.props.incrementStep},"Next")))},componentDidMount:function(){this.position("backlog","6 -6","6 0")},componentWillMount:function(){this.props.panels.open({type:"backlog"},{project:this.props.project}),$(".panel.backlog .add_story").scrollIntoView(),$(".panel.backlog .close").scrollIntoView()}}),c=React.createClass({displayName:"DevelopDeliverStories",mixins:[i],getInitialState:function(){return{position:"left",targetPanel:"backlog"}},render:function(){var e={tn_intro_tour_arrow:!0,tn_intro_tour_arrow_left:"left"===this.state.position,tn_intro_tour_arrow_up:"up"===this.state.position,tn_intro_tour_arrow_right:"right"===this.state.position};return React.DOM.div({className:"tn_intro_tour"},React.DOM.div({className:React.addons.classSet(e)}),React.DOM.header({className:"tn_intro_tour_header"},React.DOM.span({className:"tn_intro_tour_header_prefix"},"Intro Tour:")," Story Workflow",a({stepCount:this.props.stepCount,stepIndex:this.props.stepIndex,gotoStep:this.props.gotoStep})),React.DOM.section({className:"tn_intro_tour_content tn_intro_tour_content_develop"},React.DOM.p({className:"tn_intro_tour_content_text"},"Developer can start, finish, and finally deliver the story when the feature is ready for review."),React.DOM.div({className:"tn_intro_tour_content_image"}),React.DOM.p({className:"tn_intro_tour_content_text"},"Tracker is built for a collaborative process with emphasis on constant feedback.  So a story isn't done until the product owner tries it out and accepts it.  If it gets rejected, a comment should be added with the reason, so it can be restarted."),React.DOM.a({className:"tn_intro_tour_content_exit",onClick:this.props.onClose},"Exit Tour"),React.DOM.a({className:"tn_intro_tour_content_prev",onClick:this.props.decrementStep},"Prev"),React.DOM.a({className:"tn_intro_tour_content_next",onClick:this.props.incrementStep},"Next")))},componentDidMount:function(){this.position(this.state.targetPanel,"6 100","6 100")},componentWillMount:function(){var e=this.state.targetPanel;this.props.panels.findWhere({type:"backlog"}).get("split")&&(this.setState({targetPanel:"current"}),e="current"),this.props.panels.open({type:e},{project:this.props.project}),$(".panel."+e+" .add_story").scrollIntoView(),$(".panel."+e+" .close").scrollIntoView()}}),u=React.createClass({displayName:"VelocityAndDoneStories",render:function(){return React.DOM.div({className:"tn_intro_tour"},React.DOM.div({className:"tn_intro_tour_arrow tn_intro_tour_arrow_left"}),React.DOM.header({className:"tn_intro_tour_header"},React.DOM.span({className:"tn_intro_tour_header_prefix"},"Intro Tour:")," Velocity & Done Stories",a({stepCount:this.props.stepCount,stepIndex:this.props.stepIndex,gotoStep:this.props.gotoStep})),React.DOM.section({className:"tn_intro_tour_content tn_intro_tour_content_velocity"},React.DOM.p({className:"tn_intro_tour_content_text"},"Once stories have been accepted and the current iteration has ended, they move into the Done panel and your project's velocity is updated"),React.DOM.div({className:"tn_intro_tour_content_image"}),React.DOM.p({className:"tn_intro_tour_content_text"},"By default, your Project Velocity is an average of the number of story points completed over the previous 3 iterations. Tracker uses your Velocity to automatically separate your Backlog into future iterations, or what we call Emergent Iterations. This helps give your team an idea of how much work they may accomplish in the future, based on what they've already done."),React.DOM.p({className:"tn_intro_tour_content_text"},"For more tips and hints, check out our ",React.DOM.a({className:"tn_intro_tour_content_link",href:"/help/gettingstarted",target:"_blank"},"Tracker Guide")),React.DOM.a({className:"tn_intro_tour_content_exit",onClick:this.props.onClose},"Exit Tour"),React.DOM.a({className:"tn_intro_tour_content_prev",onClick:this.props.decrementStep},"Prev"),React.DOM.a({className:"tn_intro_tour_content_start",onClick:this.props.onClose},"I'm ready to start!")))},position:function(){$(this.getDOMNode()).position({my:"left+2 top-5",at:"right top",of:$(".sidebar .velocity")[0],collision:"none"})},componentDidMount:function(){this.position()}}),d=[o,s,l,c,u],p=["Intro Tour: Adding Stories","Intro Tour: Icebox & Estimation","Intro Tour: Backlog & Prioritization","Intro Tour: Story Workflow","Intro Tour: Velocity & Done Stories"],h=React.createClass({displayName:"Tour",getInitialState:function(){return{step:0}},incrementStep:function(){mixpanel.track("/intro_tour/next",{source_index:this.state.step}),this.setState({step:this.state.step+1})},decrementStep:function(){mixpanel.track("/intro_tour/previous",{source_index:this.state.step}),this.setState({step:this.state.step-1})},gotoStep:function(e){mixpanel.track("/intro_tour/jump",{source_index:this.state.step,target_index:e}),this.setState({step:e})},endTour:function(){mixpanel.track("/intro_tour/exit",{source_index:this.state.step}),this.props.endTour()},render:function(){var e=d[this.state.step];return React.DOM.div(null,e({onClose:this.endTour,incrementStep:this.incrementStep,decrementStep:this.decrementStep,panels:this.props.panels,project:this.props.project,appSettings:this.props.appSettings,stepCount:d.length,stepIndex:this.state.step,gotoStep:this.gotoStep}),r(null))}});_.namespace(t,"intro").Tour=h}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=e.tc,r=!1,i=React.createClass({displayName:"Video",render:function(){return React.DOM.div(null,React.DOM.div({className:"tn_intro_tour tn_intro_tour_video"},React.DOM.div(null),React.DOM.header({className:"tn_intro_tour_video_header"},"Welcome to Pivotal Tracker"),React.DOM.section({className:"tn_intro_tour_content tn_intro_tour_content_video"},React.DOM.video({ref:"videoElement",className:"tn_intro_tour_player",width:"720",height:"405",poster:"//d3jgo56a5b0my0.cloudfront.net/next/assets/tour/splash-f1b48743653fd58316771d9540be5ea1.png",controls:!0},React.DOM.source({src:"//s3.amazonaws.com/tracker.screencast/M1.0_Pivotal_tracker_Vid06_HiRes.webm",type:"video/webm"}),React.DOM.source({src:"//s3.amazonaws.com/tracker.screencast/M1.0_Pivotal_tracker_Vid06_HiRes.mp4",type:"video/mp4"})),React.DOM.p({className:"tn_intro_tour_video_content_text"},"If you're new to Tracker, or just need a refresher, we recommend watching this short introductory video.")),React.DOM.a({className:"tc_intro_tour_video_next_button",onClick:this.props.onContinue},"Next")),React.DOM.div({className:"tc_intro_tour_video_scrim"},n.Scrim(null)))},videoPlaying:function(){r||(mixpanel.track("/intro_video/play"),r=!0)},componentDidMount:function(){this.props.appSettings.save({shown_screencast_at:t.DateTime.now().getTime()});var e=this.refs.videoElement.getDOMNode();e.onplay=this.videoPlaying,mixpanel.track("/intro_video/show")},componentWillUnmount:function(){mixpanel.track("/intro_video/close");var e=this.refs.videoElement.getDOMNode();e.onplay=$.noop}});_.namespace(t,"intro").Video=i}.call(this),function(e,t){var n=t.View.extend({__name__:"DeployWarning",WARN_PRIOR_TO:[15,10,4,2,1,.5,0],initialize:function(){this.listenTo(this.model,"change:next_deploy",this.addTimers_)},addTimers_:function(){var e=this.model.get("next_deploy"),t=this.collection;_.each(this.WARN_PRIOR_TO,function(n){var r=60*n*1e3,i=e-r-Date.now();i>=0&&setTimeout(function(){t.add({type:"DeployWarning",next_deploy:e})},i)})}});t.views.DeployWarning=n}(window,tracker),function(e,t){var n=t.Model.extend({});n.include(t.mixins.current),t.MaintenanceDowntime=n}(window,tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(e.tc,React.createClass({displayName:"NotificationsDropdown",render:function(){return React.DOM.div({className:this.props.className})},componentDidMount:function(){var e=new next.views.people.controls.notifications.Index({el:this.getDOMNode(),collection:this.props.notifications});e.render(),this.setState({view:e})},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){this.state.view.remove()}}));t.NotificationsDropdown=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(e.tc,React.createClass({displayName:"SearchBar",propTypes:{panels:React.PropTypes.instanceOf(t.Panels)},render:function(){return React.DOM.div({className:"menu next search_bar_container"})},componentDidMount:function(){var e=new next.views.search.Edit({el:this.getDOMNode(),panels:this.props.panels});e.render(),this.setState({view:e})},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){this.state.view.remove()}}));t.SearchBar=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=e.tc,r=React.addons.classSet,i=n.Dropdown,a=React.createClass({displayName:"HelpDropdown",propTypes:{panels:React.PropTypes.instanceOf(t.Panels),appSettings:React.PropTypes.instanceOf(t.AppSettings)},openUiGuide:function(){mixpanel.track("/panels/show",{source:"help_menu",panel_type:"ui_guide"}),this.props.panels.open({type:"ui_guide"},{at:0})},openRecentUpdates:function(){mixpanel.track("/panels/show",{source:"help_menu",panel_type:"recent_updates"}),this.props.appSettings.markBetaUpdatesAsRead(),this.props.panels.open({type:"recent_updates"},{at:0})},openKeyboardShortcuts:function(){(new t.LightboxesController).create("keyboard_shortcuts",{opacity:!0})},startTour:function(){mixpanel.track("/intro_tour/show",{via_help_menu:!0}),this.props.startTour()},tourButton:function(){return this.props.context instanceof t.Project&&!this.props.person.isReadOnly(this.props.context)?React.DOM.li(null,React.DOM.a({onClick:this.startTour,className:"intro_tour"},"Intro Tour")):null},render:function(){var e={has_updates:this.props.appSettings.has("show_recent_beta_updates")};return this.props.className&&(e[this.props.className]=!0),i({className:r(e),name:"Help & Updates"},React.DOM.li(null,React.DOM.a({href:"/help",target:"_blank"},"Help Center")),React.DOM.li(null,React.DOM.a({onClick:this.openUiGuide,className:"ui_guide"},"New UI Guide")),React.DOM.li(null,React.DOM.a({onClick:this.openRecentUpdates,className:"recent_updates"},"Recent Updates")),React.DOM.li(null,React.DOM.a({onClick:this.openKeyboardShortcuts},"Keyboard Shortcuts")),this.tourButton())},forceRender:function(){this.forceUpdate()},getDefaultProps:function(){return{className:""}},componentDidMount:function(){this.props.appSettings.on("change",this.forceRender)},componentWillUnmount:function(){this.props.appSettings.off("change",this.forceRender)}});t.HelpDropdown=a}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/selected_stories/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/selected_stories/index"]=Handlebars.template(function(e,t,n,r,i){function a(){return" empty"}function o(){return' disabled="disabled"'}function s(){return' disabled="disabled"'}function l(){return' disabled="disabled"'}function c(){return' disabled="disabled"'}n=n||e.helpers;var u,d,p="",h=this,g=n.helperMissing,f=this.escapeExpression;return p+='<div class="selected_stories_controls',u=t.selected_stories_count,u=n.unless.call(t,u,{hash:{},inverse:h.noop,fn:h.program(1,a,i)}),(u||0===u)&&(p+=u),p+='">\n  <span class="count">',u=t.selected_stories_count,d=n.pluralize,u=d?d.call(t,"story",u,{hash:{}}):g.call(t,"pluralize","story",u,{hash:{}}),p+=f(u)+' selected</span>\n  <button class="deselect_all" type="button" title="Deselect all selected stories">deselect all</button>\n  <button class="add_remove_labels" type="button" title="Add/remove labels to/from selected stories" ',u=t.readonly,u=n["if"].call(t,u,{hash:{},inverse:h.noop,fn:h.program(3,o,i)}),(u||0===u)&&(p+=u),p+='><span>add/remove labels</span></button>\n  <button class="move" type="button" title="Move selected stories to another project" ',u=t.readonly,u=n["if"].call(t,u,{hash:{},inverse:h.noop,fn:h.program(5,s,i)}),(u||0===u)&&(p+=u),p+='><span>move into project</span></button>\n  <button class="export_csv" type="button" title="Export selected stories to CSV">CSV</button>\n  <button class="clone" type="button" title="Clone selected stories" ',u=t.readonly,u=n["if"].call(t,u,{hash:{},inverse:h.noop,fn:h.program(7,l,i)}),(u||0===u)&&(p+=u),p+='><span>clone</span></button>\n  <button class="delete" type="button" title="Delete selected stories" ',u=t.readonly,u=n["if"].call(t,u,{hash:{},inverse:h.noop,fn:h.program(9,c,i)}),(u||0===u)&&(p+=u),p+="><span>delete</span></button>\n</div>\n"}),this.HandlebarsTemplates["next/selected_stories/index"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/selected_stories/export_to_csv"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/selected_stories/export_to_csv"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t="";return t+='\n    <input type="hidden" data-type="number" name="ids[]" value="',e=typeof e===c?e():e,t+=u(e)+'">\n  '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.blockHelperMissing;return l+='<form method="POST" action="',s=n.url,s?o=s.call(t,{hash:{}}):(o=t.url,o=typeof o===c?o():o),l+=u(o)+'">\n  ',s=n.ids,s?o=s.call(t,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}):(o=t.ids,o=typeof o===c?o():o),n.ids||(o=p.call(t,o,{hash:{},inverse:d.noop,fn:d.program(1,a,i)})),(o||0===o)&&(l+=o),l+='\n  <input type="hidden" name="authenticity_token" value="',s=n.csrf_token,s?o=s.call(t,{hash:{}}):(o=t.csrf_token,o=typeof o===c?o():o),l+=u(o)+'">\n</form>\n'}),this.HandlebarsTemplates["next/selected_stories/export_to_csv"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/controls/delete_confirmation"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["panels/controls/delete_confirmation"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o=n.helperMissing,s=this.escapeExpression;return a+="You're about to DELETE ",r=t.story_count,i=n.pluralize,r=i?i.call(t,"selected story",r,{hash:{}}):o.call(t,"pluralize","selected story",r,{hash:{}}),a+=s(r)+".\n\nWARNING - this is a permanent operation, and cannot be undone. Are you sure you'd like to proceed?\n"}),this.HandlebarsTemplates["panels/controls/delete_confirmation"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"MultiLabel",validate:t.helpers.label.validate,toJSON:function(){var e="all"===this.get("state"),t="none"===this.get("state"),n="some"===this.get("state"),r=_.extend(this.pick("id","name","type","visible"),{cid:this.cid});return r.states="some"===this.get("original_state")?[{current:"all",next:"none",checked:e},{current:"none",next:"some",checked:t},{current:"some",next:"all",checked:n}]:[{current:"all",next:"none",checked:e},{current:"none",next:"all",checked:t}],r},isDirty:function(){return this.get("original_state")!==this.get("state")}});t.MultiLabel=n}.call(this),function(){"use strict";function e(e,t,r){var i=_.pluck(t.selectedModels().models,"cid"),a=e.reduce(function(e,n){var r=t.labels().findByName(n.get("name"));return r?n.get("state")!==n.get("original_state")&&("all"===n.get("state")?e.add.push(r.cid):"none"===n.get("state")&&e.remove.push(r.cid)):"all"===n.get("state")&&e.create.push(n.pick("name")),e},{create:[],add:[],remove:[]});return _.isEmpty(a.add)&&_.isEmpty(a.remove)||r.push(new n.Command({type:"MultiStoryUpdateLabel",parameters:{cids:i,label_cids_to_add:a.add,label_cids_to_remove:a.remove}},{project:t}).executeAsInitiatingClient()),_.isEmpty(a.create)||r.push(new n.Command({type:"MultiLabelCreate",parameters:{labels:a.create}},{project:t}).executeAsInitiatingClient().then(function(){return new n.Command({type:"MultiStoryUpdateLabel",parameters:{cids:i,label_cids_to_add:_.map(a.create,function(e){return t.labels().findByName(e.name).cid})}},{project:t}).executeAsInitiatingClient()})),r}var t=this,n=_.namespace(t,"tracker"),r=n.Collection.extend({__name__:"MultiLabels",associations:{belongsTo:"projects"},model:n.MultiLabel,comparator:function(e){return e.get("sort_id")},build:function(){var e=this,t=this.projects().reduce(function(t,n){var r=n.selectedModels(),i=n.labels().map(function(e){return{id:e.get("name"),name:e.get("name"),type:e.hasEpic()?"epic":"story",stories:[],visible:!0}});return e.add(i,{silent:!0}),r.each(function(t){t.labels().each(function(n){e.get(n.get("name")).get("stories").push(t)})}),t+r.length},0);return e.each(function(e){var n=e.get("stories").length===t&&"all"||!e.get("stories").length&&"none"||"some",r={all:"0",some:"1",none:"2"},i=r[n]+"_"+e.get("name").toLowerCase();e.set({state:n,original_state:n,sort_id:i})}),e.reset(e.models),e},isDirty:function(){return this.any(function(e){return e.isDirty()})},search:function(e){return n.helpers.Search.search(e,this.models,{score:function(e){return e.get("name")}})},create:function(e,t){if(t=t?_.clone(t):{},!(e=this._prepareModel(e,t)))return!1;var n=t.success;return t.success=function(r){n&&n(e,r,t)},e.set({state:"all"},{silent:!0}),new r([e],{projects:this.projects()}).save(t),e},save:function(){var t=this,n=this.projects().reduce(function(n,r){return e(t,r,n)},[]);return $.when.apply(this,n)}});n.MultiLabels=r}.call(this);// Copyright (c) 2008 Lachie Cox
// The above copyright notice and str permission notice shall be included in
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
var quicksilver={score:function(e,t,n){if(n=n||0,0==t.length)return.9;if(t.length>e.length)return 0;for(var r=t.length;r>0;r--){var i=t.substring(0,r),a=e.indexOf(i);if(!(0>a||a+t.length>e.length+n)){var o=e.substring(a+i.length),s=null;s=r>=t.length?"":t.substring(r);var l=quicksilver.score(o,s,n+a);if(l>0){var c=e.length-o.length;if(0!=a){var u=0,d=e.charCodeAt(a-1);if(32==d||9==d)for(var u=a-2;u>=0;u--)d=e.charCodeAt(u),c-=32==d||9==d?1:.15;else c-=a}return c+=l*o.length,c/=e.length}}}return 0}};!function(e,t){var n={prepare:function(e){var t=e;return t=t.replace(/\\/g,"\\\\"),t=t.replace(/"/g,'\\"'),t=_.surround(t,'"')},search:function(t,n,r){r=r||{};var i=_.map(n,function(n,i){return{score:e.quicksilver.score(((r.score?r.score.call(n,n):n)+"").toLowerCase(),t.toLowerCase()),index:i,item:n}}),a=$.Deferred();return _.any(i,function(e){return e.score})?(i=i.sort(function(e,t){return e.score===t.score?e.index-t.index:0===e.score||0===t.score?e.score-t.score:t.score-e.score}),a.resolve(i)):a.reject(),a.promise()},scoreByNodeText:function(){return $(this).text()}};_.namespace(t,"helpers").Search=n}(window,tracker),function(){"use strict";function e(e,t){var n=e.decorator&&e.decorator()&&e.decorator().toJSON()||e.toJSON();return JST[t](n)}function t(e,t,n){return e.css({position:"absolute",top:t*n,left:0,right:0}).show()}var n=this,r=_.namespace(n,"tracker"),i=_.namespace(n,"next"),a=r.helpers.view,o=i.View.extend({__name__:"CollectionView",initialize:_.wrap(i.View.prototype.initialize,function(n){function r(n){return n=n||{},a.requestAnimationFrame(function(){var r=i.$(u).scrollTop(),a=Math.floor(r/s),d=a+g+1,m=h?o.filter(i.filter):o.models,v=m.slice(a,d),y=i.$(c);_.each(v,function(r){var a=i.$(l+"."+r.cid);a.length?n.forceRender&&(a=a.replaceWith(e.call(i,r,p))):a=$(e.call(i,r,p)).hide().appendTo(y),t(a,m.indexOf(r),s)}),i.$(_.chain(f).difference(v).map(function(e){return l+"."+e.cid}).value().join(",")).hide(),y.css({height:s*m.length}),f=v})}n.apply(this,_.rest(arguments));var i=this,o=this.collection,s=_.result(this,"itemHeight"),l=_.result(this,"itemSelector"),c=_.result(this,"collectionSelector"),u=_.result(this,"viewportSelector"),d=_.result(this,"viewportHeight"),p=_.result(this.templates,"item"),h=_.isFunction(i.filter),g=Math.ceil(d/s),f=[];this.delegateEvents({"update:viewport":r()},[o,{"add remove change reorder reset":r({forceRender:!0})}])}),render:function(){var e=this,t=_.result(this.templates,"viewport"),n=_.result(this,"viewportSelector"),r=_.result(this,"viewportHeight");return this.html(JST[t]()),this.$(n).on("scroll",function(){e.$trigger("update:viewport")}),this.$(n).css({position:"relative",height:r}),this.$trigger("update:viewport"),this}});_.namespace(i,"views").CollectionView=o}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/add_remove_labels/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return'\n      <label>\n        <input type="text" name="filter" autofocus>\n      </label>\n    '}function o(){return" workspace"}n=n||e.helpers;var s,l,c="",u=this,d="function",p=n.blockHelperMissing;return c+='<header class="title">\n  <h2>Add/Remove Labels</h2>\n</header>\n<article class="content">\n  <div class="filter">\n    ',l=n.formTag,l?s=l.call(t,{hash:{},inverse:u.noop,fn:u.program(1,a,i)}):(s=t.formTag,s=typeof s===d?s():s),n.formTag||(s=p.call(t,s,{hash:{},inverse:u.noop,fn:u.program(1,a,i)})),(s||0===s)&&(c+=s),c+='\n  </div>\n  <div class="labels_wrapper ',s=t.layout,s=null==s||s===!1?s:s.workspace,s=n["if"].call(t,s,{hash:{},inverse:u.noop,fn:u.program(3,o,i)}),(s||0===s)&&(c+=s),c+='"></div>\n  <div class="controls"></div>\n</article>\n'}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/add_remove_labels/controls"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/controls"]=Handlebars.template(function(e,t,n,r,i){function a(){return'\n  <nav>\n    <button class="apply submit" type="button" title="Apply">Apply</button>\n    <button class="cancel" type="button" title="Cancel">cancel</button>\n  </nav>\n'}function o(){return'\n  <a class="show_create_label" title="Create new label">create new label</a>\n'}n=n||e.helpers;var s,l="",c=this;return s=t.is_dirty,s=n["if"].call(t,s,{hash:{},inverse:c.program(3,o,i),fn:c.program(1,a,i)}),(s||0===s)&&(l+=s),l+="\n"}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/controls"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/add_remove_labels/create"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/create"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n    <button type="submit" class="create submit">create</button>\n    <fieldset>\n      <input type="text" value="',r=n.value,r?t=r.call(e,{hash:{}}):(t=e.value,t=typeof t===c?t():t),i+=u(t)+'" class="std" name="label[name]" autofocus>\n    </fieldset>\n  '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.helperMissing;return l+='<header class="title">\n  <h2>Create New Label</h2>\n</header>\n<article class="content">\n  ',o={},o["class"]="create_label",s=n.formTag,o=s?s.call(t,{hash:o,inverse:d.noop,fn:d.program(1,a,i)}):p.call(t,"formTag",{hash:o,inverse:d.noop,fn:d.program(1,a,i)}),(o||0===o)&&(l+=o),l+="\n</article>\n"}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/create"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/add_remove_labels/labels"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/labels"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<div class="labels">\n  <ol></ol>\n</div>\n'}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/labels"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/add_remove_labels/label"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/label"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a,s="";return s+='\n  <li class="label ',a=n.cid,a?r=a.call(e,{hash:{}}):(r=e.cid,r=typeof r===d?r():r),s+=p(r)+'">\n    ',r={},i=e.cid,r["data-cid"]=i,a=n.formTag,r=a?a.call(e,{hash:r,inverse:h.noop,fn:h.program(2,o,t)}):f.call(e,"formTag",{hash:r,inverse:h.noop,fn:h.program(2,o,t)}),(r||0===r)&&(s+=r),s+="\n  </li>\n"}function o(e,t){var r,i,a="";return a+='\n      <input type="hidden" name="label[id]" value="',i=n.id,i?r=i.call(e,{hash:{}}):(r=e.id,r=typeof r===d?r():r),a+=p(r)+'">\n      ',i=n.states,i?r=i.call(e,{hash:{},inverse:h.noop,fn:h.programWithDepth(s,t,e)}):(r=e.states,r=typeof r===d?r():r),n.states||(r=g.call(e,r,{hash:{},inverse:h.noop,fn:h.programWithDepth(s,t,e)})),(r||0===r)&&(a+=r),a+="\n    "}function s(e,t,r){var i,a,o="";return o+='\n        <input name="label[state]" id="',i=r.cid,i=typeof i===d?i():i,o+=p(i)+"_",a=n.current,a?i=a.call(e,{hash:{}}):(i=e.current,i=typeof i===d?i():i),o+=p(i)+'" type="radio" value="',a=n.current,a?i=a.call(e,{hash:{}}):(i=e.current,i=typeof i===d?i():i),o+=p(i)+'" ',a=n.checked,a?i=a.call(e,{hash:{},inverse:h.noop,fn:h.program(4,l,t)}):(i=e.checked,i=typeof i===d?i():i),n.checked||(i=g.call(e,i,{hash:{},inverse:h.noop,fn:h.program(4,l,t)})),(i||0===i)&&(o+=i),o+='>\n        <label class="',a=n.current,a?i=a.call(e,{hash:{}}):(i=e.current,i=typeof i===d?i():i),o+=p(i)+" ",i=r.type,i=typeof i===d?i():i,o+=p(i)+'" for="',i=r.cid,i=typeof i===d?i():i,o+=p(i)+"_",a=n.next,a?i=a.call(e,{hash:{}}):(i=e.next,i=typeof i===d?i():i),o+=p(i)+'" title="',i=r.name,i=typeof i===d?i():i,o+=p(i)+'">',i=r.name,i=typeof i===d?i():i,o+=p(i)+"</label>\n      "}function l(){return'checked="checked"'}n=n||e.helpers;var c,u="",d="function",p=this.escapeExpression,h=this,g=n.blockHelperMissing,f=n.helperMissing;return c=t.visible,c=n["if"].call(t,c,{hash:{},inverse:h.noop,fn:h.program(1,a,i)}),(c||0===c)&&(u+=c),u+="\n"}),this.HandlebarsTemplates["next/lightboxes/add_remove_labels/label"]}.call(this)}.call(this),function(){"use strict";function e(e){var t=new(a.View.extend({}))(e),n=t.collection;return t.render=function(){return t.html(JST["templates/next/lightboxes/add_remove_labels/controls"]({is_dirty:n.isDirty()})),t},t.delegateEvents([n,{"change:state":t.render}]),t}function t(e){var t=new(a.View.extend({}))(e);return t.render=function(){return t.html(JST["templates/next/lightboxes/add_remove_labels/create"]()),t},t}function n(n){function r(e,t){var n={labels:T.toJSON(),layout:i.Layout.current().decorator().toJSON()};_.extend(n,t||{}),E.$el.html(JST[e](n)).position({my:"right top",at:"right bottom",offset:"0 5",of:S})}function c(e){T.search($(e.currentTarget).serializeObject().filter).then(function(e){_.each(e,function(e){var t=T.get(e.item.cid);t.set({visible:!!e.score},{silent:!0})}),T.trigger("reset",T),E.$(".labels").scrollTop(0)})}function u(e){var t=E.$(e.currentTarget);T.get(t.data("cid")).set(t.serializeObject().label)}function d(){E.$trigger("close.lightbox")}function p(e){return T.filter(function(t){return t.get("original_state")!==t.get("state")&&t.get("state")===e})}function h(){return w.reduce(function(e,t){return e+t.selectedModels().length},0)}function g(){var e=p("all"),t=p("none"),n=h();e.length&&mixpanel.track("/selected_stories/apply_label",{selected_count:n}),t.length&&mixpanel.track("/selected_stories/remove_label",{selected_count:n})}function f(){T.save(),g()}function m(){var e=E.$(".filter input").serializeObject().filter;r("templates/next/lightboxes/add_remove_labels/create",{value:e})}function v(e){T.create($(e.currentTarget).serializeObject().label)}function y(){E.views().addView(".labels_wrapper",new l({collection:T})).addView(".controls",new e({collection:T})).addView(b=new t({el:E.el,collection:T})),i.CommandQueue.pause("add/remove labels lightbox opened"),E.delegateEvents({"keyup .filter input":o.submitClosestForm(),"change :radio":o.submitClosestForm(),"submit .label form":[s.preventDefault,u],"submit .filter form":[s.preventDefault,c],"submit form.create_label":[s.preventDefault,v,d],"click .apply":[s.preventDefault,f,d],"click .show_create_label":[s.preventDefault,m]})}var b,E=new(a.View.extend({className:"lightbox add_remove_labels"}))(n),S=n.target,w=new i.Projects(n.projects),T=new i.MultiLabels([],{projects:w}).build();return E.render=function(){return r("templates/next/lightboxes/add_remove_labels/show"),E.views().pick(".labels_wrapper",".controls").render().attach(),E},y(),E}var r=this,i=_.namespace(r,"tracker"),a=_.namespace(r,"next"),o=i.helpers.view,s=i.helpers.view,l=a.views.CollectionView.extend({__name__:"LightboxesAddRemoveLabels",viewportSelector:".labels",viewportHeight:240,collectionSelector:".labels ol",itemSelector:".label",itemHeight:24,filter:function(e){return e.get("visible")},templates:{viewport:"templates/next/lightboxes/add_remove_labels/labels",item:"templates/next/lightboxes/add_remove_labels/label"}});_.namespace(i,"views.lightboxes").AddRemoveLabels=n}.call(this),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return e.browser.safari||"BackCompat"==r.compatMode?r.body:r.documentElement})},e.fn.scrollTo=function(r,i,a){return"object"==typeof i&&(a=i,i=0),"function"==typeof a&&(a={onAfter:a}),"max"==r&&(r=9e9),a=e.extend({},n.defaults,a),i=i||a.speed||a.duration,a.queue=a.queue&&a.axis.length>1,a.queue&&(i/=2),a.offset=t(a.offset),a.over=t(a.over),this._scrollable().each(function(){function o(e){c.animate(d,i,a.easing,e&&function(){e.call(this,r,a)})}var s,l=this,c=e(l),u=r,d={},p=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}u=e(u,this);case"object":(u.is||u.style)&&(s=(u=e(u)).offset())}e.each(a.axis.split(""),function(e,t){var r="x"==t?"Left":"Top",i=r.toLowerCase(),h="scroll"+r,g=l[h],f=n.max(l,t);if(s)d[h]=s[i]+(p?0:g-c.offset()[i]),a.margin&&(d[h]-=parseInt(u.css("margin"+r))||0,d[h]-=parseInt(u.css("border"+r+"Width"))||0),d[h]+=a.offset[i]||0,a.over[i]&&(d[h]+=u["x"==t?"width":"height"]()*a.over[i]);else{var m=u[i];d[h]=m&&m.slice&&"%"==m.slice(-1)?parseFloat(m)/100*f:m}/^\d+$/.test(d[h])&&(d[h]=d[h]<=0?0:Math.min(d[h],f)),!e&&a.queue&&(g!=d[h]&&o(a.onAfterFirst),delete d[h])}),o(a.onAfter)}).end()},n.max=function(t,n){var r="x"==n?"Width":"Height",i="scroll"+r;if(!e(t).is("html,body"))return t[i]-e(t)[r.toLowerCase()]();var a="client"+r,o=t.ownerDocument.documentElement,s=t.ownerDocument.body;return Math.max(o[i],s[i])-Math.min(o[a],s[a])}}(jQuery),/*!
 * jQuery UI Core @VERSION
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
function(e,t){function n(t,n){var i,a,o,s=t.nodeName.toLowerCase();return"area"===s?(i=t.parentNode,a=i.name,t.href&&a&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&r(o)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var i=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,a=e(this[0]);a.length&&a[0]!==document;){if(r=a.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(a.css("zIndex"),10),!isNaN(i)&&0!==i))return i;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=100===n.offsetHeight,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(a,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var a="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?s["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?s["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=6===parseFloat(t[1],10)}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,a=e.ui[t].prototype;for(i in r)a.plugins[i]=a.plugins[i]||[],a.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&t+n>e},isOver:function(t,n,r,i,a,o){return e.ui.isOverAxis(t,r,a)&&e.ui.isOverAxis(n,i,o)}}))}(jQuery),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={isMetaSave:function(e){var n=_.compact([e.metaKey,e.ctrlKey,e.shiftKey,e.altKey]).length;return!(1!==n||!(t.isMac()&&e.metaKey||e.ctrlKey)||e.which!=="S".charCodeAt(0))},isShiftEnter:function(e){return e.shiftKey&&n.isEnter(e)}};_.each($.ui.keyCode,function(e,t){n[_.camelize("is_"+t.toLowerCase())]=function(t){return t.which===e}}),_.namespace(t,"helpers").key=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(t.helpers.key,t.View.extend({__name__:"Dropdown",events:function(){var e=this.options.searchField||".dropdown input.search",t={"click .dropdown":"stopPropagation_","click .dropdown .selection":"toggleDropdownClicked_","click .dropdown .target":"toggleDropdownClicked_","click .dropdown .dropdown_menu .dropdown_item":"pickItem_","afterScrimClose .dropdown":"afterScrimClose_",dropdownClose:"afterScrimClose_",dropdownOpen:"openDropdown_","dragstart .dropdown":"dragstart_","dragend .dropdown":"dragend_","drag .dropdown":"drag_","drop .dropdown":"noop_","mouseenter .dropdown .dropdown_menu":"mouseenterMenu_","mouseleave .dropdown .dropdown_menu":"mouseleaveMenu_","mouseenter .dropdown .dropdown_menu .dropdown_item":"mouseenterItem_","mouseleave .dropdown .dropdown_menu .dropdown_item":"mouseleaveItem_","keyup .dropdown .honeypot":"keyupHoneypot_"};return t["keydown .dropdown .honeypot, "+e]="keydownHoneypot_",t["keydown "+e]="keydownSearch_",t["keyup "+e]="keyupSearch_",t["change "+e]="stopImmediatePropogation_",t},initialize:function(e){this.options=e,this.options.isAutoSelectFirstItemOnSearch=e.isAutoSelectFirstItemOnSearch===!1?!1:!0,this.$currentDropdown=null,this.cmdSPressed_=!1},remove:function(){this.$trigger("dropdownClose"),t.View.prototype.remove.call(this)},noop_:$.noop,mouseenterMenu_:function(e){this.getDropdown_(e).find(".dropdown_menu").addClass("hover").find(".dropdown_item").removeClass("hover")},mouseleaveMenu_:function(e){this.getDropdown_(e).find(".dropdown_menu").removeClass("hover")},mouseenterItem_:function(e){e.stopPropagation(),this.getDropdown_(e).find(".dropdown_menu li").removeClass("hover"),this.getDropdown_(e).find(".dropdown_menu").addClass("hover"),this.getItem_(e).addClass("hover")},mouseleaveItem_:function(e){this.getItem_(e).removeClass("hover")},keyupHoneypot_:function(e){var t=this.getDropdown_(e),n=this.findSearchField_(t),r=t.find(".honeypot"),i=r.val();_.isBlank(i)||(e.stopImmediatePropagation(),this.toggleDropdown_(e,!0),n.val(i).focus().trigger("keyup"),r.val(""))},keydownSearch_:function(e){this.cmdSPressed_=t.helpers.key.isMetaSave(e)},keyupSearch_:function(e){var t=[38,40,13,27,9];if(!_.contains(t,e.which)&&!this.cmdSPressed_){e.stopImmediatePropagation(),this.isDropdownOpen_(e)||this.toggleDropdown_(e,!0);var n=_($(e.target).val()).trim(),r=this.getDropdown_(e);this.search_(n,r)}this.cmdSPressed_=!1},keydownHoneypot_:function(e){function t(){l=this.getDropdown_(e),c=l.find(".dropdown_menu"),u=l.find("section")}function n(){var e=c.find(".dropdown_item.hover");return 0===e.length&&(e=c.find(".dropdown_item.selected")),e}function r(){e.preventDefault(),e.stopPropagation();var t=38===e.which?"prevAll":"nextAll";if(u.hasClass("visible")){var r=n(),i=r.length?r[t](":not(.hidden)").first():l.find(".dropdown_item:not(.hidden):first");if(c.addClass("hover"),i.length){r.removeClass("hover"),i.addClass("hover").trigger("itemHover",i.text());var a=i.position().top+i.height()-c.height();i.position().top+i.height()>c.height()?c.find("ul").scrollTo(c.find("ul").scrollTop()+a):i.position().top<0&&c.find("ul").scrollTo(i)}}else this.toggleDropdown_(e,!0);this.findSearchField_(l).trigger("resize")}function i(){e.preventDefault(),u.hasClass("visible")&&(e.stopPropagation(),this.pickItem_(e,n()))}function a(){e.preventDefault(),u.hasClass("visible")&&(e.stopPropagation(),this.toggleDropdown_(e,!1),l.find(".honeypot").focus())}function o(){u.hasClass("visible")&&this.pickItem_(_({}).extend(e,{preventDefault:$.noop}),n())}function s(){this.toggleDropdown_(e,!0),this.findSearchField_(l).trigger("resize")}var l,c,u;switch(e.which){case 38:case 40:t.call(this),r.call(this);break;case 13:t.call(this),i.call(this);break;case 27:t.call(this),a.call(this);break;case 9:t.call(this),o.call(this);break;case 32:t.call(this),s.call(this)}},dragstart_:function(e){0===$(e.target).parents(".dropdown section").length&&(this.$currentDropdown=this.toggleDropdown_(e,!0))},dragend_:function(e){this.$currentDropdown&&($.contains(this.$currentDropdown.find("section")[0],e.target)?this.pickItem_(e).removeClass("hover"):this.toggleDropdown_(e,!1))},getItem_:function(e){return $(e.target).closest(".dropdown li")},drag_:function(e){if(this.$currentDropdown){var t=this.$currentDropdown.find("section");t.find("li").removeClass("hover"),$.contains(t[0],e.target)&&this.getItem_(e).addClass("hover")}},openDropdown_:function(e){e.preventDefault(),this.toggleDropdown_(e,!0)},stopPropagation_:function(e){e.stopPropagation()},stopImmediatePropogation_:function(e){e.stopImmediatePropagation()},isDropdownOpen_:function(e){return this.getDropdown_(e).find("section").hasClass("visible")},getDropdown_:function(e){return this.options.searchField?this.$(".dropdown"):$(e.target).closest(".dropdown")},setDragOptions_:function(e){var t=e.data("dragdata");t&&e.data("dragdata",_(t).extend(n.dragOptions))},findSearchField_:function(e){return this.options.searchField?$(this.options.searchField):e.find("input.search")},filterResults_:function(e,t,n){n=1===_.uniq(_.map(n,function(e){return e.score})).length?_(n).chain().map(function(e){return $(e.item).removeClass("hidden")}).sortBy(function(e){return e.data("index")}).value():_(n).map(function(e){return $(e.item).removeClass("hover").toggleClass("hidden",0===e.score).get(0)}),e.find("ul").html(n),e.find("li").removeClass("hover"),this.options.isAutoSelectFirstItemOnSearch&&(e.find("li").removeClass("selected"),e.find("li").not(".hidden").first().addClass("hover"))},search_:function(e,n){var r=this,i=n.find(".dropdown_menu"),a=n.find(".dropdown_item"),o={score:t.helpers.Search.scoreByNodeText},s=t.helpers.Search.search(e,a.toArray(),o);s.then(function(e){r.filterResults_(i,a,e)})},afterScrimClose_:function(e){e.stopPropagation(),this.toggleDropdown_(e,!1)},toggleDropdown_:function(e,n){var r=this.getDropdown_(e);if(this.setDragOptions_(r),!r.hasClass("disabled")){{var i=r.find("section");i.children(".dropdown_menu")}if(_.isUndefined(n)||i.hasClass("visible")!==n){i.toggleClass("visible",n);var a=this.findSearchField_(r);return i.hasClass("visible")?(a.length?a.focus():r.find(".honeypot").focus(),this.options.disableScrim||(r.trigger("scrimOpen"),t.CommandQueue.pause("dropdown was shown"))):(a.length&&this.options.resetSearchOnClose&&(a.val(""),this.search_("",r)),this.options.disableScrim||(t.$el.trigger("scrimClose"),t.CommandQueue.resume("dropdown was closed"))),r}}},toggleDropdownClicked_:function(e){e.preventDefault(),this.toggleDropdown_(e)},closeDropdown_:function(e){this.toggleDropdown_(e,!1),!this.options.disableScrim&&t.CommandQueue.isPaused()&&(t.$el.trigger("scrimClose"),t.CommandQueue.resume("dropdown was closed"))},pickItem_:function(e,t){var n=$("a",e.currentTarget).attr("href");if(n&&"#"!==n||e.preventDefault(),t=t||this.getItem_(e),0===t.length)return $();t.find("a").trigger("picked.dropdown");var r=this.getDropdown_(e);r.find(".honeypot").focus().end().find("li").removeClass("selected").end();var i=t.data("value")+"",a=r.find(":input[type=hidden]");return i!==a.val()&&(r.find(".selection span").text(t.text()),a.val(i).trigger("change")),this.closeDropdown_(e),t.addClass("selected")}},{dragOptions:{distance:5}}));_.namespace(t,"views").Dropdown=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/move_to_project/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/move_to_project/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a,s="";return s+='\n    <nav>\n      <button class="submit" type="submit" title="Move"',r=e.disabled,r=n["if"].call(e,r,{hash:{},inverse:u.noop,fn:u.program(2,o,t)}),(r||0===r)&&(s+=r),s+=">Move</button>\n    </nav>\n    <fieldset>\n      ",r={},r.name="project[id]",i=e.cid,r.cid=i,r["id-prefix"]="project",r["class"]="move_to_project_dropdown",i=e.disabled,r.disabled=i,r["disabled-text"]="<No Projects To Move To>",i=e.projects,r.options=i,r.text="text",r.value="value",a=n.dropdown,r=a?a.call(e,{hash:r}):d.call(e,"dropdown",{hash:r}),s+=p(r)+"\n    </fieldset>\n  "}function o(){return' disabled="disabled"'}n=n||e.helpers;var s,l,c="",u=this,d=n.helperMissing,p=this.escapeExpression,h="function",g=n.blockHelperMissing;return c+='<header class="title">\n  <h2>Move to Project</h2>\n</header>\n<article class="content">\n  ',l=n.formTag,l?s=l.call(t,{hash:{},inverse:u.noop,fn:u.program(1,a,i)}):(s=t.formTag,s=typeof s===h?s():s),n.formTag||(s=g.call(t,s,{hash:{},inverse:u.noop,fn:u.program(1,a,i)})),(s||0===s)&&(c+=s),c+="\n</article>\n"}),this.HandlebarsTemplates["next/move_to_project/show"]}.call(this)}.call(this),function(){"use strict";function e(){return r.Person.current().memberships().chain().reject(function(e){return r.Person.current().isReadOnly(e.get("project_id"))||r.Project.current()&&e.get("project_id")===r.Project.current().id}).map(function(e){return{value:e.get("project_id"),text:e.get("project_name")}}).sortBy(function(e){return e.text.toLowerCase()}).value()}function t(t){function n(e){var t=+$(e.currentTarget).serializeObject().project.id,n=r.Person.current().memberships().findByProjectId(t),i=_.reduce(c,function(e,n){return n.id!==t?e+n.selectedModels().length:e},0);mixpanel.track("/selected_stories/move_to_project",{selected_count:i});var a=_.compact(_.map(c,function(e){return e.id!==t?e.selectedModels().moveToProject(t):(e.selectedModels().set([]),void 0)}));a.length>0&&$.when.apply(s,a).then(function(){r.Layout.current().flashMessages().add({type:"StoriesMovedToProject",count:i,project_name:n.get("project_name")})}),$(".selector.selected").removeClass("selected")}function a(){s.$trigger("close.lightbox")}function o(){r.CommandQueue.pause("move to project lightbox opened"),s.views().addView(new r.views.Dropdown({el:s.el,disableScrim:!0})),s.delegateEvents({"submit form":[n,a]})}var s=new(i.View.extend({className:"lightbox move_to_project"}))(t),l=t.target,c=t.projects;return s.render=function(){var t=e();return s.$el.html(JST["templates/next/move_to_project/show"]({cid:s.cid,projects:t,disabled:0===t.length})).position({my:"right top",at:"right bottom",offset:"0 5",of:l}),s},o(),s}var n=this,r=_.namespace(n,"tracker"),i=_.namespace(n,"next");_.namespace(r,"views.lightboxes").MoveToProject=t}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.View.extend({__name__:"SelectedStoriesIndex",forSelectedStoriesInTheSameProject:function(e){return _.chain(this.stream.get("selected_stories")).groupBy(function(e){return e.project().id}).map(function(n,r){return e.call(this,t.Project.get(+r).selectedModels(),n)}).value()},initialize:_.wrap(n.View.prototype.initialize,function(n,r){function i(e){mixpanel.track("/selected_stories/"+e,{selected_count:d.get("selected_stories").length})}function a(){u.forSelectedStoriesInTheSameProject(function(e,n){e.remove(n),_.each(t.Person.current().panels().models,function(e){e.unset("all_models_selected")})}),$(".selector.selected").removeClass("selected")}function o(e){return function(t){p.create(e,{target:t.currentTarget,projects:u.forSelectedStoriesInTheSameProject(function(e){return e.project()})})}}function s(){var e={url:"/services/v5/stories/export",ids:_.pluck(d.get("selected_stories"),"id"),csrf_token:t.csrfToken()},n=JST["templates/next/selected_stories/export_to_csv"](e);$(n).hide().appendTo(u.el).submit().remove()}function l(){var n=d.get("selected_stories").length,r=_.trim(JST["templates/panels/controls/delete_confirmation"]({story_count:n}));if(e.confirm(r)){i("delete");var a=u.forSelectedStoriesInTheSameProject(function(e){return e.destroy()});$.when.apply(this,a).done(function(){t.Layout.current().flashMessages().add({type:"StoriesDeleted",count:n})})}}function c(){var e=0;u.forSelectedStoriesInTheSameProject(function(n){var r=_.sortBy(n.models,function(e){return e.project().stories().indexOf(e)});_.each(r.reverse(),function(n){var r=t.stories.Service.cloneStory(n,t.Person.current());t.panels.Service.revealModel(t.Person.current().panels(),r),e++})}),a(),mixpanel.track("/selected_stories/clone",{selected_count:e}),t.Layout.current().flashMessages().add({type:"StoriesCloned",count:e})}n.apply(this,_.rest(arguments));var u=this,d=u.stream=r.stream,p=new t.LightboxesController;this.delegateEvents({"click .deselect_all":[function(){i("deselect")},a],"click .add_remove_labels":o("add_remove_labels"),"click .move":o("move_to_project"),"click .export_csv":[function(){i("export_to_csv")},s],"click .delete":l,"click .clone":c},[this.stream,{"change:selected_stories":_.bind(this.render,this)}])}),render:function(){var e={selected_stories_count:this.stream.get("selected_stories").length,readonly:_.any(this.forSelectedStoriesInTheSameProject(function(e){return t.Person.current().isReadOnly(e.project())}))};return this.html(JST["templates/next/selected_stories/index"](e)),this}});_.namespace(n,"views.selectedStories").Index=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(e.tc,React.createClass({displayName:"SelectedStoriesArea",render:function(){return React.DOM.div(null)},componentDidMount:function(){var e=new next.views.selectedStories.Index({stream:this.props.stream,el:this.getDOMNode()});this.setState({view:e}),e.render()},componentWillUnmount:function(){this.state.view.remove()},shouldComponentUpdate:function(){return!1}}));t.SelectedStoriesArea=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/search/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/search/edit"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n  <a class="magnify"></a>\n  <input name="search"\n         type="text"\n         placeholder="Search ',r=e.in_workspace,r=n["if"].call(e,r,{hash:{},inverse:p.program(4,s,t),fn:p.program(2,o,t)}),(r||0===r)&&(a+=r),a+='"\n         value="',i=n.query,i?r=i.call(e,{hash:{}}):(r=e.query,r=typeof r===h?r():r),a+=g(r)+'"\n    ',r=e.disableSearch,r=n["if"].call(e,r,{hash:{},inverse:p.noop,fn:p.program(6,l,t)}),(r||0===r)&&(a+=r),a+=' />\n  <a class="anchor search_help"></a>\n'}function o(){return"workspace"}function s(){return"project"}function l(){return' disabled="disabled"'}n=n||e.helpers;var c,u,d="",p=this,h="function",g=this.escapeExpression,f=n.helperMissing;return c={},c["class"]="search_bar",u=n.formTag,c=u?u.call(t,{hash:c,inverse:p.noop,fn:p.program(1,a,i)}):f.call(t,"formTag",{hash:c,inverse:p.noop,fn:p.program(1,a,i)}),(c||0===c)&&(d+=c),d+='\n<section class="dd_menu">\n  <header class="title">\n    <a class="help" href="/help/faq#howcanasearchberefined" target="_blank">Search Help</a>\n    <h2>Search Operators</h2>\n  </header>\n  <article class="content">\n    <p class="syntax">SYNTAX: Search terms must be followed by a colon and use quotes for search terms containing spaces, dashes, etc.</p>\n    <div class="column">\n      <ul>\n        <li><span class="keyword">name</span><span class="data">voyage</span></li>\n        <li><span class="keyword">label</span><span class="data">&quot;needs discussion&quot;</span></li>\n        <li><span class="keyword">type</span><span class="data">feature</span></li>\n        <li><span class="keyword">state</span><span class="data">unstarted</span></li>\n      </ul>\n\n      <ul>\n        <li><span class="keyword">estimate</span><span class="data">8</span></li>\n        <li><span class="keyword">estimate</span><span class="data">-1</span><span class="comment">unestimated</span></li>\n      </ul>\n\n      <ul>\n        <li><span class="keyword">requester</span><span class="data">JTK</span></li>\n        <li><span class="keyword">owner</span><span class="data">&quot;James T Kirk&quot;</span></li>\n        <li><span class="keyword">owned_by</span><span class="data">&quot;&quot;</span><span class="comment">no owner</span></li>\n      </ul>\n\n      <p class="comment">Followed by you</p>\n      <ul>\n        <li><span class="keyword">is</span><span class="data">following</span></li>\n      </ul>\n    </div>\n    <div class="column">\n      <ul>\n        <li><span class="keyword">has</span><span class="data">attachment</span></li>\n      </ul>\n\n      <ul>\n        <li><span class="keyword">created_on</span><span class="data">11/16/2012</span></li>\n        <li><span class="keyword">updated_since</span><span class="data">&quot;Nov 16 2012&quot;</span></li>\n        <li><span class="keyword">accepted_before</span><span class="data">11/16/2012</span></li>\n        <li><span class="keyword">created</span><span class="data">today</span></li>\n        <li><span class="keyword">updated</span><span class="data">-1w</span></li>\n        <li><span class="keyword">accepted</span><span class="data">-2weeks..today</span></li>\n      </ul>\n\n      <p class="comment">For NOT searches, prefix with minus</p>\n      <ul>\n        <li><span class="keyword negated">label</span><span class="data">beta</span></li>\n      </ul>\n\n\n      <p class="comment">Boolean searches</p>\n      <ul>\n        <li>\n          <span class="group"><!--\n          --><span class="keyword">label</span><span class="data">blocked</span><!--\n          --><span class="keyword">OR</span><!--\n          --><span class="keyword">label</span><span class="data">"needs design"</span><!--\n       --></span><!--\n       --><span class="keyword">AND</span><!--\n       --><span class="keyword">state</span><span class="data">unstarted</span>\n        </li>\n      </ul>\n    </div>\n  </article>\n</section>\n'}),this.HandlebarsTemplates["next/search/edit"]}.call(this)}.call(this),function(){"use strict";function e(e){return!_.str.include(e.get("query"),"includedone:true")&&e.searchResults().find(function(e){return"stories"===e.get("type")&&!e.totalHits()&&e.totalHitsWithDone()})}function t(n,r){n.fetch().done(function(){if(_.str.include(n.get("query"),"includedone:true")&&r.set({show_done_stories:!0}),e(n))r.set({show_done_stories:!0}),n.set({query:n.get("query")+" includedone:true"}),n.searchResults().reset(),t(n,r);else{r.unset("items_hidden"),r.unset("message");var i=n.searchResults().reduce(function(e,t){return e+t.get("total_hits_with_done")},0);r.get("track_event")&&(mixpanel.track(r.get("track_event"),{result_count:i}),r.unset("track_event"))}}).fail(function(e){var t={};try{t=JSON.parse(e.responseText)}catch(n){}r.set({message:t.data&&t.data.general_problem||"Search is currently unavailable"})})}var n=this,r=_.namespace(n,"next"),i=r.Controller.extend({__name__:"SearchesController",show:function(e){var n=e.search();n&&(e.set({message:"Searching..."}),n.searchResults().reset(),t(n,e))}});_.namespace(r,"projects").SearchesController=i}.call(this),function(){"use strict";function e(e,t,a,o){var s=a.get($(e.target).closest(".panel").data("cid"));if(s&&s.search()&&!s.get("pinned")&&!s.get("has_saved_search"))o=s.search(),o.set({query:t}),(new r.projects.SearchesController).show(s);else{o.set({query:t}),o=new n.Search({query:t},{project:o.project(),workspace:o.workspace()});var l=a.where({type:"search",pinned:!1,has_saved_search:!1});i.panels.collapseItemsInPanels(l)&&(_.invoke(l,"close",a),s=a.push({type:"search",items_hidden:!0,track_event:"/search/query"},{search:o,project:o.project(),layoutScheme:n.Person.current().layoutScheme(),at:a.indexOf(s)+1||a.size()}))}return s&&_.str.include(t,"includedone:true")&&s.set({show_done_stories:!0}),s}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next"),i=n.helpers,a=r.View.extend({__name__:"SearchEdit",template:"templates/next/search/edit",initialize:_.wrap(r.View.prototype.initialize,function(t,r){function i(t,r){var i=e(t,r,p,d);i&&(d.set("query",r),i.set("name",r)),(n.Layout.current().get("maximized")||n.Layout.current().get("singleModelView"))&&$(".minimize").click(),l.$(".search_bar input").focus()}function a(e){e.preventDefault();var t=$(e.target),n=t.closest("form").serializeObject();""!==_.trim(n.search)&&i(e,n.search)}function o(){l.$(".search_bar input").val(d.get("query"))}function s(e){d.set({query:$(e.target).val()})}t.call(this,r);var l=this,c=n.Project.current(),u=n.Workspace.current(),d=l.model=l.model||new n.Search({},{project:c,workspace:u}),p=r.panels;l.inWorkspace=_.isUndefined(c),l.delegateEvents({"click .search_bar .magnify":a,"submit .search_bar":a,"focusout .search_bar input":s},[n.$el,{openSearchPanel:i}],[d,{"change:query":o}])}),render:function(){return this.$el.html(JST[this.template]({in_workspace:this.inWorkspace,query:this.model.get("query")})),this}});_.namespace(r,"views.search").Edit=a}.call(this),function(){"use strict";function e(){function e(e){o.add(e)}function t(e){o.remove(e)}function r(n){n.selectedModels().on("add",e).on("remove",t).on("addAll",function(e){o.add(e,{silent:!0}),o.trigger("addAll",e)}).on("removeAll",function(e){o.remove(e,{silent:!0}),o.trigger("removeAll",e)})}function i(i){new n.Stream(i,"add").each(r),new n.Stream(i,"remove").each(function(n){n.selectedModels().off("add",e).off("remove",t),o.remove(n.selectedModels().models)})}function a(){n.Project.current()?r(n.Project.current()):i(n.Workspace.current().projects())}var o=new n.Collection;return a(),new n.Stream(o,"add").merge(new n.Stream(o,"remove"),new n.Stream(o,"addAll"),new n.Stream(o,"removeAll")).map(function(){return o.models.slice()}).set({selected_stories:[]}).toAttr("selected_stories")}var t=this,n=_.namespace(t,"tracker");_.namespace(n,"streams").SelectedStoriesStream=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=e.tc,r=React.createClass({displayName:"SignedInHeader",render:function(){var r=this.props.person,i=this.state.selectedStoriesStream.get("selected_stories").length>0,a=!e.FRONTEND_FLAGS.single_account_mode&&r.appSettings().get("time_enabled");return n.PageHeader(null,i?this.selectedStoriesArea():this.logoAndDropdown(),React.DOM.li({className:"tc_pull_right tc_extra_wide"},n.ProfileDropdown({className:"tn_profile_dropdown",name:r.get("username"),authenticityToken:t.csrfToken(),time_tracking_enabled:a,single_account_mode:e.FRONTEND_FLAGS.single_account_mode})),React.DOM.li({className:"tc_pull_right tc_extra_wide"},t.HelpDropdown({context:this.props.context,person:r,panels:r.panels(),appSettings:r.appSettings(),startTour:this.props.startTour})),r.appSettings().get("super_admin")?this.adminLink():null,React.DOM.li({className:"tc_pull_right tc_wide"},t.SearchBar({panels:r.panels()})),React.DOM.li({className:"tc_pull_right"},t.NotificationsDropdown({notifications:r.notifications()})),React.DOM.li({className:"expiration_callout"}))},logoAndDropdown:function(){var e=this.props.person.memberships().sortBy(function(e){return-(e.get("last_viewed_at")||0)}),t=_.map(e,function(e){return{url:"/projects/"+e.get("project_id"),name:e.get("project_name"),is_public:e.get("project_public")}}),r=_.chain(this.props.person.workspaces().models).sortBy(function(e){return-(e.get("last_viewed_at")||0)}).map(function(e){return{url:"/n/workspaces/"+e.id,name:e.get("name")}}).value();"stable"===this.props.person.appSettings().get("default_web_client")&&(r=null);var i={tn_projects_dropdown_hidden:_.isBlank(this.props.context.get("name"))};return[React.DOM.li({key:-1},n.HeaderLogo(null)),React.DOM.li({key:-2,className:React.addons.classSet(i)},n.ProjectsDropdown({name:this.projectNameArea(),projects:t,workspaces:r,user:this.props.person.toJSON()}))]},projectNameArea:function(){var e=this.props.context.get("name");return e=_.isBlank(e)?"__":e,this.props.context.get("public")?[React.DOM.span({className:"raw_context_name public",key:0},e),React.DOM.span({key:1,className:"public_project_label"},"(Public)")]:React.DOM.span({className:"raw_context_name"},e)},selectedStoriesArea:function(){return React.DOM.li({key:-3},t.SelectedStoriesArea({stream:this.state.selectedStoriesStream}))},adminLink:function(){return React.DOM.li({className:"tc_pull_right tc_wide"},n.AdminLink(null))},forceRender:function(){this.forceUpdate()},componentWillMount:function(){this.setState({selectedStoriesStream:new t.streams.SelectedStoriesStream})},componentDidMount:function(){this.state.selectedStoriesStream.on("change:selected_stories",this.forceRender),this.props.context.on("change:name",this.forceRender)},componentWillUnmount:function(){this.props.context.off("change:name",this.forceRender)}});t.SignedInHeader=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=e.tc,r=n.PageHeader,i=(n.ProjectsDropdown,n.HeaderLogo),a=(n.ProfileDropdown,n.DashboardLink,t.HelpDropdown),o=t.SearchBar,s=t.SelectedStoriesArea,l=(t.NotificationsDropdown,React.createClass({displayName:"GuestHeader",render:function(){var e=this.props.person,t=this.state.selectedStoriesStream.get("selected_stories").length>0;return r(null,t?this.selectedStoriesArea():this.logoAndName(),React.DOM.li({className:"tc_pull_right tc_extra_wide"},React.DOM.a({href:"/signin",className:"tc_header_item_name"},"sign in")),React.DOM.li({className:"tc_pull_right tc_extra_wide"},React.DOM.a({href:"/signup/new",className:"tc_header_item_name"},"sign up")),React.DOM.li({className:"tc_pull_right tc_extra_wide"},a({panels:e.panels(),appSettings:e.appSettings()})),React.DOM.li({className:"tc_pull_right"},o({panels:e.panels()})))},name:function(){return React.DOM.div({className:"tc_context_name"},React.DOM.span({className:"raw_context_name public"},this.props.context.get("name")),React.DOM.span({className:"public_project_label"},"(Public)"))},logoAndName:function(){return[React.DOM.li({key:-1},i(null)),React.DOM.li({key:-2},React.DOM.h1(null,this.props.context.get("name")?this.name():null))]},selectedStoriesArea:function(){return React.DOM.li({key:-3},s({stream:this.state.selectedStoriesStream}))},forceRender:function(){this.forceUpdate()},componentWillMount:function(){this.setState({selectedStoriesStream:new t.streams.SelectedStoriesStream})},componentDidMount:function(){this.state.selectedStoriesStream.on("change:selected_stories",this.forceRender),this.props.context.on("change:name",this.forceRender)},componentWillUnmount:function(){this.props.context.off("change:name",this.forceRender)}}));t.GuestHeader=l}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/people/controls/notifications/counter"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/people/controls/notifications/counter"]=Handlebars.template(function(e,t,n,r,i){function a(){return" unread"}n=n||e.helpers;var o,s,l="",c=this,u=n.helperMissing,d=this.escapeExpression;return l+='<span class="counter',o=t.unread_notifications_count,o=n["if"].call(t,o,{hash:{},inverse:c.noop,fn:c.program(1,a,i)}),(o||0===o)&&(l+=o),l+='">',o=t.unread_notifications_count,s=n.truncate,o=s?s.call(t,o,3,{hash:{}}):u.call(t,"truncate",o,3,{hash:{}}),l+=d(o)+"</span>\n"}),this.HandlebarsTemplates["next/people/controls/notifications/counter"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/people/controls/notifications/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/people/controls/notifications/index"]=Handlebars.template(function(e,t,n,r,i){function a(){return" no_notifications"}n=n||e.helpers;var o,s,l="",c=this,u=n.helperMissing;return l+='<div class="next menu notifications">\n  <a class="bell anchor"></a>\n  <div class="dd_menu">\n    <header class="title">\n      <a href="/notification_settings" class="panel_settings" target="_blank" title="Notifications settings"></a>\n      <h2>Notifications</h2>\n    </header>\n    <article class="notifications_content',o=t.notifications_count,s=n.isZero,o=s?s.call(t,o,{hash:{},inverse:c.noop,fn:c.program(1,a,i)}):u.call(t,"isZero",o,{hash:{},inverse:c.noop,fn:c.program(1,a,i)}),(o||0===o)&&(l+=o),l+='"></article>\n    <footer>\n      <nav>\n        <a class="mark_all_read">mark all as read</a>\n        <a class="open_notifications_panel">view all</a>\n      </nav>\n    </footer>\n  </div>\n</div>\n\n'
}),this.HandlebarsTemplates["next/people/controls/notifications/index"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.helpers.view,i=n.View.extend({__name__:"PeopleControlsNotificationsCounter",tagName:"span",initialize:_.wrap(n.View.prototype.initialize,function(e,t){e.call(this,t);var n=this.collection,r=_.bind(this.render,this);this.delegateEvents([n,{"add change reset":r}])}),render:function(){var e=this.collection;this.html(JST["templates/next/people/controls/notifications/counter"]({unread_notifications_count:e.unread().length}))}}),a=n.View.extend({__name__:"PeopleControlsNotificationsIndex",initialize:_.wrap(n.View.prototype.initialize,function(e,n){function a(){mixpanel.track("/panels/show",{panel_type:"notifications"}),l.$trigger("openNotificationsPanel")}function o(){l.$(".menu .anchor:eq(0)").click()}function s(){var e=t.Person.current().notifications(),n=e.unread().length;mixpanel.track("/notifications/mark_all_read",{source:"lightbox",unread_count:n}),e.markAllAsRead().always(o)}e.call(this,n);var l=this,c=new t.Panel({type:"notifications"}),u=this.collection;this.views().addView(".bell",new i({collection:this.collection})),(t.Project.current()||t.Workspace.current()).ready().then(function(){var e=new t.views.panels.notifications.Index({model:c,$delegate:l.$("article.content"),noFlyovers:!0});l.views().addView(".notifications_content",e).pick(e).render().attach()});var d=function(){l.$(".notifications_content").toggleClass("no_notifications",!u.length)};this.delegateEvents({"click .open_notifications_panel":[a,o],"click .menu .item":[o,r.stopImmediatePropagation],"click .menu .item .mark_read":r.stopImmediatePropagation,"click .mark_all_read":s,"click a.reveal":r.preventDefault},[u,{"add reset":d}])}),render:function(){var e=this.collection;return this.html(JST["templates/next/people/controls/notifications/index"]({notifications_count:e.length})),this.views().attach().render(),this}});_.namespace(n,"views.people.controls.notifications").Index=a}.call(this),function(){"use strict";function e(e){return e.hasOwnProperty("_tn_registry_uid_")?e._tn_registry_uid_:e._tn_registry_uid_=i++}function t(){this.data_={}}var n=this,r=_.namespace(n,"tracker"),i=0;t.prototype.add=function(e,t){this.data_[this.resolvers_[typeof e](e)]=t},t.prototype.remove=function(e){this.data_[this.resolvers_[typeof e](e)]=null},t.prototype.get=function(e){return this.data_[this.resolvers_[typeof e](e)]},t.prototype.resolvers_={"boolean":_.identity,"function":e,object:e,number:_.identity,string:_.identity,undefined:_.identity},r.Registry=t}.call(this),/**
 * https://github.com/Khan/react-components/blob/master/LICENSE
 *
 * The MIT License (MIT)
 * Copyright (c) 2014 Khan Academy
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * https://raw.githubusercontent.com/facebook/react/master/LICENSE
 *
 * BSD License
 *
 * For React software
 *
 * Copyright (c) 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *
 *  * Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 *
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 *  * Neither the name Facebook nor the names of its contributors may be used to
 *    endorse or promote products derived from this software without specific
 *    prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 *
 * The CSSTransitionGroup component uses the 'transitionend' event, which
 * browsers will not send for any number of reasons, including the
 * transitioning node not being painted or in an unfocused tab.
 *
 * This TimeoutTransitionGroup instead uses a user-defined timeout to determine
 * when it is a good time to remove the component. Currently there is only one
 * timeout specified, but in the future it would be nice to be able to specify
 * separate timeouts for enter and leave, in case the timeouts for those
 * animations differ. Even nicer would be some sort of inspection of the CSS to
 * automatically determine the duration of the animation or transition.
 *
 * This is adapted from Facebook's CSSTransitionGroup which is in the React
 * addons and under the Apache 2.0 License.
 *
 * BA & AN - React is now licensed under BSD
 */
function(){function e(){return 0!==a.length}var t=this,n=React.addons.TransitionGroup,r=17,i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},a=[];!function(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete i.animationend.animation,"TransitionEvent"in window||delete i.transitionend.transition;for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];for(var o in r)if(o in t){a.push(r[o]);break}}}();var o=React.createClass({displayName:"TimeoutTransitionGroupChild",transition:function(t,n){var r=this.getDOMNode(),i=this.props.name+"-"+t,a=i+"-active",o=function(){$(r).removeClass(i),$(r).removeClass(a),n&&n()};e()?"enter"===t?this.animationTimeout=setTimeout(o,this.props.enterTimeout):"leave"===t&&(this.animationTimeout=setTimeout(o,this.props.leaveTimeout)):o(),$(r).addClass(i),this.queueClass(a)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,r))},flushClassNameQueue:function(){this.isMounted()&&$(this.getDOMNode()).addClass(this.classNameQueue.join(" ")),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.animationTimeout&&clearTimeout(this.animationTimeout)},componentWillEnter:function(e){this.props.enter?this.transition("enter",e):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e):e()},render:function(){return React.Children.only(this.props.children)}}),s=React.createClass({displayName:"TimeoutTransitionGroup",propTypes:{enterTimeout:React.PropTypes.number.isRequired,leaveTimeout:React.PropTypes.number.isRequired,transitionName:React.PropTypes.string.isRequired,transitionEnter:React.PropTypes.bool,transitionLeave:React.PropTypes.bool},getDefaultProps:function(){return{transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o({enterTimeout:this.props.enterTimeout,leaveTimeout:this.props.leaveTimeout,name:this.props.transitionName,enter:this.props.transitionEnter,leave:this.props.transitionLeave},e)},render:function(){return n(Object.assign({},this.props,{childFactory:this._wrapChild}))}});t.TimeoutTransitionGroup=s}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.addons.cloneWithProps,r=React.createClass({displayName:"SlidingList",getDefaultProps:function(){return{marginBottom:12,defaultHeight:80}},getInitialState:function(){return{refHeights:{}}},componentDidMount:function(){this.saveRefHeights()},componentDidUpdate:function(){this.saveRefHeights()},shouldComponentUpdate:function(e,t){return!_.isEqual(this.props,e)||!_.isEqual(this.state,t)},render:function(){var e=[],t=0,r=this.props.children,i=r.length,a=this.props.marginBottom,o=this.props.defaultHeight,s=this.state.refHeights;e.length=i;for(var l=0;i>l;l++){var c=r[l].props.key;e[l]=n(r[l],{style:this.style(t),className:"tn_sliding_list_item",key:c,ref:c}),t+=a+(s[c]||o)}return TimeoutTransitionGroup({enterTimeout:5e3,leaveTimeout:5e3,component:React.DOM.ul,className:"tn_sliding_list "+this.props.className,transitionName:"tn_sliding_list_fade"},e)},saveRefHeights:function(){for(var e={},t=this.props.children,n=t.length,r=this.refs,i=0;n>i;i++){var a=t[i].props.key;e[a]=r[a].getDOMNode().offsetHeight}this.setState({refHeights:e})},style:function(e){var t="translate3d(0, "+e+"px, 0)";return{WebkitTransform:t,MozTransform:t,OTransform:t,msTransform:t,transform:t}}});_.namespace(t,"views").SlidingList=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.SlidingList,r=React.createClass({displayName:"StatusArea",componentDidMount:function(){this.props.statuses.on("add remove reset",this.handleChange)},componentWillUnmount:function(){this.props.statuses.off("add remove reset",this.handleChange)},render:function(){return n({className:"status_area"},this.mapStatuses(function(e){var t=r.renderers.get(e.get("type"));return t({key:e.cid,status:e})}))},handleChange:function(){this.forceUpdate()},mapStatuses:function(e){for(var t=[],n=this.props.statuses.models,r=n.length,i=r-1;i>=0;i--)t.push(e(n[i]));return t}});r.renderers=new t.Registry,t.StatusArea=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.addons.classSet,r=React.createClass({displayName:"Status",getDefaultProps:function(){return{className:"",style:{}}},render:function(){var e={tn_status_message:!0,tn_status_info:"info"===this.props.type,tn_status_warning:"warning"===this.props.type};return e[this.props.className]=!0,React.DOM.li({className:n(e),style:this.props.style},React.DOM.header({className:"tn_status_header"},this.props.title,React.DOM.a({className:"tn_status_close",onClick:this.handleClose},"×")),React.DOM.article({className:"tn_status_article"},this.props.children))},handleClose:function(){this.props.status.destroy()}});_.namespace(t,"views.statuses").Status=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.statuses.Status,r=React.createClass({displayName:"DelinquentOwnerMessage",render:function(){return React.DOM.span(null,"Private projects are in read only mode as this account is over plan limit."," ","Click ",React.DOM.a({target:"_blank",href:"/accounts"},"here")," to manage your account.")}}),i=React.createClass({displayName:"DelinquentMemberMessage",render:function(){var e=t.Project.get(this.props.projectId),n=e.members().find(function(t){return t.isOwner(e)});return React.DOM.span(null,"Your Private projects are in ",React.DOM.span(null,"read-only mode")," as this account is over the plan limit."," ",React.DOM.span(null,n.get("name"))," is the account owner.")}}),a=React.createClass({displayName:"DelinquentAccountStatus",render:function(){var e=this.props.status.get("project_id");return n(Object.assign({},this.props,{title:"Account over Plan Limit"}),t.Person.current().isOwner(e)?r(null):i({projectId:e}))}});t.StatusArea.renderers.add("DelinquentAccount",a),_.namespace(t,"views.statuses").DelinquentAccountStatus=a}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.statuses.Status,r=React.createClass({displayName:"MaintenanceDowntimeStatus",render:function(){var e=new t.DateTime(this.props.status.get("startTime")),r=new t.DateTime(this.props.status.get("finishTime"));return n(Object.assign({},this.props,{title:"Scheduled Downtime",type:"warning"}),"From ",e.strftime("%b %-d%-o at %-I:%M%P")," to ",r.strftime("%-I:%M%P")," (",r.strftime("%Z"),")")}});t.StatusArea.renderers.add("MaintenanceDowntime",r),_.namespace(t,"views.statuses").MaintenanceDowntimeStatus=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.statuses.Status,r=React.createClass({displayName:"TrialExpirationStatus",render:function(){var e=this.props.status,t=e.get("account_data").days_left,r=e.get("account_data").name;return n(Object.assign({},this.props,{title:"Your free trial is about to expire",type:"info"}),"You have ",React.DOM.span({className:"tn_status_days_left"},t)," ",_.pluralize("day",t)," left in your free trial for your account '",r,"'.",React.DOM.button({className:"tn_status_button_choose_plan",onClick:this.choosePlan},"Choose a Plan"))},choosePlan:function(){t.location.href="/accounts/"+this.props.status.get("account_data").id+"/plans?viewed_callout=true"}});t.StatusArea.renderers.add("TrialExpiration",r),_.namespace(t,"views.statuses").TrialExpirationStatus=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.statuses.Status,r=React.createClass({displayName:"UnsupportedBrowserStatus",render:function(){return n(Object.assign({},this.props,{title:"Unsupported Browser"}),"For more information, please see our ",React.DOM.a({target:"_blank",href:"/help/faq#whichbrowserscaniuse"},"FAQ"),".")}});t.StatusArea.renderers.add("UnsupportedBrowser",r),_.namespace(t,"views.statuses").UnsupportedBrowserStatus=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.SlidingList,r=React.createClass({displayName:"FlashMessages",componentDidMount:function(){_.each(this.props.messageCollections,function(e){e.on("add remove reset",this.handleChange)},this)},componentWillUnmount:function(){_.each(this.props.messageCollections,function(e){e.off("add remove reset",this.handleChange)},this)},render:function(){return n({className:"tn_flash_messages",marginBottom:3},this.mapMessages(function(e){var t=r.renderers.get(e.get("type"));return t({key:e.cid,message:e})}))},mapMessages:function(e){for(var t=this.props.messageCollections,n=t.length,r=[],i=n-1;i>=0;i--)for(var a=t[i].models,o=a.length,s=o-1;s>=0;s--)r.push(e(a[s]));return r},handleChange:function(){this.forceUpdate()}});r.renderers=new t.Registry,_.namespace(t,"views.hud").FlashMessages=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.addons.classSet,r=React.createClass({displayName:"FlashMessage",propTypes:{type:React.PropTypes.oneOf(["flash","info","warning","error"]).isRequired,className:React.PropTypes.string,style:React.PropTypes.object},getDefaultProps:function(){return{className:"",style:{}}},render:function(){var e={tn_flash_message:!0,tn_flash_flash:"flash"===this.props.type,tn_flash_info:"info"===this.props.type,tn_flash_warning:"warning"===this.props.type,tn_flash_error:"error"===this.props.type};return e[this.props.className]=!0,React.DOM.li({className:n(e),style:this.props.style},this.props.children)}});_.namespace(t,"views.hud.flashMessages").FlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.FlashMessage,r=React.createClass({displayName:"AppUpdatedFlashMessage",render:function(){return n(Object.assign({},this.props,{type:"info"}),"Tracker has made some updates. Please reload your browser.",React.DOM.button({className:"tn_flash_button",onClick:this.handleReload},"Reload"))},handleReload:function(){t.location.reload()}});t.views.hud.FlashMessages.renderers.add("AppUpdated",r),_.namespace(t,"views.hud.flashMessages").AppUpdatedFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.FlashMessage,r=React.createClass({displayName:"ExpiringFlashMessage",getDefaultProps:function(){return{className:"",fadeOut:2500}},componentDidMount:function(){this.setState({closeTimeout:setTimeout(this.closeOnTimeout,this.props.fadeOut)})},componentWillUnmount:function(){clearTimeout(this.state.closeTimeout)},render:function(){return n(Object.assign({},this.props,{className:"tn_expiring_flash "+this.props.className}),this.props.children)},closeOnTimeout:function(){this.props.message.destroy()}});_.namespace(t,"views.hud.flashMessages").ExpiringFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.ExpiringFlashMessage,r=(t.views.hud.flashMessages.FlashMessage,React.createClass({displayName:"DeployInMinutesWarning",render:function(){var e=Math.round(this.props.millisUntil/1e3/60);return n(Object.assign({},this.props,{fadeOut:15e3,type:"error"}),"Tracker update in ",e," ",_.pluralize("minute",e)," - save your work")}})),i=React.createClass({displayName:"DeployInSecondsWarning",render:function(){var e=Math.round(this.props.millisUntil/1e3);return n(Object.assign({},this.props,{fadeOut:15e3,type:"error"}),"Tracker update in ",e," ",_.pluralize("second",e)," - save your work")}}),a=React.createClass({displayName:"DeployImminentWarning",render:function(){return n(Object.assign({},this.props,{fadeOut:3e5,type:"error"}),"Tracker update imminent - save your work")}}),o=React.createClass({displayName:"DeployWarningFlashMessage",componentWillMount:function(){this.setState({millisUntil:this.props.message.get("next_deploy")-Date.now()})},render:function(){var e=this.state.millisUntil;return e>6e4?r(Object.assign({},this.props,{millisUntil:e})):e>5e3?i(Object.assign({},this.props,{millisUntil:e})):a(Object.assign({},this.props))}});t.views.hud.FlashMessages.renderers.add("DeployWarning",o),_.namespace(t,"views.hud.flashMessages").DeployWarningFlashMessage=o}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.FlashMessage,r=(React.addons.classSet,React.createClass({displayName:"NetworkOfflineFlashMessage",componentDidMount:function(){t.Pinger.current().on("change:pinging",this.handleChange),t.NetworkStatus.current().on("change:isOnline",this.handleChange)},componentWillUnmount:function(){t.Pinger.current().off("change:pinging",this.handleChange),t.NetworkStatus.current().off("change:isOnline",this.handleChange)},render:function(){var e=t.Pinger.current().get("pinging")||t.NetworkStatus.current().get("isOnline");return n(Object.assign({},this.props,{type:"warning"}),"You are currently offline.",React.DOM.button({disabled:e,className:"tn_flash_button",onClick:this.handleReconnect},e?"Reconnecting...":"Reconnect now"))},handleChange:function(){this.forceUpdate()},handleReconnect:function(){t.NetworkScheduler.current().start()}}));t.views.hud.FlashMessages.renderers.add("NetworkOffline",r),_.namespace(t,"views.hud.flashMessages").NetworkOfflineFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.ExpiringFlashMessage,r=React.createClass({displayName:"RemoteChangeFlashMessage",componentDidMount:function(){this.props.message.on("change:members",this.handleChange)},componentWillUnmount:function(){this.props.message.off("change:members",this.handleChange)},render:function(){var e=_.invoke(this.props.message.get("members"),"get","name");return n(Object.assign({},this.props,{type:"flash"}),"Update by ",e.join(", "))},handleChange:function(){this.forceUpdate()}});t.views.hud.FlashMessages.renderers.add("RemoteChange",r),_.namespace(t,"views.hud.flashMessages").RemoteChangeFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.ExpiringFlashMessage,r=React.createClass({displayName:"StoriesClonedFlashMessage",render:function(){var e=this.props.message.get("count");return n(Object.assign({},this.props,{type:"flash"}),e," ",_.pluralize("story",e)," cloned")}});t.views.hud.FlashMessages.renderers.add("StoriesCloned",r),_.namespace(t,"views.hud.flashMessages").StoriesClonedFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.ExpiringFlashMessage,r=React.createClass({displayName:"StoriesDeletedFlashMessage",render:function(){var e=this.props.message.get("count");return n(Object.assign({},this.props,{type:"flash"}),e," ",_.pluralize("story",e)," deleted")}});t.views.hud.FlashMessages.renderers.add("StoriesDeleted",r),_.namespace(t,"views.hud.flashMessages").StoriesDeletedFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.ExpiringFlashMessage,r=React.createClass({displayName:"StoriesMovedToProjectFlashMessage",render:function(){var e=this.props.message,t=e.get("count"),r=e.get("project_name");return n(Object.assign({},this.props,{type:"flash"}),t," ",_.pluralize("story",t)," moved to project '",r,"'")}});t.views.hud.FlashMessages.renderers.add("StoriesMovedToProject",r),_.namespace(t,"views.hud.flashMessages").StoriesMovedToProjectFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.hud.flashMessages.FlashMessage,r=(React.addons.classSet,React.createClass({displayName:"TrackerOfflineFlashMessage",componentDidMount:function(){t.Pinger.current().on("change:pinging",this.handleChange),t.TrackerStatus.current().on("change:isOnline",this.handleChange)},componentWillUnmount:function(){t.Pinger.current().off("change:pinging",this.handleChange),t.TrackerStatus.current().off("change:isOnline",this.handleChange)},render:function(){var e=t.Pinger.current().get("pinging")||t.TrackerStatus.current().get("isOnline");return n(Object.assign({},this.props,{type:"error"}),"We are currently experiencing server problems.",React.DOM.button({disabled:e,className:"tn_flash_button",onClick:this.handleReconnect},e?"Reconnecting...":"Reconnect now"))},handleChange:function(){this.forceUpdate()},handleReconnect:function(){t.TrackerStatus.current().set({retrying:!0}),t.NetworkScheduler.current().start()}}));t.views.hud.FlashMessages.renderers.add("TrackerOffline",r),_.namespace(t,"views.hud.flashMessages").TrackerOfflineFlashMessage=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.createClass({displayName:"Hud",render:function(){var e=this.props.layout;return React.DOM.div(null,t.views.hud.FlashMessages({messageCollections:[e.flashMessages(),e.stickyMessages()]}),t.StatusArea({statuses:e.statuses()}))}});_.namespace(t,"views").Hud=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.Controller.extend({__name__:"LayoutsController",show:function(e){function n(e,t){return tracker.Project.current()&&e.isReadOnly(t.id)}var r,i=tracker.Person.current(),a=tracker.Layout.current(),o=tracker.NetworkStatus.current(),s=tracker.TrackerStatus.current(),l=tracker.Pinger.current();mixpanel.register({platform:"web"}),i.isGuest()&&this.$el.addClass("guest"),a.set(e),tracker.MaintenanceDowntime.setCurrent(new tracker.MaintenanceDowntime),r=_.result(e,"singleModelView")?_.namespace(t,"views.layouts.singleModel").Show({model:a}):_.namespace(t,"views.layouts").Show({model:a}),this.views().removeView(),this.views().addView(r).pick(r).attach().render(),this.views().addView(new tracker.views.GlobalEvents({el:window,networkStatus:o,trackerStatus:s,logger:tracker.Logger.current()})).addView(new tracker.views.Menu({el:this.el})).addView(new tracker.views.Scrim({el:this.el}).render()).addView(new tracker.views.AppVersionChecker({collection:a.stickyMessages(),url:"/next/assets/version.json"})).addView(new tracker.views.browserChecker.Show({collection:a.statuses()})).addView(new tracker.views.layouts.RemoteChangeDetection({collection:a.flashMessages()})).addView(new tracker.views.DeployWarning({model:tracker.DeployWarning.current(),collection:a.flashMessages()})).addView(new tracker.views.AppNotifications({el:this.el})).addView(new tracker.views.ServerConditionDetection({networkStatus:o,trackerStatus:s,pinger:l}));var c=tracker.Project.current()||tracker.Workspace.current();if(i.isGuest())React.renderComponent(React.DOM.div(null,tracker.GuestHeader({person:i,context:c}),tracker.views.Hud({layout:a})),r.$el.find(".page_header_container")[0]);else{var u=function(){React.unmountComponentAtNode(r.$el.find(".intro_tour_container")[0]),i.appSettings().set({show_hints:!1}),i.appSettings().save()},d=function(){return c instanceof tracker.Workspace||n(i,c)?(React.unmountComponentAtNode(r.$el.find(".intro_tour_container")[0]),void 0):(_.result(e,"singleModelView")?tracker.navigate("/n/projects/"+c.id+"/intro_tour"):React.renderComponent(tracker.intro.Tour({endTour:u,project:c,panels:i.panels(),appSettings:i.appSettings()}),r.$el.find(".intro_tour_container")[0]),void 0)};React.renderComponent(React.DOM.div(null,tracker.SignedInHeader({person:i,context:c,startTour:d}),tracker.views.Hud({layout:a})),r.$el.find(".page_header_container")[0]);var p=i.appSettings().get("shown_screencast_at"),h=p&&i.appSettings().get("show_hints")&&c instanceof tracker.Project,g=(e||{}).showTour;c.ready().then(function(){if(!_.result(e,"singleModelView")&&!n(i,c))if(p)if(h||g)mixpanel.track("/intro_tour/show",{via_help_menu:!1}),_.defer(d);else{var t=i.appSettings();_.isNumber(t.get("shown_welcome_message_at"))||(i.panels().open({type:"ui_guide"},{at:0}),t.save({shown_welcome_message_at:tracker.DateTime.now().getTime()}))}else React.renderComponent(tracker.intro.Video({appSettings:i.appSettings(),onContinue:d}),r.$el.find(".intro_tour_container")[0])})}tracker.Project.current()&&tracker.Project.current().ready().then(function(){if(i.appSettings().expirationNotificationNeededForProject(tracker.Project.current())){var e=i.appSettings().ownedAccountForProjectJSON(tracker.Project.current());a.statuses().push({type:"TrialExpiration",account_data:e})}})}});t.LayoutsController=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.View.extend({__name__:"NotificationsIndex",initialize:_.wrap(t.View.prototype.initialize,function(e,r){function i(){var e=t.DateTime.now().add({days:-10}),n=s.filter(function(t){return t.get("created_at")<e});s.remove(n)}function a(e){if(null===l||"pending"!==l.state()){var t=s.updateUrl();l=e.addUrl(t),l.done(function(e){s.set(e.data,{reset:!1,remove:!1})})}}e.call(this,r);var o=this,s=o.collection;o.delegateEvents([s,{add:i}]);var l=null;s.fetch().always(function(){n.Pingables.add(a)})})});_.namespace(t,"views.notifications").Index=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.Controller.extend({__name__:"NotificationsController",index:function(e){tracker.Person.current().isGuest()||(this.views().removeView(),this.views().addView(new tracker.views.notifications.Index({collection:e})))}});t.NotificationsController=n}.call(this),function(){var e,t=this,n=_.namespace(t,"tracker"),r=22,i=22,a=n.View.extend({__name__:"Clipboard",events:{"mouseenter .clipboard_button":"mouseenter"},initialize:function(){this.clipboard=new n.ZeroClipboard,this.mouseDown=!1,this.listenTo(this.clipboard,"complete",function(){$(e).trigger("clipboardCopied").focus()}),this.listenTo(this.clipboard,"mousedown",function(){this.mouseDown=!0}),this.listenTo(this.clipboard,"mouseout",function(){this.clipboard.flashBridge.setText(""),this.mouseDown&&(this.clipboard.reposition(),this.mouseDown=!1)}),this.clipboard.reposition=function(){return e?($(this.htmlBridge).position({my:"top left",at:"top left",of:e}).width(r).height(i),this.setSize(r,i),void 0):!1}},mouseenter:function(t){e=t.currentTarget,this.clipboard.setCurrent(e)}});_.namespace(n,"views.details").Clipboard=a}(),function(){"use strict";function e(){t&&clearTimeout(t),r.localStorage.csrf_token!==r.Person.current().get("csrf_token")&&r.navigate(r.signInPath,{force:!0}),t=setTimeout(e,i)}var t,n=this,r=_.namespace(n,"tracker"),i=5e3,a=goog.getUid(r.Person),o=r.Controller.extend({csrfToken:function(){return r.csrfToken()},show:function(t){var i=this.csrfToken(),o=goog.getUid(t.constructor)!==a;if(t.set({csrf_token:i}),r.Person.setCurrent(t),!n.FRONTEND_FLAGS.is_test_env){try{r.localStorage.csrf_token=i}catch(s){}e()}if((o||t.appSettings().get("use_flash_click_to_copy"))&&r.hasFlash()&&this.views().addView(new r.views.details.Clipboard({el:r.el})),!o){mixpanel.identify(t.id);var l=t.get("created_at"),c=new r.DateTime(l).strftime("%Y-%m-%d");mixpanel.register({person_created_at:c}),mixpanel.people.set({$created:c,person_id:t.id})}r.Layout.current().set({sidebar_display:t.appSettings().get("sidebar_expanded")||t.isGuest()?"expanded":"collapsed"})},destroy:function(){t&&clearTimeout(t),delete r.localStorage.csrf_token}});o.SIGNOUT_CHECK_DELAY=i,r.PersonsController=o}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"ProjectsAlerts",initialize:_.wrap(t.View.prototype.initialize,function(n,r){function i(t,n){e.alert(n)}function a(e){$(".showing_calendar").trigger("closeCalendar"),c.create("force_reload",{message:e||"A particular story change has forced a project reload.",opacity:!0,project:l})}function o(e){(e.get("raise")||e.get("reorder"))&&c.create("force_reload",{message:"An error has occurred.",opacity:!0,project:l})}n.call(this,r);var s=this,l=s.model,c=new t.LightboxesController;return s.delegateEvents([l.commandQueue(),{unsavableChanges:i}],[l,{forceReload:a}],[l.errors(),{add:o}]),s})});_(t).namespace("views.projects").Alerts=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"ProjectsPersistence",initialize:function(){this.listenTo(this.collection,"persisting",this.addClass),this.listenTo(this.collection,"persisted",this.removeClass)},addClass:function(e){this.$(".model."+e.cid).addClass("pending")},removeClass:function(e){this.$(".model."+e.cid).removeClass("pending")}});_.namespace(t,"views.projects").Persistence=n}.call(this),function(e,t){var n=t.Model.extend({__name__:"Upload",associations:[{belongsTo:"comment"},{belongsTo:"project"}],fileAttachment:function(){return this.project().fileAttachments().get(this.get("file_attachment_id"))},defaults:{sent_bytes:1,total_bytes:2,state:"uploading"}});n.include(t.mixins.attachments.fileExtension("title")),t.Upload=n}(window,window.tracker),function(e,t){var n=t.Collection.extend({associations:[{belongsTo:"comment"},{belongsTo:"project",through:"comment"}],model:t.Upload,anyUploading:function(){return _.any(this.pluck("state"),function(e){return"uploading"===e})}});t.Uploads=n}(window,window.tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Comment.extend({__name__:"DraftComment",defaults:{editing:!1,text:"",previous_text:""},save:_.wrap(t.Comment.prototype.save,function(e,t,n){function r(){return a.uploads().chain().map(function(e){var t=a.project().fileAttachments().get(e.get("file_attachment_id"));return t&&t.toJSON()}).compact().value()}var i,a=this,o=this.parent();if(o.isNew()||!o.comments().get(a))a.set({file_attachments:_.uniq(r().concat(_.map(a.fileAttachments().models,function(e){return e.toJSON()}))),google_attachments:a.googleAttachments().invoke("toJSON")},{silent:!0});else{i=this.original();var s=i.fileAttachments().models,l=_.pluck(s,"id"),c=i.googleAttachments().models,u=_.pluck(c,"id"),d=a.fileAttachments().models,p=_.pluck(d,"id"),h=a.googleAttachments().models,g=_.pluck(h,"id");a.set({file_attachments_to_add:r(),file_attachment_ids_to_remove:_.difference(l,p),google_attachments_to_add:_.invoke(_.difference(h,c),"toJSON"),google_attachment_ids_to_remove:_.difference(u,g)},{silent:!0})}if(!o.isNew()){if(a.isBlank(t)){var f={cid:a.cid,original_cid:a.get("original_cid")};return f[a.story()?"story_cid":"epic_cid"]=o.original().cid,a.destroy(f)}return(t||a.isDirty())&&e.call(a,t,n)}return a.set(t||{},_.extend({validate:!0},n))&&!o.comments().get(a)?o.comments().push(a.attributes,_.extend({},n,{parse:!0})):(i=o.comments().get(a),i&&(i.fileAttachments().reset(a.get("file_attachments")||[],{parse:!0}),i.googleAttachments().reset({data:a.get("google_attachments")||[]},{parse:!0})),a)}),destroy:_.wrap(t.Comment.prototype.destroy,function(e,t){var n=this.parent();if(n.isNew())n.comments().remove(this);else if(n.comments().get(this)){var r={};return this.story()?r.story_cid=this.story().original().cid:r.epic_cid=this.epic().original().cid,e.call(this,_.extend(r,t))}}),clear:_.wrap(t.Comment.prototype.clear,function(e,t){var n=this.parent(),r={silent:!0};if(this===n.comment()){var i=this.pick("story_cid","epic_cid","person_id");e.call(this,_.extend(t||{},r)),this._hasBeenSaved=!1,this.uploads().reset([],r),this.googleAttachments().reset([],r),this.set(i,r)}else{var a=n.original().comments().get(this.get("original_cid"))||n.comments().get(this),o=[],s=[];a&&(o=a.fileAttachments().models,s=a.googleAttachments().models),this.fileAttachments().reset(o,r),this.googleAttachments().reset(s,r),this.uploads().reset([],r),this.set("text",this.get("previous_text"),r)}this.parent().followers().reset(this.parent().original().followers().models),this.trigger("change",this)}),initialize:_.wrap(t.Comment.prototype.initialize,function(e){var t=this;e.apply(t,_.rest(arguments));var n=function(){t.trigger("change",t)};return t.fileAttachments().on("add remove change reset",n),t.googleAttachments().on("add remove change reset",n),t.story()&&t.set({story_cid:t.story().original().cid}),t.epic()&&t.set({epic_cid:t.epic().original().cid}),t}),isDirty:function(){if(!this.original())return!this.isBlank();var e=this.original().fileAttachments().models,t=this.original().googleAttachments().models,n=this.fileAttachments().models,r=this.googleAttachments().models;return this.get("text")!==this.original().get("text")||!this.uploads().isEmpty()||!_.isEqual(_.pluck(e,"id"),_.pluck(n,"id"))||!_.isEqual(_.pluck(t,"id"),_.pluck(r,"id"))},isBlank:_.wrap(t.Comment.prototype.isBlank,function(e){return e.apply(this,_.rest(arguments))&&!this.uploads().where({state:"uploaded"}).length}),attach:function(e){e.fileAttachments&&this.fileAttachments().add(e.fileAttachments,{silent:!0}),e.googleAttachments&&this.googleAttachments().add(e.googleAttachments,{silent:!0}),this.trigger("change",this)},parent:function(){return this.story()||this.epic()},original:function(){return this.parent().original().comments().get(this.get("original_cid"))}});n.associations({hasMany:"uploads",parse:!1,inverseOf:"comment"}),t.DraftComment=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Comments.extend({model:t.DraftComment});t.DraftComments=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Task.extend({__name__:"DraftTask",defaults:{editing:!1},isUnsaved:function(){return this.isNew()&&!_.isBlank(this.get("description"))},save:_.wrap(t.Task.prototype.save,function(e,t,n){var r=this.story();return r.isNew()?this.set(t||{},_.extend({validate:!0},n))&&!r.tasks().get(this)?r.tasks().add(this):void 0:e.call(this,t,n)}),destroy:_.wrap(t.Task.prototype.destroy,function(e){var t=this.story();return t.isNew()?(t.tasks().remove(this),void 0):e.apply(this,_.rest(arguments))})});t.DraftTask=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Tasks.extend({model:t.DraftTask});t.DraftTasks=n}.call(this),function(){"use strict";function e(e){return e instanceof s.Story}function t(e){return e instanceof s.Epic}function n(){var e=this.original().labels(),t=this.labels();return e.size()!==t.size()||_.union(e.models,t.models).length!==e.size()}function r(e){var n=this.original(),r=n.project();if(t(n)){if(this.labels().isEmpty()){var i=s.Label.normalize(this.get("name"));this.labels().set(r.labels().findByName(i)||{name:i})}e.label=this.labels().first().cid}return e}function i(t){return e(this.original())&&(t.labels=this.labels().cids()),t}function a(e,t){var n=e.followers().models,r=_.map(t,function(t){return e.followers().get(t)||t});_.invoke(_.difference(n,r),"destroy"),_.invoke(_.difference(r,n),"save")}var o=this,s=_.namespace(o,"tracker"),l=s.helpers.mentions,c={beforeProjectStartTime:"This will cause a reload for everyone on the project, are you sure you meant to set the accepted at date before your first iteration?",beforeLoadedIterations:"The new accepted date is before the first currently visible iteration. To see the iteration containing this story with the new accepted date, please click on 'show all' at the top of the Done Iterations Panel."},u={included:function(t){_.extend(t.prototype,{initialize:_.wrap(t.prototype.initialize,function(e,t,n){return n=n||{},this.originalModel=n.original,this.listenTo(this.original().comments(),"add",this.synchronizeMentions_),e.apply(this,arguments)}),synchronizeMentions_:function(e){this.project().get("enable_following")&&l.add(this,[e])},original:function(){return this.originalModel},panel:function(){return this.original().panel()},hasDescriptionChanged:function(){return this.get("pending_description")!==this.original().get("description")||this.get("description")!==this.original().get("description")},differences:function(e){e=_.chain(this.attributes).clone().extend(e).value();var t=_.pick(e,_.keys(this.original().attributes));return _.omit(this.original().changedAttributes(t),"labels","label","tasks","comments","draft","followers","updated_at")},changedDraftAttributes:function(e){var t=this.differences(e);return n.call(this)&&(t=i.call(this,t),t=r.call(this,t)),t},isValid:function(e){return this.validationError=null,this._validate(_.extend({draft:!1},e),{validate:!0})},save:function(t,n){function l(){h.project=function(){return g};var e=_.pick(t,_.keys(h.attributes)),n=p.panel();h.set(e,{silent:!0}),m();var a=_.clone(h.attributes);return a=r.call(p,a),a=i.call(p,a),_.extend(a,{comments:_.map(p.comments().toJSON(),function(e,t){var n=p.comments().at(t);return _.chain(e).pick("text").extend({file_attachments:n.fileAttachments().toJSON(),google_attachments:n.googleAttachments().toJSON()}).value()})}),g.get("enable_following")&&(a.follower_ids=_.pluck(p.followers().models,"id")),h.tasks&&_.extend(a,{tasks:_.map(h.tasks().toJSON(),function(e){return _.pick(e,"description","complete")
})}),n&&_.extend(a,s.panels.Service.getPosition(n)),$.when(p.labels().save(),h.save(a),$.Deferred().notify("saving"))}function u(t){if(e(p.original())&&_.isNumber(t))if(t<g.startTime().getTime()){if(!o.confirm(c.beforeProjectStartTime))return!1}else if(t<(g.isShowingPastDone()?g.startTime():g.pastDoneStartTime()).getTime()&&!o.confirm(c.beforeLoadedIterations))return!1;return!0}function d(){var e=$.Deferred(),n=p.changedDraftAttributes(t);return _.isEmpty(n)?(a(h,p.followers().models),m(),e.resolve().promise()):u(n.accepted_at)?(a(h,p.followers().models),m(),e.notify("saving"),$.when(p.labels().save(),h.save(n),e.resolve())):(p.set({accepted_at:p.original().get("accepted_at")}),e.reject().promise())}t=t||{},n=n||{};var p=this,h=p.original(),g=h.project(),f=$.Deferred(),m=n.collapseFn||$.noop;t=_.chain(p.attributes).clone().extend(t).value();var v=p.validate(_.defaults({draft:!1},t));return v?f.reject().promise():(f=h.isNew()&&l()||d(),f.promise())}}),_.extend(t,{create:function(e){var n=_.extend({draft:!0},_.omit(e.attributes,"comments")),r=e.project();if(e instanceof s.Epic){var i=e.labels().first();n.label=i&&i.cid}else n.labels=e.labels().cids();r.get("enable_following")&&(n.followers=e.followers().pluck("id"));var a=new t(n,{project:r,original:e});a.labels().reset(e.labels().models,{silent:!0}),a.followers().reset(e.followers().toJSON(),{silent:!0}),a.comments().reset();var o={silent:!0};return e.comments().each(function(e){var t=a.comments().push(_.extend({original_cid:e.cid},_.omit(e.attributes,"file_attachments","google_attachments","uploads")),o);t.fileAttachments().reset(e.fileAttachments().models),t.googleAttachments().reset(e.googleAttachments().models)}),a.comment().set({person_id:s.Person.current().id}),a}})}};_.namespace(s,"mixins").draft=u}.call(this),function(){"use strict";function e(e){return{included:function(t){t.prototype.initialize=_.wrap(t.prototype.initialize,function(t){var n=this;return _.tap(t.apply(this,_.rest(arguments)),function(){n.set("pending_"+e,n.get(e))})})}}}var t=this,n=_.namespace(t,"tracker");_.namespace(n,"mixins").draftAttribute=e}.call(this),function(){"use strict";function e(){function e(e,t){if(e){var n=_(e).trim().match(/(\d+)-(\d+)-(\d+)/);return new timezoneJS.Date(n[1],n[2]-1,n[3],12,0,0,t).getTime()}return null}function t(e){return 1e3*Math.floor(r.DateTime.now().getTimezoneDate(e).getTime()/1e3)}function n(n,i){var a=r.Person.current().get("time_zone"),o=this.project().get("time_zone"),s=a&&a.olson_name||o.olson_name,l=this.original().get(n)||t(s),c=e(i,s),u=l&&new r.DateTime(l).getTimezoneDate(s).getTime();this.set(n,r.DateTime.sameDay(u,c,s)?l:c)}this.set({original_estimate:this.get("estimate"),selected_owner:_.first(this.get("owner_ids"))}),this.listenTo(this,"change:accepted_on",function(e,t){n.call(this,"accepted_at",t)}),this.listenTo(this,"change:deadline_date",function(e,t){n.call(this,"deadline",t)}),this.listenTo(this,"change:estimate",function(e,t){e.isEstimatable()&&this.set({original_estimate:t})}),this.listenTo(this,"change:story_type",function(e){e.isEstimatable()&&e.set({estimate:this.get("original_estimate")},{silent:!0})})}function t(){var e=this.original().tasks(),t=this.draftTasks(),n=e.map(function(e){return _.extend({original_cid:e.cid},e.attributes)});t.reset(n),this.listenTo(e,"add",function(e){t.add(_.extend({original_cid:e.cid},e.attributes),{parse:!0,at:e.index()})}),this.listenTo(e,"remove",function(e){var n=t.find(function(t){return t.get("original_cid")===e.cid});n&&t.remove(n)})}var n=this,r=_(n).namespace("tracker"),i=r.Story.extend({__name__:"DraftStory",defaults:{description_clicked:!1},initialize:_(r.Story.prototype.initialize).wrap(function(n,r,i){n.call(this,r,i),e.call(this),t.call(this)}),releaseBucket:function(){return this.original().releaseBucket()},hasPendingAttachments:function(){var e=this.comment();return!(!e.uploads().length&&!e.googleAttachments().length)},uploads:function(){return this.comment().uploads()},isUnsaved:function(e){return e=e||{},_.any([_.any(this.differences()),_.any(_.difference(this.labels().cids(),this.original().labels().cids())),this.hasDescriptionChanged(),this.task().isUnsaved(),this.isNew()&&this.draftTasks().any(),e.newLabel!==!1&&this.newLabel().isUnsaved(),e.comments!==!1&&this.comments().chain().invoke("isDirty").any().value(),e.comment!==!1&&this.comment().isDirty()])},expandedModels:_.constant(new r.Collection),allowsIterationFolding:$.noop,removeOwner:function(e){var t,n=this.get("owner_ids"),r=_.indexOf(n,e);t=r>0?n[r-1]:1===n.length?null:n[1],this.set({owner_ids:_.without(n,e),selected_owner:t})}});i.associations({hasMany:"draftTasks",className:"Tasks",parse:!1,inverseOf:"story"},{hasMany:"comments",className:"DraftComments",parse:!1,inverseOf:"story"},{hasMany:"tasks",className:"DraftTasks",parse:!1,inverseOf:"story"},{hasOne:"comment",className:"DraftComment",parse:!1,inverseOf:"story"},{hasOne:"task",className:"DraftTask",parse:!1,inverseOf:"story"}),i.include(r.mixins.draft).include(r.mixins.draftNewLabel).include(r.mixins.draftAttribute("description")),r.DraftStory=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Epic.extend({__name__:"DraftEpic",defaults:{description_clicked:!1},storiesCount:function(){return this.original().storiesCount()},hasPendingAttachments:function(){var e=this.comment();return!(!e.uploads().length&&!e.googleAttachments().length)},uploads:function(){return this.comment().uploads()},isUnsaved:function(e){return e=e||{},_.any([_.any(this.differences()),_.any(_.difference(this.labels().cids(),this.original().labels().cids())),this.hasDescriptionChanged(),e.newLabel!==!1&&this.newLabel().isUnsaved(),e.comments!==!1&&this.comments().chain().invoke("isDirty").any().value(),e.comment!==!1&&this.comment().isDirty()])}});n.associations({hasMany:"comments",className:"DraftComments",parse:!1,inverseOf:"epic"},{hasOne:"comment",className:"DraftComment",parse:!1,inverseOf:"epic"}),n.include(t.mixins.draft).include(t.mixins.draftNewLabel).include(t.mixins.draftAttribute("description")),t.DraftEpic=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/projects/loading"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["projects/loading"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<div class="project_loading"><p>Loading Project</p></div>\n'}),this.HandlebarsTemplates["projects/loading"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({render:function(){return this.$el.html(JST["templates/projects/loading"]()),this.removeProjectLoading_(),this},removeProjectLoading_:function(){var e=this;this.model.always(function(){e.$(".project_loading").remove()})}});_.namespace(t,"views.projects").Loading=n}.call(this),function(){"use strict";function e(e){function t(){r.$(".minimize").click()}var r=new n.View(e);return r.delegateEvents({"click .open_notifications_panel, .ui_guide, .recent_updates, .intro_tour":t}),r}var t=this,n=_.namespace(t,"next");_.namespace(t,"next.views.singleModel").Minimize=e}.call(this),/*
 * jQuery Color Animations v@VERSION
 * http://jquery.org/
 *
 * Copyright 2011 John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Date: @DATE
 */
function(e,t){function n(e,t,n){var r=d[t.type]||{},i=t.empty||n;return i&&null==e?null:t.def&&null==e?t.def:(e=r.floor?~~e:parseFloat(e),null==e||isNaN(e)?t.def:r.mod?(e%=r.mod,0>e?r.mod+e:e):r.min>e?r.min:r.max<e?r.max:e)}function r(t){var n=c(),r=n._rgba=[];return t=t.toLowerCase(),g(l,function(e,i){var a,o=i.re.exec(t),s=o&&i.parse(o),l=i.space||"rgba",c=u[l].cache;return s?(a=n[l](s),n[c]=a[c],r=n._rgba=a._rgba,!1):void 0}),0!==r.length?(0===Math.max.apply(Math,r)&&e.extend(r,a.transparent),n):(t=a[t])?t:void 0}function i(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,n,r,i){return new e.Color.fn.parse(t,n,r,i)},u={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},d={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},p=u.rgba.props,h=c.support={},g=e.each;u.hsla.props.alpha=p.alpha,c.fn=c.prototype={constructor:c,parse:function(i,o,s,l){if(i===t)return this._rgba=[null,null,null,null],this;(i instanceof e||i.nodeType)&&(i=i instanceof e?i.css(o):e(i).css(o),o=t);var d=this,h=e.type(i),f=this._rgba=[];return o!==t&&(i=[i,o,s,l],h="array"),"string"===h?this.parse(r(i)||a._default):"array"===h?(g(p,function(e,t){f[t.idx]=n(i[t.idx],t)}),this):"object"===h?(i instanceof c?g(u,function(e,t){i[t.cache]&&(d[t.cache]=i[t.cache].slice())}):g(u,function(e,t){g(t.props,function(e,r){var a=t.cache;if(!d[a]&&t.to){if(null==i[e]||"alpha"===e)return;d[a]=t.to(d._rgba)}d[a][r.idx]=n(i[e],r,!0)})}),this):void 0},is:function(e){var t=c(e),n=!0,r=this;return g(u,function(e,i){var a,o=t[i.cache];return o&&(a=r[i.cache]||i.to&&i.to(r._rgba)||[],g(i.props,function(e,t){return null!=o[t.idx]?n=o[t.idx]==a[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return g(u,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var r=c(e),i=r._space(),a=u[i],o=this[a.cache]||a.to(this._rgba),s=o.slice();return r=r[a.cache],g(a.props,function(e,i){var a=i.idx,l=o[a],c=r[a],u=d[i.type]||{};null!==c&&(null===l?s[a]=c:(u.mod&&(c-l>u.mod/2?l+=u.mod:l-c>u.mod/2&&(l-=u.mod)),s[i.idx]=n((c-l)*t+l,i)))}),this[i](s)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),r=n.pop(),i=c(t)._rgba;return c(e.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join(",")+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1==n[3]&&(n.pop(),t="hsl("),t+n.join(",")+")"},toHexString:function(t){var n=this._rgba.slice(),r=n.pop();return t&&n.push(~~(255*r)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1==e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}},c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=e[3],s=Math.max(r,i,a),l=Math.min(r,i,a),c=s-l,u=s+l,d=.5*u;return t=l===s?0:r===s?60*(i-a)/c+360:i===s?60*(a-r)/c+120:60*(r-i)/c+240,n=0===d||1===d?d:.5>=d?c/u:c/(2-u),[Math.round(t)%360,n,d,null==o?1:o]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],a=e[3],o=.5>=r?r*(1+n):r+n-r*n,s=2*r-o;return[Math.round(255*i(s,o,t+1/3)),Math.round(255*i(s,o,t)),Math.round(255*i(s,o,t-1/3)),a]},g(u,function(r,i){var a=i.props,o=i.cache,l=i.to,u=i.from;c.fn[r]=function(r){if(l&&!this[o]&&(this[o]=l(this._rgba)),r===t)return this[o].slice();var i,s=e.type(r),d="array"===s||"object"===s?r:arguments,p=this[o].slice();return g(a,function(e,t){var r=d["object"===s?e:t.idx];null==r&&(r=p[t.idx]),p[t.idx]=n(r,t)}),u?(i=c(u(p)),i[o]=p,i):c(p)},g(a,function(t,n){c.fn[t]||(c.fn[t]=function(i){var a,o=e.type(i),l="alpha"===t?this._hsla?"hsla":"rgba":r,c=this[l](),u=c[n.idx];return"undefined"===o?u:("function"===o&&(i=i.call(this,u),o=e.type(i)),null==i&&n.empty?this:("string"===o&&(a=s.exec(i),a&&(i=u+parseFloat(a[2])*("+"===a[1]?1:-1))),c[n.idx]=i,this[l](c)))})})}),g(o,function(t,n){e.cssHooks[n]={set:function(t,i){var a;if("string"!==e.type(i)||(a=r(i))){if(i=c(a||i),!h.rgba&&1!==i._rgba[3]){var o,s="backgroundColor"===n?t.parentNode:t;do o=e.curCSS(s,"backgroundColor");while((""===o||"transparent"===o)&&(s=s.parentNode)&&s.style);i=i.blend(o&&"transparent"!==o?o:"_default")}i=i.toRgbaString()}t.style[n]=i}},e.fx.step[n]=function(t){t.colorInit||(t.start=c(t.elem,n),t.end=c(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}}),e(function(){var e=document.createElement("div"),t=e.style;t.cssText="background-color:rgba(1,1,1,.5)",h.rgba=t.backgroundColor.indexOf("rgba")>-1}),a=e.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){"use strict";function e(e){function t(e){var t=.5-Math.cos(e*Math.PI)/2,n=Math.round(g-t*v),r=Math.round(f-t*y),i=Math.round(m-t*b),a="rgb("+[n,r,i].join(",")+")";return a}function n(){var i=r.FRONTEND_FLAGS.is_test_env?25e4:3e3,o=Date.now()-e.get("flash_start_time")-a.REVEAL_DELAY,s=o/(i-a.REVEAL_DELAY);s=Math.max(s,0),e.$el().css({backgroundColor:t(s)}),1>s?e.set({requestAnimationFrameId:r.requestAnimationFrame(n)}):(e.unset("requestAnimationFrameId"),e.$el().removeClass("highlighted").css({backgroundColor:""}),c.remove(e))}var i=function(e){return _.chain(/\((\d+),\s*(\d+),\s*(\d+)/.exec(e)).last(3).map(function(e){return r.parseInt(e)}).value()},o=e.$el(),s=a.FLASH_HIGHLIGHT_COLOR,l=i(e.get("original_background_color")),u=i(s),d=l[0],p=l[1],h=l[2],g=u[0],f=u[1],m=u[2],v=g-d,y=f-p,b=m-h;r.cancelAnimationFrame(e.get("requestAnimationFrameId")),o.addClass("highlighted").css({backgroundColor:s}),e.set({requestAnimationFrameId:r.requestAnimationFrame(n)})}function t(t,n){if(c.get(t.cid))c.get(t.cid).set({flash_start_time:Date.now()});else{var r=this.collection&&this.collection.find(function(e){return e.content().allowsItemsToBeRevealed&&-1!==e.items().indexOf(t)});c.add({id:t.cid,model:t,panel_type:r&&r.get("type"),revealing:n})}var i=c.last().$el();return e(c.last()),i}function n(n){function r(){c.each(function(e){e.set({background_color:e.$el().css("background-color")})})}function o(e){var t=e.$el();t.addClass("highlighted").clearQueue().css({backgroundColor:a.FLASH_HIGHLIGHT_COLOR})}function s(){c.each(function(t){e(t)})}function l(){c.each(function(e){o(e)}),g()}function u(e,n){t.call(h,n,!1)}function d(e,n){t.call(h,n,!1)}function p(){h.delegateEvents({remoteChange:u,itemRevealed:d},[i.$el,{"prerender:items":r,"postrender:items":l}])}var h=new(i.View.extend({}))(n),g=_.debounce(s,0);return p(),h}var r=this,i=_.namespace(r,"tracker"),a={FLASH_HIGHLIGHT_COLOR:"rgb(254, 203, 106)",REVEAL_DELAY:1e3},o={};o[goog.getUid(i.Story)]="story",o[goog.getUid(i.Epic)]="epic";var s=Backbone.Model.extend({initialize:function(){this.set({original_background_color:this.$el().css("background-color"),flash_start_time:Date.now()})},delay:function(){return this.get("revealing")?a.REVEAL_DELAY:0},$el:function(){var e=this.get("panel_type"),t=this.get("model"),n=o[goog.getUid(t.constructor)],r="."+n+"_"+t.id,i="."+t.cid;return $([r,i].join(","),e&&".panel."+e).find(".preview, section.edit")}}),l=Backbone.Collection.extend({model:s}),c=new l([]),u={included:function(e){_.extend(e.prototype,{initialize:_.wrap(e.prototype.initialize,function(e,t){e.call(this,t),this.views().addView(new n({el:this.el,collection:this.collection}))}),flashItem:t},a)}};_.namespace(i,"mixins").flashingItems=u}.call(this),function(e){var t,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},r='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],a=e(r).data("autosize",!0)[0];a.style.lineHeight="99px","99px"===e(a).css("lineHeight")&&i.push("lineHeight"),a.style.lineHeight="",e.fn.autosize=function(r){return this.length?(r=e.extend({},n,r||{}),a.parentNode!==document.body&&e(document.body).append(a),this.each(function(){function n(){var t,n=window.getComputedStyle?window.getComputedStyle(p,null):!1;n?(t=p.getBoundingClientRect().width,(0===t||"number"!=typeof t)&&(t=parseInt(n.width,10)),e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,r){t-=parseInt(n[r],10)})):t=h.width(),a.style.width=Math.max(t,0)+"px"}function o(){var o={};if(t=p,a.className=r.className,a.id=r.id,c=parseInt(h.css("maxHeight"),10),e.each(i,function(e,t){o[t]=h.css(t)}),e(a).css(o).attr("wrap",h.attr("wrap")),n(),window.chrome){var s=p.style.width;p.style.width="0px";{p.offsetWidth}p.style.width=s}}function s(){var e,i;t!==p?o():n(),a.value=!p.value&&r.placeholder?(h.attr("placeholder")||"")+r.append:p.value+r.append,a.style.overflowY=p.style.overflowY,i=parseInt(p.style.height,10),a.scrollTop=0,a.scrollTop=9e4,e=a.scrollTop,c&&e>c?(p.style.overflowY="scroll",e=c):(p.style.overflowY="hidden",u>e&&(e=u)),e+=g,i!==e&&(p.style.height=e+"px",f&&r.callback.call(p,p))}function l(){clearTimeout(d),d=setTimeout(function(){var e=h.width();e!==_&&(_=e,s())},parseInt(r.resizeDelay,10))}var c,u,d,p=this,h=e(p),g=0,f=e.isFunction(r.callback),m={height:p.style.height,overflow:p.style.overflow,overflowY:p.style.overflowY,wordWrap:p.style.wordWrap,resize:p.style.resize},_=h.width(),v=h.css("resize");h.data("autosize")||(h.data("autosize",!0),("border-box"===h.css("box-sizing")||"border-box"===h.css("-moz-box-sizing")||"border-box"===h.css("-webkit-box-sizing"))&&(g=h.outerHeight()-h.height()),u=Math.max(parseInt(h.css("minHeight"),10)-g||0,h.height()),h.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===v?h.css("resize","none"):"both"===v&&h.css("resize","horizontal"),"onpropertychange"in p?"oninput"in p?h.on("input.autosize keyup.autosize",s):h.on("propertychange.autosize",function(){"value"===event.propertyName&&s()}):h.on("input.autosize",s),r.resizeDelay!==!1&&e(window).on("resize.autosize",l),h.on("autosize.resize",s),h.on("autosize.resizeIncludeStyle",function(){t=null,s()}),h.on("autosize.destroy",function(){t=null,clearTimeout(d),e(window).off("resize",l),h.off("autosize").off(".autosize").css(m).removeData("autosize")}),s())})):this}}(window.jQuery||window.$),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"Autosave",events:{"afterScrimClose .dropdown":"save","change .dropdown :hidden":"save","click .description button[type=submit]":"save","click .state.button":"deferSave","click .deadline_clear":"deferSave","onHide input.date":"save",changeOwners:"save"},initialize:function(e){this.draftModel=e.draftModel},save:function(){var e=this.draftModel,n=e.project(),r=t.Person.current();r.isReadOnly(n)||!e.isNew()&&e.isValid()&&e.save()},deferSave:function(){var e=this;_.defer(function(){e.save()})}});_.namespace(t,"views.details").Autosave=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"DetailsField",dirtyAttributes:[],events:function(){var e={dirty:"renderWithDirtyChanges"};return e[this.eventInputSelector]="saveOnEvent",e},initialize:function(e){this._type=e.type,this._rendering=!1,this._draftModel=e.draftModel,this._maximized=e.maximized,t.View.prototype.initialize.apply(this,arguments),this.listenTo(this._draftModel,"change",this.renderWithDraftChanges),this.listenTo(this._draftModel,"minimize",this.minimize)},isDirty:function(e){var t=_.flatten([_.result(this,"dirtyAttributes")]);return!e||_.any(t,function(t){return _.has(e.local,t)})?!1:_.any(t,function(t){return _.has(e.remote,t)})},renderWithDirtyChanges:function(e,t){return this.isDirty(t)?this.update():void 0},renderWithDraftChanges:function(e){if(!_.result(this,"isTextField")){var t={remote:e.changedAttributes(),local:{}};this.isDirty(t)&&this.update()}},saveOnEvent:function(){var e=this._draftModel;t.helpers.view.requireWriteAccess(e.project(),function(){return!e.isNew()&&e.isValid()&&!e.get("prevent_save")&&e.save()})()},update:_.noop,minimize:_.noop,render:function(){this._rendering=!0;var e=new t.DraftModelDecorator(this._draftModel).toJSON({include:{type:this._type,maximized:this._maximized}}),n=JST[_.result(this,"template")](e);return this.$(_.result(this,"delegate")).html(n),this._rendering=!1,this}});_.namespace(t,"views.details").Field=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/details/name/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/details/name/edit"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a,o="",s="function",l=this.escapeExpression,c=n.helperMissing;return o+='<button type="button" class="autosaves maximize hoverable" id="',a=n.type,a?r=a.call(t,{hash:{}}):(r=t.type,r=typeof r===s?r():r),o+=l(r)+"_maximize_",a=n.cid,a?r=a.call(t,{hash:{}}):(r=t.cid,r=typeof r===s?r():r),o+=l(r)+'" tabindex="-1" title="Switch to a full page view of this ',a=n.type,a?r=a.call(t,{hash:{}}):(r=t.type,r=typeof r===s?r():r),o+=l(r)+'" />\n',r={},r.name="epic[name]",r.rows="1",r["class"]="std name",r["id-prefix"]="epic_name",i=t.cid,r.id=i,i=t.name,r.value=i,r.privileged=!0,a=n.editable,r=a?a.call(t,{hash:r}):c.call(t,"editable",{hash:r}),o+=l(r)+'\n<a class="autosaves collapser" id="epic_collapser_',a=n.cid,a?r=a.call(t,{hash:{}}):(r=t.cid,r=typeof r===s?r():r),o+=l(r)+'" tabindex="-1"></a>\n'}),this.HandlebarsTemplates["epics/details/name/edit"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories/details/name/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/details/name/edit"]=Handlebars.template(function(e,t,n,r,i){function a(e,t,r){var i,a,s="";return s+="\n  ",a=n.settings,a?i=a.call(e,{hash:{},inverse:g.noop,fn:g.programWithDepth(o,t,r)}):(i=e.settings,i=typeof i===f?i():i),n.settings||(i=m.call(e,i,{hash:{},inverse:g.noop,fn:g.programWithDepth(o,t,r)})),(i||0===i)&&(s+=i),s+="\n"}function o(e,t,r){var i,a="";return a+="\n    ",i=e.save_on_enter,i=n["if"].call(e,i,{hash:{},inverse:g.programWithDepth(l,t,r),fn:g.programWithDepth(s,t,r)}),(i||0===i)&&(a+=i),a+="\n  "}function s(e,t,r){var i,a,o,s="";return s+="\n      ",i={},i.name="story[name]",i.rows="1",i["class"]="std name",i["id-prefix"]="story_name",a=r.cid,i.id=a,a=r.name,i.value=a,i.placeholder="Story title",i.privileged=!0,a=r.project_id,i["project-id"]=a,o=n.editable,i=o?o.call(e,{hash:i}):p.call(e,"editable",{hash:i}),s+=h(i)+"\n    "}function l(e,t,r){var i,a,o,s="";return s+="\n      ",i={},i.name="story[name]",i.rows="1",i["class"]="std name no_save_on_enter",i["id-prefix"]="story_name",a=r.cid,i.id=a,a=r.name,i.value=a,i.placeholder="Story title",i.privileged=!0,a=r.project_id,i["project-id"]=a,o=n.editable,i=o?o.call(e,{hash:i}):p.call(e,"editable",{hash:i}),s+=h(i)+"\n    "}n=n||e.helpers;var c,u,d="",p=n.helperMissing,h=this.escapeExpression,g=this,f="function",m=n.blockHelperMissing;return d+='<button type="button" class="autosaves maximize hoverable" id="',u=n.type,u?c=u.call(t,{hash:{}}):(c=t.type,c=typeof c===f?c():c),d+=h(c)+"_maximize_",u=n.cid,u?c=u.call(t,{hash:{}}):(c=t.cid,c=typeof c===f?c():c),d+=h(c)+'" tabindex="-1" title="Switch to a full page view of this ',u=n.type,u?c=u.call(t,{hash:{}}):(c=t.type,c=typeof c===f?c():c),d+=h(c)+'" />\n',u=n.currentUser,u?c=u.call(t,{hash:{},inverse:g.noop,fn:g.programWithDepth(a,i,t)}):(c=t.currentUser,c=typeof c===f?c():c),n.currentUser||(c=m.call(t,c,{hash:{},inverse:g.noop,fn:g.programWithDepth(a,i,t)})),(c||0===c)&&(d+=c),d+='\n<a class="autosaves collapser" id="story_collapser_',u=n.cid,u?c=u.call(t,{hash:{}}):(c=t.cid,c=typeof c===f?c():c),d+=h(c)+'" tabindex="-1"></a>\n'}),this.HandlebarsTemplates["stories/details/name/edit"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.details.Field.extend({__name__:"DetailsNameEdit",dirtyAttributes:"name",delegate:"fieldset.name",eventInputSelector:"focusout .std.name",isTextField:!0,update:function(){this.$(".std.name").val(this._draftModel.get("name"))},minimize:function(){this.$(".std.name").trigger("autosize.resize")},template:function(){var e=this._type;return["templates",_.pluralize(e),"details","name","edit"].join("/")}});_.namespace(t,"views.details.name").Edit=n}.call(this),function(){var e=this,t=e.getSelection;e.getSelection=function(){var e="";if(t&&t().toString()&&"Caret"!=t().type)return e=t();if(document.getSelection&&document.getSelection().toString()&&"Caret"!=document.getSelection().type)return e=document.getSelection();var n=document.selection&&document.selection.createRange();return"undefined"!=typeof n&&n.text&&n.text.toString()?e=n.text:!1}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/description"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/description"]=Handlebars.template(function(e,t,n,r,i){function a(){return" editing"}function o(e){var t,r,i="";return i+=' <button type="button" id="edit_description_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===p?t():t),i+=h(t)+'" class="autosaves edit_description no_save_on_enter">(edit)</button>'}n=n||e.helpers;var s,l,c,u,d="",p="function",h=this.escapeExpression,g=this,f=n.blockHelperMissing,m=n.helperMissing;return d+='<div class="description',s=t.description_clicked,s=n["if"].call(t,s,{hash:{},inverse:g.noop,fn:g.program(1,a,i)}),(s||0===s)&&(d+=s),d+='">\n  <h4>Description',u=n.whenReadWrite,u?s=u.call(t,{hash:{},inverse:g.noop,fn:g.program(3,o,i)}):(s=t.whenReadWrite,s=typeof s===p?s():s),n.whenReadWrite||(s=f.call(t,s,{hash:{},inverse:g.noop,fn:g.program(3,o,i)})),(s||0===s)&&(d+=s),d+='</h4>\n  <div class="rendered_description tracker_markup">',s=t.pending_description,l={},l["with-story-epic-links"]=!0,l["with-emoji"]=!0,l["with-mentions"]=!0,c=t.project_id,l.project_id=c,u=n.markup,s=u?u.call(t,s,{hash:l}):m.call(t,"markup",s,{hash:l}),d+=h(s)+"</div>\n  ",s={},s.name="epic[pending_description]",s["markup-type"]="marked",s["with-emoji"]=!0,s["with-story-epic-links"]=!0,s["class"]="std description no_save_on_enter autosave",s["id-prefix"]="epic_pending_description",l=t.cid,s.id=l,l=t.description_clicked,s.clicked=l,l=t.pending_description,s.value=l,s.privileged=!0,u=n.editable,s=u?u.call(t,{hash:s}):m.call(t,"editable",{hash:s}),d+=h(s)+'\n  <div class="field_controls">\n    <a class="markdown_help" href="/help/markdown" target="_blank" tabindex="-1" id="markdown_help_',u=n.cid,u?s=u.call(t,{hash:{}}):(s=t.cid,s=typeof s===p?s():s),d+=h(s)+'" title="Markdown help"></a>\n    <button class="autosaves no_save_on_enter std" id="epic_description_done_',u=n.cid,u?s=u.call(t,{hash:{}}):(s=t.cid,s=typeof s===p?s():s),d+=h(s)+'" type="submit">Done</button>\n    <button class="autosaves no_save_on_enter cancel clear" type="reset" id="epic_description_cancel_',u=n.cid,u?s=u.call(t,{hash:{}}):(s=t.cid,s=typeof s===p?s():s),d+=h(s)+'">cancel</button>\n  </div>\n</div>\n'}),this.HandlebarsTemplates["epics/description"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories/description"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/description"]=Handlebars.template(function(e,t,n,r,i){function a(){return" editing"}function o(e){var t,r,i="";return i+=' <button type="button" id="edit_description_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===p?t():t),i+=h(t)+'" class="autosaves edit_description no_save_on_enter">(edit)</button>'}n=n||e.helpers;var s,l,c,u,d="",p="function",h=this.escapeExpression,g=this,f=n.blockHelperMissing,m=n.helperMissing;return d+='<div class="description',s=t.description_clicked,s=n["if"].call(t,s,{hash:{},inverse:g.noop,fn:g.program(1,a,i)}),(s||0===s)&&(d+=s),d+='">\n  <h4>Description',u=n.whenReadWrite,u?s=u.call(t,{hash:{},inverse:g.noop,fn:g.program(3,o,i)}):(s=t.whenReadWrite,s=typeof s===p?s():s),n.whenReadWrite||(s=f.call(t,s,{hash:{},inverse:g.noop,fn:g.program(3,o,i)})),(s||0===s)&&(d+=s),d+='</h4>\n  <div class="rendered_description tracker_markup">',s=t.pending_description,l={},l["with-story-epic-links"]=!0,l["with-emoji"]=!0,l["with-mentions"]=!0,c=t.project_id,l.project_id=c,u=n.markup,s=u?u.call(t,s,{hash:l}):m.call(t,"markup",s,{hash:l}),d+=h(s)+"</div>\n  ",s={},s["markup-type"]="marked",s["with-emoji"]=!0,s["with-story-epic-links"]=!0,s.name="story[pending_description]",s["class"]="std description no_save_on_enter autosave",s["id-prefix"]="story_pending_description",l=t.cid,s.id=l,l=t.description_clicked,s.clicked=l,l=t.pending_description,s.value=l,s.privileged=!0,u=n.editable,s=u?u.call(t,{hash:s}):m.call(t,"editable",{hash:s}),d+=h(s)+'\n  <div class="field_controls">\n    <a class="markdown_help" href="/help/markdown" target="_blank" tabindex="-1" id="markdown_help_',u=n.cid,u?s=u.call(t,{hash:{}}):(s=t.cid,s=typeof s===p?s():s),d+=h(s)+'" title="Markdown help"></a>\n    <button class="autosaves no_save_on_enter std" id="story_description_done_',u=n.cid,u?s=u.call(t,{hash:{}}):(s=t.cid,s=typeof s===p?s():s),d+=h(s)+'" type="submit">Done</button>\n    <button class="autosaves no_save_on_enter cancel clear" type="reset" id="story_description_cancel_',u=n.cid,u?s=u.call(t,{hash:{}}):(s=t.cid,s=typeof s===p?s():s),d+=h(s)+'">cancel</button>\n  </div>\n</div>\n'}),this.HandlebarsTemplates["stories/description"]}.call(this)}.call(this),function(){"use strict";function e(e){return _.chain(e).debounce(999).throttle(1e3).value()}var t=this,n=_.namespace(t,"tracker"),r=n.helpers,i=n.View.extend({__name__:"DescriptionEditor",events:{"click .edit_description":"handleEditClick","click form.description .rendered_description":"handleResizerClick","submit form.description":"handleFormSubmit",updatePendingDescription:"updatePendingDescription","reset form.description":"handleResetForm","keypress form.description .editor":"onKeypress","keydown form.description .editor":"onKeydown","keyup form.description .editor":"updatePendingDescriptionFromKeyup"},initialize:function(t){n.View.prototype.initialize.apply(this,arguments),this._selector=t.selector,this._template=t.template,this._draftModel=t.draftModel,this._project=this._draftModel.project(),this._type=t.type,this._updateDescription=e(this.updateDescription),this.listenTo(this._draftModel,"change:description_clicked",this.toggleEditingClass),this.listenTo(this._draftModel,"minimize",this.forceUpdateTextarea),this.listenTo(this._draftModel.original(),"change",this.handleModelChange)},forceUpdateTextarea:function(){this.$("textarea.description").val(this._draftModel.get("pending_description")).trigger("autosize.resize")},render:function(){this.$trigger("prerender");var e=JST[this._template](new n.DraftModelDecorator(this._draftModel).toJSON());return this.$(this._selector).html(e),_.debounce(function(){this.$(".editor").autosize({append:""})},0).call(this),this.$trigger("postrender"),this},updatePendingDescriptionFromKeyup:function(e){this.updatePendingDescription(),this._updateDescription(e)},updateDescription:function(e){var t=$(e.target),r=e.target.value.replace(/\n/g,"\n ").replace(/^$/," ");t.parent().find(".rendered_description").html(n.helpers.markup.toHTML(r,{markupType:"marked",escapeHtml:!1}))},updatePendingDescription:function(){var e=this.$(this._selector).serializeObject()[this._type];this._draftModel.set(e,{silent:!0})},integrateChanges:function(e){_.has(e.changed,"description")&&this._draftModel.get("pending_description")===e.previous("description")&&(this._draftModel.set({pending_description:e.get("description")}),this.render())},toggleEditingClass:function(){this.$(this._selector).find(".description").toggleClass("editing",this._draftModel.get("description_clicked")).end(),this.$(".editor").trigger("autosize.resize"),this.$(this._selector).find(".editor").focus().carrot({end:!0})},handleModelChange:function(e){this.updatePendingDescription(),this.integrateChanges(e)},handleResetForm:function(e){e.preventDefault(),this.clear(),this.focusEditButton()},handleEditClick:function(e){n.Person.current().isReadOnly(this._project)||this.editDescription(e)},handleResizerClick:function(e){n.Person.current().isReadOnly(this._project)||$(e.target).closest("a").length||t.getSelection()||this.editDescription()},handleFormSubmit:function(e){e.preventDefault(),this.updatePendingDescription(),this.cancel(e),this.waitForTransition(this.saveIfPossible,this.render,this.focusEditButton)()},editDescription:function(){this._draftModel.set({description_clicked:!0})},focusEditButton:function(){this.$(".edit_description").focus()},hasChanged:function(){return this._draftModel.hasDescriptionChanged()},onKeypress:function(e){this.isEditing()||(e.preventDefault(),(r.key.isEnter(e)||r.key.isSpace(e))&&this._draftModel.set({description_clicked:!0}))},onKeydown:function(e){this.isEditing()&&r.key.isEscape(e)&&(e.stopImmediatePropagation(),e.preventDefault(),this.clear())},isEditing:function(){return this._draftModel.get("description_clicked")},clear:function(){this.updatePendingDescription();var e=this._draftModel.get("pending_description")!==this._draftModel.original().get("description");(!e||e&&t.confirm("Abandon description changes?"))&&(this.revert(),this.render(),this.cancel(),this.waitForTransition(this.render)())},revert:function(){this._draftModel.set({pending_description:this._draftModel.get("description")},{silent:!0})},cancel:function(){this.$(document.activeElement).blur(),this._draftModel.set({description_clicked:!1})},waitForTransition:function(){var e=arguments,n=this;return function(){var r=arguments;t.setTimeout(function(){_.invoke(e,"apply",n,r)},i.TRANSITION_INTERVAL)}},saveIfPossible:function(){return!this._draftModel.isNew()&&this._draftModel.isValid()?this._draftModel.save({description:this._draftModel.get("pending_description")}):this._draftModel.isNew()?(this._draftModel.set({description:this._draftModel.get("pending_description")}),$.Deferred().resolve()):void 0},remove:function(){this.$(".editor").trigger("autosize.destroy"),n.View.prototype.remove.call(this)}},{TRANSITION_INTERVAL:0});_.namespace(n,"views.details").DescriptionEditor=i}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/details/timestamp/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["details/timestamp/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return" clickable"}function o(){return" clicked_timestamp_wrapper"}n=n||e.helpers;var s,l,c,u="",d=this,p=n.helperMissing,h=this.escapeExpression;return u+='<div class="timestamps',s=t.timestamp_wrapper_clickable,s=n["if"].call(t,s,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}),(s||0===s)&&(u+=s),s=t.clicked_timestamp_wrapper,s=n["if"].call(t,s,{hash:{},inverse:d.noop,fn:d.program(3,o,i)}),(s||0===s)&&(u+=s),u+='">\n  <div class="saving timestamp_row"><span>Saving&hellip;</span></div>\n  <div class="updated_at timestamp_row">Updated: ',s=t.updated_at,l={},l.format="%-d %b %Y, %-I:%M%P",c=n.timeAgo,s=c?c.call(t,s,{hash:l}):p.call(t,"timeAgo",s,{hash:l}),u+=h(s)+'</div>\n  <div class="requested_at timestamp_row">Requested: ',s=t.created_at,l={},l.format="%-d %b %Y, %-I:%M%P",c=n.timeAgo,s=c?c.call(t,s,{hash:l}):p.call(t,"timeAgo",s,{hash:l}),u+=h(s)+"</div>\n</div>\n"}),this.HandlebarsTemplates["details/timestamp/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(t.helpers.view,t.View.extend({__name__:"DetailsTimeStampShow",events:{dirty:"dirtyHandler_","click .timestamps":"toggleClicked_"},initialize:function(e){this._draftModel=e.draftModel},toggleClicked_:function(){var e=!this._draftModel.get("clicked_timestamp_wrapper");this.$(".timestamp .timestamps").toggleClass("clicked_timestamp_wrapper",e),this._draftModel.set({clicked_timestamp_wrapper:e},{silent:!0})},dirtyHandler_:function(e,t){(!t||t.remote.updated_at&&!t.local.updated_at)&&this.render()},render:function(){var e=JST["templates/details/timestamp/show"](new t.DraftModelDecorator(this._draftModel).toJSON());return this.$(".timestamp").html(e),this}}));_.namespace(t,"views.details.timestamp").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/details/mini_attachments/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["details/mini_attachments/index"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+="\n    ",r=e.has_file_or_google_attachments,r=n["if"].call(e,r,{hash:{},inverse:m.noop,fn:m.program(2,o,t)}),(r||0===r)&&(i+=r),i+="\n  "}function o(e,t){var r,i,a="";return a+='\n      <li class="comment',r=e.is_deletable,r=n["if"].call(e,r,{hash:{},inverse:m.noop,fn:m.program(3,s,t)}),(r||0===r)&&(a+=r),a+='" data-cid="',i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===g?r():r),a+=f(r)+'">\n        <ul>\n          ',i=n.sorted_attachments,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(5,l,t)}):(r=e.sorted_attachments,r=typeof r===g?r():r),n.sorted_attachments||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(5,l,t)})),(r||0===r)&&(a+=r),a+="\n        </ul>\n      </li>\n    "}function s(){return" deletable"}function l(e,t){var r,i,a="";return a+="\n            ",i=n.file_attachment,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(6,c,t)}):(r=e.file_attachment,r=typeof r===g?r():r),n.file_attachment||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(6,c,t)})),(r||0===r)&&(a+=r),a+="\n            ",i=n.google_attachment,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(8,u,t)}):(r=e.google_attachment,r=typeof r===g?r():r),n.google_attachment||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(8,u,t)})),(r||0===r)&&(a+=r),a+="\n          "}function c(e){var t,i,a="";return a+='\n              <li class="attachment" data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===g?t():t),a+=f(t)+'">\n                ',t=e,t=m.invokePartial(r._comments_file_attachments_show,"_comments_file_attachments_show",t,n,r),(t||0===t)&&(a+=t),a+="\n              </li>\n            "}function u(e){var t,i,a="";return a+='\n              <li class="attachment google_attachment" data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===g?t():t),a+=f(t)+'">\n                ',t=e,t=m.invokePartial(r._comments_google_attachments_show,"_comments_google_attachments_show",t,n,r),(t||0===t)&&(a+=t),a+="\n              </li>\n            "
}n=n||e.helpers,r=r||e.partials;var d,p,h="",g="function",f=this.escapeExpression,m=this,_=n.blockHelperMissing;return h+='<ul class="attachments">\n  ',p=n.comments,p?d=p.call(t,{hash:{},inverse:m.noop,fn:m.program(1,a,i)}):(d=t.comments,d=typeof d===g?d():d),n.comments||(d=_.call(t,d,{hash:{},inverse:m.noop,fn:m.program(1,a,i)})),(d||0===d)&&(h+=d),h+='\n  <li class="comment no_attachments"><span>no attachments</span></li>\n</ul>\n'}),this.HandlebarsTemplates["details/mini_attachments/index"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"DetailsMiniAttachmentsIndex",initialize:_.wrap(t.View.prototype.initialize,function(e,t){e.apply(this,_.rest(arguments)),this._draftModel=t.draftModel,this.delegateEvents({dirty:_.bind(this.render,this)})}),render:function(){return this.wrapRender(function(){var e=JST["templates/details/mini_attachments/index"](new t.DraftModelDecorator(this._draftModel).toJSON());return this.$(".mini.attachments").html(e),this}).call(this)}});_.namespace(t,"views.details.miniAttachments").Index=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/details/controls/stories/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["details/controls/stories/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return" has_flash"}function o(e){var t,r,i="";return i+='\n      <button class="autosaves cancel clear" type="reset" id="',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===T?t():t),i+=A(t)+"_submit_cancel_",r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===T?t():t),i+=A(t)+'" tabindex="-1">Cancel</button>\n    '}function s(){return"save"}function l(){return"close"}function c(){return"Save"}function u(){return"Close"}function d(e,t){var r,i,a="";return a+='\n      <div class="bubble"></div>\n\n      <button type="button" title="Copy this ',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+'\'s link to your clipboard" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+"_copy_link_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===T?r():r),a+=A(r)+'" data-clipboard-text="',r=e.clipboard_path,i=n.prependHost,r=i?i.call(e,r,{hash:{}}):x.call(e,"prependHost",r,{hash:{}}),a+=A(r)+'" class="autosaves clipboard_button link" tabindex="-1"',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(14,p,t)}),(r||0===r)&&(a+=r),a+="/>\n    "}function p(){return" disabled"}function h(){return" read_only"}function g(){return" disabled"}function f(e){var t,r,i="";return i+='title="Copy this ',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===T?t():t),i+=A(t)+"'s ID to your clipboard\""}function m(){return" disabled"}function _(e,t){var r,i,a="";return a+='\n      <div class="button_with_field read_only link',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(25,v,t)}),(r||0===r)&&(a+=r),a+='">\n        <button type="button" data-clipboard-text="',r=e.clipboard_path,i=n.prependHost,r=i?i.call(e,r,{hash:{}}):x.call(e,"prependHost",r,{hash:{}}),a+=A(r)+'" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+"_copy_link_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===T?r():r),a+=A(r)+'" class="autosaves link" tabindex="-1" ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(27,y,t)}),(r||0===r)&&(a+=r),a+='/>\n        <input type="text" readonly class="autosaves link text_value click_to_select" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+"_copy_link_value_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===T?r():r),a+=A(r)+'" value="',r=e.is_new,r=n.unless.call(e,r,{hash:{},inverse:M.noop,fn:M.program(29,b,t)}),(r||0===r)&&(a+=r),a+='" tabindex="-1"/>\n      </div>\n    '}function v(){return" disabled"}function y(){return" disabled"}function b(e){var t,r;return t=e.clipboard_path,r=n.prependHost,t=r?r.call(e,t,{hash:{}}):x.call(e,"prependHost",t,{hash:{}}),A(t)}n=n||e.helpers,r=r||e.partials;var E,S,w="",T="function",A=this.escapeExpression,x=n.helperMissing,M=this;return w+='<section class="controls">\n  <div class="persistence',E=t.has_flash,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(1,a,i)}),(E||0===E)&&(w+=E),w+='">\n    ',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(3,o,i)}),(E||0===E)&&(w+=E),w+='\n    <button class="autosaves button std ',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.program(7,l,i),fn:M.program(5,s,i)}),(E||0===E)&&(w+=E),w+='" type="submit" id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_close_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" tabindex="-1">',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.program(11,u,i),fn:M.program(9,c,i)}),(E||0===E)&&(w+=E),w+='</button>\n  </div>\n\n  <div class="actions">\n    ',E=t.has_flash,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(13,d,i)}),(E||0===E)&&(w+=E),w+='\n\n    <div class="button_with_field',E=t.has_flash,E=n.unless.call(t,E,{hash:{},inverse:M.noop,fn:M.program(16,h,i)}),(E||0===E)&&(w+=E),E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(18,g,i)}),(E||0===E)&&(w+=E),w+='">\n      <button type="button" ',E=t.has_flash,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(20,f,i)}),(E||0===E)&&(w+=E),w+=' id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_copy_id_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_copy_id_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" data-clipboard-text="',S=n.id,S?E=S.call(t,{hash:{}}):(E=t.id,E=typeof E===T?E():E),w+=A(E)+'" class="autosaves clipboard_button id" tabindex="-1" ',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(22,m,i)}),(E||0===E)&&(w+=E),w+=' />\n      <input type="text" readonly class="autosaves id text_value click_to_select" id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_copy_id_value_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" value="',S=n.id,S?E=S.call(t,{hash:{}}):(E=t.id,E=typeof E===T?E():E),w+=A(E)+'" tabindex="-1"/>\n    </div>\n\n    ',E=t,E=M.invokePartial(r._details_controls_stories_actions,"_details_controls_stories_actions",E,n,r),(E||0===E)&&(w+=E),w+="\n\n    ",E=t.has_flash,E=n.unless.call(t,E,{hash:{},inverse:M.noop,fn:M.program(24,_,i)}),(E||0===E)&&(w+=E),w+="\n  </div>\n</section>\n"}),this.HandlebarsTemplates["details/controls/stories/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/details/controls/stories/_actions"]=function(){Handlebars.registerPartial("_details_controls_stories_actions",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n<button type="button" title="Clone this ',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+'" class="autosaves clone_story ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.program(4,s,t),fn:T.program(2,o,t)}),(r||0===r)&&(a+=r),a+=' left_endcap" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+"_clone_button_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===S?r():r),a+=w(r)+'" tabindex="-1" ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.noop,fn:T.program(6,l,t)}),(r||0===r)&&(a+=r),a+='/>\n<button type="button" title="View the history of this ',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+'" class="autosaves history ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.program(10,u,t),fn:T.program(8,c,t)}),(r||0===r)&&(a+=r),a+=' capped" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+"_history_button_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===S?r():r),a+=w(r)+'" tabindex="-1" ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.noop,fn:T.program(12,d,t)}),(r||0===r)&&(a+=r),a+='/>\n<button type="button" title="Delete this ',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+'" class="autosaves delete ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.program(16,h,t),fn:T.program(14,p,t)}),(r||0===r)&&(a+=r),a+=' right_endcap" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+"_delete_button_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===S?r():r),a+=w(r)+'" tabindex="-1" ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.noop,fn:T.program(18,g,t)}),(r||0===r)&&(a+=r),a+="/>\n"}function o(){return"disabled"}function s(){return"hoverable"}function l(){return" disabled"}function c(){return"disabled"}function u(){return"hoverable"}function d(){return" disabled"}function p(){return"disabled"}function h(){return"hoverable"}function g(){return" disabled"}function f(e,t){var r,i,a="";return a+='\n<button type="button" title="View the history of this ',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+'" class="autosaves history ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.program(23,_,t),fn:T.program(21,m,t)}),(r||0===r)&&(a+=r),a+='" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===S?r():r),a+=w(r)+"_history_button_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===S?r():r),a+=w(r)+'" tabindex="-1" ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:T.noop,fn:T.program(25,v,t)}),(r||0===r)&&(a+=r),a+="/>\n"}function m(){return"disabled"}function _(){return"hoverable"}function v(){return" disabled"}n=n||e.helpers;var y,b,E="",S="function",w=this.escapeExpression,T=this,A=n.blockHelperMissing;return b=n.whenReadWrite,b?y=b.call(t,{hash:{},inverse:T.noop,fn:T.program(1,a,i)}):(y=t.whenReadWrite,y=typeof y===S?y():y),n.whenReadWrite||(y=A.call(t,y,{hash:{},inverse:T.noop,fn:T.program(1,a,i)})),(y||0===y)&&(E+=y),E+="\n",b=n.whenReadOnly,b?y=b.call(t,{hash:{},inverse:T.noop,fn:T.program(20,f,i)}):(y=t.whenReadOnly,y=typeof y===S?y():y),n.whenReadOnly||(y=A.call(t,y,{hash:{},inverse:T.noop,fn:T.program(20,f,i)})),(y||0===y)&&(E+=y),E+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/details/controls/epics/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["details/controls/epics/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return" has_flash"}function o(e){var t,r,i="";return i+='\n      <button class="autosaves cancel clear" type="reset" id="',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===T?t():t),i+=A(t)+"_submit_cancel_",r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===T?t():t),i+=A(t)+'" tabindex="-1">Cancel</button>\n    '}function s(){return"save"}function l(){return"close"}function c(){return"Save"}function u(){return"Close"}function d(e,t){var r,i,a="";return a+='\n      <div class="bubble"></div>\n\n      <button type="button" title="Copy this ',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+'\'s link to your clipboard" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+"_copy_link_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===T?r():r),a+=A(r)+'" data-clipboard-text="',r=e.clipboard_path,i=n.prependHost,r=i?i.call(e,r,{hash:{}}):x.call(e,"prependHost",r,{hash:{}}),a+=A(r)+'" class="autosaves clipboard_button link" tabindex="-1"',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(14,p,t)}),(r||0===r)&&(a+=r),a+="/>\n    "}function p(){return" disabled"}function h(){return" read_only"}function g(){return" disabled"}function f(e){var t,r,i="";return i+='title="Copy this ',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===T?t():t),i+=A(t)+"'s ID to your clipboard\""}function m(){return" disabled"}function _(e,t){var r,i,a="";return a+='\n      <div class="button_with_field read_only link',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(25,v,t)}),(r||0===r)&&(a+=r),a+='">\n        <button type="button" data-clipboard-text="',r=e.clipboard_path,i=n.prependHost,r=i?i.call(e,r,{hash:{}}):x.call(e,"prependHost",r,{hash:{}}),a+=A(r)+'" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+"_copy_link_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===T?r():r),a+=A(r)+'" class="autosaves link" tabindex="-1" ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(27,y,t)}),(r||0===r)&&(a+=r),a+='/>\n        <input type="text" readonly class="autosaves link text_value click_to_select" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===T?r():r),a+=A(r)+"_copy_link_value_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===T?r():r),a+=A(r)+'" value="',r=e.is_new,r=n.unless.call(e,r,{hash:{},inverse:M.noop,fn:M.program(29,b,t)}),(r||0===r)&&(a+=r),a+='" tabindex="-1"/>\n      </div>\n    '}function v(){return" disabled"}function y(){return" disabled"}function b(e){var t,r;return t=e.clipboard_path,r=n.prependHost,t=r?r.call(e,t,{hash:{}}):x.call(e,"prependHost",t,{hash:{}}),A(t)}n=n||e.helpers,r=r||e.partials;var E,S,w="",T="function",A=this.escapeExpression,x=n.helperMissing,M=this;return w+='<section class="controls">\n  <div class="persistence',E=t.has_flash,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(1,a,i)}),(E||0===E)&&(w+=E),w+='">\n    ',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(3,o,i)}),(E||0===E)&&(w+=E),w+='\n    <button class="autosaves button std ',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.program(7,l,i),fn:M.program(5,s,i)}),(E||0===E)&&(w+=E),w+='" type="submit" id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_close_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" tabindex="-1">',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.program(11,u,i),fn:M.program(9,c,i)}),(E||0===E)&&(w+=E),w+='</button>\n  </div>\n\n  <div class="actions">\n    ',E=t.has_flash,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(13,d,i)}),(E||0===E)&&(w+=E),w+='\n\n    <div class="button_with_field',E=t.has_flash,E=n.unless.call(t,E,{hash:{},inverse:M.noop,fn:M.program(16,h,i)}),(E||0===E)&&(w+=E),E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(18,g,i)}),(E||0===E)&&(w+=E),w+='">\n      <button type="button" ',E=t.has_flash,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(20,f,i)}),(E||0===E)&&(w+=E),w+=' id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_copy_id_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_copy_id_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" data-clipboard-text="',S=n.id,S?E=S.call(t,{hash:{}}):(E=t.id,E=typeof E===T?E():E),w+=A(E)+'" class="autosaves clipboard_button id" tabindex="-1" ',E=t.is_new,E=n["if"].call(t,E,{hash:{},inverse:M.noop,fn:M.program(22,m,i)}),(E||0===E)&&(w+=E),w+=' />\n      <input type="text" readonly class="autosaves id text_value click_to_select" id="',S=n.type,S?E=S.call(t,{hash:{}}):(E=t.type,E=typeof E===T?E():E),w+=A(E)+"_copy_id_value_",S=n.cid,S?E=S.call(t,{hash:{}}):(E=t.cid,E=typeof E===T?E():E),w+=A(E)+'" value="',S=n.id,S?E=S.call(t,{hash:{}}):(E=t.id,E=typeof E===T?E():E),w+=A(E)+'" tabindex="-1"/>\n    </div>\n\n    ',E=t,E=M.invokePartial(r._details_controls_epics_actions,"_details_controls_epics_actions",E,n,r),(E||0===E)&&(w+=E),w+="\n\n    ",E=t.has_flash,E=n.unless.call(t,E,{hash:{},inverse:M.noop,fn:M.program(24,_,i)}),(E||0===E)&&(w+=E),w+="\n  </div>\n</section>\n"}),this.HandlebarsTemplates["details/controls/epics/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/details/controls/epics/_actions"]=function(){Handlebars.registerPartial("_details_controls_epics_actions",Handlebars.template(function(e,t,n,r,i){function a(){return"disabled"}function o(){return"hoverable"}function s(){return" disabled"}function l(e,t){var r,i,a="";return a+='\n  <button type="button" title="Delete this ',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===f?r():r),a+=m(r)+'" class="autosaves delete ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:_.program(10,u,t),fn:_.program(8,c,t)}),(r||0===r)&&(a+=r),a+='" id="',i=n.type,i?r=i.call(e,{hash:{}}):(r=e.type,r=typeof r===f?r():r),a+=m(r)+"_delete_button_",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===f?r():r),a+=m(r)+'" tabindex="-1" ',r=e.is_new,r=n["if"].call(e,r,{hash:{},inverse:_.noop,fn:_.program(12,d,t)}),(r||0===r)&&(a+=r),a+="/>\n"}function c(){return"disabled"}function u(){return"hoverable"}function d(){return" disabled"}n=n||e.helpers;var p,h,g="",f="function",m=this.escapeExpression,_=this,v=n.blockHelperMissing;return g+='<button type="button" title="View the history of this ',h=n.type,h?p=h.call(t,{hash:{}}):(p=t.type,p=typeof p===f?p():p),g+=m(p)+'" class="autosaves history ',p=t.is_new,p=n["if"].call(t,p,{hash:{},inverse:_.program(3,o,i),fn:_.program(1,a,i)}),(p||0===p)&&(g+=p),g+='" id="',h=n.type,h?p=h.call(t,{hash:{}}):(p=t.type,p=typeof p===f?p():p),g+=m(p)+"_history_button_",h=n.cid,h?p=h.call(t,{hash:{}}):(p=t.cid,p=typeof p===f?p():p),g+=m(p)+'" tabindex="-1" ',p=t.is_new,p=n["if"].call(t,p,{hash:{},inverse:_.noop,fn:_.program(5,s,i)}),(p||0===p)&&(g+=p),g+="/>\n",h=n.whenReadWrite,h?p=h.call(t,{hash:{},inverse:_.noop,fn:_.program(7,l,i)}):(p=t.whenReadWrite,p=typeof p===f?p():p),n.whenReadWrite||(p=v.call(t,p,{hash:{},inverse:_.noop,fn:_.program(7,l,i)})),(p||0===p)&&(g+=p),g+="\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"DetailsControlsShow",initialize:_.wrap(t.View.prototype.initialize,function(e,t){e.apply(this,_.rest(arguments)),this._draftModel=t.draftModel}),render:function(){var e=new t.DraftModelDecorator(this._draftModel).toJSON(),n=JST["templates/details/controls/"+_.pluralize(e.type)+"/show"](e);return this.$("nav.edit").html(n),this}});_.namespace(t,"views.details.controls").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/details/followers/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["details/followers/edit"]=Handlebars.template(function(e,t,n,r,i){function a(){return'checked="checked"'}function o(){return'disabled="true"'}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.helperMissing;return c+='<div class="following row">\n  <em>Follow this ',l=n.type,l?s=l.call(t,{hash:{}}):(s=t.type,s=typeof s===u?s():s),c+=d(s)+'</em>\n  <input type="hidden" name="story[following]" value="0">\n  <input type="checkbox" id="',l=n.cid,l?s=l.call(t,{hash:{}}):(s=t.cid,s=typeof s===u?s():s),c+=d(s)+'_following" ',s=t.is_following,s=n["if"].call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}),(s||0===s)&&(c+=s),c+=" ",s=t.is_disabled,s=n["if"].call(t,s,{hash:{},inverse:p.noop,fn:p.program(3,o,i)}),(s||0===s)&&(c+=s),c+=' class="autosaves std value" name="story[following]" value="on">\n  <span class="count" data-cid="',l=n.cid,l?s=l.call(t,{hash:{}}):(s=t.cid,s=typeof s===u?s():s),c+=d(s)+'">',s=t.follower_count,l=n.pluralize,s=l?l.call(t,"follower",s,{hash:{}}):h.call(t,"pluralize","follower",s,{hash:{}}),c+=d(s)+"</span>\n</div>\n"}),this.HandlebarsTemplates["details/followers/edit"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.details.Field.extend({__name__:"DetailsFollowersEdit",dirtyAttributes:["following","followers","requested_by_id","owner_ids"],delegate:".followers_wrapper",template:"templates/details/followers/edit",eventInputSelector:'change .std[name="story[following]"], .std[name="epic[following]"]',update:function(){t.helpers.focus.maintain.call(this,this.$el,this.render)},saveOnEvent:function(){var e=this._draftModel,n=t.Person.current(),r=e.followedByPerson(n);r?e.followers().remove(r):e.followers().add({id:n.id}),t.views.details.Field.prototype.saveOnEvent.apply(this,arguments)}});_.namespace(t,"views.details.followers").Edit=n}.call(this),function(e){var t=e.View.extend({__name__:"MiniAttachments",initialize:function(e){this.draftModel=e.draftModel,this.listenTo(this.model.comments(),"change remove",this.triggerDraftModelChange_),this.listenTo(this.model.project().fileAttachments(),"change remove",this.triggerDraftModelChange_)},triggerDraftModelChange_:function(){this.draftModel.trigger("change",this.draftModel,{})}});_(e).namespace("views.comments").miniAttachments=t}(tracker,window),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(t.helpers.view,t.View.extend({__name__:"FileAttachmentsEdit",events:{"click .delete_attachment":"deleteFileAttachment_"},hasChanged:function(e){var t=this.getDraftComments_(),n=this.model;return e.withAttachments&&t.any(function(e){var t=n.original().comments().get(e.get("original_cid"));return t&&e.fileAttachments().size()<t.fileAttachments().size()})},deleteFileAttachment_:function(e){e.preventDefault();var t=this.getDraftComment_(e),n=(this.getComment_(t),$(e.currentTarget).closest(".file_attachment")),r=t.fileAttachments().get(n.data("cid"));n.fadeOut(400,function(){t.fileAttachments().remove(r)})},getDraftComment_:function(e){return this.model.comments().get($(e.currentTarget).closest(".comment").data("cid"))},getComment_:function(e){return this.model.original().comments().get(e.get("original_cid"))},getDraftComments_:function(){return this.model.comments()}}));_(t).namespace("views.comments.fileAttachments").Edit=n}.call(this),function(){"use strict";function e(){gapi.load("auth","v1"),gapi.load("picker","v1")}var t=this,n=_.namespace(t,"tracker");_.extend(e.prototype,{show:function(e){if(this.callback_=e,this.oauthToken_){var t=this;this.validateToken_().done(function(e){e.error?(t.oauthToken_=null,t.authorize_()):t.openPicker_()})}else this.authorize_()},validateToken_:function(){return $.ajax({url:"https://www.googleapis.com/oauth2/v1/tokeninfo",data:{access_token:this.oauthToken_},dataType:"jsonp",async:!1})},authorize_:function(){gapi.auth.authorize({client_id:t.FRONTEND_FLAGS.file_picker_client_id,scope:["https://www.googleapis.com/auth/drive.readonly"],immediate:!1},this.handleAuthorizeResponse_.bind(this))},handleAuthorizeResponse_:function(e){e&&!e.error&&(this.oauthToken_=e.access_token,this.openPicker_())},openPicker_:function(){var e=(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCS).setOAuthToken(this.oauthToken_).setDeveloperKey(t.FRONTEND_FLAGS.google_developer_key).setCallback(this.pickerCallback_.bind(this)).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).build();e.setVisible(!0)},pickerCallback_:function(e){e[google.picker.Response.ACTION]===google.picker.Action.PICKED&&this.callback_(e[google.picker.Response.DOCUMENTS])}}),n.GoogleFilePicker=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(t.helpers.view,t.View.extend({__name__:"GoogleAttachmentsEdit",events:{"click .add_google_attachment":"openGoogleDrivePicker_","click .button.abort":"deleteGoogleAttachment_"},hasChanged:function(e){var t=this.getDraftComments_(),n=this.model;return e.withAttachments&&_.any(t,function(e){var t=n.original().comments().get(e.get("original_cid"));return t?e.googleAttachments().size()!==t.googleAttachments().size():e.googleAttachments().size()>0})},getDraftComment_:function(e){var t=$(e.currentTarget).closest(".comment").data("cid");return this.model.comments().get(t)||this.model.comment()},getDraftComments_:function(){return this.model.comments().models.concat(this.model.comment())},openGoogleDrivePicker_:function(e){var n=this.getDraftComment_(e);t.googleFilePicker.show(function(e){var t=_.map(e,function(e){var t=e.mimeType.split("/"),n=t[t.length-1].split("."),r=n[n.length-1];return{title:e.name,google_kind:r,alternate_link:e.url,google_id:e.id,resource_id:e.id}});n.attach({googleAttachments:t})})},deleteGoogleAttachment_:function(e){var t=this.getDraftComment_(e),n=$(e.currentTarget).closest(".attachment"),r=t.googleAttachments().get(n.data("cid"));n.fadeOut(400,function(){t.googleAttachments().remove(r)})}}));_(t).namespace("views.comments.googleAttachments").Edit=n}.call(this),function(e,t){var n=t.Decorator.extend({model:t.Upload,collection:t.Uploads,toJSON:function(){var e={extension:this.extension(),cid:this.cid,progress:"error"===this.get("state")?100:parseInt(100*this.get("sent_bytes")/this.get("total_bytes"),10)};return this.fileAttachment()&&_.extend(e,{not_thumbnailable:this.fileAttachment().get("thumbnailable")===!1,thumbnail_url:this.fileAttachment().get("thumbnail_url"),uploaded:this.fileAttachment().get("uploaded")}),_.extend(this.toJSON(),e)}});t.UploadDecorator=n}(window,tracker),/*!
 * jQuery UI Widget @VERSION
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(a){}i(t)},e.widget=function(t,n,r){var i,a,o,s,l=t.split(".")[0];t=t.split(".")[1],i=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,a,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}())}),o.prototype=e.widget.extend(s,{widgetEventPrefix:a?s.widgetEventPrefix:t},r,{constructor:o,namespace:l,widgetName:t,widgetBaseClass:i,widgetFullName:i}),a?(e.each(a._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete a._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){for(var i,a,o=r.call(arguments,1),s=0,l=o.length;l>s;s++)for(i in o[s])a=o[s][i],o[s].hasOwnProperty(i)&&a!==t&&(n[i]=e.isPlainObject(a)?e.isPlainObject(n[i])?e.widget.extend({},n[i],a):e.widget.extend({},a):a);return n},e.widget.bridge=function(n,i){var a=i.prototype.widgetFullName||n;e.fn[n]=function(o){var s="string"==typeof o,l=r.call(arguments,1),c=this;return o=!s&&l.length?e.widget.extend.apply(null,[o].concat(l)):o,s?this.each(function(){var r,i=e.data(this,a);return i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(r=i[o].apply(i,l),r!==i&&r!==t?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):void 0):e.error("no such method '"+o+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var t=e.data(this,a);t?t.option(o||{})._init():e.data(this,a,new i(o,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,a,o,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},i=n.split("."),n=i.shift(),i.length){for(a=s[n]=e.widget.extend({},this.options[n]),o=0;o<i.length-1;o++)a[i[o]]=a[i[o]]||{},a=a[i[o]];if(n=i.pop(),r===t)return a[n]===t?null:a[n];a[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];s[n]=r}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,a=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function s(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=r.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?i.delegate(u,c,s):n.bind(c,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,a,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(i in a)i in n||(n[i]=a[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,a){"string"==typeof i&&(i={effect:i});var o,s=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=a,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[s]||e.uiBackCompat!==!1&&e.effects[s])?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,a):r.queue(function(n){e(this)[t](),a&&a.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})}(jQuery),/*
 * jQuery Iframe Transport Plugin 1.6.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r,i,a;return{send:function(o,s){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",n.formAcceptCharset),a=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+a+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+a+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+a+"_method=PATCH",n.type="POST"),i=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,a=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{if(t=i.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}s(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(r),r.remove()}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",a[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src","javascript".concat(":false;")),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),/*
 * jQuery File Upload Plugin 5.21.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.propHooks.elements={get:function(t){return e.nodeName(t,"form")?e.grep(t.elements,function(t){return!e.nodeName(t,"input")||"file"!==t.type}):null}},e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;return(!this.bitrate||!n||r>n)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:t.formData?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_onProgress:function(e,t){if(e.lengthComputable){var n,r,i=+new Date;if(t._time&&t.progressInterval&&i-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=i,n=t.total||this._getTotal(t.files),r=parseInt(e.loaded/e.total*(t.chunkSize||n),10)+(t.uploadedBytes||0),this._loaded+=r-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=r,t.total=n,t.bitrate=t._bitrateTimer.getBitrate(i,r,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(i,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_initXHRData:function(t){var n,r=t.files[0],i=t.multipart||!e.support.xhrFileUpload,a=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),i?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:a,value:t.blob}):e.each(t.files,function(e,r){n.push({name:t.paramName[e]||a,value:r})})):(t.formData instanceof FormData?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',n.append(a,t.blob,r.name)):e.each(t.files,function(e,r){(window.Blob&&r instanceof Blob||window.File&&r instanceof File)&&n.append(t.paramName[e]||a,r,r.name)})),t.data=n):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"',t.contentType=r.type,t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e("<a></a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;i;)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),a=i.promise();return n=n||this.options.context||a,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),a.abort=i.promise,this._enhancePromise(a)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){var r,i,a=this,o=t.files[0],s=o.size,l=t.uploadedBytes=t.uploadedBytes||0,c=t.maxChunkSize||s,u=o.slice||o.webkitSlice||o.mozSlice,d=e.Deferred(),p=d.promise();return this._isXHRUpload(t)&&u&&(l||s>c)&&!t.data?n?!0:l>=s?(o.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,t.context,[null,"error",o.error])):(i=function(){var n=e.extend({},t);n.blob=u.call(o,l,l+c,o.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,a._initXHRData(n),a._initProgressListener(n),r=(a._trigger("chunksend",null,n)!==!1&&e.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(r,o,c){l=a._getUploadedBytes(c)||l+n.chunkSize,(!n.loaded||n.loaded<n.total)&&a._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=r,n.textStatus=o,n.jqXHR=c,a._trigger("chunkdone",null,n),a._trigger("chunkalways",null,n),s>l?i():d.resolveWith(n.context,[r,o,c])}).fail(function(e,t,r){n.jqXHR=e,n.textStatus=t,n.errorThrown=r,a._trigger("chunkfail",null,n),a._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,r])})},this._enhancePromise(p),p.abort=function(){return r.abort()},i(),p):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(t,n,r,i){if(!this._isXHRUpload(i)||!i.loaded||i.loaded<i.total){var a=this._getTotal(i.files)||1;this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:a,total:a}),i)}i.result=t,i.textStatus=n,i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){r.jqXHR=e,r.textStatus=t,r.errorThrown=n,this._trigger("fail",null,r),r.recalculateProgress&&(this._loaded-=r.loaded||r.uploadedBytes||0,this._total-=r.total||this._getTotal(r.files))},_onAlways:function(e,t,n,r){this._active-=1,this._trigger("always",null,r),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(t,n){var r,i,a,o,s=this,l=s._getAJAXSettings(n),c=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,r=r||((i||s._trigger("send",t,l)===!1)&&s._getXHRPromise(!1,l.context,i)||s._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){s._onDone(e,t,n,l)}).fail(function(e,t,n){s._onFail(e,t,n,l)}).always(function(e,t,n){if(s._sending-=1,s._onAlways(e,t,n,l),l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var r,i=s._slots.shift();i;){if(r=i.state?"pending"===i.state():!i.isRejected()){i.resolve();break}i=s._slots.shift()}})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(a=e.Deferred(),this._slots.push(a),o=a.pipe(c)):o=this._sequence=this._sequence.pipe(c,c),o.abort=function(){return i=[void 0,"abort","abort"],r?r.abort():(a&&a.rejectWith(l.context,i),c())},this._enhancePromise(o)):c()},_onAdd:function(t,n){var r,i,a,o,s=this,l=!0,c=e.extend({},this.options,n),u=c.limitMultiFileUploads,d=this._getParamName(c);if((c.singleFileUploads||u)&&this._isXHRUpload(c))if(!c.singleFileUploads&&u)for(a=[],r=[],o=0;o<n.files.length;o+=u)a.push(n.files.slice(o,o+u)),i=d.slice(o,o+u),i.length||(i=d),r.push(i);else r=d;else a=[n.files],r=[d];return n.originalFiles=n.files,e.each(a||n.files,function(i,o){var c=e.extend({},n);return c.files=a?o:[o],c.paramName=r[i],c.submit=function(){return c.jqXHR=this.jqXHR=s._trigger("submit",t,this)!==!1&&s._onSend(t,this),this.jqXHR},l=s._trigger("add",t,c)}),l},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,r){return r===t[0]?n[0]:r}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var r,i=this,a=e.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),a.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,a.resolve(t._file)):t.file(function(e){e.relativePath=n,a.resolve(e)},o):t.isDirectory?(r=t.createReader(),r.readEntries(function(e){i._handleFileTreeEntries(e,n+t.name+"/").done(function(e){a.resolve(e)}).fail(o)},o)):a.resolve([]),a.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,r,i=t.prop("webkitEntries")||t.prop("entries");if(i&&i.length)return this._handleFileTreeEntries(i);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(r=t.prop("value"),!r)return e.Deferred().resolve([]).promise();n=[{name:r.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(e){r.files=e,n.options.replaceFileInput&&n._replaceFileInput(r.fileInput),n._trigger("change",t,r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent.clipboardData,r=n&&n.items||[],i={files:[]};return e.each(r,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),this._trigger("paste",t,i)===!1||this._onAdd(t,i)===!1?!1:void 0},_onDrop:function(e){var t=this,n=e.dataTransfer=e.originalEvent.dataTransfer,r={};n&&n.files&&n.files.length&&e.preventDefault(),this._getDroppedFiles(n).always(function(n){r.files=n,t._trigger("drop",e,r)!==!1&&t._onAdd(e,r)})},_onDragOver:function(t){var n=t.dataTransfer=t.originalEvent.dataTransfer;return this._trigger("dragover",t)===!1?!1:(n&&-1!==e.inArray("Files",n.types)&&(n.dropEffect="copy",t.preventDefault()),void 0)},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=-1!==e.inArray(t,this._refreshOptionsList);r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_create:function(){var t=this.options;e.extend(t,e(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,r,i=this,a=e.Deferred(),o=a.promise();return o.abort=function(){return r=!0,n?n.abort():(a.reject(null,"abort","abort"),o)},this._getFileInputFiles(t.fileInput).always(function(e){r||(t.files=e,n=i._onSend(null,t).then(function(e,t,n){a.resolve(e,t,n)},function(e,t,n){a.reject(e,t,n)}))}),this._enhancePromise(o)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),/*
 * jQuery File Upload User Interface Plugin 7.3
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","tmpl","load-image","./jquery.fileupload-fp"],e):e(window.jQuery,window.tmpl,window.loadImage)}(function(e,t,n){"use strict";e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{autoUpload:!1,maxNumberOfFiles:void 0,maxFileSize:void 0,minFileSize:void 0,acceptFileTypes:/.+$/i,previewSourceFileTypes:/^image\/(gif|jpeg|png)$/,previewSourceMaxFileSize:5e6,previewMaxWidth:80,previewMaxHeight:80,previewAsCanvas:!0,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!1,dataType:"json",add:function(t,n){var r=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),i=r.options,a=n.files;e(this).fileupload("process",n).done(function(){r._adjustMaxNumberOfFiles(-a.length),n.maxNumberOfFilesAdjusted=!0,n.files.valid=n.isValidated=r._validate(a),n.context=r._renderUpload(a).data("data",n),i.filesContainer[i.prependFiles?"prepend":"append"](n.context),r._renderPreviews(n),r._forceReflow(n.context),r._transition(n.context).done(function(){r._trigger("added",t,n)!==!1&&(i.autoUpload||n.autoUpload)&&n.autoUpload!==!1&&n.isValidated&&n.submit()})})},send:function(t,n){var r=e(this).data("blueimp-fileupload")||e(this).data("fileupload");return n.isValidated||(n.maxNumberOfFilesAdjusted||(r._adjustMaxNumberOfFiles(-n.files.length),n.maxNumberOfFilesAdjusted=!0),r._validate(n.files))?(n.context&&n.dataType&&"iframe"===n.dataType.substr(0,6)&&n.context.find(".progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).find(".bar").css("width","100%"),r._trigger("sent",t,n)):!1},done:function(t,n){var r,i,a=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),o=a._getFilesFromResponse(n);n.context?n.context.each(function(i){var s=o[i]||{error:"Empty file upload result"},l=a._addFinishedDeferreds();s.error&&a._adjustMaxNumberOfFiles(1),a._transition(e(this)).done(function(){var i=e(this);r=a._renderDownload([s]).replaceAll(i),a._forceReflow(r),a._transition(r).done(function(){n.context=e(this),a._trigger("completed",t,n),a._trigger("finished",t,n),l.resolve()})})}):(o.length&&(e.each(o,function(e,t){n.maxNumberOfFilesAdjusted&&t.error?a._adjustMaxNumberOfFiles(1):n.maxNumberOfFilesAdjusted||t.error||a._adjustMaxNumberOfFiles(-1)}),n.maxNumberOfFilesAdjusted=!0),r=a._renderDownload(o).appendTo(a.options.filesContainer),a._forceReflow(r),i=a._addFinishedDeferreds(),a._transition(r).done(function(){n.context=e(this),a._trigger("completed",t,n),a._trigger("finished",t,n),i.resolve()}))},fail:function(t,n){var r,i,a=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n.maxNumberOfFilesAdjusted&&a._adjustMaxNumberOfFiles(n.files.length),n.context?n.context.each(function(o){if("abort"!==n.errorThrown){var s=n.files[o];s.error=s.error||n.errorThrown||!0,i=a._addFinishedDeferreds(),a._transition(e(this)).done(function(){var o=e(this);r=a._renderDownload([s]).replaceAll(o),a._forceReflow(r),a._transition(r).done(function(){n.context=e(this),a._trigger("failed",t,n),a._trigger("finished",t,n),i.resolve()})})}else i=a._addFinishedDeferreds(),a._transition(e(this)).done(function(){e(this).remove(),a._trigger("failed",t,n),a._trigger("finished",t,n),i.resolve()})}):"abort"!==n.errorThrown?(n.context=a._renderUpload(n.files).appendTo(a.options.filesContainer).data("data",n),a._forceReflow(n.context),i=a._addFinishedDeferreds(),a._transition(n.context).done(function(){n.context=e(this),a._trigger("failed",t,n),a._trigger("finished",t,n),i.resolve()})):(a._trigger("failed",t,n),a._trigger("finished",t,n),a._addFinishedDeferreds().resolve())},progress:function(e,t){if(t.context){var n=parseInt(t.loaded/t.total*100,10);t.context.find(".progress").attr("aria-valuenow",n).find(".bar").css("width",n+"%")}},progressall:function(t,n){var r=e(this),i=parseInt(n.loaded/n.total*100,10),a=r.find(".fileupload-progress"),o=a.find(".progress-extended");o.length&&o.html((r.data("blueimp-fileupload")||r.data("fileupload"))._renderExtendedProgress(n)),a.find(".progress").attr("aria-valuenow",i).find(".bar").css("width",i+"%")},start:function(t){var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n._resetFinishedDeferreds(),n._transition(e(this).find(".fileupload-progress")).done(function(){n._trigger("started",t)})},stop:function(t){var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),r=n._addFinishedDeferreds();e.when.apply(e,n._getFinishedDeferreds()).done(function(){n._trigger("stopped",t)}),n._transition(e(this).find(".fileupload-progress")).done(function(){e(this).find(".progress").attr("aria-valuenow","0").find(".bar").css("width","0%"),e(this).find(".progress-extended").html("&nbsp;"),r.resolve()})},destroy:function(t,n){var r=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n.url&&(e.ajax(n),r._adjustMaxNumberOfFiles(1)),r._transition(n.context).done(function(){e(this).remove(),r._trigger("destroyed",t,n)})}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=e.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},_getFilesFromResponse:function(t){return t.result&&e.isArray(t.result.files)?t.result.files:[]},_enableDragToDesktop:function(){var t=e(this),n=t.prop("href"),r=t.prop("download"),i="application/octet-stream";t.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[i,r,n].join(":"))}catch(t){}})},_adjustMaxNumberOfFiles:function(e){"number"==typeof this.options.maxNumberOfFiles&&(this.options.maxNumberOfFiles+=e,this.options.maxNumberOfFiles<1?this._disableFileInputButton():this._enableFileInputButton())},_formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),n=parseInt(e/86400,10);return n=n?n+"d ":"",n+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_hasError:function(e){return e.error?e.error:this.options.maxNumberOfFiles<0?"Maximum number of files exceeded":this.options.acceptFileTypes.test(e.type)||this.options.acceptFileTypes.test(e.name)?this.options.maxFileSize&&e.size>this.options.maxFileSize?"File is too big":"number"==typeof e.size&&e.size<this.options.minFileSize?"File is too small":null:"Filetype not allowed"},_validate:function(t){var n=this,r=!!t.length;return e.each(t,function(e,t){t.error=n._hasError(t),t.error&&(r=!1)}),r},_renderTemplate:function(t,n){if(!t)return e();var r=t({files:n,formatFileSize:this._formatFileSize,options:this.options});return r instanceof e?r:e(this.options.templatesContainer).html(r).children()},_renderPreview:function(t,r){var i=this,a=this.options,o=e.Deferred();return(n&&n(t,function(t){r.append(t),i._forceReflow(r),i._transition(r).done(function(){o.resolveWith(r)}),e.contains(i.document[0].body,r[0])||o.resolveWith(r)},{maxWidth:a.previewMaxWidth,maxHeight:a.previewMaxHeight,canvas:a.previewAsCanvas})||o.resolveWith(r))&&o},_renderPreviews:function(t){var n=this,r=this.options;return t.context.find(".preview span").each(function(i,a){var o=t.files[i];r.previewSourceFileTypes.test(o.type)&&("number"!==e.type(r.previewSourceMaxFileSize)||o.size<r.previewSourceMaxFileSize)&&(n._processingQueue=n._processingQueue.pipe(function(){var r=e.Deferred(),i=e.Event("previewdone",{target:a});return n._renderPreview(o,e(a)).done(function(){n._trigger(i.type,i,t),r.resolveWith(n)}),r.promise()}))}),this._processingQueue},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.closest(".template-upload"),i=r.data("data");i&&i.submit&&!i.jqXHR&&i.submit()&&n.prop("disabled",!0)},_cancelHandler:function(t){t.preventDefault();var n=e(t.currentTarget).closest(".template-upload"),r=n.data("data")||{};r.jqXHR?r.jqXHR.abort():(r.errorThrown="abort",this._trigger("fail",t,r))},_deleteHandler:function(t){t.preventDefault();var n=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:n.closest(".template-download"),type:"DELETE",dataType:this.options.dataType},n.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var n=e.Deferred();return e.support.transition&&t.hasClass("fade")?t.bind(e.support.transition.end,function(r){r.target===t[0]&&(t.unbind(e.support.transition.end),n.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),n.resolveWith(t)),n},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),n=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),n.find(".start button").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),n.find(".cancel button").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),n.find(".delete input:checked").siblings("button").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){n.find(".delete input").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar button"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start button":this._startHandler,"click .cancel button":this._cancelHandler,"click .delete button":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_stringToRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_initRegExpOptions:function(){var t=this.options;"string"===e.type(t.acceptFileTypes)&&(t.acceptFileTypes=this._stringToRegExp(t.acceptFileTypes)),"string"===e.type(t.previewSourceFileTypes)&&(t.previewSourceFileTypes=this._stringToRegExp(t.previewSourceFileTypes))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates(),this._initRegExpOptions()},_setOption:function(e,t){this._super(e,t),"maxNumberOfFiles"===e&&this._adjustMaxNumberOfFiles(0)},_create:function(){this._super(),this._refreshOptionsList.push("filesContainer","uploadTemplateId","downloadTemplateId"),this._processingQueue||(this._processingQueue=e.Deferred().resolveWith(this).promise(),this.process=function(){return this._processingQueue}),this._resetFinishedDeferreds()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),function(e){var t=e.blueimp.fileupload.prototype._initEventHandlers,n=e.blueimp.fileupload.prototype._destroyEventHandlers;_.extend(e.blueimp.fileupload.prototype,{_initEventHandlers:function(){var e=this;return this.options.delegate?(this.element.on("change.fileupload","input:file",{fileupload:this},function(){return e._onChange.apply(e,arguments)}),this.options.dropZone.on("dragover.fileupload",{fileupload:this},function(){return e._onDragOver.apply(e,arguments)}),this.options.dropZone.on("drop.fileupload",{fileupload:this},function(){return e._onDrop.apply(e,arguments)}),void 0):t.apply(this,arguments)},_destroyEventHandlers:function(){return this.options.delegate?(this.element.off("change.fileupload","input:file"),this.options.dropZone.off("dragover.fileupload"),this.options.dropZone.off("drop.fileupload"),void 0):n.apply(this,arguments)}})}(jQuery),function(){this.JST||(this.JST={}),this.JST["templates/comments/uploads/_show"]=function(){Handlebars.registerPartial("_comments_uploads_show",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n  ",i=n.uploads,i?r=i.call(e,{hash:{},inverse:d.noop,fn:d.program(2,o,t)}):(r=e.uploads,r=typeof r===p?r():r),n.uploads||(r=h.call(e,r,{hash:{},inverse:d.noop,fn:d.program(2,o,t)})),(r||0===r)&&(a+=r),a+="\n"}function o(e){var t;return t=e,t=d.invokePartial(r._comments_uploads_show_maximized,"_comments_uploads_show_maximized",t,n,r),t||0===t?t:""}function s(e,t){var r,i,a="";return a+="\n  ",i=n.uploads,i?r=i.call(e,{hash:{},inverse:d.noop,fn:d.program(5,l,t)}):(r=e.uploads,r=typeof r===p?r():r),n.uploads||(r=h.call(e,r,{hash:{},inverse:d.noop,fn:d.program(5,l,t)})),(r||0===r)&&(a+=r),a+="\n"}function l(e){var t;return t=e,t=d.invokePartial(r._comments_uploads_show_standard,"_comments_uploads_show_standard",t,n,r),t||0===t?t:""}n=n||e.helpers,r=r||e.partials;var c,u="",d=this,p="function",h=n.blockHelperMissing;return c=t.is_maximized,c=n["if"].call(t,c,{hash:{},inverse:d.program(4,s,i),fn:d.program(1,a,i)}),(c||0===c)&&(u+=c),u+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/uploads/_show_standard"]=function(){Handlebars.registerPartial("_comments_uploads_show_standard",Handlebars.template(function(e,t,n,r,i){function a(){return" not_thumbnailable"}function o(e){var t,r,i="";return i+='\n    <input type="hidden" data-type="number" value="',r=n.file_attachment_id,r?t=r.call(e,{hash:{}}):(t=e.file_attachment_id,t=typeof t===h?t():t),i+=g(t)+'" name="comment[file_attachment_ids][]">\n  '}function s(e,t){var r;return r=e.uploaded,r=n["if"].call(e,r,{hash:{},inverse:f.noop,fn:f.program(6,l,t)}),r||0===r?r:""}function l(e){var t,r,i="";return i+='style="background-image: url(',r=n.thumbnail_url,r?t=r.call(e,{hash:{}}):(t=e.thumbnail_url,t=typeof t===h?t():t),i+=g(t)+')"'}n=n||e.helpers;var c,u,d,p="",h="function",g=this.escapeExpression,f=this,m=n.helperMissing;return p+='<li class="attachment ',d=n.state,d?c=d.call(t,{hash:{}}):(c=t.state,c=typeof c===h?c():c),p+=g(c),c=t.not_thumbnailable,c=n["if"].call(t,c,{hash:{},inverse:f.noop,fn:f.program(1,a,i)}),(c||0===c)&&(p+=c),p+='" data-cid="',d=n.cid,d?c=d.call(t,{hash:{}}):(c=t.cid,c=typeof c===h?c():c),p+=g(c)+'">\n  ',c=t.file_attachment_id,c=n["if"].call(t,c,{hash:{},inverse:f.noop,fn:f.program(3,o,i)}),(c||0===c)&&(p+=c),p+='\n  <div class="thumbnail" ',c=t.not_thumbnailable,c=n.unless.call(t,c,{hash:{},inverse:f.noop,fn:f.program(5,s,i)}),(c||0===c)&&(p+=c),p+="><abbr>",d=n.extension,d?c=d.call(t,{hash:{}}):(c=t.extension,c=typeof c===h?c():c),p+=g(c)+'</abbr></div>\n  <a class="button abort" tabindex="-1"></a>\n  <p class="filename" title="',d=n.title,d?c=d.call(t,{hash:{}}):(c=t.title,c=typeof c===h?c():c),p+=g(c)+'">',c=t.extension,u=t.title,d=n.filenameEllipsify,c=d?d.call(t,u,c,{hash:{}}):m.call(t,"filenameEllipsify",u,c,{hash:{}}),p+=g(c)+'</p>\n  <div class="progress"><div class="bar" style="width: ',d=n.progress,d?c=d.call(t,{hash:{}}):(c=t.progress,c=typeof c===h?c():c),p+=g(c)+'%"></div></div>\n  <p class="error">',d=n.error_message,d?c=d.call(t,{hash:{}}):(c=t.error_message,c=typeof c===h?c():c),p+=g(c)+"</p>\n</li>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/uploads/_show_maximized"]=function(){Handlebars.registerPartial("_comments_uploads_show_maximized",Handlebars.template(function(e,t,n,r,i){function a(){return" not_thumbnailable"}function o(e){var t,r,i="";return i+='\n    <input type="hidden" data-type="number" value="',r=n.file_attachment_id,r?t=r.call(e,{hash:{}}):(t=e.file_attachment_id,t=typeof t===g?t():t),i+=f(t)+'" name="comment[file_attachment_ids][]">\n  '}function s(e,t){var r;return r=e.uploaded,r=n["if"].call(e,r,{hash:{},inverse:m.noop,fn:m.program(6,l,t)}),r||0===r?r:""}function l(e){var t,r,i="";return i+='style="background-image: url(',r=n.thumbnail_url,r?t=r.call(e,{hash:{}}):(t=e.thumbnail_url,t=typeof t===g?t():t),i+=f(t)+')"'}n=n||e.helpers;var c,u,d,p,h="",g="function",f=this.escapeExpression,m=this,_=n.helperMissing;return h+='<li class="attachment ',p=n.state,p?c=p.call(t,{hash:{}}):(c=t.state,c=typeof c===g?c():c),h+=f(c),c=t.not_thumbnailable,c=n["if"].call(t,c,{hash:{},inverse:m.noop,fn:m.program(1,a,i)}),(c||0===c)&&(h+=c),h+='" data-cid="',p=n.cid,p?c=p.call(t,{hash:{}}):(c=t.cid,c=typeof c===g?c():c),h+=f(c)+'">\n  ',c=t.file_attachment_id,c=n["if"].call(t,c,{hash:{},inverse:m.noop,fn:m.program(3,o,i)}),(c||0===c)&&(h+=c),h+='\n  <div class="thumbnail" ',c=t.not_thumbnailable,c=n.unless.call(t,c,{hash:{},inverse:m.noop,fn:m.program(5,s,i)}),(c||0===c)&&(h+=c),h+=">",p=n.extension,p?c=p.call(t,{hash:{}}):(c=t.extension,c=typeof c===g?c():c),h+=f(c)+'</div>\n  <a class="button abort" tabindex="-1"></a>\n  <p class="filename" title="',p=n.title,p?c=p.call(t,{hash:{}}):(c=t.title,c=typeof c===g?c():c),h+=f(c)+'">',c=t.extension,u=t.title,d={},d.truncate=60,p=n.filenameEllipsify,c=p?p.call(t,u,c,{hash:d}):_.call(t,"filenameEllipsify",u,c,{hash:d}),h+=f(c)+'</p>\n  <div class="progress"><div class="bar" style="width: ',p=n.progress,p?c=p.call(t,{hash:{}}):(c=t.progress,c=typeof c===g?c():c),h+=f(c)+'%"></div></div>\n  <p class="error">',p=n.error_message,p?c=p.call(t,{hash:{}}):(c=t.error_message,c=typeof c===g?c():c),h+=f(c)+"</p>\n</li>\n"}))}.call(this)}.call(this),function(){"use strict";function e(e){return r[r.hasOwnProperty(e)?e:"generic"]}var t=this,n=_.namespace(t,"tracker"),r=(n.helpers.view,{"File is too big":"File cannot be > 50MB in size.",emptyFile:"File cannot be empty.",generic:"Unable to process attachment."}),i=52428800,a=n.View.extend({__name__:"UploadsEdit",events:{fileuploadadded:"addFile_",fileuploadprogress:"renderFileProgressed_",fileuploadfail:"fileUploadFail_",fileuploaddone:"fileUploadDone_","click .button.abort":"abort_"},initialize:function(e){this.$delegate=e.$delegate,this.timeout=null,this.$delegate.on("dragover",_.bind(this.dropZone,this)),this.listenTo(this.model.project().fileAttachments(),"all",this.render),this.options=e,this.$el.fileupload({autoUpload:!1,replaceFileInput:!1,maxFileSize:i,sequentialUploads:!0,delegate:!0,dataType:"text",url:["/services/v5/projects",this.model.project().id,"uploads?date_format=millis&envelope=true"].join("/"),dropZone:this.$delegate,paramName:"file"})},hasChanged:function(e){var t=this.getDraftComments_();return e&&e.withAttachments&&_.any(t,function(e){return e.uploads().length>0})},preventsSave:function(){var e=this.getDraftComments_();return _.any(e,function(e){return e.uploads().findWhere({state:"uploading"})})},render:function(){this.$trigger("prerender");var e=this.getDraftComments_();return _.each(e,_.bind(this.renderComment_,this)),this.$trigger("postrender"),this},remove:function(){this.$delegate.off("dragover"),n.View.prototype.remove.call(this)},getDraftComment_:function(e,t){var n,r;return e.originalEvent?(n=$(e.originalEvent.currentTarget).closest(".comment"),r=this.model.comments().get(n.data("cid"))||this.model.comment()):t?r=this.model.comments().get(t.files[0].comment_cid)||this.model.comment():(n=$(e.currentTarget).closest(".comment"),r=this.model.comments().get(n.data("cid"))||this.model.comment()),r},getDraftComments_:function(){return this.model.comments().models.concat(this.model.comment())},addFile_:function(e,t){var n=this.getDraftComment_(e,t),r=_(t.files).inject(function(e,r){var i=n.uploads().push({title:r.name,total_bytes:r.size});r.cid=i.cid,r.comment_cid=n.cid,0===r.size&&(r.error="emptyFile");var a=e||r.error;return a||i.set({jqXHR:t.submit()},{silent:!0}),a},!1);r&&this.fileFailed_(n,e,t),this.renderComment_(n)},renderFileProgressed_:function(e,t){var n=this.getDraftComment_(e,t),r=n.uploads();_(t.files).each(function(e){var n=r.get(e.cid);n&&n.set({sent_bytes:t.loaded})}),this.renderComment_(n)},renderComment_:function(e){var r={maximized:this.options.maximized,uploads:new n.UploadDecorator(e.uploads()).toJSON()},i=Handlebars.VM.invokePartial(t.Handlebars.partials._comments_uploads_show,"show",r);this.$(".comment[data-cid="+e.cid+"] .attachments.file_attachments").html(i)},fileUploadFail_:function(t,n){var r=this.getDraftComment_(t,n),i=r.uploads();_(n.files).each(function(t){var n=i.get(t.cid);n&&n.set({error_message:e(t.error),state:"error",sent_bytes:n.get("total_bytes")})}),this.renderComment_(r)},fileUploadDone_:function(e,t){var n=this.getDraftComment_(e,t),r=n.uploads(),i=this.model.project();_(t.files).each(function(e){var n=JSON.parse(t.result),a=n.data||n.error,o=r.get(e.id||e.cid);o&&a&&(a.id?(i.fileAttachments().add(a),o.set({state:"uploaded",file_attachment_id:a.id})):o.set({error_message:a.requirement,state:"error",sent_bytes:o.get("total_bytes")}),o.unset("jqXHR"))}),this.renderComment_(n)},abort_:function(e,t){e.preventDefault();var n=this.getDraftComment_(e,t),r=this,i=$(e.currentTarget).closest(".attachment"),a=n.uploads(),o=a.get(i.data("cid")),s=o&&o.get("jqXHR");s&&s.abort(),i.fadeOut(400,function(){o&&(a.remove(o),r.renderComment_.call(r,n))})},dropZone:function(){var e=this.$delegate;e.addClass("drop_zone"),t.clearTimeout(this.timeout),this.timeout=t.setTimeout(function(){e.removeClass("drop_zone")},100)},fileFailed_:function(t,n,r){var i=t.uploads();_(r.files).each(function(t){var n=i.get(t.cid);n&&n.set({error_message:e(t.error),state:"error",sent_bytes:n.get("total_bytes")})})}});_.namespace(n,"views.comments.uploads").Edit=a}.call(this),function(){"use strict";function e(e,t,n,r){var i=e.slice(0,t-n),a=e.slice(t,e.length);return i+r+a}function t(t,n,r,i){return e(t,n,i.length,r+" ")}function n(e,t){var n=e.slice(0,t).match(/(?:\s|^)@(\w*)$/);return n&&n[1]}function r(e){return e.find(".mentionable .dropdown section").hasClass("visible")}function i(e){e.find(".mentionable .dropdown").trigger("dropdownClose")}function a(e){e.find(".mentionable .dropdown").trigger("dropdownOpen")}var o=this,s=_.namespace(o,"tracker"),l=[38,40,27,13,9],c=s.View.extend({__name__:"Mentionable",events:{"keyup .comment .editor":"detectFollower_","keydown .comment .editor":"proxyDropdownKeys_","picked.dropdown .comment .dropdown_item":"addMention_","dropdownOpen .comment .mentionable .dropdown":"addAboveScrim_","dropdownClose .comment .mentionable .dropdown":"removeAboveScrim_","afterScrimClose .comment .mentionable .dropdown":"removeAboveScrim_","click .comment .add_mention":"showMentionOptions_"},initialize:function(e){this.views().addView(new s.views.Dropdown({el:this.el})),this.project=e.project},getCommentDelegate_:function(e){return $(e.currentTarget).closest(".comment")},getComment_:function(e){return this.model.comments().get(e.data("cid"))||this.model.comment()},removeAboveScrim_:function(e){var t=this.getCommentDelegate_(e);t.find(".mentionable .editor").removeClass("above_scrim")},addAboveScrim_:function(e){var t=this.getCommentDelegate_(e);t.find(".mentionable .editor").addClass("above_scrim")},addMention_:function(e){var r=this.$(e.currentTarget).data("value"),i=this.project.members().get(r),a=this.getCommentDelegate_(e),o=this.getComment_(a),s=a.find(".mentionable .editor"),l=a.find(".mentionable .editor").carrot().start,c=s.val(),u=i.get("username"),d=n(c,l),p=l-d.length+u.length+1;s.val(t(c,l,u,d)).carrot({start:p,end:p}),o.set({text:s.val()},{silent:!0}),this.removeAboveScrim_(e)},showMentionOptions_:function(t){var n,r,i=this.getCommentDelegate_(t),a=i.find(".mentionable .editor"),o=a.carrot().start;r=1>o-1||a.val()[o-1].match(/[\s\r\n]/)?"@":" @",a.focus(),n=e(a.val(),o,0,r),a.val(n).carrot({start:o+r.length,end:o+r.length}),this.detectFollower_(t)},detectFollower_:function(e){function t(e){function t(t){return o.members().filter(function(n){var r=n.get(t)||"";return _.str.include(r.toLowerCase(),e.toLowerCase())})}return _(["name","initials","username"]).chain().map(t).flatten().uniq().value()}var r=this.getCommentDelegate_(e),o=this.project;if(!_(l).include(e.which)){var s=n(r.find(".editor").val(),r.find(".editor").carrot().start);if(_.isNull(s))return i(r),void 0;var c=_(t(s));c.any()?(r.find(".mentionable .dropdown_item").addClass("hidden").removeClass("hover selected"),c.each(function(e){r.find('.mentionable .dropdown_item[data-value="'+e.get("id")+'"]').removeClass("hidden")}),r.find(".mentionable .dropdown_item:not('.hidden'):first").addClass("hover"),a(r)):i(r)}},proxyDropdownKeys_:function(e){var t=this.getCommentDelegate_(e);r(t)&&_(l).include(e.which)&&(t.find(".mentionable .dropdown .honeypot").trigger({type:"keydown",which:e.which}),e.preventDefault(),e.stopPropagation())}});_.namespace(s,"views").Mentionable=c}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(t.helpers.view,t.View.extend({__name__:"CommentsEdit",events:{"click .comment .edit_comment":"editComment_","reset .comment form.edit":"cancelEdit_","keydown .comment .editor":"handleKeydown_","keyup .comment .editor":"integrateUserChanges_","paste .comment .editor":"deferIntegrateUserChanges_","change .comment .editor":"deferIntegrateUserChanges_","submit .comment form.edit":"submitIfValid_","click .activity .delete_comment":"deleteComment_"},initialize:function(e){this.$delegate=e.$delegate,this.forMaximized=e.maximized,this.draftNewComment=this.model.comment(),this.views().addView(new t.views.Mentionable({el:this.el,project:this.model.project(),model:this.model})).addView(new t.views.comments.fileAttachments.Edit({el:this.el,model:this.model})).addView(new t.views.comments.googleAttachments.Edit({el:this.el,model:this.model})),t.Person.current().isReadOnly(this.model.project())||this.views().addView(new t.views.comments.uploads.Edit({el:this.el,model:this.model,$delegate:this.$delegate,maximized:this.forMaximized}));var n=this.model.original().comments();this.listenTo(n,"add",this.addComment_),this.listenTo(n,"remove",this.removeComment_),this.listenTo(n,"change",this.integrateServerChanges_)},getDraftComment_:function(e){var n,r=this.model.comments();if(e instanceof t.Comment)return n=e,r.findWhere({original_cid:n.cid});var i=this.getCommentDelegate_(e),a=r.get(i.data("cid"))||this.draftNewComment;return a},getCommentDelegate_:function(e){return $(e.currentTarget).closest(".activity[data-cid]")},preventDuplicateHandler_:function(){return this.forMaximized||!t.Layout.current().get("maximized")},addComment_:function(e){if(this.preventDuplicateHandler_()){var t=_.extend({original_cid:e.cid},_.omit(e.attributes,"file_attachments","google_attachments","uploads")),n=this.model.comments(),r=n.push(t,{silent:!0});r.isNew=function(){return!1},r.fileAttachments().reset(e.fileAttachments().models,{silent:!0}),r.googleAttachments().reset(e.googleAttachments().models,{silent:!0}),r.trigger("change",r)}},removeComment_:function(e){var t=this.getDraftComment_(e);this.preventDuplicateHandler_()&&this.model.comments().remove(t)},integrateServerChanges_:function(e){if(this.preventDuplicateHandler_()){var t=this.getDraftComment_(e),n=_.extend(e.attributes,{previous_text:e.attributes.text});t.get("editing")?n=_.omit(n,"text"):(t.fileAttachments().set(e.fileAttachments().models),t.googleAttachments().set(e.googleAttachments().models)),t.set(n)}},editComment_:function(e){e.preventDefault();var t=this.getDraftComment_(e),n=this.getCommentDelegate_(e);t.set({editing:!0,previous_text:t.get("text")}),this.refresh(n).find(".editor").focus().autosize({append:""}).carrot({end:!0})},refresh:function(e){return this.$('.comment[data-cid="'+e.data("cid")+'"]')},isDirty:function(e){return e.get("text")!==e.get("previous_text")},cancelEdit_:function(t,n){n=n||{confirm:!0},t.preventDefault();var r=this.getDraftComment_(t),i=this.getCommentDelegate_(t),a=this.isDirty(r);if(a&&n.confirm&&!e.confirm("Abandon your changes?"))return!1;var o=i.find(".editor");o.blur().trigger("autosize.destroy"),r.set({editing:!1},{silent:!0}),r.clear(),o.val(r.get("text"))},handleKeydown_:function(t){var n=this.getDraftComment_(t);if(t.which===$.ui.keyCode.ESCAPE)!this.isDirty(n)||e.confirm("Abandon your changes?")?(this.cancelEdit_(t,{confirm:!1}),n===this.draftNewComment&&n.clear()):t.preventDefault();else if(t.which===$.ui.keyCode.ENTER&&t.shiftKey){t.preventDefault();var r=this.getCommentDelegate_(t);r.find(".dropdown").trigger("dropdownClose"),r.find("form.edit").submit()}},integrateUserChanges_:function(e){if(e.which!==$.ui.keyCode.ESCAPE){var t=this.getDraftComment_(e);t.set(this.getCommentDelegate_(e).find("form").serializeObject().comment,{silent:!0})}},validate_:function(t){var n=t.validate(t.attributes);return n&&!t.isBlank()&&e.alert(n),!n||t!==this.draftNewComment&&t.isBlank()},deferIntegrateUserChanges_:function(e){_.defer(_.bind(this.integrateUserChanges_,this),e)},saveDraftComment_:function(e,t){return e.set(_.extend(t.find("form").serializeObject().comment,{editing:!1,previous_text:e.get("text")}),{silent:!0}),t.find(".editor").trigger("autosize.destroy"),e.save()},submitIfValid_:function(t){t.preventDefault();var n=this.getDraftComment_(t);return n.uploads().anyUploading()?(e.alert("Please wait for uploads to finish before adding a comment."),!1):(this.validate_(n)&&(this.saveDraftComment_(n,this.getCommentDelegate_(t)),this.getCommentDelegate_(t).find("form .editor").val(""),n.clear(),this.$(".comment.new .editor").focus()),void 0)},deleteComment_:function(t){t.preventDefault();var n=this.getDraftComment_(t);e.confirm("Are you sure you want to delete this comment?")&&n.destroy()},getEditingDraftComments_:function(){return this.model.comments().where({editing:!0}).concat(this.draftNewComment)},saveAll:function(e){var t=this;return $.when.apply(null,_.map(e,function(e){var n=(t.model.comments().get(e.get("original_cid")),t.$('.comment[data-cid="'+e.cid+'"]'));return t.saveDraftComment_(e,n)}))},save:function(){return this.saveAll(this.getEditingDraftComments_())},hasChanged:function(){var e=this.getEditingDraftComments_();return _.any(e,function(e){return e.get("text")!==e.get("previous_text")})},isValid:function(){var e=this;return _.all(e.getEditingDraftComments_(),function(t){return e.validate_(t)||t===e.draftNewComment&&t.isBlank()})},remove:function(){this.$(".editor").trigger("autosize.remove"),t.View.prototype.remove.call(this)}}));_.namespace(t,"views.comments").Edit=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["comments/index"]=Handlebars.template(function(e,t,n,r){n=n||e.helpers,r=r||e.partials;var i,a="",o=this;return i=t,i=o.invokePartial(r._comments_index,"_comments_index",i,n,r),(i||0===i)&&(a+=i),a+="\n"}),this.HandlebarsTemplates["comments/index"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/_index"]=function(){Handlebars.registerPartial("_comments_index",Handlebars.template(function(e,t,n,r,i){function a(e){var t;return t=e,t=A.invokePartial(r._comments_filter,"_comments_filter",t,n,r),t||0===t?t:""}function o(e,t){var r,i="";return i+="\n  ",r=e.id,r=n["if"].call(e,r,{hash:{},inverse:A.noop,fn:A.program(4,s,t)}),(r||0===r)&&(i+=r),i+="\n"}function s(e){var t,r,i="";return i+='\n    <a href="',t=e.all_images_path,r=n.prependHost,t=r?r.call(e,t,{hash:{}}):x.call(e,"prependHost",t,{hash:{}}),i+=M(t)+'" class="view_all_images" target="_blank" tabindex="-1">View all images</a>\n  '}function l(e){var t,r,i="";return i+=" ",r=n.comments_filter,r?t=r.call(e,{hash:{}}):(t=e.comments_filter,t=typeof t===D?t():t),i+=M(t)
}function c(e,t){var r,i,a="";return a+="\n    ",r=e.comments_filter,i=n.filterComments,r=i?i.call(e,r,{hash:{},inverse:A.noop,fn:A.program(9,u,t)}):x.call(e,"filterComments",r,{hash:{},inverse:A.noop,fn:A.program(9,u,t)}),(r||0===r)&&(a+=r),a+="\n  "}function u(e,t){var r,i="";return i+="\n      ",r=e.editing,r=n["if"].call(e,r,{hash:{},inverse:A.program(13,h,t),fn:A.program(10,d,t)}),(r||0===r)&&(i+=r),i+="\n      </li>\n    "}function d(e,t){var i,a,o="";return o+='\n        <li class="activity ',a=n.type,a?i=a.call(e,{hash:{}}):(i=e.type,i=typeof i===D?i():i),o+=M(i)+" edit ",i=e.is_deletable,i=n["if"].call(e,i,{hash:{},inverse:A.noop,fn:A.program(11,p,t)}),(i||0===i)&&(o+=i),o+='" data-cid="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===D?i():i),o+=M(i)+'">\n        ',i=e,i=A.invokePartial(r._comments_edit,"_comments_edit",i,n,r),(i||0===i)&&(o+=i),o+="\n      "}function p(){return"has_controls"}function h(e,t){var i,a,o="";return o+='\n        <li class="activity ',a=n.type,a?i=a.call(e,{hash:{}}):(i=e.type,i=typeof i===D?i():i),o+=M(i)+"  ",i=e.is_deletable,i=n["if"].call(e,i,{hash:{},inverse:A.noop,fn:A.program(14,g,t)}),(i||0===i)&&(o+=i),o+='" data-cid="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===D?i():i),o+=M(i)+'">\n        ',i=e,i=A.invokePartial(r._comments_show,"_comments_show",i,n,r),(i||0===i)&&(o+=i),o+="\n      "}function g(){return"has_controls"}function f(e,t){var r,i,a="";return a+="\n    ",i=n.comments,i?r=i.call(e,{hash:{},inverse:A.noop,fn:A.program(17,m,t)}):(r=e.comments,r=typeof r===D?r():r),n.comments||(r=k.call(e,r,{hash:{},inverse:A.noop,fn:A.program(17,m,t)})),(r||0===r)&&(a+=r),a+="\n  "}function m(e,t){var r,i="";return i+="\n      ",r=e.editing,r=n["if"].call(e,r,{hash:{},inverse:A.program(21,y,t),fn:A.program(18,_,t)}),(r||0===r)&&(i+=r),i+="\n    "}function _(e,t){var i,a,o="";return o+='\n        <li class="activity ',a=n.type,a?i=a.call(e,{hash:{}}):(i=e.type,i=typeof i===D?i():i),o+=M(i)+" edit ",i=e.is_deletable,i=n["if"].call(e,i,{hash:{},inverse:A.noop,fn:A.program(19,v,t)}),(i||0===i)&&(o+=i),o+='" data-cid="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===D?i():i),o+=M(i)+'">\n        ',i=e,i=A.invokePartial(r._comments_edit,"_comments_edit",i,n,r),(i||0===i)&&(o+=i),o+="\n        </li>\n      "}function v(){return"has_controls"}function y(e,t){var i,a,o="";return o+='\n         <li class="activity ',a=n.type,a?i=a.call(e,{hash:{}}):(i=e.type,i=typeof i===D?i():i),o+=M(i)+" ",i=e.is_deletable,i=n["if"].call(e,i,{hash:{},inverse:A.noop,fn:A.program(22,b,t)}),(i||0===i)&&(o+=i),o+='" data-cid="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===D?i():i),o+=M(i)+'">\n        ',i=e,i=A.invokePartial(r._comments_show,"_comments_show",i,n,r),(i||0===i)&&(o+=i),o+="\n         </li>\n      "}function b(){return"has_controls"}function E(e){var t,i,a="";return a+='\n    <li class="activity new comment" data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===D?t():t),a+=M(t)+'">\n      ',t=e,t=A.invokePartial(r._comments_edit,"_comments_edit",t,n,r),(t||0===t)&&(a+=t),a+="\n    </li>\n  "}n=n||e.helpers,r=r||e.partials;var S,w,T="",A=this,x=n.helperMissing,M=this.escapeExpression,D="function",k=n.blockHelperMissing;return S=t.comments_filter,S=n["if"].call(t,S,{hash:{},inverse:A.noop,fn:A.program(1,a,i)}),(S||0===S)&&(T+=S),T+="\n<h4>Activity</h4>\n",S=t.has_image_attachments,S=n["if"].call(t,S,{hash:{},inverse:A.noop,fn:A.program(3,o,i)}),(S||0===S)&&(T+=S),T+='\n<ol class="comments',S=t.comments_filter,S=n["if"].call(t,S,{hash:{},inverse:A.noop,fn:A.program(6,l,i)}),(S||0===S)&&(T+=S),T+='">\n  ',S=t.comments_filter,S=n["if"].call(t,S,{hash:{},inverse:A.program(16,f,i),fn:A.program(8,c,i)}),(S||0===S)&&(T+=S),T+='\n  <li class="activity no_comments"><span>',w=n.no_comments_label,w?S=w.call(t,{hash:{}}):(S=t.no_comments_label,S=typeof S===D?S():S),T+=M(S)+"</span></li>\n\n  ",w=n.new_comment,w?S=w.call(t,{hash:{},inverse:A.noop,fn:A.program(24,E,i)}):(S=t.new_comment,S=typeof S===D?S():S),n.new_comment||(S=k.call(t,S,{hash:{},inverse:A.noop,fn:A.program(24,E,i)})),(S||0===S)&&(T+=S),T+="\n</ol>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/_filter"]=function(){Handlebars.registerPartial("_comments_filter",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i,a="";return a+="\n  ",t={},t.name="comments_filter",t["id-prefix"]="story_type",r=e.cid,t.cid=r,t["class"]="comments_filter",r=e.comments_filter,t.selected=r,r=e.comments_filter_options,t.options=r,t.search=!1,t.text="label",t.value="value",t.tabindex="-1",r=e.comments_filter_disabled,t.disabled=r,i=n.dropdown,t=i?i.call(e,{hash:t}):c.call(e,"dropdown",{hash:t}),a+=u(t)+"\n"}n=n||e.helpers;var o,s,l="",c=n.helperMissing,u=this.escapeExpression,d=this;return o={},o["class"]="comments filter",s=n.formTag,o=s?s.call(t,{hash:o,inverse:d.noop,fn:d.program(1,a,i)}):c.call(t,"formTag",{hash:o,inverse:d.noop,fn:d.program(1,a,i)}),(o||0===o)&&(l+=o),l+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/_show"]=function(){Handlebars.registerPartial("_comments_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i,a,o="";return o+='\n    <span class="created_at">\n      <time>',t=e.updated_at,r={},i=e.user_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):D.call(e,"dateTime",t,{hash:r}),o+=k(t)+"</time>\n      <br>\n      (updated)\n    </span>\n  "}function o(e,t){var r,i="";return i+="\n    ",r=e.created_at,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(4,s,t)}),(r||0===r)&&(i+=r),i+="\n  "}function s(e){var t,r,i,a,o="";return o+='\n    <span class="created_at">\n      <time>',t=e.created_at,r={},i=e.user_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):D.call(e,"dateTime",t,{hash:r}),o+=k(t)+"</time>\n    </span>\n    "}function l(){return'\n      <a class="autosaves edit_comment" tabindex="-1" title="Edit"></a>\n    '}function c(e){var t,r,i="";return i+='\n      <a class="autosaves delete_comment" id="comment_save_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===N?t():t),i+=k(t)+'" tabindex="-1" title="Delete"></a>\n    '}function u(e){var t,r,i="";return i+="\n      <span>",r=n.commit_author,r?t=r.call(e,{hash:{}}):(t=e.commit_author,t=typeof t===N?t():t),i+=k(t)+"</span>\n    "}function d(e,t){var r,i,a="";return a+="\n      ",i=n.person,i?r=i.call(e,{hash:{},inverse:O.noop,fn:O.program(13,p,t)}):(r=e.person,r=typeof r===N?r():r),n.person||(r=R.call(e,r,{hash:{},inverse:O.noop,fn:O.program(13,p,t)})),(r||0===r)&&(a+=r),a+="\n    "}function p(e){var t,r,i="";return i+='\n        <div class="initials">',t=e.initials,r=n.truncateInitials,t=r?r.call(e,t,{hash:{}}):D.call(e,"truncateInitials",t,{hash:{}}),i+=k(t)+'</div>\n        <div class="name">',r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===N?t():t),i+=k(t)+'</div>\n        <div class="username">@',r=n.username,r?t=r.call(e,{hash:{}}):(t=e.username,t=typeof t===N?t():t),i+=k(t)+"</div>\n      "}function h(e){var t,r,i,a="";return a+='\n  <p class="message">',t=e.commit_message,r={},r["escape-html"]=!0,i=n.breakupLongWords,t=i?i.call(e,t,{hash:r}):D.call(e,"breakupLongWords",t,{hash:r}),a+=k(t)+'</p>\n  <p class="url"><a href="',i=n.commit_url,i?t=i.call(e,{hash:{}}):(t=e.commit_url,t=typeof t===N?t():t),a+=k(t)+'" target="_blank" tabindex="-1">',t=e.commit_url,r={},r["escape-html"]=!0,i=n.breakupLongWords,t=i?i.call(e,t,{hash:r}):D.call(e,"breakupLongWords",t,{hash:r}),a+=k(t)+"</a></p>\n"}function g(e,t){var r,i,a,o,s="";return s+='\n  <div class="message tracker_markup">',r=e.text,i={},i["with-story-epic-links"]=!0,i["with-emoji"]=!0,i["with-mentions"]=!0,a=e.project_id,i.project_id=a,o=n.markup,r=o?o.call(e,r,{hash:i}):D.call(e,"markup",r,{hash:i}),s+=k(r)+"</div>\n  ",r=e.sorted_attachments,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(18,f,t)}),(r||0===r)&&(s+=r),s+="\n"}function f(e,t){var r,i,a="";return a+='\n    <ul class="attachments ',r=e.is_deletable,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(19,m,t)}),(r||0===r)&&(a+=r),a+='">\n      ',i=n.sorted_attachments,i?r=i.call(e,{hash:{},inverse:O.noop,fn:O.programWithDepth(_,t,e)}):(r=e.sorted_attachments,r=typeof r===N?r():r),n.sorted_attachments||(r=R.call(e,r,{hash:{},inverse:O.noop,fn:O.programWithDepth(_,t,e)})),(r||0===r)&&(a+=r),a+="\n    </ul>\n  "}function m(){return"deletable"}function _(e,t,r){var i,a,o="";return o+="\n        ",a=n.google_attachment,a?i=a.call(e,{hash:{},inverse:O.noop,fn:O.program(22,v,t)}):(i=e.google_attachment,i=typeof i===N?i():i),n.google_attachment||(i=R.call(e,i,{hash:{},inverse:O.noop,fn:O.program(22,v,t)})),(i||0===i)&&(o+=i),o+="\n\n        ",a=n.file_attachment,a?i=a.call(e,{hash:{},inverse:O.noop,fn:O.programWithDepth(E,t,r)}):(i=e.file_attachment,i=typeof i===N?i():i),n.file_attachment||(i=R.call(e,i,{hash:{},inverse:O.noop,fn:O.programWithDepth(E,t,r)})),(i||0===i)&&(o+=i),o+="\n      "}function v(e,t){var i,a,o="";return o+='\n          <li data-cid="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===N?i():i),o+=k(i)+'" class="google_attachment attachment',i=e.is_maximized,i=n["if"].call(e,i,{hash:{},inverse:O.program(25,b,t),fn:O.program(23,y,t)}),(i||0===i)&&(o+=i),o+='">\n            ',i=e,i=O.invokePartial(r._comments_google_attachments_show,"_comments_google_attachments_show",i,n,r),(i||0===i)&&(o+=i),o+="\n          </li>\n        "}function y(){return" maximized"}function b(){return" not_maximized"}function E(e,t,r){var i,a="";return a+="\n          ",i=r.is_maximized,i=n["if"].call(e,i,{hash:{},inverse:O.program(33,A,t),fn:O.program(28,S,t)}),(i||0===i)&&(a+=i),a+="\n        "}function S(e,t){var r,i="";return i+="\n            ",r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:O.program(31,T,t),fn:O.program(29,w,t)}),(r||0===r)&&(i+=r),i+="\n          "}function w(e){var t,i,a="";return a+='\n              <li data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===N?t():t),a+=k(t)+'" class="file_attachment attachment maximized big_thumbnail">',t=e,t=O.invokePartial(r._comments_file_attachments_maximized,"_comments_file_attachments_maximized",t,n,r),(t||0===t)&&(a+=t),a+="</li>\n            "}function T(e){var t,i,a="";return a+='\n              <li data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===N?t():t),a+=k(t)+'" class="file_attachment attachment maximized">',t=e,t=O.invokePartial(r._comments_file_attachments_show,"_comments_file_attachments_show",t,n,r),(t||0===t)&&(a+=t),a+="</li>\n            "}function A(e){var t,i,a="";return a+='\n            <li data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===N?t():t),a+=k(t)+'" class="file_attachment attachment">',t=e,t=O.invokePartial(r._comments_file_attachments_show,"_comments_file_attachments_show",t,n,r),(t||0===t)&&(a+=t),a+="</li>\n          "}n=n||e.helpers,r=r||e.partials;var x,M="",D=n.helperMissing,k=this.escapeExpression,O=this,N="function",R=n.blockHelperMissing;return M+="<header>\n\n  ",x=t.is_edited,x=n["if"].call(t,x,{hash:{},inverse:O.program(3,o,i),fn:O.program(1,a,i)}),(x||0===x)&&(M+=x),M+='\n\n  <nav class="comment_controls">\n    ',x=t.is_editable,x=n["if"].call(t,x,{hash:{},inverse:O.noop,fn:O.program(6,l,i)}),(x||0===x)&&(M+=x),M+="\n    ",x=t.is_deletable,x=n["if"].call(t,x,{hash:{},inverse:O.noop,fn:O.program(8,c,i)}),(x||0===x)&&(M+=x),M+='\n  </nav>\n\n  <div class="author">\n    ',x=t.is_github,x=n["if"].call(t,x,{hash:{},inverse:O.program(12,d,i),fn:O.program(10,u,i)}),(x||0===x)&&(M+=x),M+="\n  </div>\n</header>\n\n",x=t.is_github,x=n["if"].call(t,x,{hash:{},inverse:O.program(17,g,i),fn:O.program(15,h,i)}),(x||0===x)&&(M+=x),M+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/_edit"]=function(){Handlebars.registerPartial("_comments_edit",Handlebars.template(function(e,t,n,r,i){function a(e,t){var i,a,h,g="";return g+='\n  <header>\n    <div class="author">\n      ',h=n.person,h?i=h.call(e,{hash:{},inverse:M.noop,fn:M.program(2,o,t)}):(i=e.person,i=typeof i===x?i():i),n.person||(i=D.call(e,i,{hash:{},inverse:M.noop,fn:M.program(2,o,t)})),(i||0===i)&&(g+=i),g+='\n    </div>\n  </header>\n\n  <input type="hidden" name="authenticity_token" value="',h=n.csrf_token,h?i=h.call(e,{hash:{}}):(i=e.csrf_token,i=typeof i===x?i():i),g+=A(i)+'">\n  ',i=e.story_cid,i=n["if"].call(e,i,{hash:{},inverse:M.program(6,l,t),fn:M.program(4,s,t)}),(i||0===i)&&(g+=i),g+="\n\n  ",i={},i["class"]="std no_save_on_enter",i.placeholder="Add a comment",i["id-prefix"]="story_add_comment_text",a=e.cid,i.id=a,i.name="comment[text]",a=e.project_id,i["project-id"]=a,a=e.text,i.value=a,h=n.mentionable,i=h?h.call(e,{hash:i}):T.call(e,"mentionable",{hash:i}),g+=A(i)+'\n\n  <button class="autosaves std update no_save_on_enter" id="comment_save_',h=n.cid,h?i=h.call(e,{hash:{}}):(i=e.cid,i=typeof i===x?i():i),g+=A(i)+'" type="submit">',i=e.is_new,i=n["if"].call(e,i,{hash:{},inverse:M.program(10,u,t),fn:M.program(8,c,t)}),(i||0===i)&&(g+=i),g+='</button>\n  <button type="reset" class="autosaves no_save_on_enter cancel button clear" id="comment_cancel_',h=n.cid,h?i=h.call(e,{hash:{}}):(i=e.cid,i=typeof i===x?i():i),g+=A(i)+'">Cancel</button>\n\n  <a class="autosaves add_attachment tool button fileinput-button" id="story_add_attachment_',h=n.cid,h?i=h.call(e,{hash:{}}):(i=e.cid,i=typeof i===x?i():i),g+=A(i)+'" tabindex="-1">\n    <input type="file" title="Attach file from your computer" name="file" id="story_',h=n.id,h?i=h.call(e,{hash:{}}):(i=e.id,i=typeof i===x?i():i),g+=A(i)+'_resources" multiple="multiple" tabindex="-1 ">\n  </a>\n\n  ',i=e.allowGoogleAttachments,i=n["if"].call(e,i,{hash:{},inverse:M.noop,fn:M.program(12,d,t)}),(i||0===i)&&(g+=i),g+='\n\n  <a class="autosaves add_mention tool button"><span title="Mention person in comment" class="icon"></span></a>\n  <a class="markdown_help" href="/help/markdown" target="_blank" tabindex="-1" id="markdown_help_',h=n.cid,h?i=h.call(e,{hash:{}}):(i=e.cid,i=typeof i===x?i():i),g+=A(i)+'" title="Markdown help"></a>\n\n  ',i=e.sorted_attachments,i=n["if"].call(e,i,{hash:{},inverse:M.noop,fn:M.program(14,p,t)}),(i||0===i)&&(g+=i),g+='\n\n  <ul class="file_attachments attachments">\n    ',i=e,i=M.invokePartial(r._comments_uploads_show,"_comments_uploads_show",i,n,r),(i||0===i)&&(g+=i),g+='\n  </ul>\n\n  <ul class="google_attachments attachments">\n    ',h=n.google_attachments,h?i=h.call(e,{hash:{},inverse:M.noop,fn:M.program(26,b,t)}):(i=e.google_attachments,i=typeof i===x?i():i),n.google_attachments||(i=D.call(e,i,{hash:{},inverse:M.noop,fn:M.program(26,b,t)})),(i||0===i)&&(g+=i),g+="\n  </ul>\n"}function o(e){var t,r,i="";return i+='\n        <span class="initials">',t=e.initials,r=n.truncateInitials,t=r?r.call(e,t,{hash:{}}):T.call(e,"truncateInitials",t,{hash:{}}),i+=A(t)+'</span><span class="name">',r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===x?t():t),i+=A(t)+'</span>&nbsp;<span class="username">@',r=n.username,r?t=r.call(e,{hash:{}}):(t=e.username,t=typeof t===x?t():t),i+=A(t)+"</span>\n      "}function s(e){var t,r,i="";return i+='\n    <input type="hidden" name="comment[story_cid]" value="',r=n.story_cid,r?t=r.call(e,{hash:{}}):(t=e.story_cid,t=typeof t===x?t():t),i+=A(t)+'">\n  '}function l(e){var t,r,i="";return i+='\n    <input type="hidden" name="comment[epic_cid]" value="',r=n.epic_cid,r?t=r.call(e,{hash:{}}):(t=e.epic_cid,t=typeof t===x?t():t),i+=A(t)+'">\n  '}function c(){return"Add"}function u(){return"Done"}function d(e){var t,r,i="";return i+='\n    <a class="autosaves add_google_attachment tool button" id="story_add_google_attachment_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===x?t():t),i+=A(t)+'" tabindex="-1"><span title="Attach file from Google Drive" class="icon"></span></a>\n  '}function p(e,t){var r,i,a="";return a+='\n    <ul class="attachments ',r=e.is_deletable,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(15,h,t)}),(r||0===r)&&(a+=r),a+='">\n      ',i=n.sorted_attachments,i?r=i.call(e,{hash:{},inverse:M.noop,fn:M.programWithDepth(g,t,e)}):(r=e.sorted_attachments,r=typeof r===x?r():r),n.sorted_attachments||(r=D.call(e,r,{hash:{},inverse:M.noop,fn:M.programWithDepth(g,t,e)})),(r||0===r)&&(a+=r),a+="\n    </ul>\n  "}function h(){return"deletable"}function g(e,t,r){var i,a,o="";return o+="\n        ",a=n.file_attachment,a?i=a.call(e,{hash:{},inverse:M.noop,fn:M.programWithDepth(f,t,r)}):(i=e.file_attachment,i=typeof i===x?i():i),n.file_attachment||(i=D.call(e,i,{hash:{},inverse:M.noop,fn:M.programWithDepth(f,t,r)})),(i||0===i)&&(o+=i),o+="\n      "}function f(e,t,r){var i,a="";return a+="\n          ",i=r.is_maximized,i=n["if"].call(e,i,{hash:{},inverse:M.program(24,y,t),fn:M.program(19,m,t)}),(i||0===i)&&(a+=i),a+="\n        "}function m(e,t){var r,i="";return i+="\n            ",r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:M.program(22,v,t),fn:M.program(20,_,t)}),(r||0===r)&&(i+=r),i+="\n          "}function _(e){var t,i,a="";return a+='\n              <li data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===x?t():t),a+=A(t)+'" class="file_attachment attachment maximized big_thumbnail">',t=e,t=M.invokePartial(r._comments_file_attachments_maximized,"_comments_file_attachments_maximized",t,n,r),(t||0===t)&&(a+=t),a+="</li>\n            "}function v(e){var t,i,a="";return a+='\n              <li data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===x?t():t),a+=A(t)+'" class="file_attachment attachment maximized not_thumbnailable">',t=e,t=M.invokePartial(r._comments_file_attachments_show,"_comments_file_attachments_show",t,n,r),(t||0===t)&&(a+=t),a+="</li>\n            "}function y(e){var t,i,a="";return a+='\n            <li data-cid="',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===x?t():t),a+=A(t)+'" class="file_attachment attachment not_thumbnailable">',t=e,t=M.invokePartial(r._comments_file_attachments_show,"_comments_file_attachments_show",t,n,r),(t||0===t)&&(a+=t),a+="</li>\n          "}function b(e){var t,i="";return i+="\n      ",t=e,t=M.invokePartial(r._comments_google_attachments_new,"_comments_google_attachments_new",t,n,r),(t||0===t)&&(i+=t),i+="\n    "}n=n||e.helpers,r=r||e.partials;var E,S,w="",T=n.helperMissing,A=this.escapeExpression,x="function",M=this,D=n.blockHelperMissing;return E={},E["class"]="edit",S=n.formTag,E=S?S.call(t,{hash:E,inverse:M.noop,fn:M.program(1,a,i)}):T.call(t,"formTag",{hash:E,inverse:M.noop,fn:M.program(1,a,i)}),(E||0===E)&&(w+=E),w+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/google_attachments/_show"]=function(){Handlebars.registerPartial("_comments_google_attachments_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a,o="",s="function",l=this.escapeExpression,c=n.helperMissing;return o+='<div class="thumbnail">\n  <a href="',a=n.resource_url,a?r=a.call(t,{hash:{}}):(r=t.resource_url,r=typeof r===s?r():r),o+=l(r)+'" class="thumbnail_inner" id="google_attachment_url_',a=n.cid,a?r=a.call(t,{hash:{}}):(r=t.cid,r=typeof r===s?r():r),o+=l(r)+'" target="_blank" tabindex="-1">\n    <abbr>',a=n.extension,a?r=a.call(t,{hash:{}}):(r=t.extension,r=typeof r===s?r():r),o+=l(r)+'</abbr>\n  </a>\n</div>\n<div class="file_description">\n  <h6 class="filename">\n    <a href="',a=n.resource_url,a?r=a.call(t,{hash:{}}):(r=t.resource_url,r=typeof r===s?r():r),o+=l(r)+'" class="',a=n.extension,a?r=a.call(t,{hash:{}}):(r=t.extension,r=typeof r===s?r():r),o+=l(r)+' open_google_attachment" target="_blank" id="google_attachment_filename_url_',a=n.cid,a?r=a.call(t,{hash:{}}):(r=t.cid,r=typeof r===s?r():r),o+=l(r)+'" tabindex="-1">\n      <span class="long" title="',a=n.title,a?r=a.call(t,{hash:{}}):(r=t.title,r=typeof r===s?r():r),o+=l(r)+'">',r=t.title,i={},i.truncate=60,a=n.filenameEllipsify,r=a?a.call(t,r,"",{hash:i}):c.call(t,"filenameEllipsify",r,"",{hash:i}),o+=l(r)+'</span>\n      <span class="short" title="',a=n.title,a?r=a.call(t,{hash:{}}):(r=t.title,r=typeof r===s?r():r),o+=l(r)+'">',r=t.title,i={},i.truncate=13,a=n.filenameEllipsify,r=a?a.call(t,r,"",{hash:i}):c.call(t,"filenameEllipsify",r,"",{hash:i}),o+=l(r)+"</span>\n    </a>\n  </h6>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/file_attachments/_show"]=function(){Handlebars.registerPartial("_comments_file_attachments_show",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a,c,u="";return u+='\n  <div class="thumbnail',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:v.noop,fn:v.program(2,o,t)}),(r||0===r)&&(u+=r),u+=' not_maximized">\n    <a href="',c=n.inline_url,c?r=c.call(e,{hash:{}}):(r=e.inline_url,r=typeof r===m?r():r),u+=_(r)+'" class="thumbnail_inner" id="resource_inline_url_',c=n.cid,c?r=c.call(e,{hash:{}}):(r=e.cid,r=typeof r===m?r():r),u+=_(r)+'" target="_blank" tabindex="-1">\n      ',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:v.program(6,l,t),fn:v.program(4,s,t)}),(r||0===r)&&(u+=r),u+='\n    </a>\n  </div>\n  <div class="file_description">\n    <h6 class="filename">\n      <a href="',c=n.inline_url,c?r=c.call(e,{hash:{}}):(r=e.inline_url,r=typeof r===m?r():r),u+=_(r)+'" target="_blank" id="resource_filename_inline_url_',c=n.cid,c?r=c.call(e,{hash:{}}):(r=e.cid,r=typeof r===m?r():r),u+=_(r)+'" tabindex="-1">\n        <span class="long" title="',c=n.filename,c?r=c.call(e,{hash:{}}):(r=e.filename,r=typeof r===m?r():r),u+=_(r)+'">',r=e.extension,i=e.filename,a={},a.truncate=60,c=n.filenameEllipsify,r=c?c.call(e,i,r,{hash:a}):y.call(e,"filenameEllipsify",i,r,{hash:a}),u+=_(r)+'</span>\n        <span class="short" title="',c=n.filename,c?r=c.call(e,{hash:{}}):(r=e.filename,r=typeof r===m?r():r),u+=_(r)+'">',r=e.extension,i=e.filename,c=n.filenameEllipsify,r=c?c.call(e,i,r,{hash:{}}):y.call(e,"filenameEllipsify",i,r,{hash:{}}),u+=_(r)+'</span>\n      </a>\n    </h6>\n    <p class="size">(',c=n.size,c?r=c.call(e,{hash:{}}):(r=e.size,r=typeof r===m?r():r),u+=_(r)+' kb)</p>\n  </div>\n<a href="',c=n.download_url,c?r=c.call(e,{hash:{}}):(r=e.download_url,r=typeof r===m?r():r),u+=_(r)+'" class="autosaves download_attachment" id="resource_download_url_',c=n.cid,c?r=c.call(e,{hash:{}}):(r=e.cid,r=typeof r===m?r():r),u+=_(r)+'" tabindex="-1"></a>\n'}function o(){return" image"}function s(e){var t,r,i="";return i+='\n        <div class="img" style="background-image: url(\'',r=n.thumbnail_url,r?t=r.call(e,{hash:{}}):(t=e.thumbnail_url,t=typeof t===m?t():t),i+=_(t)+"');\"/>\n      "}function l(e){var t,r,i="";return i+="\n        <abbr>",r=n.extension,r?t=r.call(e,{hash:{}}):(t=e.extension,t=typeof t===m?t():t),i+=_(t)+"</abbr>\n      "}function c(e,t){var r,i,a,o,s="";return s+='\n  <div class="thumbnail',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:v.noop,fn:v.program(9,u,t)}),(r||0===r)&&(s+=r),s+=' not_maximized unprocessed">\n    <div class="thumbnail_inner">\n      ',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:v.program(13,p,t),fn:v.program(11,d,t)}),(r||0===r)&&(s+=r),s+='\n    </div>\n  </div>\n  <div class="file_description">\n    <h6 class="filename">\n      <span class="long" title="',o=n.filename,o?r=o.call(e,{hash:{}}):(r=e.filename,r=typeof r===m?r():r),s+=_(r)+'">',r=e.extension,i=e.filename,a={},a.truncate=60,o=n.filenameEllipsify,r=o?o.call(e,i,r,{hash:a}):y.call(e,"filenameEllipsify",i,r,{hash:a}),s+=_(r)+'</span>\n      <span class="short" title="',o=n.filename,o?r=o.call(e,{hash:{}}):(r=e.filename,r=typeof r===m?r():r),s+=_(r)+'">',r=e.extension,i=e.filename,o=n.filenameEllipsify,r=o?o.call(e,i,r,{hash:{}}):y.call(e,"filenameEllipsify",i,r,{hash:{}}),s+=_(r)+'</span>\n    </h6>\n    <p class="size">(',o=n.size,o?r=o.call(e,{hash:{}}):(r=e.size,r=typeof r===m?r():r),s+=_(r)+" kb)</p>\n  </div>\n"}function u(){return" image"}function d(){return'\n        <div class="paperclip"></div>\n      '}function p(e){var t,r,i="";return i+="\n        <abbr>",r=n.extension,r?t=r.call(e,{hash:{}}):(t=e.extension,t=typeof t===m?t():t),i+=_(t)+"</abbr>\n      "}n=n||e.helpers;var h,g,f="",m="function",_=this.escapeExpression,v=this,y=n.helperMissing;return h=t.uploaded,h=n["if"].call(t,h,{hash:{},inverse:v.program(8,c,i),fn:v.program(1,a,i)}),(h||0===h)&&(f+=h),f+='\n<a class="autosaves delete_attachment" id="resource_delete_url_',g=n.cid,g?h=g.call(t,{hash:{}}):(h=t.cid,h=typeof h===m?h():h),f+=_(h)+'" tabindex="-1"></a>\n'}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/file_attachments/_maximized"]=function(){Handlebars.registerPartial("_comments_file_attachments_maximized",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n  <div class="',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:b.noop,fn:b.program(2,o,t)}),(r||0===r)&&(a+=r),a+=' thumbnail maximized">\n    <a href="',i=n.inline_url,i?r=i.call(e,{hash:{}}):(r=e.inline_url,r=typeof r===v?r():r),a+=y(r)+'" class="thumbnail_inner" id="resource_inline_url_',i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===v?r():r),a+=y(r)+'" target="_blank" tabindex="-1">\n      ',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:b.program(6,l,t),fn:b.program(4,s,t)}),(r||0===r)&&(a+=r),a+="\n    </a>\n  </div>\n"}function o(){return"image"}function s(e){var t,r,i="";return i+='\n        <img id="file_attachment_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===v?t():t),i+=y(t)+'" src="',r=n.big_url,r?t=r.call(e,{hash:{}}):(t=e.big_url,t=typeof t===v?t():t),i+=y(t)+'" />\n      '}function l(e){var t,r,i="";return i+="\n        <abbr>",r=n.extension,r?t=r.call(e,{hash:{}}):(t=e.extension,t=typeof t===v?t():t),i+=y(t)+"</abbr>\n      "}function c(e,t){var r,i="";return i+='\n  <div class="thumbnail',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:b.noop,fn:b.program(9,u,t)}),(r||0===r)&&(i+=r),i+=' maximized unprocessed">\n    <div class="thumbnail_inner">\n      ',r=e.thumbnailable,r=n["if"].call(e,r,{hash:{},inverse:b.program(13,p,t),fn:b.program(11,d,t)}),(r||0===r)&&(i+=r),i+="\n    </div>\n  </div>\n"}function u(){return" image"}function d(){return'\n        <div class="paperclip"></div>\n      '}function p(e){var t,r,i="";return i+="\n        <abbr>",r=n.extension,r?t=r.call(e,{hash:{}}):(t=e.extension,t=typeof t===v?t():t),i+=y(t)+"</abbr>\n      "}n=n||e.helpers;var h,g,f,m,_="",v="function",y=this.escapeExpression,b=this,E=n.helperMissing;return _+='<header>\n  <h6 class="filename"><a href="',m=n.inline_url,m?h=m.call(t,{hash:{}}):(h=t.inline_url,h=typeof h===v?h():h),_+=y(h)+'" target="_blank" id="resource_filename_inline_url_',m=n.cid,m?h=m.call(t,{hash:{}}):(h=t.cid,h=typeof h===v?h():h),_+=y(h)+'" tabindex="-1" title="',m=n.filename,m?h=m.call(t,{hash:{}}):(h=t.filename,h=typeof h===v?h():h),_+=y(h)+'">',h=t.extension,g=t.filename,f={},f.truncate=60,m=n.filenameEllipsify,h=m?m.call(t,g,h,{hash:f}):E.call(t,"filenameEllipsify",g,h,{hash:f}),_+=y(h)+'</a></h6>\n  <p class="size">(',m=n.size,m?h=m.call(t,{hash:{}}):(h=t.size,h=typeof h===v?h():h),_+=y(h)+' kb)</p>\n  <a href="',m=n.download_url,m?h=m.call(t,{hash:{}}):(h=t.download_url,h=typeof h===v?h():h),_+=y(h)+'" class="autosaves download_attachment" id="resource_download_url_',m=n.cid,m?h=m.call(t,{hash:{}}):(h=t.cid,h=typeof h===v?h():h),_+=y(h)+'" tabindex="-1"></a>\n  <a class="autosaves delete_attachment" id="resource_delete_url_',m=n.cid,m?h=m.call(t,{hash:{}}):(h=t.cid,h=typeof h===v?h():h),_+=y(h)+'" tabindex="-1"></a>\n</header>\n',h=t.uploaded,h=n["if"].call(t,h,{hash:{},inverse:b.program(8,c,i),fn:b.program(1,a,i)}),(h||0===h)&&(_+=h),_+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/comments/google_attachments/_new"]=function(){Handlebars.registerPartial("_comments_google_attachments_new",Handlebars.template(function(e,t,n,r,i){function a(){return" maximized"}function o(){return" not_maximized"}n=n||e.helpers;var s,l,c,u="",d="function",p=this.escapeExpression,h=this,g=n.helperMissing;return u+='<li data-cid="',c=n.cid,c?s=c.call(t,{hash:{}}):(s=t.cid,s=typeof s===d?s():s),u+=p(s)+'" class="google_attachment attachment',s=t.is_maximized,s=n["if"].call(t,s,{hash:{},inverse:h.program(3,o,i),fn:h.program(1,a,i)}),(s||0===s)&&(u+=s),u+='">\n  <input type="hidden" data-type="number" value="',c=n.cid,c?s=c.call(t,{hash:{}}):(s=t.cid,s=typeof s===d?s():s),u+=p(s)+'" name="comment[google_attachment_cids][]">\n  <div class="thumbnail ',c=n.extension,c?s=c.call(t,{hash:{}}):(s=t.extension,s=typeof s===d?s():s),u+=p(s)+'"></div>\n  <a class="autosaves button abort" tabindex="-1"></a>\n  <p class="filename long" title="',c=n.title,c?s=c.call(t,{hash:{}}):(s=t.title,s=typeof s===d?s():s),u+=p(s)+'">',s=t.title,l={},l.truncate=60,c=n.filenameEllipsify,s=c?c.call(t,s,"",{hash:l}):g.call(t,"filenameEllipsify",s,"",{hash:l}),u+=p(s)+'</p>\n  <p class="filename short" title="',c=n.title,c?s=c.call(t,{hash:{}}):(s=t.title,s=typeof s===d?s():s),u+=p(s)+'">',s=t.title,c=n.filenameEllipsify,s=c?c.call(t,s,"",{hash:{}}):g.call(t,"filenameEllipsify",s,"",{hash:{}}),u+=p(s)+"</p>\n</li>\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={all_activity:"All Activity",attachments:"Attachments",without_commits:"Without Commits",commits:"Commits"},r={all_activity:"No Activity",attachments:"No Attachments",without_commits:"None Without Commits",commits:"No Commits"},i=t.View.extend({__name__:"CommentsIndex",initialize:function(e){this.options=e||{},this.draftModel=this.options.model,this.project=this.draftModel.project(),this.draftComments=this.draftModel.comments(),this.draftNewComment=this.draftModel.comment(),this.commentsFilterOptions=_.map(n,function(e,t){return{label:e,value:t}}),this.commentsFilter=this.commentsFilterOptions[0].value,this.ANIMATION_DELAY=100,this.views().addView(new t.views.comments.Edit({model:this.draftModel,el:this.el,maximized:this.options.maximized,$delegate:this.options.$delegate})),this.listenTo(this.draftComments,"add change remove reset",this.render),this.listenTo(this.draftNewComment,"add change remove",this.render),this.listenTo(this.draftModel,"minimize",this.render)},events:{"click .download_attachment":"preventUnload","click .open_google_attachment":"openGoogleAttachment","submit .comments.filter":"filterComments","change .comments.filter :input":"changeDropdown"},render:function(){this.$trigger("prerender");var e={maximized:this.options.maximized,csrf_token:t.Person.current().get("csrf_token")},n=_.extend(this.draftModel.decorator().toJSON(),{comments_filter_options:this.commentsFilterOptions,comments_filter:this.commentsFilter,no_comments_label:r[this.commentsFilter],comments:this.draftComments.decorator().toJSON({include:e}),new_comment:this.draftNewComment.decorator().toJSON({include:_.extend({is_new:!0},e)}),comments_filter_disabled:this.draftComments.any(function(e){return e.get("editing")})}),i=this;return t.helpers.focus.maintain(this.$el,function(){var e=i.$("img").detach();i.$el.html(JST["templates/comments/index"](n)),e.each(function(){i.$("#"+$(this).attr("id")).replaceWith(this)})}),this.$trigger("postrender"),_.debounce(function(){this.$("textarea.editor").autosize({append:""})},0).call(this),this},hasChanged:function(){return this.draftModel.isNew()?this.draftModel.comments().size()>0:void 0},remove:function(){this.$("textarea.editor").trigger("autosize.destroy"),t.View.prototype.remove.call(this)},filterComments:function(e){e.preventDefault(),this.commentsFilter=$(e.currentTarget).serializeObject().comments_filter,this.render()},changeDropdown:function(e){$(e.currentTarget).closest("form").submit()},openGoogleAttachment:function(t){t.preventDefault(),e.open(t.currentTarget.href,"_blank")},preventUnload:function(){$(e).data("skipUnload",!0)}});_.namespace(t,"views.comments").Index=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.Label,collection:t.Labels,toJSON:function(e){e=e||{};var t=_.extend(this.toJSON(),{cid:this.cid,has_epic:this.hasEpic()});return this.project&&this.project()&&(t.project_id=this.project().id),e.fast||(t.incomplete_story_count=this.project()&&this.stories().scope().notAccepted().size()||null),t}},n.toItemJSON("label")));t.LabelDecorator=r}.call(this),function(e){function t(t,n){return _.any(t,function(t){function r(){return o.val().length}var i,a,o=e(t);if(n.end===!0?i=a=r():n.all===!0?(i=0,a=r()):(i=_.isNumber(n.start)?n.start:n.end,a=_.isNumber(n.end)?n.end:n.start),o.is(":input")&&o.is(document.activeElement)&&t.setSelectionRange)try{t.setSelectionRange(i,a)}catch(s){}}),this}function n(t){var n=e(t).eq(0),r=n[0];
if(!r)return{};try{if(!_.isUndefined(r.selectionStart)){var i=Math.min(n.val().length,r.selectionEnd),a=Math.min(i,r.selectionStart);return{start:a,end:i,length:i-a}}}catch(o){return{}}}e.fn.carrot=function(e){return e=e||{},_.isEmpty(e)?n(this):(t(this,e),this)}}(jQuery),function(){this.JST||(this.JST={}),this.JST["templates/labels_maker"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.labels_maker=Handlebars.template(function(e,t,n,r,i){function a(e,t,r){var i,a,c="";return c+='\n    <li class="label',i=e.has_epic,i=n["if"].call(e,i,{hash:{},inverse:w.noop,fn:w.program(2,o,t)}),(i||0===i)&&(c+=i),c+='">\n      ',i=r.is_epic,i=n["if"].call(e,i,{hash:{},inverse:w.programWithDepth(l,t,e),fn:w.programWithDepth(s,t,e)}),(i||0===i)&&(c+=i),c+='\n      <a class="autosaves remove" tabindex="-1" title="Remove label" data-cid="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===b?i():i),c+=E(i)+'" id="labels_',i=r.cid,i=typeof i===b?i():i,c+=E(i)+'_anchor_remove"></a>\n      <input type="hidden" value="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===b?i():i),c+=E(i)+'" name="',i=r.input_name,i=typeof i===b?i():i,c+=E(i)+'">\n    </li>\n  '}function o(){return" epic"}function s(e,t,r){var i,a,o="";return o+='\n        <a class="autosaves label name" id="labels_',i=r.cid,i=typeof i===b?i():i,o+=E(i)+'_anchor" data-cid="',a=n.cid,a?i=a.call(e,{hash:{}}):(i=e.cid,i=typeof i===b?i():i),o+=E(i)+'"><span>',a=n.name,a?i=a.call(e,{hash:{}}):(i=e.name,i=typeof i===b?i():i),o+=E(i)+"</span></a>\n      "}function l(e,t,r){var i,a,o,s="";return s+='\n        <a tabindex="-1" class="autosaves label name" id="labels_',i=r.cid,i=typeof i===b?i():i,s+=E(i)+'_anchor" data-cid="',o=n.cid,o?i=o.call(e,{hash:{}}):(i=e.cid,i=typeof i===b?i():i),s+=E(i)+'">',i=e.name,a={},a["escape-html"]=!0,o=n.breakupLongWords,i=o?o.call(e,i,{hash:a}):S.call(e,"breakupLongWords",i,{hash:a}),s+=E(i)+"</a>\n      "}function c(e,t){var r,i="";return i+="\n    ",r=e.is_epic,r=n["if"].call(e,r,{hash:{},inverse:w.program(15,g,t),fn:w.program(9,u,t)}),(r||0===r)&&(i+=r),i+="\n  "}function u(e,t){var r,i,a="";return a+="\n      ",i=n.new_label,i?r=i.call(e,{hash:{},inverse:w.noop,fn:w.programWithDepth(d,t,e)}):(r=e.new_label,r=typeof r===b?r():r),n.new_label||(r=T.call(e,r,{hash:{},inverse:w.noop,fn:w.programWithDepth(d,t,e)})),(r||0===r)&&(a+=r),a+="\n    "}function d(e,t,r){var i,a="";return a+="\n        ",i=r.selected,i=n["if"].call(e,i,{hash:{},inverse:w.programWithDepth(h,t,r),fn:w.programWithDepth(p,t,r)}),(i||0===i)&&(a+=i),a+="\n      "}function p(e,t,r){var i,a,o="";return o+='\n          <input id="story_add_label_text_',i=r.cid,i=typeof i===b?i():i,o+=E(i)+'" class="search" name="label[name]" value="',a=n.name,a?i=a.call(e,{hash:{}}):(i=e.name,i=typeof i===b?i():i),o+=E(i)+'" tabindex="-1"/>\n\n        '}function h(e,t,r){var i,a,o="";return o+='\n          <input id="story_add_label_text_',i=r.cid,i=typeof i===b?i():i,o+=E(i)+'" class="search" name="label[name]" value="',a=n.name,a?i=a.call(e,{hash:{}}):(i=e.name,i=typeof i===b?i():i),o+=E(i)+'"/>\n\n        '}function g(e,t){var r,i,a="";return a+="\n      ",i=n.new_label,i?r=i.call(e,{hash:{},inverse:w.noop,fn:w.programWithDepth(f,t,e)}):(r=e.new_label,r=typeof r===b?r():r),n.new_label||(r=T.call(e,r,{hash:{},inverse:w.noop,fn:w.programWithDepth(f,t,e)})),(r||0===r)&&(a+=r),a+="\n    "}function f(e,t,r){var i,a,o,s="";return s+="\n        ",i={},i["class"]="search",i.rows="1",i["id-prefix"]="story_add_label_text",a=r.cid,i.id=a,i.name="label[name]",i["non-std"]="true",a=e.name,i.value=a,i.privileged=!0,o=n.editable,i=o?o.call(e,{hash:i}):S.call(e,"editable",{hash:i}),s+=E(i)+"\n      "}n=n||e.helpers;var m,_,v,y="",b="function",E=this.escapeExpression,S=n.helperMissing,w=this,T=n.blockHelperMissing;return y+='<input type="hidden" value="" name="',v=n.input_name,v?m=v.call(t,{hash:{}}):(m=t.input_name,m=typeof m===b?m():m),y+=E(m)+'" id="',v=n.type,v?m=v.call(t,{hash:{}}):(m=t.type,m=typeof m===b?m():m),y+=E(m)+"_labels_",v=n.cid,v?m=v.call(t,{hash:{}}):(m=t.cid,m=typeof m===b?m():m),y+=E(m)+'_hidden">\n<ul class="selected labels">\n  ',v=n.selected,v?m=v.call(t,{hash:{},inverse:w.noop,fn:w.programWithDepth(a,i,t)}):(m=t.selected,m=typeof m===b?m():m),n.selected||(m=T.call(t,m,{hash:{},inverse:w.noop,fn:w.programWithDepth(a,i,t)})),(m||0===m)&&(y+=m),y+='\n  <li class="input">\n  ',v=n.whenReadWrite,v?m=v.call(t,{hash:{},inverse:w.noop,fn:w.program(8,c,i)}):(m=t.whenReadWrite,m=typeof m===b?m():m),n.whenReadWrite||(m=T.call(t,m,{hash:{},inverse:w.noop,fn:w.program(8,c,i)})),(m||0===m)&&(y+=m),y+="\n  </li>\n</ul>\n",m={},_=t.unselected,m.options=_,m["no-default"]=!0,_=t.new_label_name,m.name=_,m.value="cid",m.text="name",m["id-prefix"]="labels_dropdown",_=t.cid,m.cid=_,m.partial="labels",m.tabindex="-1",m.privileged=!0,v=n.dropdown,m=v?v.call(t,{hash:m}):S.call(t,"dropdown",{hash:m}),y+=E(m)+"\n"}),this.HandlebarsTemplates.labels_maker}.call(this)}.call(this),function(){"use strict";function e(e,t){return function(){var n=this.$(".search"),r=n.val(),i=t&&t.focus&&n.is(document.activeElement);e.apply(this,arguments);var a=this.$(".search").val(r);i&&a.focus().carrot({end:!0})}}var t=this,n=_.namespace(t,"tracker"),r=n.helpers,i=n.View.extend({__name__:"LabelsMaker",className:"labels_maker save_on_collapse",initialize:function(e){_.bindAll(this,"updateLabelFromSearchInput_"),this.draftModel=e.draftModel,this.draftLabels=e.draftLabels,this.dirty_=!1,this.type=e.type,this.singleLabel=e.singleLabel,this.project=this.model.project(),this.deferKeyup_=r.view.defer(this.onKeyup_);var t=this.model.labels();this.listenTo(t,"add",this.labelAdded_),this.listenTo(t,"remove",this.labelRemoved_),this.listenTo(t,"change",this.labelChanged_),this.listenTo(this.draftLabels,"add",this.draftLabelAdded_),this.listenTo(this.draftLabels,"remove",this.draftLabelRemoved_),this.listenTo(this.draftLabels,"reset",this.draftLabelsReset_),this.delegateEvents({"click a":"preventDefault_","change .dropdown input[type=hidden]":"addLabelFromDropdownList_","click .remove":"removeLabelAndSave_","keydown .search, .label .name":"onPillLeftKeyOrBackspace_","keydown .label .name":"onPillRightKey_","keydown .label.active .name":"keydownActiveLabel_","keydown .search":"keydownSearch_","keypress .search":"handle44_","keyup .search":"onKeyup_","paste .search":"deferKeyup_",itemHover:"onItemHover_","focusin li.label":"onPillFocusIn_","focusout li.label":"onPillFocusOut_","keypress li.label":"stopPropagation_","click .selected.labels":"onClickLabelsContainer_"}),this.init_(e),$(n.$el).on("scrimClose",this.updateLabelFromSearchInput_)},init_:function(e){this.views().remove(),this.draftLabels.sortByName(),this.views().addView(new n.views.Dropdown({el:this.el,isAutoSelectFirstItemOnSearch:!1,searchField:"#story_add_label_text_"+this.draftModel.cid,disableScrim:e.disableScrim}))},render:function(){this.$trigger("prerender");var e,t=!!this.$(document.activeElement).length,n=_(this.project.labels().models).chain().difference(this.draftLabels.models).sortBy(function(e){return e.get("name")}).map(function(e){return e.decorator().toJSON({fast:!0})}).value();e=this.draftLabels.decorator().toJSON({fast:!0});var r={selected:e,unselected:n,cid:this.draftModel.cid,type:this.type,is_epic:"epic"===this.type,new_label_name:"label[dropdown_name]",new_label:this.draftModel.newLabel().decorator().toJSON(),input_name:this.type+(this.singleLabel?"[label]":"[labels][]"),project_id:this.project.id};return this.$el.html(JST["templates/labels_maker"](r)),t&&this.$(".search").focus(),this.$trigger("postrender"),this},preventDefault_:function(e){e.preventDefault()},stopPropagation_:function(e){e.stopPropagation()},isValid:function(){var e=this.draftModel.newLabel();if(_.isEmpty(e.get("name")))return!0;var r=new n.Label({},{project:this.project}).validate(_(e.attributes).omit("draft"));return r?(t.alert(r),!1):!0},hasChanged:function(e){return e=e||{},e.withNewLabel&&!_(this.draftModel.newLabel().get("name")).isEmpty()?!0:!_(this.model.labels().cids().sort()).isEqual(this.draftLabels.cids().sort())},setElement:function(e,t){var r=n.View.prototype.setElement.call(this,e,t);return t!==!1&&this.init_(),r},draftLabelAdded_:function(){this.setLabelsAttribute_(),this.afterAddLabel_(),this.save_()},draftLabelRemoved_:function(){this.setLabelsAttribute_(),this.save_()},draftLabelsReset_:function(){this.setLabelsAttribute_(),this.afterAddLabel_(),this.save_()},afterAddLabel_:function(){this.draftModel.newLabel().clear({silent:!0}),this.render(),this.$(".search").focus()},setLabelsAttribute_:function(){if(this.singleLabel){var e=this.draftLabels.first();this.draftModel.set(e?{label:e.cid,label_id:e.id}:{label:null,label_id:null})}},labelAdded_:e(function(e){this.singleLabel&&this.dirty_||(this.draftLabels.add(e,{silent:!0}),this.dirty_||this.draftLabels.reset(this.draftLabels.sortBy("name"),{silent:!0}),this.render())}),labelRemoved_:e(function(e){this.draftLabels.remove(e,{silent:!0}),this.dirty_||this.draftLabels.reset(this.draftLabels.sortBy("name"),{silent:!0}),this.render()}),labelChanged_:e(function(){this.render()}),addLabelFromDropdownList_:function(e){e.stopImmediatePropagation(),this.dirty_=!0;var t=$(e.currentTarget).serializeObject().label.dropdown_name;this.singleLabel&&this.draftLabels.reset([],{silent:!0}),this.draftLabels.add(this.project.labels().get(t))},onPillLeftKeyOrBackspace_:function(e){if(_([$.ui.keyCode.LEFT,$.ui.keyCode.BACKSPACE]).include(e.which)){if(this.$("li.input .search").val())return;this.$el.trigger("dropdownClose");var t=this.$("li.label.active"),n=t.length?t.prevAll("li.label:first"):this.$("li.label:last");n.length&&(t.find(".name").blur(),n.find(".name").focus()),e.preventDefault()}},onPillRightKey_:function(e){if(e.which===$.ui.keyCode.RIGHT){if(this.$("li.input .search").val())return;var t=this.$("li.label.active"),n=t.nextAll("li.label:first");t.find(".name").blur(),n.length?n.find(".name").focus():this.$("li.input .search").focus(),e.preventDefault()}},onKeyup_:function(e){return e.which===$.ui.keyCode.COMMA?(e.stopImmediatePropagation(),void 0):(this.draftModel.newLabel().set($(e.currentTarget).serializeObject().label,{silent:!0}),this.clearCurrentLabelIfInSingleLabelMode_(),void 0)},clearCurrentLabelIfInSingleLabelMode_:function(){this.singleLabel&&!_(this.$("li.input .search").val().trim()).isBlank()&&this.draftLabels.length&&(this.$el.trigger("dropdownClose"),this.draftLabels.remove(this.draftLabels.first(),{silent:!0}),this.render())},onItemHover_:function(e,t){this.$el.find(".search").val(t)},onPillFocusIn_:function(e){$(e.currentTarget).addClass("active")},onPillFocusOut_:function(e){$(e.currentTarget).removeClass("active")},onClickLabelsContainer_:function(){this.$(".search").focus()},removeLabelAndSave_:function(e){this.removeLabel_(e),this.save_()},removeLabel_:e(function(e){this.dirty_=!0,this.draftLabels.remove(this.draftLabels.get($(e.currentTarget).data("cid"))),this.draftModel.newLabel().clear({silent:!0}),this.render()},{focus:!0}),save_:function(){var e=this.draftModel;e instanceof n.Collection||e.isNew()||!e.isValid()||e.save()},keydownActiveLabel_:function(e){e.preventDefault(),(e.which===$.ui.keyCode.BACKSPACE||e.which===$.ui.keyCode.DELETE)&&this.removeLabel_(e)},keydownSearch_:function(e){if(e.which===$.ui.keyCode.ENTER){if(_.isBlank(_.trim(this.$("li.input .search").val())))return this.$el.trigger("dropdownClose"),void 0;this.addLabelFromSearch_(),e.preventDefault(),e.stopImmediatePropagation()}else if(e.which===$.ui.keyCode.TAB){if(_.isBlank(_.trim(this.$("li.input .search").val())))return this.$el.trigger("dropdownClose"),void 0;e.preventDefault(),e.stopImmediatePropagation(),this.addLabelFromSearch_()}r.key.isEscape(e)&&!_.isBlank(this.$(".search").val())&&(this.$(".search").val("").focusout(),this.$el.trigger("dropdownClose"),e.stopImmediatePropagation())},addLabelFromSearch_:function(){n.CommandQueue.isPaused()&&this.$trigger("dropdownClose"),this.updateLabelFromSearchInput_()},updateLabelFromSearchInput_:function(){this.dirty_=!0;var e=this.$(".search");if(e.length){var r=this;_(e.val().split(",")).each(function(e){if(e=_(e).trim(),e.length){var i=r.project.labels().findByName(e)||r.draftLabels.findByName(e)||{name:e.toLowerCase()},a=new n.Label({},{project:r.project,draft:!0}).validate(i.attributes||i);a?t.alert(a):r.draftModel.labels().contains(i)?r.$(".search").val(""):r.draftLabels[r.singleLabel?"reset":"add"](i)}})}},remove:function(){return $(n.$el).off("scrimClose",this.updateLabelFromSearchInput_),n.View.prototype.remove.call(this)},handle44_:function(e){44===e.which&&(e.preventDefault(),e.stopImmediatePropagation(),this.addLabelFromSearch_())}});_.namespace(n,"views").LabelsMaker=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={externalUrl:function(e,t){function n(e,n){return function(){return[_.endsWith(i,e)?i:i+e,t].join(n||"")}}var r=e.get("type"),i=_.rtrim(e.get("base_url"),"/"),a={bugzilla:n("/show_bug.cgi?id="),lighthouse:n("/tickets","/"),jira:n("/browse","/"),zendesk:n("/tickets","/"),_default:function(){return _.include(["=","?"],i[i.length-1])?i+t:[i,t].join("/")}};return a[_.has(a,r)?r:"_default"]()}};_.namespace(t,"helpers").integration=n}.call(this),/**
 * @license                                     
 * jQuery Tools @VERSION Dateinput - <input type="date" /> for humans
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/form/dateinput/
 *
 * Since: Mar 2010
 * Date: @DATE 
 */
function(e,t){function n(e,t){return new Date(e,t+1,0).getDate()}function r(e,t){for(e=""+e,t=t||2;e.length<t;)e="0"+e;return e}function i(e,t,n,i){var a=t.getDate(),o=t.getDay(),s=t.getMonth(),l=t.getFullYear(),c={d:a,dd:r(a),ddd:h[i].shortDays[o],dddd:h[i].days[o],m:s+1,mm:r(s+1),mmm:h[i].shortMonths[s],mmmm:h[i].months[s],yy:String(l).slice(2),yyyy:l},u=d[e](n,t,c,i);return g.html(u).html()}function a(e){return parseInt(e,10)}function o(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function s(e){if(e!==t){if(e.constructor==Date)return e;if("string"==typeof e){var n=e.split("-");if(3==n.length)return new Date(a(n[0]),a(n[1])-1,a(n[2]));if(!/^-?\d+$/.test(e))return;e=a(e)}var r=new Date;return r.setDate(r.getDate()+e),r}}function l(r,l){function c(t,n,a){k=t,_=t.getFullYear(),v=t.getMonth(),y=t.getDate(),a||(a=e.Event("api")),"click"!=a.type||e.browser.msie||r.focus(),a.type="beforeChange",U.trigger(a,[t]),a.isDefaultPrevented()||(r.val(i(n.formatter,t,n.format,n.lang)),a.type="change",U.trigger(a),r.data("date",t),S.hide(a))}function d(t){t.type="onShow",U.trigger(t),e(document).on("keydown.d",function(t){if(t.ctrlKey)return!0;var n=t.keyCode;if(8==n||46==n)return r.val(""),S.hide(t);if(27==n||9==n)return S.hide(t);if(e(p).index(n)>=0){if(!b)return S.show(t),t.preventDefault();var i=e("#"+A.weeks+" a"),a=e("."+A.focus),o=i.index(a);return a.removeClass(A.focus),74==n||40==n?o+=7:75==n||38==n?o-=7:76==n||39==n?o+=1:(72==n||37==n)&&(o-=1),o>41?(S.addMonth(),a=e("#"+A.weeks+" a:eq("+(o-42)+")")):0>o?(S.addMonth(-1),a=e("#"+A.weeks+" a:eq("+(o+42)+")")):a=i.eq(o),a.addClass(A.focus),t.preventDefault()}return 34==n?S.addMonth():33==n?S.addMonth(-1):36==n?S.today():(13==n&&(e(t.target).is("select")||e("."+A.focus).click()),e([16,17,18,9]).index(n)>=0)}),e(document).on("click.d",function(t){var n=t.target;e(n).parents("#"+A.root).length||n==r[0]||g&&n==g[0]||S.hide(t)})}var g,f,m,_,v,y,b,E,S=this,w=new Date,T=w.getFullYear(),A=l.css,x=h[l.lang],M=e("#"+A.root),D=M.find("#"+A.title),k=r.attr("data-value")||l.value||r.val(),O=r.attr("min")||l.min,N=r.attr("max")||l.max;if(0===O&&(O="0"),k=s(k)||w,O=s(O||new Date(T+l.yearRange[0],1,1)),N=s(N||new Date(T+l.yearRange[1]+1,1,-1)),!x)throw"Dateinput: invalid language: "+l.lang;if("date"==r.attr("type")){var E=r.clone(),R=E.wrap("<div/>").parent().html(),C=e(R.replace(/type/i,"type=text data-orig-type"));l.value&&C.val(l.value),r.replaceWith(C),r=C}r.addClass(A.input);var U=r.add(S);if(!M.length){if(M=e("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",A.root),M.children().eq(0).attr("id",A.head).end().eq(1).attr("id",A.body).children().eq(0).attr("id",A.days).end().eq(1).attr("id",A.weeks).end().end().end().find("a").eq(0).attr("id",A.prev).end().eq(1).attr("id",A.next),D=M.find("#"+A.head).find("div").attr("id",A.title),l.selectors){var F=e("<select/>").attr("id",A.month),L=e("<select/>").attr("id",A.year);D.html(F.add(L))}for(var I=M.find("#"+A.days),P=0;7>P;P++)I.append(e("<span/>").text(x.shortDays[(P+l.firstDay)%7]));e("body").append(M)}l.trigger&&(g=e("<a/>").attr("href","#").addClass(A.trigger).click(function(e){return l.toggle?S.toggle():S.show(),e.preventDefault()}).insertAfter(r));var j=M.find("#"+A.weeks);L=M.find("#"+A.year),F=M.find("#"+A.month),e.extend(S,{show:function(t){if(!(r.attr("readonly")||r.attr("disabled")||b||(t=t||e.Event(),t.type="onBeforeShow",U.trigger(t),t.isDefaultPrevented()))){e.each(u,function(){this.hide()}),b=!0,F.off("change").change(function(){S.setValue(a(L.val()),a(e(this).val()))}),L.off("change").change(function(){S.setValue(a(e(this).val()),a(F.val()))}),f=M.find("#"+A.prev).off("click").click(function(){return f.hasClass(A.disabled)||S.addMonth(-1),!1}),m=M.find("#"+A.next).off("click").click(function(){return m.hasClass(A.disabled)||S.addMonth(),!1}),S.setValue(k);var n=r.offset();return/iPad/i.test(navigator.userAgent)&&(n.top-=e(window).scrollTop()),M.css({top:n.top+r.outerHeight(!0)+l.offset[0],left:n.left+l.offset[1]}),l.speed?M.show(l.speed,function(){d(t)}):(M.show(),d(t)),S}},setValue:function(r,i,u){var d=a(i)>=-1?new Date(a(r),a(i),a(u==t||isNaN(u)?1:u)):r||k;if(O>d?d=O:d>N&&(d=N),"string"==typeof r&&(d=s(r)),r=d.getFullYear(),i=d.getMonth(),u=d.getDate(),-1==i?(i=11,r--):12==i&&(i=0,r++),!b)return c(d,l),S;v=i,_=r,y=u;var p,h=new Date(r,i,1-l.firstDay),g=h.getDay(),E=n(r,i),T=n(r,i-1);if(l.selectors){F.empty(),e.each(x.months,function(t,n){O<new Date(r,t+1,1)&&N>new Date(r,t,0)&&F.append(e("<option/>").html(n).attr("value",t))}),L.empty();for(var M=w.getFullYear(),R=M+l.yearRange[0];R<M+l.yearRange[1];R++)O<new Date(R+1,0,1)&&N>new Date(R,0,0)&&L.append(e("<option/>").text(R));F.val(i),L.val(r)}else D.html(x.months[i]+" "+r);j.empty(),f.add(m).removeClass(A.disabled);for(var C,U,I=g?0:-7;(g?42:35)>I;I++)C=e("<a/>"),I%7===0&&(p=e("<div/>").addClass(A.week),j.append(p)),g>I?(C.addClass(A.off),U=T-g+I+1,d=new Date(r,i-1,U)):I>=g+E?(C.addClass(A.off),U=I-E-g+1,d=new Date(r,i+1,U)):(U=I-g+1,d=new Date(r,i,U),o(k,d)?C.attr("id",A.current).addClass(A.focus):o(w,d)&&C.attr("id",A.today)),O&&O>d&&C.add(f).addClass(A.disabled),N&&d>N&&C.add(m).addClass(A.disabled),C.attr("href","#"+U).text(U).data("date",d),p.append(C);return j.find("a").click(function(t){var n=e(this);return n.hasClass(A.disabled)||(e("#"+A.current).removeAttr("id"),n.attr("id",A.current),c(n.data("date"),l,t)),!1}),A.sunday&&j.find("."+A.week).each(function(){var t=l.firstDay?7-l.firstDay:0;e(this).children().slice(t,t+1).addClass(A.sunday)}),S},setMin:function(e,t){return O=s(e),t&&O>k&&S.setValue(O),S},setMax:function(e,t){return N=s(e),t&&k>N&&S.setValue(N),S},today:function(){return S.setValue(w)},addDay:function(e){return this.setValue(_,v,y+(e||1))},addMonth:function(e){var t=v+(e||1),r=n(_,t),i=r>=y?y:r;return this.setValue(_,t,i)},addYear:function(e){return this.setValue(_+(e||1),v,y)},destroy:function(){r.add(document).off("click.d keydown.d"),M.add(g).remove(),r.removeData("dateinput").removeClass(A.input),E&&r.replaceWith(E)},hide:function(t){if(b){if(t=e.Event(),t.type="onHide",U.trigger(t),t.isDefaultPrevented())return;e(document).off("click.d keydown.d"),M.hide(),b=!1}return S},toggle:function(){return S.isOpen()?S.hide():S.show()},getConf:function(){return l},getInput:function(){return r},getCalendar:function(){return M},getValue:function(e){return e?i(l.formatter,k,e,l.lang):k},isOpen:function(){return b}}),e.each(["onBeforeShow","onShow","change","onHide"],function(t,n){e.isFunction(l[n])&&e(S).on(n,l[n]),S[n]=function(t){return t&&e(S).on(n,t),S}}),l.editable||r.on("focus.d click.d",S.show).keydown(function(t){var n=t.keyCode;return!b&&e(p).index(n)>=0?(S.show(t),t.preventDefault()):((8==n||46==n)&&r.val(""),t.shiftKey||t.ctrlKey||t.altKey||9==n?!0:t.preventDefault())}),s(r.val())&&c(k,l)}e.tools=e.tools||{version:"@VERSION"};var c,u=[],d={},p=[75,76,38,39,74,72,40,37],h={};c=e.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:t,max:t,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(e,t){d[e]=t},localize:function(t,n){e.each(n,function(e,t){n[e]=t.split(",")}),h[t]=n}},c.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var g=e("<a/>");c.addFormatter("default",function(e,t,n){return e.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function(e){return e in n?n[e]:e})}),c.addFormatter("prefixed",function(e,t,n){return e.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,function(e,t){return t in n?n[t]:e})}),e.expr[":"].date=function(t){var n=t.getAttribute("type");return n&&"date"==n||!!e(t).data("dateinput")},e.fn.dateinput=function(t){if(this.data("dateinput"))return this;t=e.extend(!0,{},c.conf,t),e.each(t.css,function(e,n){n||"prefix"==e||(t.css[e]=(t.css.prefix||"")+(n||e))});var n;return this.each(function(){var r=new l(e(this),t);u.push(r);var i=r.getInput().data("dateinput",r);n=n?n.add(i):i}),n?n:this}}(jQuery),function(){"use strict";function e(){n.CommandQueue.resume("calendar was hidden")}var t=this,n=_.namespace(t,"tracker"),r=n.View.extend({__name__:"Calendar",events:{keyup:"ignoreKeyup_","click .calendar_icon":"showCalendar_",onShow:"onShow_",onHide:"onHide_","closeCalendar .showing_calendar":"closeCalendar_"},initialize:function(e){this.calendars=e.calendars},ignoreKeyup_:function(e){e.stopImmediatePropagation()},showCalendar_:function(e){e.preventDefault(),e.stopImmediatePropagation(),$(e.currentTarget).siblings(":date").addClass("showing_calendar").data("dateinput").show()},onShow_:function(e){e.stopImmediatePropagation(),n.CommandQueue.pause("calendar was shown"),this.$el.trigger("scrimOpen")},onHide_:function(t){t.stopImmediatePropagation(),e(),$(".scrim").trigger("scrimClose")},closeCalendar_:function(e){e.preventDefault(),$(e.target).data("dateinput").hide()},remove:function(){var e=this;_.each(this.calendars,function(t){e.$(t.selector).dateinput({}).off("onShow"),e.$(t.selector).dateinput("destroy")}),n.View.prototype.remove.call(this)},render:function(){var e=this;this.$trigger("prerender"),_.each(this.calendars,function(t){e.$(t.selector).dateinput({format:"yyyy-mm-dd",min:new n.DateTime(2006,0,1).toDate(),max:t.maxDate}).on("onShow",function(){var n=e.$(t.selector).data("dateinput"),r=n.getCalendar(),i=n.getInput();r.position({my:"left top",at:"left bottom-4",of:i,collision:"flip fit"})})}),this.$trigger("postrender")}});_.namespace(n,"views").Calendar=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories/details/integrations/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/details/integrations/edit"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n  <div class="integration row">\n    <em>',t=e.display_name,r=n.humanize,t=r?r.call(e,t,{hash:{}}):y.call(e,"humanize",t,{hash:{}}),i+=b(t)+' ID</em>\n    <a class="autosaves external_url" href="',r=n.external_url,r?t=r.call(e,{hash:{}}):(t=e.external_url,t=typeof t===E?t():t),i+=b(t)+'" target="_blank" title="',r=n.external_id,r?t=r.call(e,{hash:{}}):(t=e.external_id,t=typeof t===E?t():t),i+=b(t)+'">',r=n.link_text,r?t=r.call(e,{hash:{}}):(t=e.link_text,t=typeof t===E?t():t),i+=b(t)+"</a>\n  </div>\n"}function o(e,t){var r,i,a="";return a+="\n  ",i=n.other_integration,i?r=i.call(e,{hash:{},inverse:S.program(11,d,t),fn:S.programWithDepth(s,t,e)}):(r=e.other_integration,r=typeof r===E?r():r),n.other_integration||(r=w.call(e,r,{hash:{},inverse:S.program(11,d,t),fn:S.programWithDepth(s,t,e)})),(r||0===r)&&(a+=r),a+="\n"}function s(e,t,r){var i,a,o="";return o+='\n    <div class="other_integration row">\n    <a class="autosaves external_url" tabindex="-1" href=',i=e.external_id,i=n["if"].call(e,i,{hash:{},inverse:S.program(7,c,t),fn:S.program(5,l,t)}),(i||0===i)&&(o+=i),o+=' id="external_url_int_',i=r.cid,i=typeof i===E?i():i,o+=b(i)+'"></a>\n      <input type="text" name="story[external_id]" class="autosaves std value" id="other_int_',i=r.cid,i=typeof i===E?i():i,o+=b(i)+'" value="',i=r.external_id,i=typeof i===E?i():i,o+=b(i)+'"',i=r.project_id,a=n.whenReadOnly,i=a?a.call(e,i,{hash:{},inverse:S.noop,fn:S.program(9,u,t)}):y.call(e,"whenReadOnly",i,{hash:{},inverse:S.noop,fn:S.program(9,u,t)}),(i||0===i)&&(o+=i),o+=">\n      <em>",i=e.display_name,a=n.humanize,i=a?a.call(e,i,{hash:{}}):y.call(e,"humanize",i,{hash:{}}),o+=b(i)+" ID</em>\n    </div>\n  "}function l(e){var t,r,i="";return i+='"',r=n.external_url,r?t=r.call(e,{hash:{}}):(t=e.external_url,t=typeof t===E?t():t),i+=b(t)+'" target="_blank" title="',r=n.external_id,r?t=r.call(e,{hash:{}}):(t=e.external_id,t=typeof t===E?t():t),i+=b(t)+'" '}function c(){return'"#"'}function u(){return" disabled"}function d(e,t){var r,i,a="";return a+="\n    ",i=n.buganizer_integration,i?r=i.call(e,{hash:{},inverse:S.noop,fn:S.programWithDepth(p,t,e)}):(r=e.buganizer_integration,r=typeof r===E?r():r),n.buganizer_integration||(r=w.call(e,r,{hash:{},inverse:S.noop,fn:S.programWithDepth(p,t,e)})),(r||0===r)&&(a+=r),a+="\n  "}function p(e,t,r){var i,a,o="";return o+='\n      <div class="other_integration buganizer_integration row">\n      <a class="autosaves external_url" tabindex="-1" href=',i=e.external_id,i=n["if"].call(e,i,{hash:{},inverse:S.program(15,g,t),fn:S.program(13,h,t)}),(i||0===i)&&(o+=i),o+=' id="external_url_int_',i=r.cid,i=typeof i===E?i():i,o+=b(i)+'"></a>\n        <input type="text" name="story[external_id]" class="autosaves std value" id="other_int_',i=r.cid,i=typeof i===E?i():i,o+=b(i)+'" value="',i=r.external_id,i=typeof i===E?i():i,o+=b(i)+'"',i=r.project_id,a=n.whenReadOnly,i=a?a.call(e,i,{hash:{},inverse:S.noop,fn:S.program(17,f,t)}):y.call(e,"whenReadOnly",i,{hash:{},inverse:S.noop,fn:S.program(17,f,t)}),(i||0===i)&&(o+=i),o+=">\n        <em>Buganizer ID</em>\n      </div>\n    "}function h(e){var t,r,i="";return i+='"',r=n.external_url,r?t=r.call(e,{hash:{}}):(t=e.external_url,t=typeof t===E?t():t),i+=b(t)+'" target="_blank" title="',r=n.external_id,r?t=r.call(e,{hash:{}}):(t=e.external_id,t=typeof t===E?t():t),i+=b(t)+'" '}function g(){return'"#"'}function f(){return" disabled"}n=n||e.helpers;var m,_,v="",y=n.helperMissing,b=this.escapeExpression,E="function",S=this,w=n.blockHelperMissing;return _=n.integration,_?m=_.call(t,{hash:{},inverse:S.program(3,o,i),fn:S.program(1,a,i)}):(m=t.integration,m=typeof m===E?m():m),n.integration||(m=w.call(t,m,{hash:{},inverse:S.program(3,o,i),fn:S.program(1,a,i)})),(m||0===m)&&(v+=m),v+="\n"}),this.HandlebarsTemplates["stories/details/integrations/edit"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.details.Field.extend({__name__:"DetailsIntegrationsEdit",dirtyAttributes:"external_id",delegate:".integration_wrapper",eventInputSelector:'focusout .std[name="story[external_id]"]',template:"templates/stories/details/integrations/edit",update:function(){this.$('.std[name="story[external_id]"]').val(this._draftModel.get("external_id"))}});_.namespace(t,"views.details.integrations").Edit=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers,r=[$.ui.keyCode.UP,$.ui.keyCode.DOWN,$.ui.keyCode.ENTER],i=t.View.extend({__name__:"MenuKeyboardNavigation",initialize:function(e){t.View.prototype.initialize.apply(this,arguments),this.config=e.config;var n={},r=this.config.inputSelector;n["keyup "+r]=this.searchKeyUp,n["keydown "+r]=this.searchKeyDown,this.delegateEvents(n)},clearSelectedEntry:function(){this.$("ul li").removeClass("selected")},searchKeyUp:function(e){_.include(r,e.which)||this.config.filterWithQuery($(e.currentTarget).val())},searchKeyDown:function(e){_.include(r,e.which)&&(e.preventDefault(),e.stopPropagation(),n.key.isUp(e)||n.key.isDown(e)?this.handleNavigationKey(e):n.key.isEnter(e)&&this.handleEnterKey(e))},handleNavigationKey:function(e){var t=this.$("ul li.selected"),r=n.key.isDown(e)?"next":"prev",i=t[r]("li:not(.hidden)");0!==i.length&&(this.clearSelectedEntry(),i.addClass("selected"),this.ensureVisible(i))},ensureVisible:function(e){var t=this.$("ul"),n=e.position().top+e.height()-this.$el.height();n>0?t.scrollTo(t.scrollTop()+n):e.position().top<t.position().top&&t.scrollTo(e)},handleEnterKey:function(){this.config.selectOption(this.$("li.selected a"))}});_.namespace(t,"views").MenuKeyboardNavigation=i}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/lightboxes/owner/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lightboxes/owner/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n  <button class="submit remove" id="owners_remove">Remove</button>\n  <h2>',r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===d?t():t),i+=p(t)+"</h2>\n"}function o(e,t){var r,i,a="";return a+="\n      <li ",r=e.inactive,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(4,s,t)}),(r||0===r)&&(a+=r),a+='>\n        <a data-person-id="',i=n.value,i?r=i.call(e,{hash:{}}):(r=e.value,r=typeof r===d?r():r),a+=p(r)+'">\n          <span>\n            <span class="name">',i=n.label,i?r=i.call(e,{hash:{}}):(r=e.label,r=typeof r===d?r():r),a+=p(r)+'</span>\n            <span class="initials">',r=e.description,i=n.truncateInitials,r=i?i.call(e,r,{hash:{}}):g.call(e,"truncateInitials",r,{hash:{}}),a+=p(r)+"</span>\n          </span>\n        </a>\n      </li>\n    "}function s(){return'class="hidden"'}n=n||e.helpers;var l,c,u="",d="function",p=this.escapeExpression,h=this,g=n.helperMissing,f=n.blockHelperMissing;return u+='<header class="title">\n',c=n.person,c?l=c.call(t,{hash:{},inverse:h.noop,fn:h.program(1,a,i)}):(l=t.person,l=typeof l===d?l():l),n.person||(l=f.call(t,l,{hash:{},inverse:h.noop,fn:h.program(1,a,i)})),(l||0===l)&&(u+=l),u+='\n</header>\n\n<article class="content">\n  <label>\n    <input type="text" id="owners_search_field" class="std search" />\n  </label>\n\n  <ul>\n    ',c=n.members,c?l=c.call(t,{hash:{},inverse:h.noop,fn:h.program(3,o,i)}):(l=t.members,l=typeof l===d?l():l),n.members||(l=f.call(t,l,{hash:{},inverse:h.noop,fn:h.program(3,o,i)})),(l||0===l)&&(u+=l),u+="\n  </ul>\n</article>\n"}),this.HandlebarsTemplates["lightboxes/owner/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers,r=n.view,i=t.View.extend({__name__:"LightBoxesOwner",className:"lightbox owner top",template:"templates/lightboxes/owner/show",initialize:function(e){function i(){h.$("ul li").removeClass("selected")}function a(e){$(e.currentTarget).addClass("selected")}function o(e){var t=e.data("person-id");if(m){var n=_.clone(g.get("owner_ids"));n[_.indexOf(n,m.id)]=t,g.set({owner_ids:n,selected_owner:t})}else g.canAddOwner()&&g.set({owner_ids:_.union(g.get("owner_ids"),[t]),selected_owner:2===g.get("owner_ids").length?t:null});h._closeCallback(!0),h.$trigger("close.lightbox")}function s(e){o($(e.currentTarget))}function l(){g.removeOwner(m.id),h._closeCallback(!0),h.$trigger("close.lightbox")}function c(e){var n=t.helpers.Search.search(e,h.filteredMembers(),{score:function(e){return e.description+" "+e.label}});n.then(function(e){var t=_.pluck(_.filter(e,function(e){return!!e.score}),"item"),n=JST[_.result(h,"template")]({members:t});h.$("ul").replaceWith($("<div></div>").html(n).find("ul")),h.markFirstListEntrySelected()})}function u(e){e.preventDefault(),g.set({selected_owner:m&&m.id}),h._closeCallback(!1),h.$trigger("close.lightbox")}function d(e){n.key.isEscape(e)?u(e):(n.key.isDown(e)||n.key.isTab(e))&&(e.preventDefault(),e.stopPropagation(),h.$(".search").focus(),h.markFirstListEntrySelected())}function p(e){n.key.isEscape(e)?u(e):m&&(n.key.isUp(e)&&0===h.$("li.selected").prev("li").length||n.key.isTab(e))?(e.preventDefault(),e.stopImmediatePropagation(),h.$(".remove").focus()):n.key.isTab(e)&&o(this.$("li.selected a"))}var h=this,g=e.draftModel,f=e.initialSearch,m=e.selectedPerson;_.extend(this,{_target:e.target,_draftModel:g,_initialSearch:f,_selectedPerson:m,_closeCallback:e.close}),this.delegateEvents({"click a":[r.preventDefault,s],"click .remove":l,"focus .remove":i,"keydown .remove":d,"keydown .search":p,"mouseenter li":[i,a],afterScrimClose:u}),this.views().addView(new t.views.MenuKeyboardNavigation({el:this.el,config:{inputSelector:".search",filterWithQuery:c,selectOption:o}}))},render:function(){var e={members:this.filteredMembers(),person:this._selectedPerson};return this.$el.html(JST[_.result(this,"template")](e)).position({my:"right top",at:"right bottom",of:this._target,offset:this._selectedPerson?"0 10":"8 8",collision:"classyFlip none"}),this._selectedPerson||(this.markFirstListEntrySelected(),this.$el.addClass("add_owner standard")),this._initialSearch&&this.$(".search").val(this._initialSearch).trigger("keyup"),this.$(this._selectedPerson?".remove":".search").focus(),this},markFirstListEntrySelected:function(){this.$("ul li:not(.hidden)").first().addClass("selected")},filteredMembers:function(){var e=this._draftModel.decorator().toJSON().members;return _.reject(e,_.bind(function(e){return _.contains(this._draftModel.get("owner_ids"),e.value)},this))}});_.namespace(t,"views.lightboxes").Owner=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers,r=n.view,i=t.View.extend({__name__:"DetailsOwnersEdit",initialize:function(e){function i(e){f.$(".story_owners a.selected").removeClass("selected");var t=e?'.owner_link[data-person-id="'+e+'"]':".add_owner";f.$(".story_owners a"+t).addClass("selected"),m.set({selected_owner:e})}function a(e){e&&f.$trigger("changeOwners"),f.$(".story_owners .honeypot").focus()}function o(e,t){m.canAddOwner()&&v.create("owner",{target:e,draftModel:m,initialSearch:t,close:a})}function s(e,t){var n=$(e).data("person-id"),r=m.findMemberById(n);r&&v.create("owner",{target:$(e).find("span")[0],draftModel:m,initialSearch:t,selectedPerson:r,close:a})}function l(e){t.Person.current().isReadOnly(m.project().id)||o(e.currentTarget)}function c(e){t.Person.current().isReadOnly(m.project().id)||s(e.currentTarget)}function u(e,t){if(e.stopPropagation(),e.preventDefault(),f.$(".add_owner.selected").length>0)o(f.$(".add_owner")[0],t);else{var n=f.$(".owner_link.selected");n.length>0&&s(n[0],t)}}function d(e){var t=f.$(".story_owners a.selected"),r=n.key.isRight(e)?t.prev("a"):t.next("a");if(0!==r.length){var a=r.data("person-id")||null;(3!==m.get("owner_ids").length||null!==a)&&i(a)}}function p(){m.get("selected_owner")&&(m.removeOwner(m.get("selected_owner")),f.$trigger("changeOwners"))}function h(e){var t=f.$(".story_owners .honeypot"),n=t.val();_.isBlank(n)||(e.stopImmediatePropagation(),t.val(""),u(e,n))}function g(e){n.key.isEnter(e)||n.key.isSpace(e)||n.key.isDown(e)?u(e):n.key.isRight(e)||n.key.isLeft(e)?d(e):(n.key.isBackspace(e)||n.key.isDelete(e))&&p(e)}t.View.prototype.initialize.apply(this,arguments);var f=this,m=e.draftModel,v=new t.LightboxesController;this.delegateEvents({"click .add_owner":[r.preventDefault,l],"click .owner_link":[r.preventDefault,c],"keydown .row.owner .honeypot":g,"keyup .row.owner .honeypot":h})}});_.namespace(t.views.details,"owners").Edit=i}.call(this),function(){var e=tracker.Decorator.extend({toJSON:function(e){e=(e||{}).include||{};var t=e.view||{},n=_.extend(this.decorator().toJSON(),{expanded:!0,type:this instanceof tracker.Story?"story":"epic",is_dirty:t.hasChanged?t.hasChanged():!1,is_maximized:e.maximized,has_flash:tracker.Person.current().useClickToCopy(),timestamp_wrapper_clickable:this.get("created_at")!==this.get("updated_at"),is_read_only:tracker.Person.current().isReadOnly(this.project())});return this.original&&(this instanceof tracker.Story||this instanceof tracker.Epic)&&(n.comments=this.original().comments().decorator().toJSON({include:{maximized:e.maximized}})),n}});tracker.DraftModelDecorator=e}(window,tracker),function(){this.JST||(this.JST={}),this.JST["templates/tasks/new"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tasks/new"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i,a="";return a+='\n      <input type="hidden" name="task[story_cid]" value="',i=n.story_cid,i?t=i.call(e,{hash:{}}):(t=e.story_cid,t=typeof t===c?t():t),a+=u(t)+'">\n      <input type="checkbox" name="task[complete]" data-type="boolean" value="true" class="autosaves task_complete" disabled="disabled">\n      <section>\n        ',t={},t.rows="1",t.name="task[description]",t["class"]="std",t.placeholder="Add a task",t["id-prefix"]="add_story_task",r=e.cid,t.id=r,r=e.description,t.value=r,i=n.editable,t=i?i.call(e,{hash:t}):d.call(e,"editable",{hash:t}),a+=u(t)+'\n      </section>\n      <button type="submit" class="autosaves std add" id="story_task_button_',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===c?t():t),a+=u(t)+'">Add</button>\n    '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=n.helperMissing,p=this;return l+='<ol>\n  <li class="new">\n    ',o={},o["class"]="task_new subresource",s=n.formTag,o=s?s.call(t,{hash:o,inverse:p.noop,fn:p.program(1,a,i)}):d.call(t,"formTag",{hash:o,inverse:p.noop,fn:p.program(1,a,i)}),(o||0===o)&&(l+=o),l+="\n  </li>\n</ol>\n"}),this.HandlebarsTemplates["tasks/new"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"TaskNew",events:{"submit .new form":"submit_","keydown button.add":"handleAddButton_","keydown .new form .editor":"handleKeyDownOnForm_","keypress .new form .editor":"maybeKillKeypress_","keyup .new form .editor":"saveToDraftModel_","prerender:dirty":"killEvent_","postrender:dirty":"killEvent_"},initialize:function(e){e=_.clone(e||{}),this.draftModel_=e.draftModel,this.originalModel_=this.draftModel_.original(),this.killKeyup_=!1,this.maximized_=e.maximized,this.selector_=e.selector,this.shiftKey_=e.shiftKey,this.newCollection_=e.newCollection;var n=this.originalModel_;e.newModelOptions=_(e.newModelOptions||{}).extend({story:function(){return n instanceof t.Story?n:void 0},epic:function(){return n instanceof t.Epic?n:void 0}}),this.newTask_=new t.DraftTask({},e.newModelOptions),this.newDraftTask_=this.draftModel_.task(),this.newDraftTask_.set({draft:!0},{silent:!0})},hasChanged:function(){var e=this.$(".new form .editor").val();return(e||"").length>0},isValid:function(){var e=this.processForm_();return this.alertError_(e.model,e.attributes)},render:function(){this.$trigger("prerender");var e=JST["templates/tasks/new"](new t.DraftModelDecorator(this.newDraftTask_).toJSON({include:{view:this,maximized:this.maximized_}}));return this.$el.html(e),this.$(".new .editor").autosize({append:""}).trigger("autosize.resize"),this.$trigger("postrender"),this},save:function(){var e=this.processForm_(),t=e.model,n=e.attributes;return t.save(n,{flush:!1})?!0:(this.alertError_(t,n),!1)},handleAddButton_:function(e){return e.which===$.ui.keyCode.ENTER?this.submit_(e):void 0},handleKeyDownOnForm_:function(e){this.keydownEnter_(e),this.keydownEscape_(e)},keydownEnter_:function(e){var n=e.keyCode||e.which;13!==n||this.shiftKey_&&!e.shiftKey||(e.preventDefault(),e.stopPropagation(),(t.Person.current().appSettings().get("save_on_enter")||e.shiftKey)&&this.submit_(e))},keydownEscape_:function(e){this.hasChanged()&&e.stopImmediatePropagation(),this.hasChanged()&&e.which===$.ui.keyCode.ESCAPE&&window.confirm("Abandon your changes?")&&$(e.target).val("").blur()},killEvent_:function(e){e.stopPropagation()},maybeKillKeypress_:function(e){this.killKeyup_&&(e.preventDefault(),this.killKeyup_=!1)},processForm_:function(){var e,n=this.$el.find("form.task_new"),r=this.originalModel_;if(!n.length)return!1;var i;i=new t.DraftTask({person_id:t.Person.current().id},{story:function(){return r instanceof t.Story?r:void 0},epic:function(){return r instanceof t.Epic?r:void 0}});var a=n.serializeObject();return e=this.newCollection_?i.parse(a.task):a.task,{model:i,attributes:e}},submit_:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.save()&&this.$trigger("task.created")},saveToDraftModel_:function(e){var t=$(e.target).is("form")?$(e.target):$(e.target).parents("form");if(!t.length||t.is(this.selector_)){var n=this.$(this.selector_).serializeObject().task;this.newDraftTask_.set(n,{silent:!0})}},alertError_:function(t,n){var r=n&&t.validate(n);return r&&!_.endsWith(r,"be blank")?(e.alert(r),!1):!0}});_.namespace(t,"views.tasks").New=n}.call(this),/*!
 * jquery.event.drag - v 2.0.0
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
function(e){e.fn.drag=function(t,n,r){var i="string"==typeof t?t:"",a=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==i.indexOf("drag")&&(i="drag"+i),r=(t==a?n:r)||{},a?this.bind(i,r,a):this.trigger(i)};var t=e.event,n=t.special,r=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",livekey:"livedrag",add:function(n){var i=e.data(this,r.datakey),a=n.data||{};i.related+=1,!i.live&&n.selector&&(i.live=!0,t.add(this,"draginit."+r.livekey,r.delegate)),e.each(r.defaults,function(e){void 0!==a[e]&&(i[e]=a[e])})},remove:function(){e.data(this,r.datakey).related-=1},setup:function(){if(!e.data(this,r.datakey)){var n=e.extend({related:0},r.defaults);e.data(this,r.datakey,n),t.add(this,"mousedown",r.init,n),this.attachEvent&&this.attachEvent("ondragstart",r.dontstart)}},teardown:function(){e.data(this,r.datakey).related||(e.removeData(this,r.datakey),t.remove(this,"mousedown",r.init),t.remove(this,"draginit",r.delegate),r.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",r.dontstart))},init:function(i){var a,o=i.data;if(!(o.which>0&&i.which!=o.which||e(i.target).is(o.not)||o.handle&&!e(i.target).closest(o.handle,i.currentTarget).length||(o.propagates=1,o.interactions=[r.interaction(this,o)],o.target=i.target,o.pageX=i.pageX,o.pageY=i.pageY,o.dragging=null,a=r.hijack(i,"draginit",o),!o.propagates)))return a=r.flatten(a),a&&a.length&&(o.interactions=[],e.each(a,function(){o.interactions.push(r.interaction(this,o))})),o.propagates=o.interactions.length,o.drop!==!1&&n.drop&&n.drop.handler(i,o),r.textselect(!1),t.add(document,"mousemove mouseup",r.handler,o),!1},interaction:function(t,n){return{drag:t,callback:new r.callback,droppable:[],offset:e(t)[n.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(e){var i=e.data;switch(e.type){case!i.dragging&&"mousemove":if(Math.pow(e.pageX-i.pageX,2)+Math.pow(e.pageY-i.pageY,2)<Math.pow(i.distance,2))break;e.target=i.target,r.hijack(e,"dragstart",i),i.propagates&&(i.dragging=!0);case"mousemove":if(i.dragging){if(r.hijack(e,"drag",i),i.propagates){i.drop!==!1&&n.drop&&n.drop.handler(e,i);break}e.type="mouseup"}case"mouseup":t.remove(document,"mousemove mouseup",r.handler),i.dragging&&(i.drop!==!1&&n.drop&&n.drop.handler(e,i),r.hijack(e,"dragend",i)),r.textselect(!0),i.click===!1&&i.dragging&&(jQuery.event.triggered=!0,setTimeout(function(){jQuery.event.triggered=!1},20),i.dragging=!1)}},delegate:function(n){var i,a=[],o=e.data(this,"events")||{};return e.each(o.live||[],function(o,s){0===s.preType.indexOf("drag")&&(i=e(n.target).closest(s.selector,n.currentTarget)[0],i&&(t.add(i,s.origType+"."+r.livekey,s.origHandler,s.data),e.inArray(i,a)<0&&a.push(i)))}),a.length?e(a).bind("dragend."+r.livekey,function(){t.remove(this,"."+r.livekey)}):!1},hijack:function(n,i,a,o,s){if(a){var l,c,u,d={event:n.originalEvent,type:n.type},p=i.indexOf("drop")?"drag":"drop",h=o||0,g=isNaN(o)?a.interactions?a.interactions.length:0:o;n.type=i,n.originalEvent=null,a.results=[];do if(c=a.interactions[h]){if("dragend"!==i&&c.cancelled)continue;u=r.properties(n,a,c),c.results=[],e(s||c[p]||a.droppable).each(function(o,s){return u.target=s,l=s?t.dispatch.call(s,n,u):null,l===!1?("drag"==p&&(c.cancelled=!0,a.propagates-=1),"drop"==i&&(c[p][o]=null)):"dropinit"==i&&c.droppable.push(r.element(l)||s),"dragstart"==i&&(c.proxy=e(r.element(l)||c.drag)[0]),c.results.push(l),delete n.result,"dropinit"!==i?l:void 0}),a.results[h]=r.flatten(c.results),"dropinit"==i&&(c.droppable=r.flatten(c.droppable)),"dragstart"!=i||c.cancelled||u.update()}while(++h<g);return n.type=d.type,n.originalEvent=d.event,r.flatten(a.results)}},properties:function(e,t,n){var i=n.callback;return i.drag=n.drag,i.proxy=n.proxy||n.drag,i.startX=t.pageX,i.startY=t.pageY,i.deltaX=e.pageX-t.pageX,i.deltaY=e.pageY-t.pageY,i.originalX=n.offset.left,i.originalY=n.offset.top,i.offsetX=e.pageX-(t.pageX-i.originalX),i.offsetY=e.pageY-(t.pageY-i.originalY),i.drop=r.flatten((n.drop||[]).slice()),i.available=r.flatten((n.droppable||[]).slice()),i},element:function(e){return e&&(e.jquery||1==e.nodeType)?e:void 0},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?r.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",r.dontstart).attr("unselectable",t?"off":"on").css("MozUserSelect",t?"":"none")},dontstart:function(){return!1},callback:function(){}};r.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,function(e){n.drop.locate(this,e)})}},n.draginit=n.dragstart=n.dragend=r}(jQuery),function(e){function t(e){e&&(delete e.propagates,delete e.interactions,delete e.target,delete e.pageX,delete e.pageY,delete e.dragging)}var n=e.event,r=e.event.special.drag,i=r.livekey,a=r.handler,o=r.init;_.extend(r,{handler:function(e){var n=a.call(this,e);return"mouseup"===e.type&&t(e.data),n},init:function(e){var n=e.data,r=o.call(this,e);return n.propagates||t(n),r},delegate:function(t){var r=[];return _.chain(e._data(this,"events")).filter(function(e,t){return 0===t.indexOf("drag")}).flatten().each(function(a){if(a.selector){var o=e(t.target).closest(a.selector,t.currentTarget)[0];o&&(n.add(o,a.origType+"."+i,a.origHandler||a.handler,a.data),e.inArray(o,r)<0&&r.push(o))}}),r.length?e(r).on("dragend."+i,function(){n.remove(this,"."+i)}):!1}})}(jQuery),function(e){e.fn.drop=function(t,n,r){var i="string"==typeof t?t:"",a=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==i.indexOf("drop")&&(i="drop"+i),r=(t==a?n:r)||{},a?this.bind(i,r,a):this.trigger(i)},e.drop=function(t){t=t||{},r.multi=t.multi===!0?1/0:t.multi===!1?1:isNaN(t.multi)?r.multi:t.multi,r.delay=t.delay||r.delay,r.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:r.tolerance,r.mode=t.mode||r.mode||"intersect"};var t=e.event,n=t.special,r=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",livekey:"livedrop",add:function(n){var i=e.data(this,r.datakey);i.related+=1,!i.live&&n.selector&&(i.live=!0,t.add(this,"dropinit."+r.livekey,r.delegate))},remove:function(){e.data(this,r.datakey).related-=1},setup:function(){if(!e.data(this,r.datakey)){var t={related:0,active:[],anyactive:0,winner:0,location:{}};e.data(this,r.datakey,t),r.targets.push(this)}},teardown:function(){if(!e.data(this,r.datakey).related){e.removeData(this,r.datakey),t.remove(this,"dropinit",r.delegate);var n=this;r.targets=e.grep(r.targets,function(e){return e!==n})}},handler:function(i,a){var o;if(a)switch(i.type){case"mousedown":o=e(r.targets),"string"==typeof a.drop&&(o=o.filter(a.drop)),o.each(function(){var t=e.data(this,r.datakey)||{};t.active=[],t.anyactive=0,t.winner=0}),a.droppable=o,r.delegates=[],n.drag.hijack(i,"dropinit",a),r.delegates=e.unique(n.drag.flatten(r.delegates));break;case"mousemove":r.event=i,r.timer||r.tolerate(a);break;case"mouseup":r.timer=clearTimeout(r.timer),a.propagates&&(n.drag.hijack(i,"drop",a),n.drag.hijack(i,"dropend",a),e.each(r.delegates||[],function(){t.remove(this,"."+r.livekey)}))}},delegate:function(n){var i,a=[],o=e.data(this,"events")||{};return e.each(o.live||[],function(o,s){0===s.preType.indexOf("drop")&&(i=e(n.currentTarget).find(s.selector),i.length&&i.each(function(){t.add(this,s.origType+"."+r.livekey,s.origHandler,s.data),e.inArray(this,a)<0&&a.push(this)}))}),r.delegates.push(a),a.length?e(a):!1},locate:function(t,n){var i=t&&e.data(t,r.datakey),a=e(t),o=a.offset()||{},s=a.outerHeight(),l=a.outerWidth(),c={elem:t,width:l,height:s,top:o.top,left:o.left,right:o.left+l,bottom:o.top+s};return i&&(i.location=c,i.index=n,i.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,n){return this.contains(n,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,n){return Math.max(0,Math.min(n.bottom,t.bottom)-Math.max(n.top,t.top))*Math.max(0,Math.min(n.right,t.right)-Math.max(n.left,t.left))},fit:function(e,t,n){return this.contains(n,t)?1:0},middle:function(e,t,n){return this.contains(n,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(t){var i,a,o,s,l,c,u,d,p=0,h=t.interactions?t.interactions.length:0,g=[r.event.pageX,r.event.pageY],f=r.tolerance||r.modes[r.mode];do if(d=t.interactions&&t.interactions[p]){if(!d)return;d.drop=[],l=[],c=d.droppable.length,f&&(o=r.locate(d.proxy)),i=0;do if(u=d.droppable[i]){if(s=e.data(u,r.datakey)||{},a=s.location,!a)continue;s.winner=f?f.call(r,r.event,o,a):r.contains(a,g)?1:0,l.push(s)}while(++i<c);l.sort(r.sort),i=0;do(s=l[i])&&(s.winner&&d.drop.length<r.multi?(s.active[p]||s.anyactive||(n.drag.hijack(r.event,"dropstart",t,p,s.elem)[0]!==!1?(s.active[p]=1,s.anyactive+=1):s.winner=0),s.winner&&d.drop.push(s.elem)):s.active[p]&&1==s.anyactive&&(n.drag.hijack(r.event,"dropend",t,p,s.elem),s.active[p]=0,s.anyactive-=1));while(++i<c)}while(++p<h);r.last&&g[0]==r.last.pageX&&g[1]==r.last.pageY?delete r.timer:r.timer=setTimeout(function(){r.tolerate(t)},r.delay),r.last=r.event}};n.dropinit=n.dropstart=n.dropend=r}(jQuery),function(e){var t=e.event,n=e.event.special.drop,r=n.setup,i=n.add,a=n.remove,o=n.teardown;_.extend(n,{setup:function(e,t){return _.include(t,n.livekey)?r.call(this):!1},add:function(e){return _.include(e.namespace.split("."),n.livekey)?i.apply(this,arguments):void 0},remove:function(e){return _.include(e.namespace.split("."),n.livekey)?a.apply(this,arguments):void 0},teardown:function(e){return _.include(e,n.livekey)?o.call(this):!1},delegate:function(r){var i=[];return _.chain(e._data(this,"events")).filter(function(e,t){return!t.indexOf("drop")}).flatten().each(function(a){if(a.selector){var o=e(r.currentTarget).find(a.selector);o.length&&o.each(function(){t.add(this,a.origType+"."+n.livekey,a.handler,a.data),e.inArray(this,i)<0&&i.push(this)})}}),n.delegates.push(i),i.length?e(i):!1},locate:function(t,r){var i=t&&e.data(t,n.datakey),a=e(t),o=a.offset()||{},s=0,l=0;"none"!==a.css("display")&&(s=a.outerHeight(),l=a.outerWidth());var c={elem:t,width:l,height:s,top:o.top,left:o.left,right:o.left+l,bottom:o.top+s};return i&&(i.location=c,i.index=r,i.elem=t),c}})}(jQuery),function(){this.JST||(this.JST={}),this.JST["templates/tasks/tasks_count"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tasks/tasks_count"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+=" (",r=n.complete_count,r?t=r.call(e,{hash:{}}):(t=e.complete_count,t=typeof t===l?t():t),i+=c(t)+"/",r=n.task_count,r?t=r.call(e,{hash:{}}):(t=e.task_count,t=typeof t===l?t():t),i+=c(t)+")"}n=n||e.helpers;var o,s="",l="function",c=this.escapeExpression,u=this;return s+="<h4>Tasks",o=t.task_count,o=n["if"].call(t,o,{hash:{},inverse:u.noop,fn:u.program(1,a,i)}),(o||0===o)&&(s+=o),s+="</h4>\n"}),this.HandlebarsTemplates["tasks/tasks_count"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({initialize:function(e){this.tasks_=e.tasks,this.listenTo(this.tasks_,"change",this.render)},render:function(){var e=this.tasks_.select(function(e){return e.get("complete")}),t={task_count:this.tasks_.length,complete_count:e.length},n=JST["templates/tasks/tasks_count"](t);this.$el.html(n)}});_.namespace(t,"views.tasks").TasksCount=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({events:{"dragstart .task.draggable":"dragStart_","drag .task.draggable":"drag_","dragend .task.draggable":"dragEnd_"},initialize:function(e){this.draggingModel_=null,this.originalModel_=null,this.originalIndex_=null,this.tasks_=this.collection,this.project_=this.tasks_.project(),this.viewTasks_=e.viewCollection,this.$ghost=null,this.$el.data("dragdata",_(this.$el.data("dragdata")).extend({relative:!0,drop:this.$el}))},taskTolerance_:function(e,t,n){if(t.elem===n.elem)return!1;if(n.elem.parentNode!==t.elem.parentNode)return!1;var r=e.pageY>n.top+n.height/2;return $.data(n.elem,"drop+reorder",r?"insertAfter":"insertBefore"),this.contains(n,[e.pageX,e.pageY])},hasChanged:function(){return this.model.isNew()&&!this.tasks_.isEmpty()},dragStart_:function(e,t){return $(e.target).hasClass("undraggable")?!1:(this.project_.commandQueue().pause("user began dragging a task"),$.drop({tolerance:this.taskTolerance_}),this.createGhost_(e,t),this.originalIndex_=this.indexOfLi_(t.drag),this.draggingModel_=this.viewTasks_.at(this.originalIndex_),this.originalModel_=this.collection.get(this.draggingModel_.get("original_cid")),void 0)},drag_:function(e,t){this.$ghost.css({left:t.startX+t.deltaX,top:t.startY+t.deltaY});var n=t.drop[0],r=$.data(n||{},"drop+reorder");!n||n===t.current&&r===t.method||($(t.target)[r](n),$(t.drag).toggleClass("repositioned",this.indexOfLi_(t.drag)!==this.originalIndex_),t.current=n,t.method=r,t.update())},dragEnd_:function(e,t){this.$ghost.remove(),$(t.target).removeClass("dragging").removeClass("repositioned"),this.indexOfLi_(t.drag)===this.originalIndex_||this.model.isNew()?this.model.isNew()&&this.collection.move(this.originalModel_,this.indexOfLi_(t.drag)):this.originalModel_.save({position:this.indexOfLi_(t.drag)+1,story_cid:this.originalModel_.story().cid}),this.draggingModel_=void 0,this.project_.commandQueue().resume("user finished dragging a task")},indexOfLi_:function(e){return this.$("li.task").index(e)},createGhost_:function(e,n){var r=$(n.drag),i=r.offset();this.$ghost=r.clone().wrap($("<ul/>",{"class":"ghost tasks"})).parent().css({width:r.width(),position:"absolute","margin-left":-(e.pageX-i.left),"margin-top":-(e.pageY-i.top)}).appendTo(t.$el),r.addClass("dragging")}});_.namespace(t,"views.tasks").DragDrop=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/tasks/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["tasks/edit"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<div class="tasks_index">\n  <span class="tasks_count"></span>\n</div>\n<div class="tasks_new"></div>\n'}),this.HandlebarsTemplates["tasks/edit"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/tasks/_show"]=function(){Handlebars.registerPartial("_tasks_show",Handlebars.template(function(e,t,n,r,i){function a(){return" completed"}function o(){return" editing "}function s(e,t){var r,i,a="";return a+=" ",i=n.whenReadWrite,i?r=i.call(e,{hash:{},inverse:_.noop,fn:_.program(6,l,t)}):(r=e.whenReadWrite,r=typeof r===v?r():r),n.whenReadWrite||(r=y.call(e,r,{hash:{},inverse:_.noop,fn:_.program(6,l,t)})),(r||0===r)&&(a+=r),a+=" "}function l(){return"draggable"}function c(e,t){var r,i,a,o="";return o+='\n    <input type="hidden" name="task[story_cid]" value="',a=n.story_cid,a?r=a.call(e,{hash:{}}):(r=e.story_cid,r=typeof r===v?r():r),o+=b(r)+'">\n    <input type="hidden" name="task[complete]" data-type="boolean" value="false">\n    <input type="checkbox" name="task[complete]" data-type="boolean" value="true" class="autosaves task_complete"\n           ',a=n.whenReadOnly,a?r=a.call(e,{hash:{},inverse:_.noop,fn:_.program(9,u,t)}):(r=e.whenReadOnly,r=typeof r===v?r():r),n.whenReadOnly||(r=y.call(e,r,{hash:{},inverse:_.noop,fn:_.program(9,u,t)})),(r||0===r)&&(o+=r),o+="\n           ",r=e.complete,r=n["if"].call(e,r,{hash:{},inverse:_.noop,fn:_.program(11,d,t)}),(r||0===r)&&(o+=r),o+=' id="viewing_task_complete_',a=n.cid,a?r=a.call(e,{hash:{}}):(r=e.cid,r=typeof r===v?r():r),o+=b(r)+'">\n    <nav class="actions">\n      <a class="autosaves undraggable edit" id="story_task_edit_',a=n.cid,a?r=a.call(e,{hash:{}}):(r=e.cid,r=typeof r===v?r():r),o+=b(r)+'">Edit</a>\n      <a class="autosaves undraggable delete" id="story_task_delete_',a=n.cid,a?r=a.call(e,{hash:{}}):(r=e.cid,r=typeof r===v?r():r),o+=b(r)+'">Delete</a>\n    </nav>\n    <div class="description tracker_markup">',r=e.description,i={},i.type="task",a=n.markup,r=a?a.call(e,r,{hash:i}):E.call(e,"markup",r,{hash:i}),o+=b(r)+"</div>\n  "}function u(){return'disabled="disabled"'}function d(){return'checked="checked"'}function p(e,t){var r,i,a,o="";return o+='\n    <input type="hidden" name="task[story_cid]" value="',a=n.story_cid,a?r=a.call(e,{hash:{}}):(r=e.story_cid,r=typeof r===v?r():r),o+=b(r)+'">\n    <input type="hidden" name="task[complete]" data-type="boolean" value="false">\n    <input type="checkbox" name="task[complete]" data-type="boolean" value="true" class="autosaves task_complete" ',r=e.complete,r=n["if"].call(e,r,{hash:{},inverse:_.noop,fn:_.program(14,h,t)}),(r||0===r)&&(o+=r),o+=' id="editing_task_complete_',a=n.cid,a?r=a.call(e,{hash:{}}):(r=e.cid,r=typeof r===v?r():r),o+=b(r)+'">\n    <button type="submit" class="autosaves std save">Save</button>\n    <section>\n      ',r={},r.rows="1",r.name="task[description]",i=e.description,r.value=i,r["id-prefix"]="story_task_description",i=e.cid,r.id=i,r["class"]="std",a=n.editable,r=a?a.call(e,{hash:r}):E.call(e,"editable",{hash:r}),o+=b(r)+"\n    </section>\n  "}function h(){return'checked="checked"'}n=n||e.helpers;var g,f,m="",_=this,v="function",y=n.blockHelperMissing,b=this.escapeExpression,E=n.helperMissing;return m+='<li class="task droppable task_',f=n.cid,f?g=f.call(t,{hash:{}}):(g=t.cid,g=typeof g===v?g():g),m+=b(g)+" ",g=t.complete,g=n["if"].call(t,g,{hash:{},inverse:_.noop,fn:_.program(1,a,i)}),(g||0===g)&&(m+=g),m+="\n  ",g=t.editing,g=n["if"].call(t,g,{hash:{},inverse:_.program(5,s,i),fn:_.program(3,o,i)}),(g||0===g)&&(m+=g),m+='"\n    data-cid="',f=n.cid,f?g=f.call(t,{hash:{}}):(g=t.cid,g=typeof g===v?g():g),m+=b(g)+'">\n  ',g={},g["class"]="viewing",f=n.formTag,g=f?f.call(t,{hash:g,inverse:_.noop,fn:_.program(8,c,i)}):E.call(t,"formTag",{hash:g,inverse:_.noop,fn:_.program(8,c,i)}),(g||0===g)&&(m+=g),m+="\n  ",g={},g["class"]="editing",f=n.formTag,g=f?f.call(t,{hash:g,inverse:_.noop,fn:_.program(13,p,i)}):E.call(t,"formTag",{hash:g,inverse:_.noop,fn:_.program(13,p,i)}),(g||0===g)&&(m+=g),m+="\n</li>\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"TasksEdit",events:{"click .task .edit":"editTask_","click .task .delete":"deleteTask_","submit .task form":"submitForm_","keydown .task form .editor":"keydownEnter_","keyup .task form .editor":"updateDraftTask_","focusout .task form .editor":"focusOut_","change :checkbox":"submitForm_","task.created":"taskCreated_"},initialize:function(e){this.ignoreFocus_=!1,this.tasksNewView_=null,this.draftModel_=e.draftModel,this.draftTasks_=this.draftModel_.draftTasks(),this.listenTo(this.collection,"add remove",this.ignoreFocusOut_),this.listenTo(this.collection,"change",this.tasksChangeHandler_),this.listenTo(this.collection,"reorder",this.tasksReorderHandler_),this.listenTo(this.model,"destroy",this.removeView_),this.listenTo(this.model,"reorder",this.ignoreFocusOut_);var n=_.extend(this.model.decorator().toJSON(),{tasks:this.draftTasks_.decorator().toJSON()}),r=JST["templates/tasks/edit"](n);this.$el.html(r);var i=new t.views.tasks.DragDrop({model:this.model,collection:this.collection,viewCollection:this.draftTasks_,el:this.$(".tasks_index")[0]}),a=new t.views.tasks.TasksCount({model:this.model,tasks:this.draftTasks_,el:this.$(".tasks_count")[0]}),o=new t.views.panels.items.Loom({items:this.loomTasks_(),model:this.draftModel_});this.views().addView(i).addView(".tasks_count",a).addView(".tasks_index",o).addView(".tasks_new",this.createTasksNewView_()),this.views().pick(".tasks_index").render().attach(),this.views().pick(".tasks_count").render().attach(),this.views().pick(".tasks_new").render(),this.views().addView(new t.views.panels.Scroller({el:this.$(".tasks_index")[0],draggable:".task.draggable",scrollableY:".panel.visible .panel_content.items"}))},isValid:function(){var t=!0;return _.find(this.draftTasks_.where({editing:!0}),function(n){var r=this.originalModel_(n).validate(n.attributes);return r?(e.alert(r),t=!1,!0):void 0},this),t},tasksChangeHandler_:function(e){this.ignoreFocusOut_(),this.integrateChanges_(e)},tasksReorderHandler_:function(e,t){this.ignoreFocusOut_(),this.reorderTasks_(e,t)},originalModel_:function(e){return this.collection.get(e.get("original_cid"))},getDraftTask_:function(e){return this.draftTasks_.get($(e.currentTarget).closest(".task").data("cid"))},editTask_:function(e){e.preventDefault(),this.$(".task form .editor").focusout();var t=this.getDraftTask_(e);t.set({editing:!0}),this.$(".task_"+t.cid+" .editor").focus().carrot({end:!0}).autosize({append:""}).trigger("autosize.resize")},deleteTask_:function(e){e.preventDefault();var t=$(e.currentTarget).closest("form").serializeObject().task,n=this.originalModel_(this.getDraftTask_(e));this.model.isNew()?this.collection.remove(n):(n.destroy(_.pick(t,"story_cid")),this.collection.remove(n)),this.views().pick(".tasks_count").render()},saveAndCloseTask_:function(t,n){t.preventDefault();var r,i=this.getDraftTask_(t);if(!n||i.has("editing")){var a=$(t.currentTarget).closest("form").serializeObject().task,o=this.originalModel_(i),s=o.changedAttributes(a);if(a.description&&i.set({description:a.description}),i.unset("editing"),!_.chain(s).omit("story_cid").isEmpty().value()){if(r=o.validate(_.defaults(a,o.attributes)))return e.alert(r),void 0;o[this.model.isNew()?"set":"save"](s)}}},ignoreFocusOut_:function(){this.ignoreFocus_=!0},focusOut_:function(e){this.ignoreFocus_||this.draftModel_.get("prevent_save")||this.saveAndCloseTask_(e,!0),this.ignoreFocus_=!1},submitForm_:function(e){return this.saveAndCloseTask_(e,!1),!1},keydownEnter_:function(e){return 13===e.which&&t.Person.current().appSettings().get("save_on_enter")?(this.submitForm_(e),!1):($(e.currentTarget).autosize({append:""}).trigger("autosize.resize"),void 0)},updateDraftTask_:function(e){var t=this.getDraftTask_(e);e.which===$.ui.keyCode.ESCAPE?(e.stopPropagation(),$(e.currentTarget).closest("form")[0].reset(),t.unset("editing").set(_.omit(this.originalModel_(t).attributes,"cid","editing"))):t.set({description:$(e.target).val()},{silent:!0})},integrateChanges_:function(e){var t=this.draftTasks_.find(function(t){return t.get("original_cid")===e.cid});e.hasChanged()&&t&&!t.has("editing")&&t.set(e.changedAttributes())},reorderTasks_:function(e){var t=this.draftTasks_.find(function(t){return t.get("original_cid")===e.cid});this.draftTasks_.move(t,e.index());var n=this.$(".editing.task_"+t.cid+" form.editing").serializeObject().task;t.set(n,{silent:!0})},createTasksNewView_:function(){return this.tasksNewView_=new t.views.tasks.New({collection:this.collection,selector:".new form.task_new",newCollection:this.model.isNew()?this.collection:void 0,draftModel:this.draftModel_,el:this.$(".tasks_new")[0]}),this.tasksNewView_},taskCreated_:function(){this.draftModel_.task().clear(),this.$trigger("prerender"),this.views().pick(".tasks_new").render(),this.views().pick(".tasks_count").render(),this.$trigger("postrender"),this.$(".new .editor").focus()},loomTasks_:function(){var e=new t.PanelItems(this.draftTasks_.models);return this.listenTo(this.draftTasks_,"all",function(){e.refresh(this.draftTasks_.models)}),e},removeView_:function(){this.remove()}});_.namespace(t,"views.tasks").Edit=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers,r=t.View.extend({__name__:"StoriesEdit",events:{"click .state.button":"clickStateButton","click .deadline_clear":"clearDeadline","click .other_integration a.external_url":"updateIntegrationURL",dirty:"renderCalendar"},initialize:function(e){this.story=e.model,this.project=this.story.project(),this.draftModel=e.draftModel,this.calendarView=new t.views.Calendar({el:this.el,calendars:[{selector:".accepted_on",maxDate:(new t.DateTime.now).toDate()},{selector:".deadline_date"}]}),this.integrationsEditView=new t.views.details.integrations.Edit({el:this.el,draftModel:this.draftModel,type:"story"});var n=new t.views.details.owners.Edit({el:this.el,draftModel:this.draftModel});if(this.project.get("enable_tasks")){var r=this.story.tasks();this.views().addView("section.tasks",new t.views.tasks.Edit({collection:r,model:this.story,maximized:e.maximized,draftModel:this.draftModel}).render())}this.views().addView(this.calendarView).addView(this.integrationsEditView).addView(n),this.listenTo(this.draftModel,"change",this.renderCalendar)},render:function(){this.views().pick("section.tasks").attach(),this.calendarView.render(),this.integrationsEditView.render()},clickStateButton:function(e){if(e.preventDefault(),!this.draftModel.isEstimatable()||-1!==this.draftModel.get("estimate")){var n=$(e.currentTarget),r={current_state:n.data("to")},i=t.Person.current().id;if("started"===r.current_state&&!_.contains(r.owner_ids||[],i)&&this.draftModel.canAddOwner()){var a=r.owner_ids||this.draftModel.get("owner_ids");r.owner_ids=_.unique(a.concat([i]))}this.draftModel.set(r)}},clearDeadline:function(e){var n=this;e.preventDefault(),t.helpers.access.requireWriteAccess(this.project,t.Person.current()).done(function(){n.draftModel.set({deadline_date:""})})},updateIntegrationURL:function(e){var t=$(e.currentTarget),r=t.next(":input").serializeObject().story,i=this.project.integrations().unlinkedOther();r&&r.external_id?t.attr("href",n.integration.externalUrl(i,r.external_id)):e.preventDefault()},renderCalendar:function(){this.calendarView.render()}});_.namespace(t,"views.stories").Edit=r}.call(this),function(e,t){var n=t.View.extend({__name__:"EpicEdit",events:{"click .view_stories":"openEpicStoriesPanel"},initialize:function(e){this.epic=e.model},openEpicStoriesPanel:function(e){e.preventDefault(),mixpanel.track("/panels/show",{panel_type:"epic_stories",source:"details"}),this.$trigger("openEpicStoriesPanel",this.epic)}});_(t).namespace("views.epics").Edit=n}(window,window.tracker),function(){this.JST||(this.JST={}),this.JST["templates/stories/info"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/info"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+='\n  <div class="released_at row">\n    <em>Release Date</em>\n    <label class="value deadline_display">\n      ',r=e.deadline,r=n["if"].call(e,r,{hash:{},inverse:T.program(4,s,t),fn:T.program(2,o,t)}),(r||0===r)&&(i+=r),i+='\n    </label>\n    <a class="calendar_icon">icon</a>\n    <a class="autosaves deadline_clear">clear</a>\n    <input class="deadline_date" type="date" name="story[deadline_date]" value="',r=e.deadline,r=n["if"].call(e,r,{hash:{},inverse:T.noop,fn:T.program(6,l,t)}),(r||0===r)&&(i+=r),i+='">\n  </div>\n'}function o(e){var t,r,i,a,o="";return o+="\n        ",t=e.deadline,r={},r.format="%d %b %Y",i=e.user_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):S.call(e,"dateTime",t,{hash:r}),o+=w(t)+"\n      "}function s(){return"\n        None\n      "}function l(e){var t,r,i,a;return t=e.deadline,r={},r.format="%Y-%m-%d",i=e.user_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):S.call(e,"dateTime",t,{hash:r}),w(t)}function c(e,t){var r,i="";return i+="\n    ",r=e.is_accepted,r=n["if"].call(e,r,{hash:{},inverse:T.noop,fn:T.program(9,u,t)}),(r||0===r)&&(i+=r),i+="\n  "}function u(e){var t,r,i,a,o="";return o+='\n      <label class="accepted_at_label">Accepted on ',t=e.accepted_at,r={},r.format="%d %b %Y",i=e.user_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):S.call(e,"dateTime",t,{hash:r}),o+=w(t)+"</label>\n    "}function d(e){var t,r,i,a,o="";return o+='\n    <a class="calendar_icon">icon</a>\n    <input class="accepted_on" type="date" name="story[accepted_on]" value="',t=e.accepted_at,r={},r.format="%Y-%m-%d",i=e.user_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):S.call(e,"dateTime",t,{hash:r}),o+=w(t)+'">\n  '}function p(e){var t,r,i="";return i+='\n    <input type="hidden" id="story_state_unscheduled_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===A?t():t),i+=w(t)+'" name="story[current_state]" value="',r=n.current_state,r?t=r.call(e,{hash:{}}):(t=e.current_state,t=typeof t===A?t():t),i+=w(t)+'"/>\n  '}function h(e,t,r){var i,a,o="";return o+="\n    ",i=e.actions,a=n.reverse,i=a?a.call(e,i,{hash:{},inverse:T.noop,fn:T.programWithDepth(g,t,r)}):S.call(e,"reverse",i,{hash:{},inverse:T.noop,fn:T.programWithDepth(g,t,r)}),(i||0===i)&&(o+=i),o+="\n  "}function g(e,t,r){var i,a,o="";return o+='\n      <label class="autosaves state button',i=r.disable_state_button,i=n["if"].call(e,i,{hash:{},inverse:T.noop,fn:T.program(17,f,t)}),(i||0===i)&&(o+=i),o+=" ",a=n.action,a?i=a.call(e,{hash:{}}):(i=e.action,i=typeof i===A?i():i),o+=w(i)+'" id="story_state_button_',i=r.cid,i=typeof i===A?i():i,o+=w(i)+"_",a=n.to,a?i=a.call(e,{hash:{}}):(i=e.to,i=typeof i===A?i():i),o+=w(i)+'" data-to="',a=n.to,a?i=a.call(e,{hash:{}}):(i=e.to,i=typeof i===A?i():i),o+=w(i)+'" tabindex="-1">',a=n.button,a?i=a.call(e,{hash:{}}):(i=e.button,i=typeof i===A?i():i),o+=w(i)+"</label>\n    "}function f(){return" disabled"}function m(e,t){var r,i,a="";return a+='\n    <div class="name">',r=e.requested_by,r=null==r||r===!1?r:r.name,r=typeof r===A?r():r,a+=w(r),r=e.requested_by,r=null==r||r===!1?r:r.inactive,r=n["if"].call(e,r,{hash:{},inverse:T.noop,fn:T.program(20,_,t)}),(r||0===r)&&(a+=r),a+='</div>\n    <div class="initials">',r=e.requested_by,r=null==r||r===!1?r:r.initials,i=n.truncateInitials,r=i?i.call(e,r,{hash:{}}):S.call(e,"truncateInitials",r,{hash:{}}),a+=w(r)+"</div>\n  "}function _(){return" &lt;inactive&gt;"}n=n||e.helpers,r=r||e.partials;var v,y,b,E="",S=n.helperMissing,w=this.escapeExpression,T=this,A="function",x=n.blockHelperMissing;return E+='<div class="type row">\n  <em>Story Type</em>\n  ',v={},v.name="story[story_type]",v["id-prefix"]="story_type",y=t.cid,v.cid=y,v["class"]="story_type",y=t.story_type,v.selected=y,y=t.story_type_options,v.options=y,v.search="true",v.privileged=!0,b=n.dropdown,v=b?b.call(t,{hash:v}):S.call(t,"dropdown",{hash:v}),E+=w(v)+"\n</div>\n\n",v=t.is_release,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(1,a,i)}),(v||0===v)&&(E+=v),E+='\n\n<div class="estimate row">\n  <em>Points</em>\n  ',v={},v.name="story[estimate]",v["id-prefix"]="story_estimate",y=t.cid,v.cid=y,v["class"]="story_estimate",v["data-type"]="number",y=t.estimate,v.selected=y,y=t.point_scale_options,v.options=y,v.text="name",v.value="value",y=t.is_not_estimatable,v.disabled=y,v.search=!0,v.privileged=!0,b=n.dropdown,v=b?b.call(t,{hash:v}):S.call(t,"dropdown",{hash:v}),E+=w(v)+'\n</div>\n\n<div class="state row">\n  <em>State</em>\n\n  ',v={},v.name="story[current_state]",v["id-prefix"]="story_current_state",y=t.cid,v.cid=y,v["class"]="story_current_state",v.text="label",v.value="value",y=t.current_state,v.selected=y,y=t.all_states,v.options=y,y=t.is_unscheduled,v.disabled=y,v["disabled-text"]="Unscheduled",v.search="true",v.privileged=!0,b=n.dropdown,v=b?b.call(t,{hash:v,inverse:T.noop,fn:T.program(8,c,i)}):S.call(t,"dropdown",{hash:v,inverse:T.noop,fn:T.program(8,c,i)}),(v||0===v)&&(E+=v),E+="\n\n  ",v=t.is_accepted,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(11,d,i)}),(v||0===v)&&(E+=v),E+="\n\n  ",v=t.is_unscheduled,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(13,p,i)}),(v||0===v)&&(E+=v),E+="\n\n  ",b=n.state,b?v=b.call(t,{hash:{},inverse:T.noop,fn:T.programWithDepth(h,i,t)}):(v=t.state,v=typeof v===A?v():v),n.state||(v=x.call(t,v,{hash:{},inverse:T.noop,fn:T.programWithDepth(h,i,t)})),(v||0===v)&&(E+=v),E+='\n</div>\n\n<div class="requester row">\n  <em>Requester</em>\n  ',v={},v.name="story[requested_by_id]",v["id-prefix"]="story_requested_by_id",y=t.cid,v.cid=y,v["class"]="story_requested_by_id",y=t.requested_by_id,v.selected=y,y=t.members,v.options=y,v.text="label",v.value="value",v.search="true",v["data-type"]="number",v.privileged=!0,b=n.dropdown,v=b?b.call(t,{hash:v,inverse:T.noop,fn:T.program(19,m,i)}):S.call(t,"dropdown",{hash:v,inverse:T.noop,fn:T.program(19,m,i)}),(v||0===v)&&(E+=v),E+='\n</div>\n\n<div class="owner row">\n  <em>Owners</em>\n  ',v=t,v=T.invokePartial(r._stories_details_owners_edit,"_stories_details_owners_edit",v,n,r),(v||0===v)&&(E+=v),E+="\n</div>\n"}),this.HandlebarsTemplates["stories/info"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories/details/owners/_edit"]=function(){Handlebars.registerPartial("_stories_details_owners_edit",Handlebars.template(function(e,t,n,r,i){function a(){return"-1"}function o(){return"0"}function s(){return" selected"}function l(){return" has_owners"}function c(){return' disabled" title="Limit 3 owners'}function u(){return'\n      <span class="none">&lt;none&gt;</span>\n    '}function d(e,t,r){var i,a,o="";return o+='\n    <a id="story_owner_ids_',i=r.cid,i=typeof i===v?i():i,o+=y(i)+"_",a=n.id,a?i=a.call(e,{hash:{}}):(i=e.id,i=typeof i===v?i():i),o+=y(i)+'" class="owner_link',i=e.is_selected,i=n["if"].call(e,i,{hash:{},inverse:b.noop,fn:b.program(14,p,t)}),(i||0===i)&&(o+=i),o+='" title="',a=n.name,a?i=a.call(e,{hash:{}}):(i=e.name,i=typeof i===v?i():i),o+=y(i)+'" tabindex="-1" data-person-id="',a=n.id,a?i=a.call(e,{hash:{}}):(i=e.id,i=typeof i===v?i():i),o+=y(i)+'">\n      ',i=r.one_owner,i=n["if"].call(e,i,{hash:{},inverse:b.noop,fn:b.program(16,h,t)}),(i||0===i)&&(o+=i),o+='\n      <span class="initials">',i=e.initials,a=n.truncateInitials,i=a?a.call(e,i,{hash:{}}):E.call(e,"truncateInitials",i,{hash:{}}),o+=y(i)+"</span>\n    </a>\n  "
}function p(){return" selected"}function h(e,t){var r,i,a="";return a+='\n        <span class="wrapper"><span class="name">',i=n.name,i?r=i.call(e,{hash:{}}):(r=e.name,r=typeof r===v?r():r),a+=y(r),r=e.inactive,r=n["if"].call(e,r,{hash:{},inverse:b.noop,fn:b.program(17,g,t)}),(r||0===r)&&(a+=r),a+="</span></span>\n      "}function g(){return" &lt;inactive&gt;"}n=n||e.helpers;var f,m,_="",v="function",y=this.escapeExpression,b=this,E=n.helperMissing;return _+='<div class="story_owners">\n  <input type="text" id="story_owner_ids_',m=n.cid,m?f=m.call(t,{hash:{}}):(f=t.cid,f=typeof f===v?f():f),_+=y(f)+'_honeypot" tabindex="',f=t.is_read_only,f=n["if"].call(t,f,{hash:{},inverse:b.program(3,o,i),fn:b.program(1,a,i)}),(f||0===f)&&(_+=f),_+='" class="honeypot">\n  <a id="add_owner_',m=n.cid,m?f=m.call(t,{hash:{}}):(f=t.cid,f=typeof f===v?f():f),_+=y(f)+'" class="add_owner',f=t.selected_owner,f=n.unless.call(t,f,{hash:{},inverse:b.noop,fn:b.program(5,s,i)}),(f||0===f)&&(_+=f),f=t.owners,f=n["if"].call(t,f,{hash:{},inverse:b.noop,fn:b.program(7,l,i)}),(f||0===f)&&(_+=f),f=t.max_owners,f=n["if"].call(t,f,{hash:{},inverse:b.noop,fn:b.program(9,c,i)}),(f||0===f)&&(_+=f),_+='" tabindex="-1">\n    ',f=t.owners,f=n.unless.call(t,f,{hash:{},inverse:b.noop,fn:b.program(11,u,i)}),(f||0===f)&&(_+=f),_+="\n  </a>\n  ",f=t.owners,m=n.reverse,f=m?m.call(t,f,{hash:{},inverse:b.noop,fn:b.programWithDepth(d,i,t)}):E.call(t,"reverse",f,{hash:{},inverse:b.noop,fn:b.programWithDepth(d,i,t)}),(f||0===f)&&(_+=f),_+="\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/info"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/info"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n  <div class="stories row">\n    <a id="add_view_stories_',i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===c?r():r),a+=u(r)+'" class="autosaves view_stories" ',r=e.label,r=null==r||r===!1?r:r.has_epic,r=n["if"].call(e,r,{hash:{},inverse:d.noop,fn:d.program(2,o,t)}),(r||0===r)&&(a+=r),a+=' tabindex="-1">add/view stories</a>\n    <div class="value">',r=e.stories_count,i=n.pluralize,r=i?i.call(e,"story",r,{hash:{}}):p.call(e,"pluralize","story",r,{hash:{}}),a+=u(r)+"</div>\n  </div>\n"}function o(e){var t,n="";return n+='data-cid="',t=e.label,t=null==t||t===!1?t:t.cid,t=typeof t===c?t():t,n+=u(t)+'"'}n=n||e.helpers;var s,l="",c="function",u=this.escapeExpression,d=this,p=n.helperMissing;return s=t.is_new,s=n.unless.call(t,s,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}),(s||0===s)&&(l+=s),l+="\n"}),this.HandlebarsTemplates["epics/info"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"DetailsInfo",events:{dirty:"withDirtyModelChanges_"},initialize:function(e){if(t.View.prototype.initialize.apply(this,arguments),this.type=e.type,this.draftModel=e.draftModel,this.templateName=["templates",_.pluralize(this.type),"info"].join("/"),this.maximized=e.maximized,this.listenTo(this.draftModel,"change",this.dirtyRenderIfChanges_),"epic"===this.type){var n=new t.EventProxy;n.listen(this.draftModel.labels(),"add remove",function(e){this.listen(e.stories(),"add remove reset")}),this.listenTo(n,"all",this.dirtyRender_)}},withDirtyModelChanges_:function(e,t){return[t.remote].length?this.dirtyRender_():void 0},dirtyRenderIfChanges_:function(){var e=["story_type","accepted_at","current_state","estimate","deadline","owner_ids","requested_by_id","label_id"],t=this.draftModel.changedAttributes(),n=_.intersection(_.keys(t||{}),e);n.length&&this.dirtyRender_()},render:function(){var e=this;return t.helpers.focus.maintain(e.$el,function(){var n=new t.DraftModelDecorator(e.draftModel).toJSON({include:{type:e.type,view:e,maximized:e.maximized}});_.each(n.members,function(e){e.description=e.description.substring(0,3)});var r=JST[e.templateName](n);e.$("form.model .info").html(r)}),e},dirtyRender_:function(){return this.wrapRender(this.render).call(this)}});_.namespace(t,"views.details").Info=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"DirtyStateTracking",events:{"change :checkbox":"updateDirtyState_","change .dropdown input[type=hidden]":"updateDirtyState_","keyup input[type=text],input[type=date],textarea":"updateDirtyState_","onHide input[type=text],input[type=date],textarea":"updateDirtyState_",paste:"deferUpdateDirtyState_","submit form":"updateDirtyState_","compositionstart input[type=text],input[type=date],textarea":"compositionStart_","compositionend input[type=text],input[type=date],textarea":"compositionEnd_"},initialize:function(e){this.options=e,this.local={},this.remote={},this.isRemoved=!1,this.isComposing=!1,this.listenTo(this.model,"change",this.integrateChanges_),this.listenTo(this.model,"change",this.render),this.listenTo(this.model.followers(),"add remove",this.render)},render:function(){return this.$el.trigger("prerender").trigger("prerender:dirty").trigger("dirty",{local:this.local,remote:this.remote}).trigger("postrender:dirty").trigger("postrender"),this.local={},this.remote={},this},remove:function(){return this.integrateChanges_(),clearTimeout(this.deferUpdateDirtyStateTimeout_),this.isRemoved=!0,t.View.prototype.remove.call(this)},hasChanged:function(){return!_.isEmpty(this.changes())},changes:function(){var e=_.chain(this.model.attributes).clone().omit("label_ids","label_id","follower_ids","followers").value();if(this.model instanceof t.Story)e.labels=this.model.labels().cids();else if(this.model instanceof t.Epic){var n=this.model.labels().first();e.label=n&&n.cid}this.options.draftModel.get("followers")&&(e.followers=this.model.followers().pluck("id"));var r=_.keys(e),i=this.hashDiff_(e,_.pick(this.options.draftModel.attributes,r))||{};return i},deferUpdateDirtyState_:function(e){var t=this;this.deferUpdateDirtyStateTimeout_=_.defer(function(){t.updateDirtyState_(e)})},updateDirtyState_:function(e){var t=$(e.target).closest("form");this.isRemoved||this.isComposing||t.length&&!t.is(this.options.selector)||this.options.draftModel.set(this.serializeObject_(this.$(this.options.selector),this.options.type))},integrateChanges_:function(e,t){var n=this.filterObject_(this.model.changed,function(e){return!_.isUndefined(e)});if(t&&!_.isEmpty(t)||!_.isEmpty(n)){var r=this.filterObject_(this.options.draftModel.attributes,function(e,t){return!_.isEqual(this.model.previousAttributes()[t],e)&&!_.isEqual(this.model.attributes[t],e)},this);this.local=r||{},this.remote=n||{},this.options.draftModel.set(_.extend({},this.model.attributes,r)),this.options.draftModel.followers().reset(_.map(this.options.draftModel.get("followers"),function(e){return{id:e}}))}},compositionStart_:function(){this.isComposing=!0},compositionEnd_:function(){this.isComposing=!1},serializeObject_:function(e,t){return _.tap(e.serializeObject()[t]||{},function(e){e.labels&&(e.labels=_.compact(e.labels)),delete e.following})},hashDiff_:function(e,t){var n,r=!1;for(var i in t)_.isEqual(e[i],n=t[i])||((r||(r={}))[i]=n);return r},filterObject_:function(e,t,n){return _.reduce(e,function(e,r,i){return t.call(n,r,i)&&(e[i]=r),e},{})}});_.namespace(t,"views").DirtyStateTracking=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.Epic,progress:function(){var e=this.pseudopoints(),t={};if(!this.labels().length)return t;var n,r,i,a=this.stories();return this.project().isShowingPastDone()?(n=a.acceptedPseudopoints(),r=a.acceptedCount(),i=a.acceptedPoints()):(n=this.pastDonePseudopoints()+a.acceptedNotPastDonePseudopoints(),r=this.get("past_done_stories_count")+a.acceptedNotPastDoneCount(),i=this.get("past_done_story_estimates")+a.acceptedNotPastDonePoints()),t.accepted={percentage:100*n/e||0,stories:r,points:i},_.reduce(["active","unstarted","unscheduled"],function(t,n){return t[n]={percentage:100*a[n+"Pseudopoints"]()/e||0,stories:a[n+"Count"](),points:a[n+"Points"]()},t},t,this)},toJSON:function(){var e,n=this.toJSON(),i=this.isNew(),a=this.isDone(),o=this.isAccepted(),s=!i&&!a&&!o;return t.Project.current()?e=this.project()===t.Project.current():t.Workspace.current()&&(e=t.Workspace.current().projects().contains(this.project())),_.extend(n,{project_id:this.project().id,cid:this.cid,label:this.label()?this.label().decorator().toJSON({fast:!0}):void 0,progress:r.fn.progress.call(this),completion_date:this.completionDate(),is_completion_date_known:e&&this.isCompletionDateKnown(),is_new:i,stories_count:this.storiesCount(),is_done:a,is_accepted:o,is_done_or_accepted:a||o,is_draggable:s,read_only:t.Person.current().isReadOnly(this.project())}),this.collection&&this.collection.maxPseudopoints&&(n.percentage_of_largest_epic=100*this.pseudopoints()/this.collection.maxPseudopoints()),n}},n.toItemJSON("epic")));r.include(t.mixins.path("epic")).include(t.mixins.withFollowers()).include(t.mixins.withComments()),t.EpicDecorator=r}.call(this),function(){"use strict";function e(e,t){return e?"active"!==t.status()?"Project is read only because of account status.":"Project is read only because you are a viewer in this project.":void 0}var t=this,n=_.namespace(t,"tracker"),r=[{type:"icebox"},{type:"epics"}],i=n.Decorator.extend({model:n.Project,collection:n.Projects,toJSON:function(){var t,i=this,a=n.Person.current(),o=a.isReadOnly(i),s=a.panels(),l=!!s.find(function(e){return e.get("split")&&e.project()===i});t=(l?[{type:"current"},{type:"backlog"}]:[{type:"backlog",name:"current/backlog"}]).concat(r);var c=i.integrations().chain().filter(function(e){return e.get("can_import")}).map(function(e){return{integration_id:e.id,id:[e.get("type"),e.id,i.id].join("_"),type:"integration",name:e.get("name")}}).value(),u=[{type:"done"},{type:n.Person.current().appSettings().chartsType(),name:"Charts"},{type:"labels"},{type:"project_history"}].concat(c).map(function(e){var t=e.id||e.type+"_"+i.id,n=s.get(t);return _.extend(e,{type:e.type,id:t,visible:n&&n.get("visible")||!1,name:e.name||e.type})});return _.extend(this.toJSON(),{cid:this.cid,id:this.id,url:"/projects/"+this.id,velocity:this.velocity().decorator().toJSON(),active_memberships:_.select(this.get("memberships"),function(e){return"inactive"!==e.role}),is_guest:a.isGuest(),panels:t.map(function(e){var t=e.type+"_"+i.id,n=s.get(t);return{type:e.type,id:t,visible:n&&n.get("visible")||!1,name:e.name||e.type}}),other_panels:u,has_integrations:!!i.integrations().length,has_workspace:!!this.workspace(),is_split:l,project_color:a.projectColor(i),is_read_only:!!o,read_only_title:e(o,i),is_current_project:this===n.Project.current()})}});n.ProjectDecorator=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"Flyover",events:{mouseenter:"haltHidingFlyover_",mouseleave:"deferHidingFlyover_",hideFlyover:"hideFlyover_"},initialize:function(e){_.bindAll(this,"deferShowingFlyover_","deferHidingFlyover_","hideFlyover_"),this.options=e,this.showDeferred=$.Deferred(),this.fetchDeferred=$.Deferred(),this.$container=e.$container,this.showTimeout=null,this.hideTimeout=null,this.event=null,this.showDelay=e.showDelay||500,this.hideDelay=e.hideDelay||900,this.errorTemplateName=e.errorTemplateName,this.loadingTemplateName=e.loadingTemplateName,this.templateName=e.templateName,this.positionOptions=e.positionOptions||{},this.$container=e.$container,this.$delegate=e.$delegate,this.$delegate.append(this.$el.toggleClass("visible",!1)),this.collection=e.collection,e.fetch&&(this.fetch_=_.bind(e.fetch,this)),this.$container.on("mouseenter",e.targetSelector,this.deferShowingFlyover_),this.$container.on("mouseleave",e.targetSelector,this.deferHidingFlyover_),this.$delegate.on("expand resizeToPercent",this.hideFlyover_),this.$el.addClass("flyover")},render:function(){this.$trigger("prerender");var e=this.$container.find(this.event.currentTarget);return 0===e.length&&(e=this.event),"pending"===this.fetchDeferred.state()?this.loadingTemplateName&&this.$el.html(JST[this.loadingTemplateName]({id:this.model.id})):"rejected"===this.fetchDeferred.state()?this.errorTemplateName&&this.$el.html(JST[this.errorTemplateName]({id:this.model.id})):this.model&&this.$el.html(JST[this.templateName]({project:this.model.project().decorator().toJSON(),model:this.model.decorator().toJSON()})),this.resizeToFit_(e),this.$el.toggleClass("visible",!0),this.$el.data("panel",this.panel),this.$trigger("postrender"),this},remove:function(){return this.hideFlyover_(),clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout),this.$container.off("mouseenter",this.options.targetSelector,this.deferShowingFlyover_),this.$container.off("mouseleave",this.options.targetSelector,this.deferHidingFlyover_),this.$delegate.off("expand resizeToPercent",this.hideFlyover_),t.View.prototype.remove.call(this)},bindModelEvents_:function(){this.model&&(this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"destroy",this.hideFlyover_))},unbindModelEvents_:function(){this.model&&this.stopListening(this.model)},haltHidingFlyover_:function(){clearTimeout(this.hideTimeout)},deferShowingFlyover_:function(e){this.haltHidingFlyover_(),this.unbindModelEvents_();var t=$(e.currentTarget),n=t.closest("[data-cid],[data-id]"),r=n.data("id")||n.data("cid");this.event=e;var i=this.fetch_(r);this.model=i.model,this.fetchDeferred=i.deferred,this.panel=t.closest(".panel").attr("id"),this.showDeferred.reject();var a=this;this.showDeferred=$.Deferred().done(function(){a.render(),a.fetchDeferred.done(function(e){a.model=e,a.bindModelEvents_()}).always(_.bind(a.render,a))}),this.showTimeout=setTimeout(function(e){return function(){e.resolve()}}(this.showDeferred),this.showDelay)},deferHidingFlyover_:function(){clearTimeout(this.showTimeout),this.hideTimeout=setTimeout(_.bind(this.hideFlyover_,this),this.hideDelay)},hideFlyover_:function(){this.$el.toggleClass("visible",!1),this.showDeferred.reject(),this.unbindModelEvents_(),this.model=null},fetch_:function(e){var t,n=this.collection.get(e);return t=n&&(n.comments?n.comments():!0)&&(n.tasks?n.tasks():!0)?$.Deferred().resolve(n):$.Deferred().reject(),{model:n,deferred:t}},resizeToFit_:function(e){this.$el.toggleClass("fits",!0);var t=$(window).height();if(this.$el.height()>t){var n=this.$(".window"),r=this.$("header").height(),i=this.$("footer").height(),a=n.height();a+r+i>.8*t&&n.height(.8*t-(r+i))}this.position_(e),this.$el.toggleClass("fits",!1)},position_:function(e){this.$el.position(_({of:e}).defaults(this.positionOptions,{my:"left top",at:"right top",collision:"flip fit"}))}});_.namespace(t,"views").Flyover=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/flyovers/followers"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["flyovers/followers"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n<div class="followers">\n  <article>\n    <header>\n      <hgroup class="title">\n        ',r=e.story_type,r=n["if"].call(e,r,{hash:{},inverse:d.program(4,s,t),fn:d.program(2,o,t)}),(r||0===r)&&(a+=r),a+='\n      </hgroup>\n    </header>\n\n    <div class="window">\n      <section class="followers">\n        <div class="tracker_markup">',r=e.follower_names,i=n.sentencize,r=i?i.call(e,r,{hash:{}}):p.call(e,"sentencize",r,{hash:{}}),a+=h(r)+"</div>\n      </section>\n    </div>\n  </article>\n</div>\n"}function o(){return'\n          <h3 class="tracker_markup">People following this story</h3>\n        '}function s(){return'\n          <h3 class="tracker_markup">People following this epic</h3>\n        '}n=n||e.helpers;var l,c,u="",d=this,p=n.helperMissing,h=this.escapeExpression,g="function",f=n.blockHelperMissing;return c=n.model,c?l=c.call(t,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}):(l=t.model,l=typeof l===g?l():l),n.model||(l=f.call(t,l,{hash:{},inverse:d.noop,fn:d.program(1,a,i)})),(l||0===l)&&(u+=l),u+="\n"}),this.HandlebarsTemplates["flyovers/followers"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"FlyoversFollowersShow",initialize:function(e){this.draftModel=e.draftModel,this.flyover=new t.views.Flyover({className:"followers_flyover",templateName:"templates/flyovers/followers",positionOptions:{my:"right top",at:"right bottom",offset:"-8 0",collision:"fit fit"},collection:new t.Stories([this.draftModel]),$delegate:$(document.body),$container:this.$el,targetSelector:".count"}),this.views().addView(this.flyover),this.listenTo(this.draftModel.followers(),"add remove change",this.renderIfVisible_)},renderIfVisible_:function(){this.flyover.model&&this.flyover.render()}});_.namespace(t,"views.flyovers.followers").Show=n}.call(this),function(e,t){var n={saveFocus:function(e,t){if(1===++t.renderNestingLevel){var n=e.find(document.activeElement);(t.previousFocus=n.attr("id"))&&(_.has(t,"previousScrollTop")&&(t.previousScrollTop=e.scrollTop()),t.previousCaret=n.carrot())}},restoreFocus:function(e,t){if(--t.renderNestingLevel<0&&(t.renderNestingLevel=0),0===t.renderNestingLevel&&t.previousFocus){var n=_.clone(t);e.find("#"+n.previousFocus).focus().carrot(n.previousCaret),_.has(n,"previousScrollTop")&&e.scrollTop(n.previousScrollTop),t.previousFocus=null}},maintain:function(e,n){if(e.find(document.activeElement).length){var r={previousFocus:null,previousCaret:null,renderNestingLevel:0};t.helpers.focus.saveFocus(e,r),n.call(this),t.helpers.focus.restoreFocus(e,r)}else n.call(this)}};_.namespace(t,"helpers").focus=n}(window,tracker),function(){this.JST||(this.JST={}),this.JST["templates/stories/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/edit"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+='\n      <fieldset class="story name"></fieldset>\n      <aside>\n        <div class="wrapper">\n          <nav class="edit"></nav>\n          <div class="story info_box">\n            <div class="info"></div>\n            <div class="integration_wrapper"></div>\n            <div class="followers_wrapper"></div>\n            ',r=e.is_new,r=n.unless.call(e,r,{hash:{},inverse:u.noop,fn:u.program(2,o,t)}),(r||0===r)&&(i+=r),i+='\n          </div>\n          <div class="mini attachments"></div>\n        </div>\n      </aside>\n    '}function o(){return'\n              <div class="row timestamp_wrapper">\n                <div class="timestamp"></div>\n              </div>\n            '}n=n||e.helpers;var s,l,c="",u=this,d=n.helperMissing,p=this.escapeExpression,h="function";return c+='<section class="edit" tabindex="-1">\n  <section class="model_details">\n    ',s={},s["class"]="story model",l=n.formTag,s=l?l.call(t,{hash:s,inverse:u.noop,fn:u.program(1,a,i)}):d.call(t,"formTag",{hash:s,inverse:u.noop,fn:u.program(1,a,i)}),(s||0===s)&&(c+=s),c+='\n  </section>\n  <section class="description full">\n    ',s={},s["class"]="description",l=n.formTag,s=l?l.call(t,{hash:s}):d.call(t,"formTag",{hash:s}),c+=p(s)+'\n  </section>\n  <section class="labels_container full">\n    <h4>Labels</h4>\n    <div id="story_labels_',l=n.cid,l?s=l.call(t,{hash:{}}):(s=t.cid,s=typeof s===h?s():s),c+=p(s)+'" class="labels"></div>\n  </section>\n  <section class="tasks full"></section>\n  <section class="activity full"></section>\n</section>\n'}),this.HandlebarsTemplates["stories/edit"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/edit"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n      <fieldset class="epic name"></fieldset>\n      <aside>\n        <div class="wrapper">\n          <nav class="edit"></nav>\n          <p class="help_text">Stories with this label become part of this epic</p>\n          <div class="epic info_box">\n            <div class="row label_wrapper">\n              <em>Linked Label</em>\n              <div id="epic_labels_',i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===u?r():r),a+=d(r)+'" class="labels">\n              </div>\n            </div>\n            <div class="info"></div>\n            <div class="followers_wrapper"></div>\n            ',r=e.is_new,r=n.unless.call(e,r,{hash:{},inverse:p.noop,fn:p.program(2,o,t)}),(r||0===r)&&(a+=r),a+='\n          </div>\n          <div class="mini attachments"></div>\n        </div>\n      </aside>\n    '}function o(){return'\n              <div class="row timestamp_wrapper">\n                <div class="timestamp"></div>\n              </div>\n            '}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.helperMissing;return c+='<section class="edit" tabindex="-1">\n  <section class="model_details">\n    ',s={},s["class"]="epic model",l=n.formTag,s=l?l.call(t,{hash:s,inverse:p.noop,fn:p.program(1,a,i)}):h.call(t,"formTag",{hash:s,inverse:p.noop,fn:p.program(1,a,i)}),(s||0===s)&&(c+=s),c+='\n  </section>\n  <section class="description full">\n    <form class="description" action="#" onsubmit="tracker.preventDefault.apply(this,arguments)"></form>\n  </section>\n  <section class="activity full"></section>\n</section>\n'}),this.HandlebarsTemplates["epics/edit"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers,r=t.View.extend({__name__:"DetailsEdit",initialize:function(e){if(this.type=e.type,this.pluralizedType=_.pluralize(this.type),this.draftModel=e.draftModel,this.panel=e.panel,this.maximized=e.maximized,this.escPressed=!1,this.project=this.model.project(),this.currentUser=t.Person.current(),this.escPressed=!1,this.dropdownView=new t.views.Dropdown({el:this.el,resetSearchOnClose:!0}),this.maximized){var n=new t.views.details.miniAttachments.Index({el:this.el,draftModel:this.draftModel});this.views().addView(n).addView(new t.views.comments.miniAttachments({el:this.el,model:this.model,draftModel:this.draftModel}))}this.commentsIndexView=new t.views.comments.Index({model:this.draftModel,maximized:this.maximized,$delegate:this.$el}),this.labelsMakerView=new t.views.LabelsMaker({model:this.model,draftModel:this.draftModel,type:this.type,singleLabel:this.model instanceof t.Epic,draftLabels:this.draftModel.labels()}),this.modelDstView=new t.views.DirtyStateTracking({el:this.el,model:this.model,draftModel:this.draftModel,template:"templates/"+this.pluralizedType+"/form",type:this.type,selector:"form.model",renderSelector:"section.model_details",maximized:this.maximized}),this.autoSaveView=new t.views.details.Autosave({el:this.el,draftModel:this.draftModel}),this.descriptionView=new t.views.details.DescriptionEditor({el:this.el,draftModel:this.draftModel,template:"templates/"+this.pluralizedType+"/description",type:this.type,selector:"form.description"}),this.followersFlyoverView=new t.views.flyovers.followers.Show({el:this.el,draftModel:this.draftModel}),this.infoView=new t.views.details.Info({el:this.el,draftModel:this.draftModel,type:this.type,maximized:this.maximized}),this.nameEditView=new t.views.details.name.Edit({el:this.el,draftModel:this.draftModel,type:this.type}),this.controlsShowView=new t.views.details.controls.Show({el:this.el,draftModel:this.draftModel}),this.followersEditView=new t.views.details.followers.Edit({el:this.el,draftModel:this.draftModel,type:this.type}),this.modelSpecificEditView=new t.views[this.pluralizedType].Edit({el:this.el,model:this.model,draftModel:this.draftModel}),this.views().addView("section.activity",this.commentsIndexView.render()).addView(".labels",this.labelsMakerView.render()).addView(this.dropdownView).addView("section.model_details",this.modelDstView).addView("form.description",this.descriptionView).addView(this.modelSpecificEditView).addView(this.followersFlyoverView).addView(this.autoSaveView).addView(this.infoView).addView(this.nameEditView).addView(this.controlsShowView).addView(this.followersEditView),this.draftModel.isNew()||(this.timestampView=new t.views.details.timestamp.Show({el:this.el,draftModel:this.draftModel}),this.views().addView(this.timestampView))},events:{"click .actions .clone_story":"cloneStory","click .actions .delete":"clickDelete","click .collapser, .save, .close":"submitForm","click .history":"openActivityPanel","click .maximize":"clickMaximize","click input.click_to_select":"selectInputText",clipboardCopied:"clipboardCopied","focusin .dropdown, .selected.labels, .info_box input":"focusDropdown","focusout .dropdown, .selected.labels, .info_box input":"focusoutDropdown","keydown section.edit":"keydown","keyup section.edit":"keyup","reset form.model":"cancelAndCollapseModel","submit section.edit form.model":"saveOrCancel"},pendingClassName:function(){return this.model.isNew()?"new":this.model.isPendingCreate()?"pending_create":void 0},className:function(){return _.compact(["edit","details",this.pendingClassName()]).join(" ")},render:function(){this.$trigger("prerender");var e={type:this.type,cid:this.model.cid,is_new:this.model.isNew()};this.$el.html(JST["templates/"+this.pluralizedType+"/edit"](e));var t=[this.modelDstView,this.descriptionView,this.controlsShowView,this.nameEditView,this.infoView,this.modelSpecificEditView,this.timestampView,this.labelsMakerView,this.followersEditView];return _.each(t,function(e){e&&e.render()}),_.debounce(function(){this.$("fieldset.name textarea.editor").autosize({append:""})},0).call(this),this.views().pick("section.activity").attach(),this.views().pick(".labels").attach(),this.$trigger("postrender"),this},isValid:function(t){var n=this.views().isValid(),r=this.draftModel.isValid(t);return r||e.alert(this.draftModel.validationError),n&&r},cloneStory:function(){mixpanel.track("/stories/clone",{story_type:this.model.get("story_type")});var e=t.stories.Service.cloneStory(this.model,t.Person.current());t.panels.Service.revealModel(this.currentUser.panels(),e);var n=this;t.Person.current().layoutScheme().save().always(function(){n.$el.trigger("minimize",{revealModel:e})})},clickDelete:function(){if(e.confirm("Are you sure you want to delete "+this.type+" '"+this.model.get("name")+"'?")){var t=this;_.defer(function(){t.model.destroy()})}},clickMaximize:function(e){e.preventDefault(),this.$trigger("updatePendingDescription").$trigger("maximize",this.draftModel)},clipboardCopied:function(t){var n=this;this.$("section.controls:eq(0)").addClass("copied").addClass($(t.target).is(".id")?"with_id":"with_link"),e.setTimeout(function(){n.$("section.controls:eq(0)").removeClass("copied with_id with_link")},1e3)},submitForm:function(e){e.preventDefault(),this.$("form.model").trigger("submit")},openActivityPanel:function(){var e=this.model instanceof t.Epic?"epic":"story";mixpanel.track("/panels/show",{panel_type:e+"_history"}),this.$el.trigger("openActivityPanel",[this.model])},selectInputText:function(e){$(e.target).carrot({all:!0})},focusDropdown:function(e){$(e.currentTarget).closest(".row").addClass("focused")},focusoutDropdown:function(e){$(e.currentTarget).closest(".row").removeClass("focused")},keydown:function(e){this.escPressed=n.key.isEscape(e),this.escPressed&&(this.draftModel.set({prevent_save:!0}),e.preventDefault());var r=n.key.isMetaSave(e);if(r||n.key.isShiftEnter(e))$(e.target).trigger("dropdownClose"),this.submitForm(e);else if(n.key.isEnter(e)&&!$(e.target).hasClass("no_save_on_enter")&&(e.preventDefault(),e.stopPropagation(),t.Person.current().appSettings().get("save_on_enter"))){var i=this;_.defer(function(){i.submitForm(e)})}},keyup:function(e){this.escPressed&&n.key.isEscape(e)&&this.cancelAndCollapseModel(e),this.escPressed=!1},cancelAndCollapseModel:function(t){return t.preventDefault(),!this.draftModel.isUnsaved()&&this.draftModel.hasPendingAttachments()&&this.draftModel.isValid()?this.submitForm(t):!this.draftModel.isUnsaved()&&!this.draftModel.uploads().length||e.confirm("Do you want to abandon your "+this.type+" changes?")?(this.draftModel.set({prevent_save:!1}),this.collapseModel(),this.$trigger("closing"),void 0):(this.draftModel.set({prevent_save:!1}),void 0)},collapseModel:function(){this.panel&&this.panel.collapseModel(this.model)},save:function(){return this.views().preventsSave()?(e.alert("Please wait for file uploads to complete before saving this "+this.type),$.Deferred().reject()):this.isValid({description:this.draftModel.get("pending_description")})?(this.$trigger("closing"),$.when(this.views().save(),this.draftModel.save({description:this.draftModel.get("pending_description")},{collapseFn:_.bind(this.collapseModel,this)}))):$.Deferred().reject()},saveAndCollapseModel:function(e){e.preventDefault();var t=this.panel,n=this;this.save().progress(_.once(function(){t&&t.collapseModel(n.model)}))},saveOrCancel:function(e){this.currentUser.isReadOnly(this.project)?this.cancelAndCollapseModel(e):this.saveAndCollapseModel(e)},remove:function(){this.$(".editor").trigger("autosize.destroy"),t.View.prototype.remove.call(this)}});_.namespace(t,"views.details").Edit=r}.call(this),function(){"use strict";function e(){return function(e){e.preventDefault()}}var t=this,n=_.namespace(t,"tracker"),r=n.View.extend({__name__:"PanelsLabels",initialize:_.wrap(n.View.prototype.initialize,function(t,r){function i(e,t,r){var i=$(e.target);if(t&&t.hasEpic()){var a=o.findEpicByLabel(t);a&&i.trigger("openEpicStoriesPanel",a)}else{var s=n.helpers.Search.prepare(t&&t.get("name")||r);i.trigger("openSearchPanel","label:"+s)}}function a(e){return function(t,n){var r=$(n||t.currentTarget),i=r.data("cid"),a=o.findLabelByCid(i);e.call(o,t,a,r.text())}}t.call(this,r);var o=this;o.delegateEvents({"click a.label, .model.label, a.show_stories":[e(),a(i)],openLabel:[e(),a(i)]})}),findEpicByLabel:function(e){if(this.model instanceof n.Project)return this.model.epics().find(function(t){return t.label()===e});var t;return this.model.projects().find(function(n){return t=n.epics().find(function(t){return t.label()===e})}),t},findLabelByCid:function(e){if(this.model instanceof n.Project)return this.model.labels().get(e);var t;return this.model.projects().find(function(n){return t=n.labels().get(e)}),t}});_.namespace(n,"views.panels").Labels=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories/flyovers/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/flyovers/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return"this_project"}function o(){return"other_project"}function s(e,t,i){var a,o,s,u,p="";return p+='\n  <article class="point_scale_',u=n.point_scale_type,u?a=u.call(e,{hash:{}}):(a=e.point_scale_type,a=typeof a===T?a():a),p+=w(a)+" ",u=n.storyClasses,u?a=u.call(e,{hash:{}}):(a=e.storyClasses,a=typeof a===T?a():a),p+=w(a)+'">\n    <header>\n      <hgroup class="title maximize" data-cid="',u=n.cid,u?a=u.call(e,{hash:{}}):(a=e.cid,a=typeof a===T?a():a),p+=w(a)+'" title="Switch to a full page view of this story">\n        <a class="maximize_button">maximize</a>\n        <p class="project_name">In <a href="',a=i.project,a=null==a||a===!1?a:a.url,u=n.prependHost,a=u?u.call(e,a,{hash:{}}):S.call(e,"prependHost",a,{hash:{}}),p+=w(a)+'" target="_blank">',a=i.project,a=null==a||a===!1?a:a.name,a=typeof a===T?a():a,p+=w(a)+'</a>:</p>\n        <h3 class="tracker_markup">',a=e.name,o={},o.type="simple",u=n.markup,a=u?u.call(e,a,{hash:o}):S.call(e,"markup",a,{hash:o}),p+=w(a)+'</h3>\n      </hgroup>\n      <hgroup class="details">\n        <span class="meta"><span>',u=n.estimate,u?a=u.call(e,{hash:{}}):(a=e.estimate,a=typeof a===T?a():a),p+=w(a)+'</span></span>\n        <span class="labels">\n          ',a=e,a=A.invokePartial(r._labels_index,"_labels_index",a,n,r),(a||0===a)&&(p+=a),p+='\n        </span>\n        <span class="state">',a=e.display_state,u=n.humanize,a=u?u.call(e,a,{hash:{}}):S.call(e,"humanize",a,{hash:{}}),p+=w(a)+'</span>\n      </hgroup>\n    </header>\n    <div class="window">\n      ',a=e.description,a=n["if"].call(e,a,{hash:{},inverse:A.noop,fn:A.program(6,l,t)}),(a||0===a)&&(p+=a),p+="\n      ",u=n.integration,u?a=u.call(e,{hash:{},inverse:A.noop,fn:A.program(8,c,t)}):(a=e.integration,a=typeof a===T?a():a),n.integration||(a=x.call(e,a,{hash:{},inverse:A.noop,fn:A.program(8,c,t)})),(a||0===a)&&(p+=a),p+="\n      ",a=e.integration,a=n.unless.call(e,a,{hash:{},inverse:A.noop,fn:A.program(11,d,t)}),(a||0===a)&&(p+=a),p+="\n\n      ",a=e.tasks,a=n["if"].call(e,a,{hash:{},inverse:A.noop,fn:A.program(15,g,t)}),(a||0===a)&&(p+=a),p+="\n      ",a=e.comments,a=n["if"].call(e,a,{hash:{},inverse:A.noop,fn:A.program(21,v,t)}),(a||0===a)&&(p+=a),p+='\n    </div>\n\n    <footer>\n      <p class="model_id">Story ID: ',u=n.id,u?a=u.call(e,{hash:{}}):(a=e.id,a=typeof a===T?a():a),p+=w(a)+'</p>\n\n      <p class="requested_by">Requested by ',a=e.requested_by,a=null==a||a===!1?a:a.name,a=typeof a===T?a():a,p+=w(a)+" on ",a=e.created_at,o={},s=e.user_time_zone,o["time-zone"]=s,u=n.dateTime,a=u?u.call(e,a,{hash:o}):S.call(e,"dateTime",a,{hash:o}),p+=w(a)+"</p>\n    </footer>\n  </article>\n  "
}function l(e){var t,r,i,a="";return a+='\n      <section class="description">\n        <h4>Description</h4>\n\n        <div class="tracker_markup">',t=e.description,r={},r["with-emoji"]=!0,r["with-story-epic-links"]=!0,i=n.markup,t=i?i.call(e,t,{hash:r}):S.call(e,"markup",t,{hash:r}),a+=w(t)+"</div>\n      </section>\n      "}function c(e,t){var r,i="";return i+="\n        ",r=e.external_id,r=n["if"].call(e,r,{hash:{},inverse:A.noop,fn:A.program(9,u,t)}),(r||0===r)&&(i+=r),i+="\n      "}function u(e){var t,r,i="";return i+='\n          <section class="integration">\n            <h4>',t=e.display_name,r=n.humanize,t=r?r.call(e,t,{hash:{}}):S.call(e,"humanize",t,{hash:{}}),i+=w(t)+':</h4> <a href="',r=n.external_url,r?t=r.call(e,{hash:{}}):(t=e.external_url,t=typeof t===T?t():t),i+=w(t)+'" title="',r=n.external_id,r?t=r.call(e,{hash:{}}):(t=e.external_id,t=typeof t===T?t():t),i+=w(t)+'" target="_blank">',r=n.link_text,r?t=r.call(e,{hash:{}}):(t=e.link_text,t=typeof t===T?t():t),i+=w(t)+"</a>\n          </section>\n        "}function d(e,t){var r,i,a="";return a+="\n        ",i=n.other_integration,i?r=i.call(e,{hash:{},inverse:A.noop,fn:A.program(12,p,t)}):(r=e.other_integration,r=typeof r===T?r():r),n.other_integration||(r=x.call(e,r,{hash:{},inverse:A.noop,fn:A.program(12,p,t)})),(r||0===r)&&(a+=r),a+="\n      "}function p(e,t){var r,i="";return i+="\n          ",r=e.external_id,r=n["if"].call(e,r,{hash:{},inverse:A.noop,fn:A.program(13,h,t)}),(r||0===r)&&(i+=r),i+="\n        "}function h(e){var t,r,i="";return i+='\n            <section class="integration">\n              <h4>',t=e.display_name,r=n.humanize,t=r?r.call(e,t,{hash:{}}):S.call(e,"humanize",t,{hash:{}}),i+=w(t)+':</h4> <a href="',r=n.external_url,r?t=r.call(e,{hash:{}}):(t=e.external_url,t=typeof t===T?t():t),i+=w(t)+'" title="',r=n.external_id,r?t=r.call(e,{hash:{}}):(t=e.external_id,t=typeof t===T?t():t),i+=w(t)+'" target="_blank">',r=n.link_text,r?t=r.call(e,{hash:{}}):(t=e.link_text,t=typeof t===T?t():t),i+=w(t)+"</a>\n            </section>\n          "}function g(e,t){var r,i,a="";return a+='\n      <section class="tasks">\n        <h4>Tasks',r=e.is_tasks_empty,r=n.unless.call(e,r,{hash:{},inverse:A.noop,fn:A.program(16,f,t)}),(r||0===r)&&(a+=r),a+='</h4>\n        <ol class="tasks">\n          ',i=n.tasks,i?r=i.call(e,{hash:{},inverse:A.noop,fn:A.program(18,m,t)}):(r=e.tasks,r=typeof r===T?r():r),n.tasks||(r=x.call(e,r,{hash:{},inverse:A.noop,fn:A.program(18,m,t)})),(r||0===r)&&(a+=r),a+="\n        </ol>\n      </section>\n      "}function f(e){var t,r,i="";return i+=" (",r=n.completed_task_count,r?t=r.call(e,{hash:{}}):(t=e.completed_task_count,t=typeof t===T?t():t),i+=w(t)+"/",t=e.tasks,r=n._count,t=r?r.call(e,t,{hash:{}}):S.call(e,"_count",t,{hash:{}}),i+=w(t)+")"}function m(e,t){var r,i,a,o="";return o+='\n            <li class="task ',r=e.complete,r=n["if"].call(e,r,{hash:{},inverse:A.noop,fn:A.program(19,_,t)}),(r||0===r)&&(o+=r),o+='" >\n              <div class="tracker_markup">',r=e.description,i={},i.type="task",a=n.markup,r=a?a.call(e,r,{hash:i}):S.call(e,"markup",r,{hash:i}),o+=w(r)+"</div>\n            </li>\n          "}function _(){return"complete"}function v(e){var t,i="";return i+='\n        <section class="activity">\n          ',t=e,t=A.invokePartial(r._comments_index,"_comments_index",t,n,r),(t||0===t)&&(i+=t),i+="\n        </section>\n      "}n=n||e.helpers,r=r||e.partials;var y,b,E="",S=n.helperMissing,w=this.escapeExpression,T="function",A=this,x=n.blockHelperMissing;return E+='<div class="',y=t.project,y=null==y||y===!1?y:y.is_current_project,y=n["if"].call(t,y,{hash:{},inverse:A.program(3,o,i),fn:A.program(1,a,i)}),(y||0===y)&&(E+=y),E+='">\n  ',b=n.model,b?y=b.call(t,{hash:{},inverse:A.noop,fn:A.programWithDepth(s,i,t)}):(y=t.model,y=typeof y===T?y():y),n.model||(y=x.call(t,y,{hash:{},inverse:A.noop,fn:A.programWithDepth(s,i,t)})),(y||0===y)&&(E+=y),E+="\n</div>\n"}),this.HandlebarsTemplates["stories/flyovers/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){c.$trigger("maximize",$(e.currentTarget).data("cid")),l.$el.trigger("hideFlyover")}function i(e){c.$trigger("openLabel",e.target)}function a(e,t,r){var i=n.Project.get(e),a=n.Statuses.get("panels_controller");return _.reduce(r,function(e,n){var r=i[_(t).pluralize()]().get(n);return r?e.push(r):a.add({content:"The "+t+" you were trying to reveal is not currently loaded on the client."},{validate:!0}),e},[])}function o(e){var t=$(e.target),r=a(t.data("projectId"),t.data("type"),(t.data("id")+"").split(",")),i=t.hasClass("expand");_.each(r,function(e){n.panels.Service.revealModel(n.Person.current().panels(),e,{expand:i})})}function s(){l=new n.views.Flyover(_.chain(e).omit("el","$el","model").defaults({className:"story_flyover",templateName:"templates/stories/flyovers/show",collection:u,$delegate:n.$el,$container:c.$el}).value()),c.views().addView(l),c.delegateEvents([l.$el,{click:[r.preventDefault,i]},".label"],[l.$el,{click:[r.preventDefault,o]},"a.reveal"],[l.$el,{click:[r.preventDefault,t]},".maximize"])}var l,c=new(n.View.extend())(e),u=c.model.stories();return s(),c}var t=this,n=_.namespace(t,"tracker"),r=n.helpers.view;_.namespace(n,"views.flyovers.stories").Show=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories/flyovers/loading"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/flyovers/loading"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="loading">\n  <article>\n    <header>\n      <hgroup class="title">\n        <h3>Loading...</h3>\n      </hgroup>\n    </header>\n\n    <footer>\n      <p class="model_id">Story ID: ',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+"</p>\n    </footer>\n  </article>\n</div>\n"}),this.HandlebarsTemplates["stories/flyovers/loading"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stories/flyovers/error"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stories/flyovers/error"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="error">\n  <article>\n    <header>\n      <hgroup class="title">\n        <h3>This story does not exist, or you do not have access to it.</h3>\n      </hgroup>\n    </header>\n\n    <footer>\n      <p class="model_id">Story ID: ',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+"</p>\n    </footer>\n  </article>\n</div>\n"}),this.HandlebarsTemplates["stories/flyovers/error"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"FlyoversOtherProjectStoriesShow",initialize:function(e){this.flyover=new t.views.Flyover(_.chain(e).omit("el","$el","model").defaults({className:"story_flyover",templateName:"templates/stories/flyovers/show",loadingTemplateName:"templates/stories/flyovers/loading",errorTemplateName:"templates/stories/flyovers/error",fetch:this.fetchOtherProjectStory_,$delegate:t.$el,$container:this.$el}).value()),this.views().addView(this.flyover),this.maximizeClickHandler_=this.clickMaximize_.bind(this),this.flyover.$el.on("click",".maximize",this.maximizeClickHandler_)},clickMaximize_:function(e){e.preventDefault();var t=this.flyover.model,n=t.project();this.$trigger("maximize","/projects/"+n.id+"/stories/"+t.id)},fetchOtherProjectStory_:function(e){var n,r=new t.Story({id:e}),i=$.Deferred();return r.sync("read",r).done(function(e){_.findWhere(t.Person.current().projects(),{id:e.data.project_id})?(r.project=function(){return t.Project.get(e.data.project_id)},r.set(r.parse(e.data),{silent:!0}),r.comments(),r.tasks(),i.resolve(r)):(n=t.Project.get(e.data.project_id),n.refetch().done(function(){var t=n.stories().get(r.id);t&&(n.stories().remove(t,{silent:!0}),t.stopListening()),n.stories().push(r,{silent:!0}),r.set(r.parse(e.data)),r.comments(),r.tasks(),i.resolve(r)}).fail(i.reject))}).fail(i.reject),{model:r,deferred:i}},remove:function(){this.flyover.$el.off("click",".maximize",this.maximizeClickHandler_),t.View.prototype.remove.call(this)}});_.namespace(t,"views.flyovers.otherProjectStories").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/flyovers/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/flyovers/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return"this_project"}function o(){return"other_project"}function s(e,t,i){var a,o,s,u="";return u+='\n  <article class="',s=n.epicClasses,s?a=s.call(e,{hash:{}}):(a=e.epicClasses,a=typeof a===m?a():a),u+=g(a)+'">\n    <header>\n      <hgroup class="title maximize" data-cid="',s=n.cid,s?a=s.call(e,{hash:{}}):(a=e.cid,a=typeof a===m?a():a),u+=g(a)+'" title="Switch to a full page view of this epic">\n        <a class="maximize_button">maximize</a>\n        <p class="project_name">In <a href="',a=i.project,a=null==a||a===!1?a:a.url,s=n.prependHost,a=s?s.call(e,a,{hash:{}}):h.call(e,"prependHost",a,{hash:{}}),u+=g(a)+'" target="_blank">',a=i.project,a=null==a||a===!1?a:a.name,a=typeof a===m?a():a,u+=g(a)+'</a>:</p>\n        <h3 class="tracker_markup">',a=e.name,o={},o.type="simple",s=n.markup,a=s?s.call(e,a,{hash:o}):h.call(e,"markup",a,{hash:o}),u+=g(a)+'</h3>\n      </hgroup>\n      <hgroup class="details">\n        <a class="epic label pill"><span>',a=e.label,a=null==a||a===!1?a:a.name,a=typeof a===m?a():a,u+=g(a)+'</span></a>\n        <p class="completion_date">\n          ',a=e,a=f.invokePartial(r._epics_flyovers_completion_date,"_epics_flyovers_completion_date",a,n,r),(a||0===a)&&(u+=a),u+='\n        </p>\n      </hgroup>\n    </header>\n    <div class="window">\n      ',a=e.description,a=n["if"].call(e,a,{hash:{},inverse:f.noop,fn:f.program(6,l,t)}),(a||0===a)&&(u+=a),u+="\n      ",a=e.comments,a=n["if"].call(e,a,{hash:{},inverse:f.noop,fn:f.program(8,c,t)}),(a||0===a)&&(u+=a),u+='\n    </div>\n\n    <footer>\n      <p class="model_id">Epic ID: ',s=n.id,s?a=s.call(e,{hash:{}}):(a=e.id,a=typeof a===m?a():a),u+=g(a)+"</p>\n    </footer>\n  </article>\n  "}function l(e){var t,r,i,a="";return a+='\n      <section class="description">\n        <h4>Description</h4>\n\n        <div class="tracker_markup">',t=e.description,r={},r["with-story-epic-links"]=!0,r["with-emoji"]=!0,i=n.markup,t=i?i.call(e,t,{hash:r}):h.call(e,"markup",t,{hash:r}),a+=g(t)+"</div>\n      </section>\n      "}function c(e){var t,i="";return i+='\n        <section class="activity">\n          ',t=e,t=f.invokePartial(r._comments_index,"_comments_index",t,n,r),(t||0===t)&&(i+=t),i+="\n        </section>\n      "}n=n||e.helpers,r=r||e.partials;var u,d,p="",h=n.helperMissing,g=this.escapeExpression,f=this,m="function",_=n.blockHelperMissing;return p+='<div class="',u=t.project,u=null==u||u===!1?u:u.is_current_project,u=n["if"].call(t,u,{hash:{},inverse:f.program(3,o,i),fn:f.program(1,a,i)}),(u||0===u)&&(p+=u),p+='">\n  ',d=n.model,d?u=d.call(t,{hash:{},inverse:f.noop,fn:f.programWithDepth(s,i,t)}):(u=t.model,u=typeof u===m?u():u),n.model||(u=_.call(t,u,{hash:{},inverse:f.noop,fn:f.programWithDepth(s,i,t)})),(u||0===u)&&(p+=u),p+="\n</div>\n"}),this.HandlebarsTemplates["epics/flyovers/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/flyovers/_completion_date"]=function(){Handlebars.registerPartial("_epics_flyovers_completion_date",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+="\n  <em>\n    ",r=e.completion_date,r=n["if"].call(e,r,{hash:{},inverse:g.program(4,s,t),fn:g.program(2,o,t)}),(r||0===r)&&(i+=r),i+="\n  </em>\n  ",r=e.is_done_or_accepted,r=n["if"].call(e,r,{hash:{},inverse:g.program(8,c,t),fn:g.program(6,l,t)}),(r||0===r)&&(i+=r),i+="\n"}function o(e){var t,r,i,a,o="";return o+="\n      ",t=e.completion_date,r={},r.format="%b %e",i=e.project_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):p.call(e,"dateTime",t,{hash:r}),o+=h(t)+"\n    "}function s(){return"\n      &infin;\n    "}function l(){return"Completed"}function c(){return"Est. completion"}n=n||e.helpers;var u,d="",p=n.helperMissing,h=this.escapeExpression,g=this;return u=t.is_completion_date_known,u=n["if"].call(t,u,{hash:{},inverse:g.noop,fn:g.program(1,a,i)}),(u||0===u)&&(d+=u),d+="\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"FlyoversEpicsShow",initialize:function(e){this.project=this.model,this.epics=this.project.epics(),this.flyover=new t.views.Flyover(_(e).chain().omit("el","$el","model").defaults({className:"epic_flyover",templateName:"templates/epics/flyovers/show",collection:this.epics,$delegate:t.$el,$container:this.$el}).value()),this.views().addView(this.flyover),this.listenTo(this.project.iterations(),"add remove change",this.renderIfVisible_),this.labelClickHandler_=this.openEpicStoriesPanel_.bind(this),this.maximizeClickHandler_=this.clickMaximize_.bind(this),this.flyover.$el.on("click",".label",this.labelClickHandler_),this.flyover.$el.on("click",".maximize",this.maximizeClickHandler_)},renderIfVisible_:function(){this.flyover.model&&this.flyover.render()},openEpicStoriesPanel_:function(e){e.preventDefault(),this.$el.trigger("openEpicStoriesPanel",this.flyover.model)},clickMaximize_:function(e){e.preventDefault();{var n=$(e.currentTarget).data("cid"),r=t.DraftEpic.create(this.epics.get(n));new t.MaximizesController({model:r}).show(r)}Backbone.history.navigate(r.maximizePath()),this.flyover.$el.trigger("hideFlyover")},remove:function(){this.flyover.$el.off("click",".label",this.labelClickHandler_),this.flyover.$el.off("click",".maximize",this.maximizeClickHandler_),t.View.prototype.remove.call(this)}});_(t).namespace("views.flyovers.epics").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/flyovers/loading"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/flyovers/loading"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="loading">\n  <article>\n    <header>\n      <hgroup class="title">\n        <h3>Loading...</h3>\n      </hgroup>\n    </header>\n\n    <footer>\n      <p class="model_id">Epic ID: ',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+"</p>\n    </footer>\n  </article>\n</div>\n"}),this.HandlebarsTemplates["epics/flyovers/loading"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/flyovers/error"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/flyovers/error"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="error">\n  <article>\n    <header>\n      <hgroup class="title">\n        <h3>This epic does not exist, or you do not have access to it.</h3>\n      </hgroup>\n    </header>\n\n    <footer>\n      <p class="model_id">Epic ID: ',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+"</p>\n    </footer>\n  </article>\n</div>\n"}),this.HandlebarsTemplates["epics/flyovers/error"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(t.helpers.projectTimezones,t.View.extend({__name__:"FlyoversOtherProjectEpicsShow",initialize:function(e){this.flyover=new t.views.Flyover(_(e).chain().omit("el","$el","model").defaults({className:"epic_flyover",templateName:"templates/epics/flyovers/show",loadingTemplateName:"templates/epics/flyovers/loading",errorTemplateName:"templates/epics/flyovers/error",fetch:this.fetchOtherProjectEpic_,$delegate:t.$el,$container:this.$el}).value()),this.views().addView(this.flyover),this.maximizeClickHandler_=this.clickMaximize_.bind(this),this.flyover.$el.on("click",".maximize",this.maximizeClickHandler_)},clickMaximize_:function(){var e=this.flyover.model,t=e.project();this.$trigger("maximize","/projects/"+t.id+"/epics/"+e.id)},fetchOtherProjectEpic_:function(e){var n,r=new t.Epic({id:e}),i=$.Deferred();return r.sync("read",r).done(function(e){_.findWhere(t.Person.current().projects(),{id:e.data.project_id})?(r.project=function(){return t.Project.get(e.data.project_id)},r.set(r.parse(e.data)),r.comments(),i.resolve(r)):(n=t.Project.get(e.data.project_id),n.epics().reset(),n.epics().push(r,{silent:!0}),n.refetch().done(function(){r.set(r.parse(e.data)),r.comments(),i.resolve(r)}).fail(i.reject))}).fail(i.reject),{model:r,deferred:i}},remove:function(){this.flyover.$el.off("click",".maximize",this.maximizeClickHandler_),t.View.prototype.remove.call(this)}}));_.namespace(t,"views.flyovers.otherProjectEpics").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/single_story/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/single_story/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n  <header class="project">\n    <h2>Contained in <a href="/projects/',r=n.id,r?t=r.call(e,{hash:{}}):(t=e.id,t=typeof t===u?t():t),i+=d(t)+'" class="project_name">',r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===u?t():t),i+=d(t)+'</a></h2>\n    <nav class="controls">\n      <ul>\n        <li><a class="minimize" title="Minimize story"></a></li>\n        <li><a class="close" title="Close story"></a></li>\n      </ul>\n    </nav>\n  </header>\n'}function o(e){var t,r,i="";return i+='\n  <article class="',r=n.storyClasses,r?t=r.call(e,{hash:{}}):(t=e.storyClasses,t=typeof t===u?t():t),i+=d(t)+" ",r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===u?t():t),i+=d(t)+' maximized">\n  </article>\n'}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing;return l=n.project,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(s=t.project,s=typeof s===u?s():s),n.project||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(s||0===s)&&(c+=s),c+="\n\n",l=n.story,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(3,o,i)}):(s=t.story,s=typeof s===u?s():s),n.story||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(3,o,i)})),(s||0===s)&&(c+=s),c+="\n"}),this.HandlebarsTemplates["next/single_story/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/single_epic/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/single_epic/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n  <header class="project">\n    <h2>Contained in <a href="/projects/',r=n.id,r?t=r.call(e,{hash:{}}):(t=e.id,t=typeof t===u?t():t),i+=d(t)+'" class="project_name">',r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===u?t():t),i+=d(t)+'</a></h2>\n    <nav class="controls">\n      <ul>\n        <li><a class="minimize" title="Minimize epic"></a></li>\n        <li><a class="close" title="Close epic"></a></li>\n      </ul>\n    </nav>\n  </header>\n'}function o(e){var t,r,i="";return i+='\n  <article class="',r=n.epicClasses,r?t=r.call(e,{hash:{}}):(t=e.epicClasses,t=typeof t===u?t():t),i+=d(t)+" ",r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===u?t():t),i+=d(t)+' maximized">\n  </article>\n'}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing;return l=n.project,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(s=t.project,s=typeof s===u?s():s),n.project||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(s||0===s)&&(c+=s),c+="\n\n",l=n.epic,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(3,o,i)}):(s=t.epic,s=typeof s===u?s():s),n.epic||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(3,o,i)})),(s||0===s)&&(c+=s),c+="\n"}),this.HandlebarsTemplates["next/single_epic/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function n(e,t){var n=t.member_id;_.isUndefined(n)||r.Person.current().id===n||v.$trigger("remoteChange",e)}function a(){w.collapse(b,E)}function o(){w.minimize(b,E)}function s(e){return function(n){if(n.preventDefault(),t.confirm("Remove this attachment?")){var r=$(n.currentTarget).closest(".comment").data("cid"),i=b.original().comments().get(r),a=$(n.currentTarget).closest(".attachment").data("cid");i[e]().get(a).destroy()}}}function l(e,t){var n={history:function(e){var t=e instanceof r.Epic?"epic":"story",n={project:S};return n[t]=e,new r.Panel({type:t+"_history"},n)},epic_stories:function(e){return new r.Panel({type:"epic_stories"},{epic:e,project:S})},search:function(e){var t=new r.Search({query:e},{project:S}),n=new r.Panel({type:"search",name:e},{search:t,project:S});return n},notifications:function(){return new r.Panel({type:"notifications"},{project:S})}};return function(i,a){i.stopPropagation();var o=r.Person.current().layoutScheme(),s=o.panels(),l=b.panel()&&s.indexOf(b.panel())+1;s.add(n[e.type].call(s,a),{at:l}),o.save({},{parse:!1}).always(t)}}function c(e){m&&m.views().preventsSave()?t.alert("Please wait for file uploads to complete before minimizing this "+E):e()}function u(e){b.original().hasPendingCommands()?b.original().once("persisted",function(){e()}):e()}function d(e){m.save(),u(e)}function p(e,t){t=t||{},c(function(){w._isFromUrl?d(function(){w.minimize(b,E,t)}):w.minimize(b,E,t)})}function h(){c(function(){u(function(){w.collapse(b,E)})})}function g(e){e.preventDefault(),p()}function f(e){e.preventDefault(),m.cancelAndCollapseModel(e)}e=e||{};var m,v=new i(e),y=v.model,b=e.draftModel,E=e.type,S=y.project(),w=e.controller;return r.Project.setCurrent(S),v.render=function(){var e={project:S.decorator().toJSON()};e[E]=y.decorator().toJSON();var t=JST["templates/next/single_"+E+"/show"](e);return v.$el.html(t),v.views().pick(m).render().attach(),v},v.views().addView("article."+E,m=new r.views.details.Edit({model:y,draftModel:b,type:E,maximized:!0})).addView(new r.views.panels.Labels({model:S,el:v.el})).addView(new r.views.flyovers.stories.Show({model:S,el:v.el,targetSelector:".edit.details .tracker_markup .flyoverable.this_project.story",positionOptions:{at:"left bottom",my:"left top"}})).addView(new r.views.flyovers.otherProjectStories.Show({el:v.el,targetSelector:".edit.details .tracker_markup .flyoverable.other_project.story",positionOptions:{at:"left bottom",my:"left top",collision:"flip flip"}})).addView(new r.views.flyovers.epics.Show({model:S,el:v.el,targetSelector:".edit.details .tracker_markup .flyoverable.this_project.epic",positionOptions:{at:"left bottom",my:"left top"}})).addView(new r.views.flyovers.otherProjectEpics.Show({el:v.el,targetSelector:".edit.details .tracker_markup .flyoverable.other_project.epic",positionOptions:{at:"left bottom",my:"left top",collision:"flip flip"}})),v.delegateEvents({openActivityPanel:l({type:"history"},o),openSearchPanel:l({type:"search"},o),openEpicStoriesPanel:l({type:"epic_stories"},o),openNotificationsPanel:l({type:"notifications"},o),minimize:p,"click .minimize":g,"click nav.controls .close":f,closing:h,"picked.dropdown .delete_attachment":s("fileAttachments"),"picked.dropdown .delete_google_attachment":s("googleAttachments")},[y,{sync:n,destroy:a}]),v}var t=this,n=_.namespace(t,"next"),r=_.namespace(t,"tracker"),i=n.View.extend({});i.include(r.mixins.flashingItems),_.namespace(t,"next.views.singleModel").Show=e}.call(this),function(){"use strict";function e(e){return e instanceof o.Story}function t(e,t){var n=t.project,r=t.draftModel,i=r.original(),a=t.type,l=_.classify(a);o.Layout.current().set({maximized:!0});var c=new s.views.singleModel.Show({model:i,draftModel:r,type:a,controller:e});r.panel()&&$("#maximizes_show").data("panel","panel_"+r.panel().id),o.ActiveProjects.current().register("single"+l,n,{fetch:!1}),e.views().addView("section.maximized",c).addView(new s.views.singleModel.Minimize({el:e.el})).pick("section.maximized").render().attach()}function n(t){var n=e(t)?o.DraftStory:o.DraftEpic;return n.create(t)}function r(e,r){var i=r.project,a=r.id,s=r.type,c=r.plural,u=o.pastDoneStories.fetch(i),d=l.apiPolicy.errorHandler(i);return u.then(function(r){var o=i[c]().get(a);o?t(e,{project:i,draftModel:n(o,i),type:s}):d(r)},d),u}var i,a=this,o=_.namespace(a,"tracker"),s=_.namespace(a,"next"),l=o.helpers;i=s.Controller.extend({__name__:"MaximizesController",initialize:function(e){this._isFromUrl=!(e&&e.fromApp)},show:function(e,t,n){this._showOrNew(e,_.extend({id:t},n))},"new":function(e,t){this._showOrNew(e,t)},_showOrNew:function(e,i){i=i||{};var a,s=this,l=i.type||(e instanceof o.Story?"story":"epic"),c=_.pluralize(l),u=i.id;e instanceof o.Model?(a=e.project(),s._isFromUrl=!1,t(s,{project:a,draftModel:e,type:l})):(a=o.Project.get(e),s._isFromUrl=!0,a.ready().then(function(){if(u){var i=a[c]().get(u);if(i)t(s,{project:a,draftModel:n(i,a),type:l});else{var d=r(s,{project:a,id:u,type:l,plural:c});s.views().addView(".loading",new o.views.projects.Loading({model:d})),s.views().pick(".loading").render().attach()}}else Backbone.history.navigate("projects/"+e,{trigger:!0})}))},_actionForAnalytics:function(e){return["/maximized",e,this._isFromUrl?"url":"details"].join("/")},minimize:function(e,t,n){n=n||{};var r=e.project();this.views().removeView();var i=o.Layout.current();if(i.set({maximized:!1}),this._isFromUrl){var a=["/n/projects",r.id,e.original()instanceof o.Epic&&"epics"||"stories",e.id,"expand"].join("/");n.revealModel&&(a+="?flash=false"),o.navigate(a)}else{if(e.panel()){e.panel().expandModel(e),e.trigger("minimize"),e.panel().set({visible:!0});var s=n.revealModel||e;o.panels.Service.revealModel(o.Person.current().panels(),s)}Backbone.history.navigate(i.fragment())}},collapse:function(e){var t=e.project();this.views().removeView();var n=o.Layout.current();n.set({maximized:!1}),this._isFromUrl?o.navigate(["/n/projects",t.id].join("/")):(e.panel()&&e.panel().collapseModel(e),Backbone.history.navigate(n.fragment()))}}),o.MaximizesController=i}.call(this),function(){"use strict";function e(e){e&&(r.Layout.current().get("maximized")?n.open(["/projects",e.project().id,e instanceof r.Epic&&"epics"||"stories",e.id].join("/"),"_blank"):(new r.MaximizesController({fromApp:!0}).show(e),e.original().isNew()||Backbone.history.navigate(e.maximizePath())))}function t(e){return e instanceof r.DraftStory||e instanceof r.DraftEpic}var n=this,r=_.namespace(n,"tracker"),i=r.View.extend({__name__:"ProjectsMaximize",initialize:_.wrap(r.View.prototype.initialize,function(i,a){function o(e){return t(e)&&e.project()===c&&e||c.stories().get(e)&&r.DraftStory.create(c.stories().get(e))||c.epics().get(e)&&r.DraftEpic.create(c.epics().get(e))}function s(e){return _.str.startsWith(e,"/")}function l(t,r){s(r)?n.open(r,"_blank"):e(o(r))}i.call(this,a);var c=this.model;c&&this.delegateEvents({maximize:l})})});_.namespace(r,"views.projects").Maximize=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=6e4,r=t.View.extend({initialize:function(){this.checkIterationBoundaries_=this.checkIterationBoundaries_.bind(this),this.timeout_=setTimeout(this.checkIterationBoundaries_,n)},checkIterationBoundaries_:function(){var e=this.model,t=e.iterations().current()[0];t&&!t.containsTime(Date.now())&&(e.iterations().recalculate(),e.iterations().trigger("reset"),e.iterations().recalculate()),this.timeout_=setTimeout(this.checkIterationBoundaries_,n)},remove:function(){t.View.prototype.remove.apply(this,arguments),clearTimeout(this.timeout_)}});_.namespace(t,"views.projects").IterationBoundaryRollover=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/stats/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["stats/show"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression,l=n.helperMissing;return a+='<div class="stats">\n  <h2 class="title">Project Metrics: ',r=t.project,r=null==r||r===!1?r:r.name,r=typeof r===o?r():r,a+=s(r)+'</h2>\n  <table class="metrics">\n    <tr>\n      <th>Point Scale</th>\n      <td>',r=t.project,r=null==r||r===!1?r:r.point_scale_type,r=typeof r===o?r():r,a+=s(r)+" - ",r=t.project,r=null==r||r===!1?r:r.point_scale,r=typeof r===o?r():r,a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th>Timezone</th>\n      <td>",r=t.project,r=null==r||r===!1?r:r.time_zone,r=null==r||r===!1?r:r.olson_name,r=typeof r===o?r():r,a+=s(r)+" ",r=t.project,r=null==r||r===!1?r:r.time_zone,r=null==r||r===!1?r:r.offset,r=typeof r===o?r():r,a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th>Iteration Starts On</th>\n      <td>",r=t.project,r=null==r||r===!1?r:r.week_start_day,r=typeof r===o?r():r,a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th>Iteration Length</th>\n      <td>",r=t.project,r=null==r||r===!1?r:r.iteration_length,r=typeof r===o?r():r,a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th>Start Time</th>\n      <td>",r=t.project,r=null==r||r===!1?r:r.start_time,i=n.dateTime,r=i?i.call(t,r,{hash:{}}):l.call(t,"dateTime",r,{hash:{}}),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th>Current Time</th>\n      <td>",r=t.now,i=n.dateTime,r=i?i.call(t,r,{hash:{}}):l.call(t,"dateTime",r,{hash:{}}),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th>Total Members</th>\n      <td>",i=n.total_members,i?r=i.call(t,{hash:{}}):(r=t.total_members,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th></th>\n      <td></td>\n    </tr>\n    <tr>\n      <th>Total Stories</th>\n      <td>",i=n.total_stories,i?r=i.call(t,{hash:{}}):(r=t.total_stories,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <th>Total Icebox Stories</th>\n      <td>",i=n.total_icebox_stories,i?r=i.call(t,{hash:{}}):(r=t.total_icebox_stories,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total Comments</td>\n      <td>",i=n.total_comments,i?r=i.call(t,{hash:{}}):(r=t.total_comments,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Comments Per Story</td>\n      <td>",i=n.comments_per_story,i?r=i.call(t,{hash:{}}):(r=t.comments_per_story,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total Iterations</td>\n      <td>",i=n.total_iterations,i?r=i.call(t,{hash:{}}):(r=t.total_iterations,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Stories Per Iteration</td>\n      <td>",i=n.stories_per_iteration,i?r=i.call(t,{hash:{}}):(r=t.stories_per_iteration,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total Labels</td>\n      <td>",i=n.total_labels,i?r=i.call(t,{hash:{}}):(r=t.total_labels,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Stories Per Label</td>\n      <td>",i=n.stories_per_label,i?r=i.call(t,{hash:{}}):(r=t.stories_per_label,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total File Attachments</td>\n      <td>",i=n.total_file_attachments,i?r=i.call(t,{hash:{}}):(r=t.total_file_attachments,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total Features</td>\n      <td>",i=n.total_features,i?r=i.call(t,{hash:{}}):(r=t.total_features,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total Bugs</td>\n      <td>",i=n.total_bugs,i?r=i.call(t,{hash:{}}):(r=t.total_bugs,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total Chores</td>\n      <td>",i=n.total_chores,i?r=i.call(t,{hash:{}}):(r=t.total_chores,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n    <tr>\n      <td>Total Releases</td>\n      <td>",i=n.total_releases,i?r=i.call(t,{hash:{}}):(r=t.total_releases,r=typeof r===o?r():r),a+=s(r)+"</td>\n    </tr>\n  </table>\n</div>\n"}),this.HandlebarsTemplates["stats/show"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(){var e=n.ProjectStateReporter.current().toJSON().metrics;return e.project=o.toJSON(),e}function r(e){e.altKey!==!0||53!==e.which||$(e.target).is(":input")||a.render()}function i(){a.delegateEvents({"click .stats.refresh":a.render,keyup:r})}var a=new(n.View.extend())(e),o=a.model;return a.render=function(){0===a.$(".stats").length?a.$el.append(JST["templates/stats/show"](t())):a.$(".stats").remove()},i(),a}var t=this,n=_.namespace(t,"tracker");_.namespace(n,"views.stats").Show=e}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({initialize:function(){var e=this.collection,t=this.model;t.ready().then(function(){"active"!==t.get("account").status&&e.add({type:"DelinquentAccount",project_id:t.id})})}});_.namespace(t,"views.projects").NotifyDelinquentAccount=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={MAX_PANEL_WIDTH:1e3,MIN_PANEL_WIDTH:320,autosize:function(e,t,n){var r="auto"===t.get("width_mode");
r?this.resize(e,t.panels(),n.get("width")):e.set({panel_width:Math.min(this.MAX_PANEL_WIDTH,e.get("panel_width"))})},calculateTableWidth:function(e,t){var n=0;return _.each(e.where({visible:!0}),function(e){n+="charts2"===e.get("type")&&640>=t?645:t+5}),n},resize:function(e,t,r){var i=t.where({visible:!0}).length,a=r/i-5,o=1===i?1/0:this.MAX_PANEL_WIDTH;this.calculateTableWidth(t,a)>r&&(a=_.binarySearch(this.MIN_PANEL_WIDTH,this.MAX_PANEL_WIDTH,function(e){var i=n.calculateTableWidth(t,e);return i>r?-1:r>i?1:0},this)),e.set({panel_width:Math.min(o,Math.max(this.MIN_PANEL_WIDTH,Math.floor(a)))})}};_.namespace(t,"layout").Service=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({initialize:function(e){this.panelsContainer=e.panelsContainer,this.delegateEvents({resize:[this.updateViewportWidth,this.autosizePanels]})},updateViewportWidth:function(){this.model.set({width:this.panelsContainer.width()})},autosizePanels:function(){t.layout.Service.autosize(t.Layout.current(),t.Person.current().layoutScheme(),this.model)}});t.views.Window=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.Controller.extend({__name__:"ProjectsController",show:function(e){tracker.Timer.end("nr_app_time");{var t=tracker.Project.setCurrent(tracker.ActiveProjects.current().register("project",tracker.Project.get(e))),n=this.el,r=tracker.Layout.current().statuses();tracker.Layout.current().flashMessages()}mixpanel.register({view_mode:"project"}),(new tracker.LightboxesController).create("loading",{model:t,modal:!0}),t.promise().done(function(){document.title=t.get("name")+" - Pivotal Tracker",tracker.MixpanelReporter.current().track("/projects/show",{is_public:!!t.get("public")})}),this.views().removeView(),this.views().addView(new tracker.views.projects.Alerts({model:t})).addView(new tracker.views.projects.Maximize({model:t,el:n})).addView(new tracker.views.projects.NotifyDelinquentAccount({model:t,collection:r})).addView(new tracker.views.projects.Persistence({collection:t.stories(),el:n})).addView(new tracker.views.projects.Persistence({collection:t.epics(),el:n})).addView(new tracker.views.stats.Show({el:document.body,model:t})).addView(new tracker.views.projects.IterationBoundaryRollover({model:t}))}});t.ProjectsController=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"MultiStoryFetch",get:function(e){var t,n=this;return _.each(n.attributes.person.projects(),function(n){var r=n.stories().get(e);r&&(t=r)}),t}});t.MultiStoryFetch=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"MultiEpicFetch",get:function(e){var t,n=this;return _.each(n.attributes.person.projects(),function(n){var r=n.epics().get(e);r&&(t=r)}),t}});t.MultiEpicFetch=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/controls/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/controls/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t,r){var i,a="";return a+='\n  <a class="close bright_icons undraggable" tabindex="-1" title="Close Panel"></a>\n  <nav class="controls">\n    <a class="mark_all_read undraggable" title="Mark All Notifications as Read" tabindex="-1">Mark</a>\n    <a class="add_story bright_icons undraggable" title="Add Story" tabindex="-1"></a>\n    ',i=e.is_epics_panel,i=n["if"].call(e,i,{hash:{},inverse:p.noop,fn:p.program(2,o,t)}),(i||0===i)&&(a+=i),a+="\n    ",i=e.is_epic_stories_panel,i=n["if"].call(e,i,{hash:{},inverse:p.noop,fn:p.program(4,s,t)}),(i||0===i)&&(a+=i),a+="\n\n    ",i=r.is_charts2_panel,i=n["if"].call(e,i,{hash:{},inverse:p.noop,fn:p.program(6,l,t)}),(i||0===i)&&(a+=i),a+='\n    <a class="refresh bright_icons undraggable" title="Refresh" tabindex="-1"></a>\n  </nav>\n'}function o(){return'\n      <a class="add_model bright_icons epic undraggable" title="Add Epic" tabindex="-1"></a>\n    '}function s(){return'\n      <a class="add_model bright_icons story undraggable" title="Add Story" tabindex="-1"></a>\n    '}function l(){return'\n      <a class="open_feedback open_charts2_feedback undraggable" title="Charts Beta Feedback" tabindex="-1">Send Feedback</a>\n    '}n=n||e.helpers;var c,u,d="",p=this,h="function",g=this.escapeExpression;return c=t.project,c=n.unless.call(t,c,{hash:{},inverse:p.noop,fn:p.programWithDepth(a,i,t)}),(c||0===c)&&(d+=c),d+='\n<h3 title="',u=n.name,u?c=u.call(t,{hash:{}}):(c=t.name,c=typeof c===h?c():c),d+=g(c)+'">\n  <span class="ellipsis">',u=n.name,u?c=u.call(t,{hash:{}}):(c=t.name,c=typeof c===h?c():c),d+=g(c)+"</span>\n</h3>\n"}),this.HandlebarsTemplates["next/panels/controls/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/controls/_index"]=function(){Handlebars.registerPartial("_panels_controls_index",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+='\n  <a class="clone',r=e.cloned,r=n["if"].call(e,r,{hash:{},inverse:y.noop,fn:y.program(2,o,t)}),(r||0===r)&&(i+=r),i+='" tabindex="-1" title="Clone Panel"></a>\n'}function o(){return" cloned"}function s(){return'\n  <a class="collapse_all" tabindex="-1" title="Collapse All Iterations"></a>\n  <a class="expand_all" tabindex="-1" title="Expand All Iterations"></a>\n'}function l(){return'\n  <a class="add_model epic" title="Add Epic" tabindex="-1"></a>\n'}function c(){return'\n  <a class="add_model story" title="Add Story" tabindex="-1"></a>\n'}function u(){return'\n  <a class="pin_search" title="Pin This Panel" tabindex="-1"></a>\n  <a class="save_search" title="Save This Search" tabindex="-1">Save</a>\n'}function d(){return'\n  <a class="pin_search pinned" title="Pin This Panel" tabindex="-1"></a>\n'}function p(){return'\n  <a class="refresh" title="Refresh" tabindex="-1"></a>\n'}function h(){return'\n  <a href="/notification_settings" class="notifications_settings" title="Notifications Settings" tabindex="-1"></a>\n'}function g(e,t){var r,i="";return i+="\n  ",r=e.all_models_selected,r=n.unless.call(e,r,{hash:{},inverse:y.program(21,m,t),fn:y.program(19,f,t)}),(r||0===r)&&(i+=r),i+="\n"}function f(){return'\n    <a class="select_all" tabindex="-1">Select All</a>\n  '}function m(){return'\n    <a class="deselect_all" tabindex="-1">Deselect All</a>\n  '}n=n||e.helpers;var _,v="",y=this;return _=t.allows_clone,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(1,a,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.allows_iteration_folding,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(4,s,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.is_epics_panel,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(6,l,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.is_epic_stories_panel,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(8,c,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.is_search_panel,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(10,u,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.is_pinned_search_panel,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(12,d,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.is_integration_panel,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(14,p,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.is_notifications_panel,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(16,h,i)}),(_||0===_)&&(v+=_),v+="\n\n",_=t.allows_select_all,_=n["if"].call(t,_,{hash:{},inverse:y.noop,fn:y.program(18,g,i)}),(_||0===_)&&(v+=_),v+="\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"PanelsControlsShow",initialize:_.wrap(t.View.prototype.initialize,function(e,t){function n(){var e,t=_.bind(r.render,r),n=[[i,{change:t}]];(e=i.project())&&(n=n.concat([[e,{change:t}],[e.iterations(),{doneIterationsCalculated:t}]])),r.delegateEvents.apply(r,n)}e.call(this,t);var r=this,i=r.model;n()}),render:function(){return this.wrapRender(function(){var e=JST[_.result(this,"template")](this.model.decorator().toJSON());return this.$el.html(e),this}).call(this)},template:"templates/next/panels/controls/show"});_.namespace(t,"views.panels.controls").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/flyovers/progress"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["epics/flyovers/progress"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var i,a,s="";return s+='\n<article class="',a=n.epicClasses,a?i=a.call(e,{hash:{}}):(i=e.epicClasses,i=typeof i===g?i():i),s+=f(i)+'">\n  ',a=n.progress,a?i=a.call(e,{hash:{},inverse:m.noop,fn:m.program(2,o,t)}):(i=e.progress,i=typeof i===g?i():i),n.progress||(i=_.call(e,i,{hash:{},inverse:m.noop,fn:m.program(2,o,t)})),(i||0===i)&&(s+=i),s+="\n  <footer>\n    ",i=e,i=m.invokePartial(r._epics_flyovers_completion_date,"_epics_flyovers_completion_date",i,n,r),(i||0===i)&&(s+=i),s+="\n  </footer>\n</article>\n"}function o(e,t){var r,i,a="";return a+="\n  <dl>\n    ",i=n.accepted,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(3,s,t)}):(r=e.accepted,r=typeof r===g?r():r),n.accepted||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(3,s,t)})),(r||0===r)&&(a+=r),a+="\n    ",i=n.active,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(5,l,t)}):(r=e.active,r=typeof r===g?r():r),n.active||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(5,l,t)})),(r||0===r)&&(a+=r),a+="\n    ",i=n.unstarted,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(7,c,t)}):(r=e.unstarted,r=typeof r===g?r():r),n.unstarted||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(7,c,t)})),(r||0===r)&&(a+=r),a+="\n    ",i=n.unscheduled,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(9,u,t)}):(r=e.unscheduled,r=typeof r===g?r():r),n.unscheduled||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(9,u,t)})),(r||0===r)&&(a+=r),a+="\n  </dl>\n  "}function s(e){var t,r,i="";return i+='\n    <dt class="accepted">Accepted: </dt>\n    <dd>\n      <em>',r=n.stories,r?t=r.call(e,{hash:{}}):(t=e.stories,t=typeof t===g?t():t),i+=f(t)+"</em> stories,\n      <em>",r=n.points,r?t=r.call(e,{hash:{}}):(t=e.points,t=typeof t===g?t():t),i+=f(t)+"</em> points\n    </dd>\n    "}function l(e){var t,r,i="";return i+='\n    <dt class="active">In Progress: </dt>\n    <dd>\n      <em>',r=n.stories,r?t=r.call(e,{hash:{}}):(t=e.stories,t=typeof t===g?t():t),i+=f(t)+"</em> stories,\n      <em>",r=n.points,r?t=r.call(e,{hash:{}}):(t=e.points,t=typeof t===g?t():t),i+=f(t)+"</em> points\n    </dd>\n    "}function c(e){var t,r,i="";return i+='\n    <dt class="unstarted">Prioritized: </dt>\n    <dd>\n      <em>',r=n.stories,r?t=r.call(e,{hash:{}}):(t=e.stories,t=typeof t===g?t():t),i+=f(t)+"</em> stories,\n      <em>",r=n.points,r?t=r.call(e,{hash:{}}):(t=e.points,t=typeof t===g?t():t),i+=f(t)+"</em> points\n    </dd>\n    "}function u(e){var t,r,i="";return i+='\n    <dt class="unscheduled">On Ice: </dt>\n    <dd>\n      <em>',r=n.stories,r?t=r.call(e,{hash:{}}):(t=e.stories,t=typeof t===g?t():t),i+=f(t)+"</em> stories,\n      <em>",r=n.points,r?t=r.call(e,{hash:{}}):(t=e.points,t=typeof t===g?t():t),i+=f(t)+"</em> points\n    </dd>\n    "}n=n||e.helpers,r=r||e.partials;var d,p,h="",g="function",f=this.escapeExpression,m=this,_=n.blockHelperMissing;return p=n.model,p?d=p.call(t,{hash:{},inverse:m.noop,fn:m.program(1,a,i)}):(d=t.model,d=typeof d===g?d():d),n.model||(d=_.call(t,d,{hash:{},inverse:m.noop,fn:m.program(1,a,i)})),(d||0===d)&&(h+=d),h+="\n"}),this.HandlebarsTemplates["epics/flyovers/progress"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(){a.model&&a.render()}function r(e){e.preventDefault(),o.$el.trigger("openEpicStoriesPanel",a.model)}function i(){a=new n.views.Flyover(_(e).chain().omit("el","$el","model").defaults({className:"epic_progress_flyover",templateName:"templates/epics/flyovers/progress",positionOptions:{my:"right top",at:"right bottom",offset:"-8 0",collision:"fit fit"},collection:s.epics(),$delegate:n.$el,$container:o.$el}).value()),o.views().addView(a),o.delegateEvents([s.iterations(),{"add remove change":t}],[a.$el,{click:r}])}var a,o=new(n.View.extend({}))(e),s=o.model;return i(),o}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.flyovers.epics.progress").Show=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/integration_stories/flyovers/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["integration_stories/flyovers/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a,u="";return u+='\n  <article class="integration_story integration_',a=n.integration_type,a?r=a.call(e,{hash:{}}):(r=e.integration_type,r=typeof r===f?r():r),u+=m(r)+" ",a=n.extra,a?r=a.call(e,{hash:{},inverse:v.noop,fn:v.program(2,o,t)}):(r=e.extra,r=typeof r===f?r():r),n.extra||(r=y.call(e,r,{hash:{},inverse:v.noop,fn:v.program(2,o,t)})),(r||0===r)&&(u+=r),u+='">\n    <header>\n      <hgroup class="title">\n        <h3 class="tracker_markup">',r=e.name,i={},i.type="simple",a=n.markup,r=a?a.call(e,r,{hash:i}):_.call(e,"markup",r,{hash:i}),u+=m(r)+'</h3>\n      </hgroup>\n      <hgroup class="details">\n        <span class="meta"></span>\n        <span class="byline">',a=n.byline,a?r=a.call(e,{hash:{}}):(r=e.byline,r=typeof r===f?r():r),u+=m(r)+'</span>\n      </hgroup>\n    </header>\n    <div class="window">\n      ',r=e.description,r=n["if"].call(e,r,{hash:{},inverse:v.noop,fn:v.program(4,s,t)}),(r||0===r)&&(u+=r),u+="\n    </div>\n\n    <footer>\n      ",r=e.is_get_satisfaction,r=n["if"].call(e,r,{hash:{},inverse:v.program(8,c,t),fn:v.program(6,l,t)}),(r||0===r)&&(u+=r),u+='\n      <p class="requested_by">Requested ',r=e.created_at,a=n.timeAgo,r=a?a.call(e,r,{hash:{}}):_.call(e,"timeAgo",r,{hash:{}}),u+=m(r)+"</p>\n    </footer>\n  </article>\n  "}function o(e){var t,r;return r=n.style,r?t=r.call(e,{hash:{}}):(t=e.style,t=typeof t===f?t():t),m(t)}function s(e){var t,r,i,a="";return a+='\n      <section class="description">\n        <h4>Description</h4>\n\n        <div class="tracker_markup">',t=e.description,r={},r["with-emoji"]=!0,r["with-story-epics-links"]=!0,i=n.markup,t=i?i.call(e,t,{hash:r}):_.call(e,"markup",t,{hash:r}),a+=m(t)+"</div>\n      </section>\n      "}function l(e){var t,n="";return n+='\n        <p class="model_id"><a href="',t=e.integration,t=null==t||t===!1?t:t.external_url,t=typeof t===f?t():t,n+=m(t)+'" target="_blank">',t=e.integration,t=null==t||t===!1?t:t.link_text,t=typeof t===f?t():t,n+=m(t)+"</a></p>\n      "}function c(e,t){var r,i="";return i+="\n        ",r=e.is_buganizer,r=n["if"].call(e,r,{hash:{},inverse:v.program(11,d,t),fn:v.program(9,u,t)}),(r||0===r)&&(i+=r),i+="\n      "}function u(e){var t,n="";return n+='\n          <p class="model_id">Buganizer ID: <a href="',t=e.integration,t=null==t||t===!1?t:t.external_url,t=typeof t===f?t():t,n+=m(t)+'" target="_blank">',t=e.integration,t=null==t||t===!1?t:t.link_text,t=typeof t===f?t():t,n+=m(t)+"</a></p>\n        "}function d(e){var t,n="";return n+='\n          <p class="model_id">External ID: <a href="',t=e.integration,t=null==t||t===!1?t:t.external_url,t=typeof t===f?t():t,n+=m(t)+'" target="_blank">',t=e.integration,t=null==t||t===!1?t:t.link_text,t=typeof t===f?t():t,n+=m(t)+"</a></p>\n        "}n=n||e.helpers;var p,h,g="",f="function",m=this.escapeExpression,_=n.helperMissing,v=this,y=n.blockHelperMissing;return g+='<div class="point_scale_',p=t.project,p=null==p||p===!1?p:p.point_scale_type,p=typeof p===f?p():p,g+=m(p)+'">\n  ',h=n.model,h?p=h.call(t,{hash:{},inverse:v.noop,fn:v.program(1,a,i)}):(p=t.model,p=typeof p===f?p():p),n.model||(p=y.call(t,p,{hash:{},inverse:v.noop,fn:v.program(1,a,i)})),(p||0===p)&&(g+=p),g+="\n</div>\n"}),this.HandlebarsTemplates["integration_stories/flyovers/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"FlyoversIntegrationStoriesShow",initialize:function(e){this.integration=this.model,this.flyover=new t.views.Flyover(_(e).chain().omit("el","$el","model").defaults({className:"integration_story_flyover",templateName:"templates/integration_stories/flyovers/show",collection:this.integration&&this.integration.stories(),$delegate:t.$el,$container:this.$el}).value()),this.views().addView(this.flyover)}});_(t).namespace("views.flyovers.integration_stories").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t,r){var i,a,c="";return c+='\n    <header class="workspace_header panel_controls" style="border-top-color: #',a=n.project_color,a?i=a.call(e,{hash:{}}):(i=e.project_color,i=typeof i===S?i():i),c+=w(i)+'">\n      <a class="close bright_icons undraggable" tabindex="-1" title="Close Panel"></a>\n      <nav class="controls">\n        <a class="mark_all_read undraggable" title="Mark All Notifications as Read" tabindex="-1">Mark</a>\n        <a class="add_story bright_icons undraggable" title="Add Story" tabindex="-1"></a>\n        ',i=r.is_epics_panel,i=n["if"].call(e,i,{hash:{},inverse:T.noop,fn:T.program(2,o,t)}),(i||0===i)&&(c+=i),c+="\n        ",i=r.is_epic_stories_panel,i=n["if"].call(e,i,{hash:{},inverse:T.noop,fn:T.program(4,s,t)}),(i||0===i)&&(c+=i),c+="\n\n        ",i=r.is_charts2_panel,i=n["if"].call(e,i,{hash:{},inverse:T.noop,fn:T.program(6,l,t)}),(i||0===i)&&(c+=i),c+='\n        <a class="refresh bright_icons undraggable" title="Refresh" tabindex="-1"></a>\n      </nav>\n      <h3 title="',a=n.name,a?i=a.call(e,{hash:{}}):(i=e.name,i=typeof i===S?i():i),c+=w(i)+'"><span>',a=n.name,a?i=a.call(e,{hash:{}}):(i=e.name,i=typeof i===S?i():i),c+=w(i)+"</span></h3>\n    </header>\n  "}function o(){return'\n          <a class="add_model bright_icons epic undraggable" title="Add Epic" tabindex="-1"></a>\n        '}function s(){return'\n          <a class="add_model bright_icons story undraggable" title="Add Story" tabindex="-1"></a>\n        '}function l(){return'\n          <a class="open_feedback open_charts2_feedback undraggable" title="Charts Beta Feedback" tabindex="-1">Send Feedback</a>\n        '}function c(){return" show_accepted_stories"}function u(){return" hide_accepted_stories"}function d(e){var t="";return t+='\n    <p class="message">',e=typeof e===S?e():e,t+=w(e)+"</p>\n  "}function p(e,t){var r,i="";return i+="\n        ",r=e.split,r=n["if"].call(e,r,{hash:{},inverse:T.program(17,g,t),fn:T.program(15,h,t)}),(r||0===r)&&(i+=r),i+="\n      "}function h(){return'\n            <a class="unsplit bright_icons undraggable" title="Combine Current and Backlog"></a>\n        '}function g(){return'\n            <a class="split bright_icons undraggable" title="Split Current/Backlog"></a>\n        '}function f(){return'\n        <a class="unsave_search undraggable" title="Unsave Search"></a>\n      '}function m(){return'\n        <a class="save_search bright_icons undraggable" title="Save Search"></a>\n      '}function _(){return'\n        <a class="unpin_search undraggable" title="Unpin Search"></a>\n      '}function v(){return'\n        <a class="pin_search bright_icons undraggable" title="Pin Search"></a>\n      '}n=n||e.helpers;var y,b,E="",S="function",w=this.escapeExpression,T=this,A=n.blockHelperMissing;return E+='<div class="container droppable">\n  ',b=n.project,b?y=b.call(t,{hash:{},inverse:T.noop,fn:T.programWithDepth(a,i,t)}):(y=t.project,y=typeof y===S?y():y),n.project||(y=A.call(t,y,{hash:{},inverse:T.noop,fn:T.programWithDepth(a,i,t)})),(y||0===y)&&(E+=y),E+='\n  <header class="panel_header panel_controls"></header>\n  <section class="items_container',y=t.show_accepted_stories,y=n["if"].call(t,y,{hash:{},inverse:T.program(10,u,i),fn:T.program(8,c,i)}),(y||0===y)&&(E+=y),E+='"></section>\n  ',b=n.message,b?y=b.call(t,{hash:{},inverse:T.noop,fn:T.program(12,d,i)}):(y=t.message,y=typeof y===S?y():y),n.message||(y=A.call(t,y,{hash:{},inverse:T.noop,fn:T.program(12,d,i)})),(y||0===y)&&(E+=y),E+='\n  <footer class="panel_footer panel_controls">\n    <nav>\n      ',y=t.splittable,y=n["if"].call(t,y,{hash:{},inverse:T.noop,fn:T.program(14,p,i)}),(y||0===y)&&(E+=y),E+='\n      <a class="panel_settings bright_icons undraggable" title="Panel settings"></a>\n      ',y=t.has_saved_search,y=n["if"].call(t,y,{hash:{},inverse:T.program(21,m,i),fn:T.program(19,f,i)}),(y||0===y)&&(E+=y),E+="\n      ",y=t.pinned,y=n["if"].call(t,y,{hash:{},inverse:T.program(25,v,i),fn:T.program(23,_,i)}),(y||0===y)&&(E+=y),E+="\n    </nav>\n  </footer>\n</div>\n"}),this.HandlebarsTemplates["next/panels/show"]}.call(this)}.call(this),function(e,t){var n=t.Model.extend({defaults:function(){return{state:{previousFocus:null,previousCaret:null,renderNestingLevel:0},cid:null}}});n.include(t.mixins.current),t.Focus=n}(window,tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers,r={fetch:function(e){function r(){return e.iterations().find(function(e){return!e.isPastDone()}).get("start_time")}function i(e,t){var n;return(n=t.get(e))?(t.remove(n,{silent:!0}),t.unshift(n,{silent:!0})):n=t.unshift(e,{silent:!0,parse:!0}),n}function a(t){var r=_.chain(t.data).reverse().map(function(t){return i(t,e.stories())}).value();n.syncLabelStories(r),e.set("show_past_done",!0),e.iterations().recalculate()}var o="/services/v5/projects/"+e.id+"/stories?"+$.param({date_format:"millis",fields:t.Story.API_FIELDS,authenticity_token:t.csrfToken(),accepted_before:r()});return o=n.envelope.addEnvelope(o),$.getJSON(o).done(a)}};t.pastDoneStories=r}.call(this),function(){"use strict";function e(e){var t={},n=["current","backlog","icebox","epics","epic_stories","done","labels","pinned_search","search","integration","notifications","charts2"];return _.each(n,function(n){t["is_"+n+"_panel"]=e.get("type")===n}),t}function t(e){return e.content().counter?{counter:e.content().counter()}:{}}var n=this,r=_.namespace(n,"tracker"),i=r.Decorator.extend({model:r.Panel,collection:r.Panels,cssClasses:function(){var e=!this.areItemsDraggable()||this.project()&&r.Person.current().isReadOnly(this.project())?null:"items_draggable",t=this.project()&&r.Person.current().isReadOnly(this.project());return _.chain(["panel",this.cid,this.id,this.get("type"),"backlog"===this.get("type")&&!this.get("split")&&"current_backlog",this.project()&&this.project().get("automatic_planning")?null:"manual_planning",e,this.get("visible")?"visible":null,this.get("show_done_stories")?"show_done_stories":null,this.get("show_done_epics")?"show_done_epics":null,this.get("items_hidden")?"items_hidden":null,t?"read_only":null]).compact().uniq().value()},toJSON:function(){var n=this.project(),i=this.toJSON();if(n){if(_.extend(i,{number_of_done_iterations_to_show:n.get("number_of_done_iterations_to_show"),show_past_done:n.isShowingPastDone()}),n.iterations()){var a=n.iterations().done().length-n.get("number_of_done_iterations_to_show");i.number_of_past_done_iterations=a>0?a:0}n.workspace()&&(i.project={name:n.get("name"),project_color:r.Person.current().projectColor(n)})}return this.favoriteSearch()&&(i.name=this.favoriteSearch().get("name")),_.chain(i).extend({cid:this.cid,is_cloned_copy:!(!this.get("cloned")||!_.startsWith(this.id,this.get("type"))),allows_select_all:this.allowsSelectAll(),allows_clone:this.allowsClone(),allows_iteration_folding:this.allowsIterationFolding(),is_backlog:this.isBacklog(),splittable:"current"===i.type||"backlog"===i.type}).extend(e(this)).extend(t(this)).value()}});r.PanelDecorator=i}.call(this),function(){"use strict";function e(e){return _.map(e,function(e){return"."+e.cid+" .selector"}).join(",")}var t=this,n=_.namespace(t,"tracker"),r={selectModels:function(t){return n.$el.find(e(t)).addClass("selected")},deselectModels:function(t){return n.$el.find(e(t)).removeClass("selected")}};_.namespace(n,"helpers").select=r}.call(this),function(){"use strict";function e(e,t){return function(){var r=this,i=arguments,a=n.Project.get(e);a.promise().done(function(){t.apply(r,i)})}}var t=this,n=_.namespace(t,"tracker");_.namespace(n,"helpers").deferUntilProjectLoaded=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/panel_settings/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/panel_settings/show"]=Handlebars.template(function(e,t,n,r){n=n||e.helpers,r=r||e.partials;var i,a="",o=this;return a+='<div class="panel_controls">\n  ',i=t,i=o.invokePartial(r._panels_controls_index,"_panels_controls_index",i,n,r),(i||0===i)&&(a+=i),a+="\n</div>\n"}),this.HandlebarsTemplates["next/lightboxes/panel_settings/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(_.namespace(e,"next"),t.helpers.view,t.View.extend({__name__:"LightboxesPanelSettings",className:"lightbox panel_settings bottom",template:"templates/next/lightboxes/panel_settings/show",initialize:_.wrap(t.View.prototype.initialize,function(e,n){function r(){a.$trigger("close.lightbox")}function i(){o.get("cloned")||$(".table").trigger("clonePanel",o)}e.apply(this,_.rest(arguments));var a=this,o=a.model;this._target=n.target,a.views().addView(new t.views.panels.controls.Index({el:a.el,model:o})),a.delegateEvents({'click a:not(".cloned")':r,"click .clone":i})}),render:function(){return this.$el.html(JST[_.result(this,"template")](this.model.decorator().toJSON())).position({my:"right bottom",at:"right top",of:this._target}),this}}));_.namespace(t,"views.lightboxes").PanelSettings=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=tracker.Decorator.extend({});t.Decorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.Decorator.extend({model:t.FavoriteSearch,toJSON:function(){return _.extend(this.toJSON(),{error_message:this.validationError,project_id:this.project().id})}});t.FavoriteSearchDecorator=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/favorite_search/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/favorite_search/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n  <header class="title">\n    <h2>Save search as:</h2>\n    <button class="cancel" type="reset" title="Cancel"></button>\n  </header>\n  <article class="content">\n    <fieldset>\n      <input type="hidden" name="saved_search[project_id]" value="',i=n.project_id,i?r=i.call(e,{hash:{}}):(r=e.project_id,r=typeof r===u?r():r),a+=d(r)+'" data-type="number"/>\n      <input type="hidden" name="saved_search[query]" value="',i=n.query,i?r=i.call(e,{hash:{}}):(r=e.query,r=typeof r===u?r():r),a+=d(r)+'"/>\n      <input ',i=n.error_message,i?r=i.call(e,{hash:{},inverse:p.noop,fn:p.program(2,o,t)}):(r=e.error_message,r=typeof r===u?r():r),n.error_message||(r=h.call(e,r,{hash:{},inverse:p.noop,fn:p.program(2,o,t)})),(r||0===r)&&(a+=r),a+=' type="text" name="saved_search[name]" value="',i=n.name,i?r=i.call(e,{hash:{}}):(r=e.name,r=typeof r===u?r():r),a+=d(r)+'" autofocus/>\n    </fieldset>\n    <nav>\n      <button class="submit" type="submit" title="Save">Save</button>\n    </nav>\n    <span class="error_message">',i=n.error_message,i?r=i.call(e,{hash:{}}):(r=e.error_message,r=typeof r===u?r():r),a+=d(r)+"</span>\n  </article>\n"}function o(){return'class="invalid"'}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.blockHelperMissing;return l=n.formTag,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i)}):(s=t.formTag,s=typeof s===u?s():s),n.formTag||(s=h.call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i)})),(s||0===s)&&(c+=s),c+="\n"}),this.HandlebarsTemplates["next/lightboxes/favorite_search/show"]}.call(this)}.call(this),function(){"use strict";function e(e){$(e.currentTarget).trigger("close.lightbox")}var t=this,n=_.namespace(t,"tracker"),r=(_.namespace(t,"next"),n.helpers.view.transformArguments),i=n.View.extend({__name__:"LightboxesFavoriteSearch",className:"lightbox save_search bottom",template:"templates/next/lightboxes/favorite_search/show",initialize:_.wrap(n.View.prototype.initialize,function(t,i){function a(){d.set(s.$("form").serializeObject().saved_search)}function o(){mixpanel.track("/search/favorite"),l.setFavoriteSearch(d),u.favoriteSearches().push(d).save().then(function(){l.set({id:[l.generateId(l.get("type")),"favorite",d.id].join("_"),favorite_search_id:d.id})})}t.apply(this,_.rest(arguments));var s=this,l=this.model,c=l.project(),u=n.Person.current().layoutScheme(),d=new n.FavoriteSearch({query:l.search().get("query"),project_id:c.id},{collection:u.favoriteSearches()});_.extend(this,{_target:i.target,_favoriteSearch:d}),this._target=i.target;var p=r(function(){return d.isValid()&&arguments});s.delegateEvents({"keyup input":a,reset:e,submit:p(o,e)},[d,{invalid:_.bind(this.render,this)}])}),render:function(){return this.$el.html(JST[_.result(this,"template")](this._favoriteSearch.decorator().toJSON())).position({my:"right bottom",at:"right top",of:this._target,offset:"0 -10"}),this}});_.namespace(n,"views.lightboxes").FavoriteSearch=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.helpers,i=t.View.extend({__name__:"PanelsControlsIndex",events:{"click .add_story":"addStory","click .mark_all_read":"markAllNotificationsAsRead","click .split,.unsplit,.panel_settings,.add_story,.mark_all_read":"preventDefault","click .split":"clickSplit","click .unsplit":"clickUnsplit","click .panel_settings":"clickPanelSettings","click .panel_controls .close":"closePanelClicked","click .pin_search":"pinSearch","click .panel_controls a":"preventDefault","click .save_search":"favoriteSearch","click .unsave_search":"unfavoriteSearch","click .unpin_search":"unpinSearch","click .manual_planning_indicator":"openManualPlanningLightbox","click .panel_controls .add_model.epic":"addNewEpic","click .panel_controls .add_model.story":"addNewEpicStory","click .panel_controls .past_done .show_all":"showPastDoneOnce","click .panel_controls .select_all":"selectAll","click .panel_controls .deselect_all":"deselectAll","click .panel_controls .clone":"clonePanel","click .panel_controls .expand_all":"expandAllIterations","click .panel_controls .collapse_all":"collapseAllIterations","click .panel_controls .save_search":"saveSearch","click .panel_controls .refresh":"refresh","click .panel_controls .open_feedback":"openFeedback"},openFeedback:function(){var e=new t.LightboxesController;e.create("feedback",{panel:this.model,opacity:!0})},addNewEpic:function(){return r.deferUntilProjectLoaded(this.project,r.view.requireWriteAccess.call(this,this.project,this.addBlankEpic)).apply(arguments)},openManualPlanningLightbox:function(e){(new t.LightboxesController).create("manual_planning",{model:this.model.project(),button:e.currentTarget})},addStory:function(){var e=this.model,n=e.project(),r="backlog"===e.get("type")?e.get("name").replace("/","_"):e.get("type");t.MixpanelReporter.current().track("/stories/add",{source:r}),this.$trigger("addStory",n)},addNewEpicStory:function(e){return t.MixpanelReporter.current().track("/stories/add",{source:this.panel.get("type")}),r.view.requireWriteAccess.call(this,this.project,this.addBlankEpicStory)(e)},clickSplit:function(){this.$trigger("split",this.model)},clickUnsplit:function(){this.$trigger("unsplit",this.model)},pinSearch:function(e){mixpanel.track("/search/pin"),e.preventDefault(),e.stopImmediatePropagation(),this.model.set({pinned:!0})},unpinSearch:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.model.set({pinned:!1})},clickPanelSettings:function(e){(new t.LightboxesController).create("panel_settings",{model:this.model,target:e.currentTarget})},markAllNotificationsAsRead:function(){if("notifications"===this.model.baseId()){var e=t.Person.current().notifications(),n=e.unread().length;mixpanel.track("/notifications/mark_all_read",{source:"panel",unread_count:n}),e.markAllAsRead()}},favoriteSearch:function(e){e.stopImmediatePropagation();var n=this.model;if("epic_stories"===n.get("type")){var r=t.Person.current().layoutScheme();r.favoriteEpics().create({id:n.epic().id})}else(new t.LightboxesController).create("favorite_search",{model:n,target:e.currentTarget})},unfavoriteSearch:function(){mixpanel.track("/search/unfavorite");var e=this.model;"epic_stories"===e.get("type")?e.favoriteEpic().destroy():(e.favoriteSearch().destroy(),e.setFavoriteSearch(null))},initialize:_.wrap(t.View.prototype.initialize,function(e,n){e.call(this,n),this.controller=new t.LightboxesController,this.panel=this.model,this.project=this.model.project()
}),closePanelClicked:function(){t.MixpanelReporter.current().track("/panels/close",{panel_type:this.model.get("type"),source:"button"}),this.$trigger("closePanel",this.model)},addBlankEpic:function(){if(t.MixpanelReporter.current().track("/epics/add",{source:"add_button"}),this.panel.newModel()){var n=this.panel.getExpandedModel(this.panel.newModel());n&&n.isUnsaved()?e.confirm("You have unsaved changes, are you sure you want to create a new epic?")&&(this.panel.collapseModel(n),this.panel.setNewModel(new t.Epic({},{project:this.project})),this.$trigger("expandModel",[this.panel.newModel(),this.panel])):this.$trigger("expandModel",[this.panel.newModel(),this.panel])}else this.panel.setNewModel(new t.Epic({},{project:this.project})),this.$trigger("expandModel",[this.panel.newModel(),this.panel])},addBlankEpicStory:function(e){if(e.preventDefault(),!this.panel.newModel()){var n=new t.Story({requested_by_id:t.Person.current().id},{project:this.project});n.labels().add(this.model.epic().label()),this.panel.setNewModel(n),this.$trigger("expandModel",[n,this.panel]);var r=this.$el.closest(".panel"),i=r.find(".panel_content"),a=r.find(".icebox_stories_marker");i.scrollTo(a)}},preventDefault:function(e){"#"===$(e.target).attr("href")&&e.preventDefault()},showPastDone:function(){var e=this;this.panel.set({message:"Loading..."}),this.$(".past_done").fadeOut(),t.pastDoneStories.fetch(e.project).always(function(){e.panel.unset("message")}).done(function(){e.$el.closest(".panel").find(".panel_content").trigger("rebuild")})},showPastDoneOnce:function(){_.once(this.showPastDone).apply(this,arguments)},selectAll:function(e){e.preventDefault(),this.panel.set("all_models_selected",!0);var n={};_.each(this.panel.items(),function(e){e instanceof t.Story&&(e.project().selectedModels().add(e,{silent:!0}),n[e.project().id]=e.project())}),_.each(_.values(n),function(e){r.select.selectModels(e.selectedModels().models),e.selectedModels().trigger("addAll",e.selectedModels().models)})},deselectAll:function(e){e.preventDefault(),this.panel.unset("all_models_selected");var n={},i={};_.each(this.panel.items(),function(e){if(e instanceof t.Story){var r=e.project().cid;n[e.project().cid]=e.project(),i[r]=i[r]||[],i[r].push(e)}}),_.each(_.values(n),function(e){var t=i[e.cid];r.select.deselectModels(t),e.selectedModels().remove(t,{silent:!0}),e.selectedModels().trigger("removeAll",t)})},clonePanel:function(){t.MixpanelReporter.current().track("/panels/clone",{panel_type:this.model.get("type")}),this.$el.trigger("clonePanel",this.panel)},expandAllIterations:function(){this.panel.panelIterations().invoke("set",{collapsed:!1})},collapseAllIterations:function(){this.panel.panelIterations().invoke("set",{collapsed:!0})},saveSearch:function(e){this.controller.create("save_search",{collection:this.project.savedSearches(),model:this.panel.search(),link:e.currentTarget})},refresh:function(){var e=this.model;return e.isSearch()?(r.panels.collapseItemsInPanels([e])&&(e.set("track_event","/search/refresh"),(new n.projects.SearchesController).show(e)),void 0):this.model.fetchItems()}});_.namespace(t,"views.panels.controls").Index=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"ShowDoneIterations"});t.ShowDoneIterations=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.ShowDoneIterations,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{show_done_iterations:_.extend({cid:this.cid},this.toJSON())}}});t.ShowDoneIterationsDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"SortBar"});t.SortBar=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.SortBar,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{sort_bar:_.extend({cid:this.cid,sort_options:[{label:"by project",value:"project_index"},{label:"by state",value:"story_state"}]},this.toJSON())}}});t.SortBarDecorator=n}.call(this),function(){"use strict";function e(e){var t=tracker.Workspace.current(),n=tracker.Project.current();return _.chain([n&&n.id].concat(t&&t.projects().pluck("id"))).compact().include(e.get("project").id).value()}var t=this,n=_.namespace(t,"next"),r=tracker.helpers.decorator,i=n.Decorator.extend(_.extend({model:tracker.Notification,toJSON:function(){var t,n=this.get("story")&&"story"||this.get("epic")&&"epic",r=n&&(this.get("story")||this.get("epic")),i=tracker.Project.current()||tracker.Workspace.current(),a="story"===n?i.stories():i.epics();return t=e(this)&&r?a.get(r.id)?null:!0:null,_.extend(this.toJSON(),{cid:this.cid,model_type:n,model_name:r&&_.escapeHTML(r.name),model_id:r&&r.id,same_project_or_workspace:e(this),is_past_done:t,model_url:r&&"/"+n+"/show/"+r.id})}},r.toItemJSON("notification")));n.NotificationDecorator=i}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/items/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/items/show"]=Handlebars.template(function(e,t,n,r){n=n||e.helpers,r=r||e.partials;var i,a="",o=this;return i=t,i=o.invokePartial(r._next_panels_items_show,"_next_panels_items_show",i,n,r),(i||0===i)&&(a+=i),a+="\n"}),this.HandlebarsTemplates["next/panels/items/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/items/_show"]=function(){Handlebars.registerPartial("_next_panels_items_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._next_done_groups_show,"_next_done_groups_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function o(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._iterations_show,"_iterations_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function s(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._next_stories_show,"_next_stories_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function l(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._epics_show,"_epics_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function c(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._deadline_groups_show,"_deadline_groups_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function u(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._labels_show,"_labels_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function d(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._tasks_show,"_tasks_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function p(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._saved_searches_show,"_saved_searches_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function h(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._search_results_show,"_search_results_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function g(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._activity_entries_show,"_activity_entries_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function f(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._integration_stories_show,"_integration_stories_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function m(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._integration_stories_header_show,"_integration_stories_header_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function _(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._panels_icebox_stories_marker_show,"_panels_icebox_stories_marker_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function v(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._panels_backlog_stories_marker_show,"_panels_backlog_stories_marker_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function y(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._panels_done_bar_header_show,"_panels_done_bar_header_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function b(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._panels_hide_done_bar_header_show,"_panels_hide_done_bar_header_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function E(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._next_notifications_show,"_next_notifications_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function S(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._accepted_stories_bars_show,"_accepted_stories_bars_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function w(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._activity_entry_groups_show,"_activity_entry_groups_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function T(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._end_of_list_show,"_end_of_list_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function A(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._empty_list_message_show,"_empty_list_message_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function x(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._next_show_done_iterations_show,"_next_show_done_iterations_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function M(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._empty_current_iteration_placeholder_show,"_empty_current_iteration_placeholder_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}function D(e){var t,i="";return i+="\n  ",t=e,t=R.invokePartial(r._next_sort_bar_show,"_next_sort_bar_show",t,n,r),(t||0===t)&&(i+=t),i+="\n"}n=n||e.helpers,r=r||e.partials;var k,O,N="",R=this,C="function",U=n.blockHelperMissing;return O=n.done_group,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(1,a,i)}):(k=t.done_group,k=typeof k===C?k():k),n.done_group||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(1,a,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.iteration,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(3,o,i)}):(k=t.iteration,k=typeof k===C?k():k),n.iteration||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(3,o,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.story,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(5,s,i)}):(k=t.story,k=typeof k===C?k():k),n.story||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(5,s,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.epic,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(7,l,i)}):(k=t.epic,k=typeof k===C?k():k),n.epic||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(7,l,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.deadline_group,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(9,c,i)}):(k=t.deadline_group,k=typeof k===C?k():k),n.deadline_group||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(9,c,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.label,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(11,u,i)}):(k=t.label,k=typeof k===C?k():k),n.label||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(11,u,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.task,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(13,d,i)}):(k=t.task,k=typeof k===C?k():k),n.task||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(13,d,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.saved_search,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(15,p,i)}):(k=t.saved_search,k=typeof k===C?k():k),n.saved_search||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(15,p,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.search_result,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(17,h,i)}):(k=t.search_result,k=typeof k===C?k():k),n.search_result||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(17,h,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.activity_entry,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(19,g,i)}):(k=t.activity_entry,k=typeof k===C?k():k),n.activity_entry||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(19,g,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.integration_story,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(21,f,i)}):(k=t.integration_story,k=typeof k===C?k():k),n.integration_story||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(21,f,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.integration_header,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(23,m,i)}):(k=t.integration_header,k=typeof k===C?k():k),n.integration_header||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(23,m,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.icebox_stories_marker,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(25,_,i)}):(k=t.icebox_stories_marker,k=typeof k===C?k():k),n.icebox_stories_marker||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(25,_,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.backlog_stories_marker,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(27,v,i)}):(k=t.backlog_stories_marker,k=typeof k===C?k():k),n.backlog_stories_marker||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(27,v,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.done_bar_header,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(29,y,i)}):(k=t.done_bar_header,k=typeof k===C?k():k),n.done_bar_header||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(29,y,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.hide_done_bar_header,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(31,b,i)}):(k=t.hide_done_bar_header,k=typeof k===C?k():k),n.hide_done_bar_header||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(31,b,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.notification,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(33,E,i)}):(k=t.notification,k=typeof k===C?k():k),n.notification||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(33,E,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.accepted_stories_bar,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(35,S,i)}):(k=t.accepted_stories_bar,k=typeof k===C?k():k),n.accepted_stories_bar||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(35,S,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.activity_entry_group,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(37,w,i)}):(k=t.activity_entry_group,k=typeof k===C?k():k),n.activity_entry_group||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(37,w,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.end_of_list,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(39,T,i)}):(k=t.end_of_list,k=typeof k===C?k():k),n.end_of_list||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(39,T,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.empty_list_message,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(41,A,i)}):(k=t.empty_list_message,k=typeof k===C?k():k),n.empty_list_message||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(41,A,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.show_done_iterations,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(43,x,i)}):(k=t.show_done_iterations,k=typeof k===C?k():k),n.show_done_iterations||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(43,x,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.empty_current_iteration_placeholder,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(45,M,i)}):(k=t.empty_current_iteration_placeholder,k=typeof k===C?k():k),n.empty_current_iteration_placeholder||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(45,M,i)})),(k||0===k)&&(N+=k),N+="\n",O=n.sort_bar,O?k=O.call(t,{hash:{},inverse:R.noop,fn:R.program(47,D,i)}):(k=t.sort_bar,k=typeof k===C?k():k),n.sort_bar||(k=U.call(t,k,{hash:{},inverse:R.noop,fn:R.program(47,D,i)})),(k||0===k)&&(N+=k),N+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/iterations/_show"]=function(){Handlebars.registerPartial("_iterations_show",Handlebars.template(function(e,t,n,r,i){function a(){return" current_iteration"}function o(){return" editable_iteration"}function s(){return" custom_length"}function l(){return"no_"}function c(){return'\n      <a class="current_iteration_bubble">&nbsp;</a>\n    '}function u(e,t){var r,i="";return i+='\n      <a class="expander',r=e.is_collapsed,r=n.unless.call(e,r,{hash:{},inverse:M.noop,fn:M.program(12,d,t)}),(r||0===r)&&(i+=r),r=e.has_stories,r=n.unless.call(e,r,{hash:{},inverse:M.noop,fn:M.program(14,p,t)}),(r||0===r)&&(i+=r),i+='">&nbsp;</a>\n    '}function d(){return" expanded"}function p(){return" empty"}function h(e){var t,r,i,a;return t=e.start_time,r={},r.format="%-d %b",i=e.project_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):D.call(e,"dateTime",t,{hash:r}),k(t)}function g(e){var t,r,i,a;return t=e.start_time,r={},r.format="%-d %b %Y",i=e.project_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):D.call(e,"dateTime",t,{hash:r}),k(t)}function f(e,t){var r,i="";return i+="\n        &ndash;\n        ",r=e.ends_in_current_year,r=n["if"].call(e,r,{hash:{},inverse:M.program(23,_,t),fn:M.program(21,m,t)}),(r||0===r)&&(i+=r),i+="\n      "}function m(e){var t,r,i,a,o="";return o+="\n          ",t=e.display_end_time,r={},r.format="%-d %b",i=e.project_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):D.call(e,"dateTime",t,{hash:r}),o+=k(t)+"\n        "}function _(e){var t,r,i,a,o="";return o+="\n          ",t=e.display_end_time,r={},r.format="%-d %b %Y",i=e.project_time_zone,r["time-zone"]=i,a=n.dateTime,t=a?a.call(e,t,{hash:r}):D.call(e,"dateTime",t,{hash:r}),o+=k(t)+"\n        "}function v(e,t){var r,i="";return i+="\n        ",r=e.is_current,r=n["if"].call(e,r,{hash:{},inverse:M.noop,fn:M.program(26,y,t)}),(r||0===r)&&(i+=r),i+="\n      "}function y(e){var t,r,i="";return i+='\n          <span class="type"> - ',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===O?t():t),i+=k(t)+"</span>\n        "}function b(e){var t,r,i="";return i+='\n      <span class="completed">',r=n.accepted_points,r?t=r.call(e,{hash:{}}):(t=e.accepted_points,t=typeof t===O?t():t),i+=k(t)+" of </span>\n      "}function E(){return'\n      <span class="manual_planning_indicator">MP</span>\n    '}n=n||e.helpers;var S,w,T,A,x="",M=this,D=n.helperMissing,k=this.escapeExpression,O="function";return x+='<div class="iteration item',S=t.is_current,S=n["if"].call(t,S,{hash:{},inverse:M.noop,fn:M.program(1,a,i)}),(S||0===S)&&(x+=S),S=t.editable,S=n["if"].call(t,S,{hash:{},inverse:M.noop,fn:M.program(3,o,i)}),(S||0===S)&&(x+=S),S=t.has_custom_length,S=n["if"].call(t,S,{hash:{},inverse:M.noop,fn:M.program(5,s,i)}),(S||0===S)&&(x+=S),x+=" ",S=t.has_no_team_strength,S=n["if"].call(t,S,{hash:{},inverse:M.noop,fn:M.program(7,l,i)}),(S||0===S)&&(x+=S),x+='team_strength" data-id="',A=n.id,A?S=A.call(t,{hash:{}}):(S=t.id,S=typeof S===O?S():S),x+=k(S)+'" data-cid="',A=n.cid,A?S=A.call(t,{hash:{}}):(S=t.cid,S=typeof S===O?S():S),x+=k(S)+'">\n  <header class="preview">\n    ',S=t.is_current_iteration_and_not_included_in_backlog,S=n["if"].call(t,S,{hash:{},inverse:M.program(11,u,i),fn:M.program(9,c,i)}),(S||0===S)&&(x+=S),x+='\n    <span class="number">',A=n.id,A?S=A.call(t,{hash:{}}):(S=t.id,S=typeof S===O?S():S),x+=k(S)+'</span>\n    <time class="length" title="Iteration from ',S=t.start_time,w={},w.format="%-d %b %Y %H:%M %-z %-Z",T=t.project_time_zone,w["time-zone"]=T,A=n.dateTime,S=A?A.call(t,S,{hash:w}):D.call(t,"dateTime",S,{hash:w}),x+=k(S)+" to ",S=t.display_end_time,w={},w.format="%-d %b %Y %H:%M %-z %-Z",T=t.project_time_zone,w["time-zone"]=T,A=n.dateTime,S=A?A.call(t,S,{hash:w}):D.call(t,"dateTime",S,{hash:w}),x+=k(S)+'"\n        >',S=t.starts_in_current_year,S=n["if"].call(t,S,{hash:{},inverse:M.program(18,g,i),fn:M.program(16,h,i)}),(S||0===S)&&(x+=S),x+="\n      ",S=t.has_custom_length,S=n["if"].call(t,S,{hash:{},inverse:M.noop,fn:M.program(20,f,i)}),(S||0===S)&&(x+=S),x+="\n      ",S=t.has_custom_length,S=n.unless.call(t,S,{hash:{},inverse:M.noop,fn:M.program(25,v,i)}),(S||0===S)&&(x+=S),x+='\n    </time>\n\n    <a class="team_strength" title="Team strength for this iteration is at ',S=t.team_strength,A=n.percent,S=A?A.call(t,S,{hash:{}}):D.call(t,"percent",S,{hash:{}}),x+=k(S)+'%. Click to change." tabindex="-1">',S=t.team_strength,A=n.percent,S=A?A.call(t,S,{hash:{}}):D.call(t,"percent",S,{hash:{}}),x+=k(S)+'%</a>\n    <span class="points">\n      Pts:\n      ',S=t.is_current,S=n["if"].call(t,S,{hash:{},inverse:M.noop,fn:M.program(28,b,i)}),(S||0===S)&&(x+=S),x+='\n      <span class="total">',A=n.points,A?S=A.call(t,{hash:{}}):(S=t.points,S=typeof S===O?S():S),x+=k(S)+"</span>\n    </span>\n    ",S=t.is_manually_planned,S=n["if"].call(t,S,{hash:{},inverse:M.noop,fn:M.program(30,E,i)}),(S||0===S)&&(x+=S),x+="\n  </header>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/stories/_show"]=function(){Handlebars.registerPartial("_next_stories_show",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+="\n  ",r=e.is_collapsed,r=n.unless.call(e,r,{hash:{},inverse:m.noop,fn:m.program(2,o,t)}),(r||0===r)&&(i+=r),i+="\n"}function o(e,t){var r,i,a="";return a+='\n    <div class="',i=n.storyClasses,i?r=i.call(e,{hash:{}}):(r=e.storyClasses,r=typeof r===g?r():r),a+=f(r)+" ",i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===g?r():r),a+=f(r)+" not_collapsed",r=e.accepted_before_current,r=n["if"].call(e,r,{hash:{},inverse:m.noop,fn:m.program(3,s,t)}),(r||0===r)&&(a+=r),r=e.iteration_id,r=n["if"].call(e,r,{hash:{},inverse:m.noop,fn:m.program(5,l,t)}),(r||0===r)&&(a+=r),a+=" point_scale_",i=n.point_scale_type,i?r=i.call(e,{hash:{}}):(r=e.point_scale_type,r=typeof r===g?r():r),a+=f(r)+'" data-cid="',i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===g?r():r),a+=f(r)+'" data-id="',i=n.id,i?r=i.call(e,{hash:{}}):(r=e.id,r=typeof r===g?r():r),a+=f(r)+'">\n      ',r=e.expanded,r=n.unless.call(e,r,{hash:{},inverse:m.noop,fn:m.program(7,c,t)}),(r||0===r)&&(a+=r),a+="\n      ",i=n.isWebkit,i?r=i.call(e,{hash:{},inverse:m.noop,fn:m.program(9,u,t)}):(r=e.isWebkit,r=typeof r===g?r():r),n.isWebkit||(r=_.call(e,r,{hash:{},inverse:m.noop,fn:m.program(9,u,t)})),(r||0===r)&&(a+=r),a+="\n    </div>\n  "}function s(){return" accepted_before_current"}function l(e){var t,r,i="";return i+=" iteration_",r=n.iteration_id,r?t=r.call(e,{hash:{}}):(t=e.iteration_id,t=typeof t===g?t():t),i+=f(t)}function c(e){var t,i="";return i+="\n        ",t=e,t=m.invokePartial(r._next_stories_preview,"_next_stories_preview",t,n,r),(t||0===t)&&(i+=t),i+="\n      "}function u(e,t){var r,i="";return i+='\n        <section class="edit',r=e.expanded,r=n.unless.call(e,r,{hash:{},inverse:m.noop,fn:m.program(10,d,t)}),(r||0===r)&&(i+=r),i+='" tabindex="-1"></section>\n      '}function d(){return" webkit"}n=n||e.helpers,r=r||e.partials;var p,h="",g="function",f=this.escapeExpression,m=this,_=n.blockHelperMissing;return p=t.show_accepted,p=n["if"].call(t,p,{hash:{},inverse:m.noop,fn:m.program(1,a,i)}),(p||0===p)&&(h+=p),h+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/_show"]=function(){Handlebars.registerPartial("_epics_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t,i="";return i+="\n    ",t=e,t=c.invokePartial(r._epics_preview,"_epics_preview",t,n,r),(t||0===t)&&(i+=t),i+="\n  "}n=n||e.helpers,r=r||e.partials;var o,s,l="",c=this,u="function",d=this.escapeExpression;return l+='<div class="',s=n.epicClasses,s?o=s.call(t,{hash:{}}):(o=t.epicClasses,o=typeof o===u?o():o),l+=d(o)+" ",s=n.cid,s?o=s.call(t,{hash:{}}):(o=t.cid,o=typeof o===u?o():o),l+=d(o)+'" data-cid="',s=n.cid,s?o=s.call(t,{hash:{}}):(o=t.cid,o=typeof o===u?o():o),l+=d(o)+'">\n  ',o=t.expanded,o=n.unless.call(t,o,{hash:{},inverse:c.noop,fn:c.program(1,a,i)}),(o||0===o)&&(l+=o),l+="\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/epics/_preview"]=function(){Handlebars.registerPartial("_epics_preview",Handlebars.template(function(e,t,n,r,i){function a(){return" new"}function o(e){var t,r,i,a,o="";return o+="\n    ",t=e.project_id,r=e.cid,i={},i.icon=!0,i["class"]="button",i.tabindex="-1",a=n.revealLink,t=a?a.call(e,"epic",r,t,{hash:i}):_.call(e,"revealLink","epic",r,t,{hash:i}),o+=v(t)+"\n  "}function s(e,t){var r,i,a="";return a+="\n    ",i=n.progress,i?r=i.call(e,{hash:{},inverse:b.noop,fn:b.programWithDepth(l,t,e)}):(r=e.progress,r=typeof r===y?r():r),n.progress||(r=E.call(e,r,{hash:{},inverse:b.noop,fn:b.programWithDepth(l,t,e)})),(r||0===r)&&(a+=r),a+="\n  "}function l(e,t,r){var i,a,o="";return o+='\n      <aside class="progress undraggable"><span class="undraggable" style="width: ',i=r.percentage_of_largest_epic,i=typeof i===y?i():i,o+=v(i)+'%;">',a=n.accepted,a?i=a.call(e,{hash:{},inverse:b.noop,fn:b.program(7,c,t)}):(i=e.accepted,i=typeof i===y?i():i),n.accepted||(i=E.call(e,i,{hash:{},inverse:b.noop,fn:b.program(7,c,t)})),(i||0===i)&&(o+=i),a=n.active,a?i=a.call(e,{hash:{},inverse:b.noop,fn:b.program(9,u,t)}):(i=e.active,i=typeof i===y?i():i),n.active||(i=E.call(e,i,{hash:{},inverse:b.noop,fn:b.program(9,u,t)})),(i||0===i)&&(o+=i),a=n.unstarted,a?i=a.call(e,{hash:{},inverse:b.noop,fn:b.program(11,d,t)}):(i=e.unstarted,i=typeof i===y?i():i),n.unstarted||(i=E.call(e,i,{hash:{},inverse:b.noop,fn:b.program(11,d,t)})),(i||0===i)&&(o+=i),a=n.unscheduled,a?i=a.call(e,{hash:{},inverse:b.noop,fn:b.program(13,p,t)}):(i=e.unscheduled,i=typeof i===y?i():i),n.unscheduled||(i=E.call(e,i,{hash:{},inverse:b.noop,fn:b.program(13,p,t)})),(i||0===i)&&(o+=i),o+="</span></aside>\n    "}function c(e){var t,r,i="";return i+='<span class="accepted undraggable" style="width: ',r=n.percentage,r?t=r.call(e,{hash:{}}):(t=e.percentage,t=typeof t===y?t():t),i+=v(t)+'%;"></span>'}function u(e){var t,r,i="";return i+='<span class="active undraggable" style="width: ',r=n.percentage,r?t=r.call(e,{hash:{}}):(t=e.percentage,t=typeof t===y?t():t),i+=v(t)+'%;"></span>'}function d(e){var t,r,i="";return i+='<span class="unstarted undraggable" style="width: ',r=n.percentage,r?t=r.call(e,{hash:{}}):(t=e.percentage,t=typeof t===y?t():t),i+=v(t)+'%;"></span>'}function p(e){var t,r,i="";return i+='<span class="unscheduled undraggable" style="width: ',r=n.percentage,r?t=r.call(e,{hash:{}}):(t=e.percentage,t=typeof t===y?t():t),i+=v(t)+'%;"></span>'}n=n||e.helpers;var h,g,f,m="",_=n.helperMissing,v=this.escapeExpression,y="function",b=this,E=n.blockHelperMissing;return m+='<header class="preview',h=t.is_new,h=n["if"].call(t,h,{hash:{},inverse:b.noop,fn:b.program(1,a,i)}),(h||0===h)&&(m+=h),m+='">\n  <a class="expander undraggable" tabindex="-1"></a>\n  ',h=t.is_revealable,h=n["if"].call(t,h,{hash:{},inverse:b.noop,fn:b.program(3,o,i)}),(h||0===h)&&(m+=h),m+="\n  ",h=t.stories_count,h=n["if"].call(t,h,{hash:{},inverse:b.noop,fn:b.program(5,s,i)}),(h||0===h)&&(m+=h),m+='\n  <a class="chevron undraggable" tabindex="-1"></a>\n  <span class="meta"></span>\n  <span class="name tracker_markup"><span class="epic_name">',h=t.name,g={},g.type="simple",f=n.markup,h=f?f.call(t,h,{hash:g}):_.call(t,"markup",h,{hash:g}),m+=v(h)+"</span></span>\n</header>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/deadline_groups/_show"]=function(){Handlebars.registerPartial("_deadline_groups_show",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n    ",i=n.deadline,i?r=i.call(e,{hash:{},inverse:u.noop,fn:u.program(2,o,t)}):(r=e.deadline,r=typeof r===d?r():r),n.deadline||(r=p.call(e,r,{hash:{},inverse:u.noop,fn:u.program(2,o,t)})),(r||0===r)&&(a+=r),a+="\n  "}function o(e){var t,i="";return i+="\n      ",t=e,t=u.invokePartial(r._panels_release_deadlines_show,"_panels_release_deadlines_show",t,n,r),(t||0===t)&&(i+=t),i+="\n    "}n=n||e.helpers,r=r||e.partials;var s,l,c="",u=this,d="function",p=n.blockHelperMissing,h=this.escapeExpression;return c+='<div class="item" data-cid="',l=n.cid,l?s=l.call(t,{hash:{}}):(s=t.cid,s=typeof s===d?s():s),c+=h(s)+'">\n  ',l=n.deadlines,l?s=l.call(t,{hash:{},inverse:u.noop,fn:u.program(1,a,i)}):(s=t.deadlines,s=typeof s===d?s():s),n.deadlines||(s=p.call(t,s,{hash:{},inverse:u.noop,fn:u.program(1,a,i)})),(s||0===s)&&(c+=s),c+="\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/labels/_show"]=function(){Handlebars.registerPartial("_labels_show",Handlebars.template(function(e,t,n,r,i){function a(){return" epic"}function o(){return" has_incomplete_stories"}function s(e){var t,r,i="";return i+='\n            <li class="dropdown_item"><a class="delete" id="label_delete_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===h?t():t),i+=g(t)+'">Delete</a></li>\n          '}function l(e){var t,r,i="";return i+='\n            <li class="dropdown_item"><a class="convert" id="label_convert_',r=n.cid,r?t=r.call(e,{hash:{}}):(t=e.cid,t=typeof t===h?t():t),i+=g(t)+'">Convert to Epic</a></li>\n          '}function c(e){var t,r,i="";return i+="&nbsp;(",r=n.incomplete_story_count,r?t=r.call(e,{hash:{}}):(t=e.incomplete_story_count,t=typeof t===h?t():t),i+=g(t)+")"}n=n||e.helpers;var u,d,p="",h="function",g=this.escapeExpression,f=this;return p+='<div class="model label',u=t.has_epic,u=n["if"].call(t,u,{hash:{},inverse:f.noop,fn:f.program(1,a,i)}),(u||0===u)&&(p+=u),u=t.incomplete_story_count,u=n["if"].call(t,u,{hash:{},inverse:f.noop,fn:f.program(3,o,i)}),(u||0===u)&&(p+=u),p+='" data-cid="',d=n.cid,d?u=d.call(t,{hash:{}}):(u=t.cid,u=typeof u===h?u():u),p+=g(u)+'">\n  <section class="viewing">\n    <menu class="dropdown labels">\n      <a id="label_more_menu_anchor_',d=n.cid,d?u=d.call(t,{hash:{}}):(u=t.cid,u=typeof u===h?u():u),p+=g(u)+'" class="anchor target"><span class="cog"></span></a>\n      <section>\n        <ul class="dropdown_menu">\n          ',u=t.has_epic,u=n.unless.call(t,u,{hash:{},inverse:f.noop,fn:f.program(5,s,i)}),(u||0===u)&&(p+=u),p+='\n          <li class="dropdown_item"><a class="rename" id="label_rename_',d=n.cid,d?u=d.call(t,{hash:{}}):(u=t.cid,u=typeof u===h?u():u),p+=g(u)+'">Rename Label</a></li>\n          <li class="dropdown_item"><a class="show_stories" id="label_show_stories_',d=n.cid,d?u=d.call(t,{hash:{}}):(u=t.cid,u=typeof u===h?u():u),p+=g(u)+'">Show Stories</a></li>\n          ',u=t.has_epic,u=n.unless.call(t,u,{hash:{},inverse:f.noop,fn:f.program(7,l,i)}),(u||0===u)&&(p+=u),p+='\n        </ul>\n      </section>\n    </menu>\n    <span class="name" title="',d=n.name,d?u=d.call(t,{hash:{}}):(u=t.name,u=typeof u===h?u():u),p+=g(u)+'">',d=n.name,d?u=d.call(t,{hash:{}}):(u=t.name,u=typeof u===h?u():u),p+=g(u)+'</span><span class="incomplete">',u=t.incomplete_story_count,u=n["if"].call(t,u,{hash:{},inverse:f.noop,fn:f.program(9,c,i)}),(u||0===u)&&(p+=u),p+="</span>\n  </section>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/saved_searches/_show"]=function(){Handlebars.registerPartial("_saved_searches_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+="<div class='saved_search model' data-id=\"",i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+'" data-cid="',i=n.cid,i?r=i.call(t,{hash:{}}):(r=t.cid,r=typeof r===o?r():r),a+=s(r)+'">\n  <a class="delete">Delete</a>\n  <a class="search" title="',i=n.name,i?r=i.call(t,{hash:{}}):(r=t.name,r=typeof r===o?r():r),a+=s(r)+'">',i=n.name,i?r=i.call(t,{hash:{}}):(r=t.name,r=typeof r===o?r():r),a+=s(r)+"</a>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/search_results/_show"]=function(){Handlebars.registerPartial("_search_results_show",Handlebars.template(function(e,t,n,r,i){function a(e,t,r){var i,a,o="";return o+='\n  <div class="item stories results_bar invalid_drop_target" data-cid="',i=r.cid,i=typeof i===u?i():i,o+=d(i)+'">\n    <h2>Stories</h2>\n    <p>',i=e.total_hits,a=n.pluralize,i=a?a.call(e,"story",i,{hash:{}}):p.call(e,"pluralize","story",i,{hash:{}}),o+=d(i)+", ",i=e.total_points,a=n.pluralize,i=a?a.call(e,"point",i,{hash:{}}):p.call(e,"pluralize","point",i,{hash:{}}),o+=d(i)+"</p>\n  </div>\n"}function o(e,t,r){var i,a,o="";return o+='\n  <div class="item epics results_bar invalid_drop_target" data-cid="',i=r.cid,i=typeof i===u?i():i,o+=d(i)+'">\n    <h2>Epics</h2>\n    <p>\n      <span class="total_hits">',i=e.total_hits,a=n.pluralize,i=a?a.call(e,"epic",i,{hash:{}}):p.call(e,"pluralize","epic",i,{hash:{}}),o+=d(i)+'</span>\n      <span class="total_hits_with_done">',i=e.total_hits_with_done,a=n.pluralize,i=a?a.call(e,"epic",i,{hash:{}}):p.call(e,"pluralize","epic",i,{hash:{}}),o+=d(i)+"</span>\n    </p>\n  </div>\n"}n=n||e.helpers;var s,l,c="",u="function",d=this.escapeExpression,p=n.helperMissing,h=this,g=n.blockHelperMissing;return l=n.stories,l?s=l.call(t,{hash:{},inverse:h.noop,fn:h.programWithDepth(a,i,t)}):(s=t.stories,s=typeof s===u?s():s),n.stories||(s=g.call(t,s,{hash:{},inverse:h.noop,fn:h.programWithDepth(a,i,t)})),(s||0===s)&&(c+=s),c+="\n\n",l=n.epics,l?s=l.call(t,{hash:{},inverse:h.noop,fn:h.programWithDepth(o,i,t)}):(s=t.epics,s=typeof s===u?s():s),n.epics||(s=g.call(t,s,{hash:{},inverse:h.noop,fn:h.programWithDepth(o,i,t)})),(s||0===s)&&(c+=s),c+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/empty_list_message/_show"]=function(){Handlebars.registerPartial("_empty_list_message_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="item empty_list_message" data-cid="',i=n.cid,i?r=i.call(t,{hash:{}}):(r=t.cid,r=typeof r===o?r():r),a+=s(r)+'">\n  ',i=n.message,i?r=i.call(t,{hash:{}}):(r=t.message,r=typeof r===o?r():r),a+=s(r)+"\n</div>\n"
}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/activity_entry_groups/_show"]=function(){Handlebars.registerPartial("_activity_entry_groups_show",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n  <div class="item activity_entry_group" data-cid="',i=n.cid,i?r=i.call(e,{hash:{}}):(r=e.cid,r=typeof r===c?r():r),a+=u(r)+'">\n    <a class="show_more_history',r=e.loading,r=n["if"].call(e,r,{hash:{},inverse:d.noop,fn:d.program(2,o,t)}),(r||0===r)&&(a+=r),a+='"><span>show more history</span></a>\n  </div>\n'}function o(){return" loading"}n=n||e.helpers;var s,l="",c="function",u=this.escapeExpression,d=this;return s=t.visible,s=n["if"].call(t,s,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}),(s||0===s)&&(l+=s),l+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/activity_entries/_show"]=function(){Handlebars.registerPartial("_activity_entries_show",Handlebars.template(function(e,t,n,r,i){function a(){return" multi"}function o(e,t){var r,i,a="";return a+='\n      <header class="group">\n        ',r=e.is_revealable,r=n["if"].call(e,r,{hash:{},inverse:w.noop,fn:w.program(4,s,t)}),(r||0===r)&&(a+=r),a+="\n        <h1>Multiple ",r=e.kind,i=n.pluralize,r=i?i.call(e,r,{hash:{}}):E.call(e,"pluralize",r,{hash:{}}),a+=S(r)+"</h1>\n      </header>\n    "}function s(e){var t,r,i,a,o;return t=e.project_id,r=e.ids,i=e.kind,a={},a.icon=!0,a["class"]="button",o=n.revealLink,t=o?o.call(e,i,r,t,{hash:a}):E.call(e,"revealLink",i,r,t,{hash:a}),S(t)}function l(e,t){var r,i,a="";return a+="\n      ",i=n.primary_resources,i?r=i.call(e,{hash:{},inverse:w.noop,fn:w.programWithDepth(c,t,e)}):(r=e.primary_resources,r=typeof r===T?r():r),n.primary_resources||(r=A.call(e,r,{hash:{},inverse:w.noop,fn:w.programWithDepth(c,t,e)})),(r||0===r)&&(a+=r),a+="\n    "}function c(e,t,r){var i,a="";return a+='\n        <header class="group ',i=e.story_type,i=n["if"].call(e,i,{hash:{},inverse:w.program(10,d,t),fn:w.program(8,u,t)}),(i||0===i)&&(a+=i),a+='">\n          ',i=r.is_revealable,i=n["if"].call(e,i,{hash:{},inverse:w.noop,fn:w.program(12,p,t)}),(i||0===i)&&(a+=i),a+="\n          <h1>",i=e.name,i=n["if"].call(e,i,{hash:{},inverse:w.programWithDepth(g,t,r),fn:w.program(14,h,t)}),(i||0===i)&&(a+=i),a+="</h1>\n        </header>\n      "}function u(e){var t,r,i="";return i+="type-",r=n.story_type,r?t=r.call(e,{hash:{}}):(t=e.story_type,t=typeof t===T?t():t),i+=S(t)}function d(e){var t,r,i="";return i+="type-",r=n.kind,r?t=r.call(e,{hash:{}}):(t=e.kind,t=typeof t===T?t():t),i+=S(t)}function p(e){var t,r,i,a,o;return t=e.project_id,r=e.id,i=e.kind,a={},a.icon=!0,a["class"]="button",o=n.revealLink,t=o?o.call(e,i,r,t,{hash:a}):E.call(e,"revealLink",i,r,t,{hash:a}),S(t)}function h(e){var t,r,i;return t=e.name,r={},r["escape-html"]=!0,i=n.breakupLongWords,t=i?i.call(e,t,{hash:r}):E.call(e,"breakupLongWords",t,{hash:r}),S(t)}function g(e,t,r){var i,a,o;return i=r.project_name,a={},a["escape-html"]=!0,o=n.breakupLongWords,i=o?o.call(e,i,{hash:a}):E.call(e,"breakupLongWords",i,{hash:a}),S(i)}function f(e){var t,i="";return i+="\n      ",t=e,t=w.invokePartial(r._activity_entries_entry,"_activity_entries_entry",t,n,r),(t||0===t)&&(i+=t),i+="\n    "}n=n||e.helpers,r=r||e.partials;var m,_,v,y,b="",E=n.helperMissing,S=this.escapeExpression,w=this,T="function",A=n.blockHelperMissing;return b+='<div class="item activity_entry',m=t.is_multi,m=n["if"].call(t,m,{hash:{},inverse:w.noop,fn:w.program(1,a,i)}),(m||0===m)&&(b+=m),b+='" data-cid="',y=n.cid,y?m=y.call(t,{hash:{}}):(m=t.cid,m=typeof m===T?m():m),b+=S(m)+'">\n  <header class="preview">\n    ',m=t.is_multi,m=n["if"].call(t,m,{hash:{},inverse:w.program(6,l,i),fn:w.program(3,o,i)}),(m||0===m)&&(b+=m),b+='\n\n    <span class="occurred_at" title="',m=t.occurred_at,_={},v=t.user_time_zone,_["time-zone"]=v,y=n.dateTime,m=y?y.call(t,m,{hash:_}):E.call(t,"dateTime",m,{hash:_}),b+=S(m)+'">',m=t.occurred_at,y=n.timeAgo,m=y?y.call(t,m,{hash:{}}):E.call(t,"timeAgo",m,{hash:{}}),b+=S(m)+"</span>\n    ",y=n.entries,y?m=y.call(t,{hash:{},inverse:w.noop,fn:w.program(18,f,i)}):(m=t.entries,m=typeof m===T?m():m),n.entries||(m=A.call(t,m,{hash:{},inverse:w.noop,fn:w.program(18,f,i)})),(m||0===m)&&(b+=m),b+="\n  </header>\n</div>\n\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/activity_entries/_entry"]=function(){Handlebars.registerPartial("_activity_entries_entry",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+='\n  <aside class="details">\n    ',r=e.is_multi,r=n["if"].call(e,r,{hash:{},inverse:g.program(5,l,t),fn:g.program(2,o,t)}),(r||0===r)&&(i+=r),i+="\n  </aside>\n"}function o(e,t){var r,i,a="";return a+="\n      <ul>\n      ",i=n.primary_resources,i?r=i.call(e,{hash:{},inverse:g.noop,fn:g.program(3,s,t)}):(r=e.primary_resources,r=typeof r===p?r():r),n.primary_resources||(r=f.call(e,r,{hash:{},inverse:g.noop,fn:g.program(3,s,t)})),(r||0===r)&&(a+=r),a+="\n      </ul>\n    "}function s(e){var t,r,i="";return i+="\n        <li>- ",r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===p?t():t),i+=h(t)+" </li>\n      "}function l(e){var t,r,i="";return i+="\n      ",r=n.activitySentence,t=r?r.call(e,e,{hash:{}}):m.call(e,"activitySentence",e,{hash:{}}),i+=h(t)+"\n    "}n=n||e.helpers,r=r||e.partials;var c,u,d="",p="function",h=this.escapeExpression,g=this,f=n.blockHelperMissing,m=n.helperMissing;return c=t,c=g.invokePartial(r._activity_entries_action,"_activity_entries_action",c,n,r),(c||0===c)&&(d+=c),d+="\n\n",u=n.has_changes,u?c=u.call(t,{hash:{},inverse:g.noop,fn:g.program(1,a,i)}):(c=t.has_changes,c=typeof c===p?c():c),n.has_changes||(c=f.call(t,c,{hash:{},inverse:g.noop,fn:g.program(1,a,i)})),(c||0===c)&&(d+=c),d+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/activity_entries/_action"]=function(){Handlebars.registerPartial("_activity_entries_action",Handlebars.template(function(e,t,n,r,i){function a(){return" with_details"}function o(){return'<a class="details_expander"></a>'}n=n||e.helpers;var s,l,c="",u=this,d="function",p=this.escapeExpression,h=n.helperMissing;return c+='<div class="box',s=t.expanded,s=n["if"].call(t,s,{hash:{},inverse:u.noop,fn:u.program(1,a,i)}),(s||0===s)&&(c+=s),c+='" data-cid="',l=n.cid,l?s=l.call(t,{hash:{}}):(s=t.cid,s=typeof s===d?s():s),c+=p(s)+'">\n  <div class="icons">\n    ',s=t.has_changes,s=n["if"].call(t,s,{hash:{},inverse:u.noop,fn:u.program(3,o,i)}),(s||0===s)&&(c+=s),c+='\n  </div>\n  <div class="message tracker_markup">\n    ',l=n.activityMessage,s=l?l.call(t,t,{hash:{}}):h.call(t,"activityMessage",t,{hash:{}}),c+=p(s)+"\n  </div>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/integration_stories/_show"]=function(){Handlebars.registerPartial("_integration_stories_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r;return r=n.style,r?t=r.call(e,{hash:{}}):(t=e.style,t=typeof t===f?t():t),m(t)}function o(){return" description"}function s(e){var t,r,i="";return i+='\n        <span class="occurred_at">',t=e.created_at,r=n.timeAgo,t=r?r.call(e,t,{hash:{}}):_.call(e,"timeAgo",t,{hash:{}}),i+=m(t)+"</span>\n        "}function l(e){var t,n="";return n+='\n        <span class="id"><a href="',t=e.integration,t=null==t||t===!1?t:t.external_url,t=typeof t===f?t():t,n+=m(t)+'" target="_blank">',t=e.integration,t=null==t||t===!1?t:t.link_text,t=typeof t===f?t():t,n+=m(t)+"</a></span>\n      "}function c(e,t){var r,i="";return i+="\n        ",r=e.is_buganizer,r=n["if"].call(e,r,{hash:{},inverse:v.program(12,d,t),fn:v.program(10,u,t)}),(r||0===r)&&(i+=r),i+="\n      "}function u(e){var t,n="";return n+='\n          <span class="id"><a href="',t=e.integration,t=null==t||t===!1?t:t.external_url,t=typeof t===f?t():t,n+=m(t)+'" target="_blank">',t=e.integration,t=null==t||t===!1?t:t.link_text,t=typeof t===f?t():t,n+=m(t)+"</a></span>\n        "}function d(e){var t,n="";return n+='\n          <span class="id">id: <a href="',t=e.integration,t=null==t||t===!1?t:t.external_url,t=typeof t===f?t():t,n+=m(t)+'" target="_blank">',t=e.integration,t=null==t||t===!1?t:t.link_text,t=typeof t===f?t():t,n+=m(t)+"</a></span>\n        "}n=n||e.helpers;var p,h,g="",f="function",m=this.escapeExpression,_=n.helperMissing,v=this,y=n.blockHelperMissing;return g+='<div class="model draggable item integration_story not_collapsed integration_',h=n.integration_type,h?p=h.call(t,{hash:{}}):(p=t.integration_type,p=typeof p===f?p():p),g+=m(p)+" ",h=n.cid,h?p=h.call(t,{hash:{}}):(p=t.cid,p=typeof p===f?p():p),g+=m(p)+" ",h=n.extra,h?p=h.call(t,{hash:{},inverse:v.noop,fn:v.program(1,a,i)}):(p=t.extra,p=typeof p===f?p():p),n.extra||(p=y.call(t,p,{hash:{},inverse:v.noop,fn:v.program(1,a,i)})),(p||0===p)&&(g+=p),p=t.description,p=n["if"].call(t,p,{hash:{},inverse:v.noop,fn:v.program(3,o,i)}),(p||0===p)&&(g+=p),g+='" data-cid="',h=n.cid,h?p=h.call(t,{hash:{}}):(p=t.cid,p=typeof p===f?p():p),g+=m(p)+'">\n  <header class="preview">\n    <section>\n      <span class="meta"></span>\n      <div class="info">\n        <span class="name">\n          <span class="story_name">',h=n.name,h?p=h.call(t,{hash:{}}):(p=t.name,p=typeof p===f?p():p),g+=m(p)+"</span>\n        </span>\n        ",p=t.created_at,p=n["if"].call(t,p,{hash:{},inverse:v.noop,fn:v.program(5,s,i)}),(p||0===p)&&(g+=p),g+='\n        <p class="requested_by">',h=n.byline,h?p=h.call(t,{hash:{}}):(p=t.byline,p=typeof p===f?p():p),g+=m(p)+'</p>\n      </div>\n    </section>\n    <aside>\n      <strong class="external_state">',h=n.state,h?p=h.call(t,{hash:{}}):(p=t.state,p=typeof p===f?p():p),g+=m(p)+"</strong>\n      ",p=t.is_get_satisfaction,p=n["if"].call(t,p,{hash:{},inverse:v.program(9,c,i),fn:v.program(7,l,i)}),(p||0===p)&&(g+=p),g+="\n    </aside>\n  </header>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/integration_stories/header/_show"]=function(){Handlebars.registerPartial("_integration_stories_header_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a,o="",s="function",l=this.escapeExpression,c=n.helperMissing;return o+='<div class="item integration_header" data-cid="',a=n.cid,a?r=a.call(t,{hash:{}}):(r=t.cid,r=typeof r===s?r():r),o+=l(r)+'">\n  <header class="preview">\n    <span>Showing ',r=t.count,i=t.story_name,a=n.pluralize,r=a?a.call(t,i,r,{hash:{}}):c.call(t,"pluralize",i,r,{hash:{}}),o+=l(r)+"</span>\n  </header>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/icebox_stories_marker/_show"]=function(){Handlebars.registerPartial("_panels_icebox_stories_marker_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="icebox_stories_marker item" data-cid="',i=n.cid,i?r=i.call(t,{hash:{}}):(r=t.cid,r=typeof r===o?r():r),a+=s(r)+'">\n  <div class="preview">\n    <span>Icebox stories</span>\n  </div>\n</div>\n'}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/backlog_stories_marker/_show"]=function(){Handlebars.registerPartial("_panels_backlog_stories_marker_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="backlog_stories_marker item" data-cid="',i=n.cid,i?r=i.call(t,{hash:{}}):(r=t.cid,r=typeof r===o?r():r),a+=s(r)+'">\n  <div class="preview">\n    <span>Backlog stories</span>\n  </div>\n</div>\n'}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/done_bar_header/_show"]=function(){Handlebars.registerPartial("_panels_done_bar_header_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a,o,s="",l=n.helperMissing,c=this.escapeExpression,u="function";return s+='<div class="item ',r=t.type,o=n.pluralize,r=o?o.call(t,r,{hash:{}}):l.call(t,"pluralize",r,{hash:{}}),s+=c(r)+" reveal done_bar invalid_drop_target ",o=n.className,o?r=o.call(t,{hash:{}}):(r=t.className,r=typeof r===u?r():r),s+=c(r)+'" data-cid="',o=n.cid,o?r=o.call(t,{hash:{}}):(r=t.cid,r=typeof r===u?r():r),s+=c(r)+'">\n  <a>show ',o=n.done_count,o?r=o.call(t,{hash:{}}):(r=t.done_count,r=typeof r===u?r():r),s+=c(r)+" done ",r=t.done_count,i=t.type,a={},a.no_number=!0,o=n.pluralize,r=o?o.call(t,i,r,{hash:a}):l.call(t,"pluralize",i,r,{hash:a}),s+=c(r)+"</a>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/hide_done_bar_header/_show"]=function(){Handlebars.registerPartial("_panels_hide_done_bar_header_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a,o,s="",l=n.helperMissing,c=this.escapeExpression,u="function";return s+='<div class="item ',r=t.type,o=n.pluralize,r=o?o.call(t,r,{hash:{}}):l.call(t,"pluralize",r,{hash:{}}),s+=c(r)+" hide done_bar invalid_drop_target ",o=n.className,o?r=o.call(t,{hash:{}}):(r=t.className,r=typeof r===u?r():r),s+=c(r)+'" data-cid="',o=n.cid,o?r=o.call(t,{hash:{}}):(r=t.cid,r=typeof r===u?r():r),s+=c(r)+'">\n  <a>hide done ',r=t.done_count,i=t.type,a={},a.no_number=!0,o=n.pluralize,r=o?o.call(t,i,r,{hash:a}):l.call(t,"pluralize",i,r,{hash:a}),s+=c(r)+"</a>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/release_deadlines/_show"]=function(){Handlebars.registerPartial("_panels_release_deadlines_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+=" iteration_",r=n.iteration_id,r?t=r.call(e,{hash:{}}):(t=e.iteration_id,t=typeof t===p?t():t),i+=h(t)}function o(){return" is_deadline_past_done"}n=n||e.helpers;var s,l,c,u,d="",p="function",h=this.escapeExpression,g=this,f=n.helperMissing;return d+='<div class="deadline item',s=t.iteration_id,s=n["if"].call(t,s,{hash:{},inverse:g.noop,fn:g.program(1,a,i)}),(s||0===s)&&(d+=s),s=t.is_deadline_past_done,s=n["if"].call(t,s,{hash:{},inverse:g.noop,fn:g.program(3,o,i)}),(s||0===s)&&(d+=s),d+='">\n  <div class="preview">\n    ',s=t.deadline,l={},l.format="%-d %b %Y",c=t.project_time_zone,l["time-zone"]=c,u=n.dateTime,s=u?u.call(t,s,{hash:l}):f.call(t,"dateTime",s,{hash:l}),d+=h(s)+": deadline for ",u=n.name,u?s=u.call(t,{hash:{}}):(s=t.name,s=typeof s===p?s():s),d+=h(s)+"\n  </div>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/stories/_preview"]=function(){Handlebars.registerPartial("_next_stories_preview",Handlebars.template(function(e,t,n,r,i){function a(){return" new"}function o(){return" selected"}function s(e,t){var r,i="";return i+="\n    ",r=e.is_past_done,r=n["if"].call(e,r,{hash:{},inverse:T.program(8,c,t),fn:T.program(6,l,t)}),(r||0===r)&&(i+=r),i+="\n  "}function l(e){var t,r,i,a,o="";return o+="\n      ",t=e.project_id,r=e.cid,i={},i.icon=!0,i["class"]="button is_past_done",i.tabindex="-1",a=n.revealLink,t=a?a.call(e,"story",r,t,{hash:i}):S.call(e,"revealLink","story",r,t,{hash:i}),o+=w(t)+"\n    "}function c(e){var t,r,i,a,o="";return o+="\n      ",t=e.project_id,r=e.cid,i={},i.icon=!0,i["class"]="button",i.tabindex="-1",a=n.revealLink,t=a?a.call(e,"story",r,t,{hash:i}):S.call(e,"revealLink","story",r,t,{hash:i}),o+=w(t)+"\n    "}function u(e,t){var r,i="";return i+="\n    ",r=e.needs_estimate,r=n["if"].call(e,r,{hash:{},inverse:T.program(13,p,t),fn:T.program(11,d,t)}),(r||0===r)&&(i+=r),i+="\n  "}function d(e){var t,r,i,a,o="";return o+="\n      ",t=e.point_scale_type,r=e.point_scale,i={},i["data-type"]="number",i.name="story[estimate]",a=n.estimator,t=a?a.call(e,r,t,{hash:i}):S.call(e,"estimator",r,t,{hash:i}),o+=w(t)+"\n    "}function p(e,t){var r,i,a="";return a+="\n      ",i=n.state,i?r=i.call(e,{hash:{},inverse:T.noop,fn:T.program(14,h,t)}):(r=e.state,r=typeof r===A?r():r),n.state||(r=x.call(e,r,{hash:{},inverse:T.noop,fn:T.program(14,h,t)})),(r||0===r)&&(a+=r),a+="\n    "}function h(e,t){var r,i,a="";return a+='\n        <span class="state">\n          ',r=e.actions,i=n.reverse,r=i?i.call(e,r,{hash:{},inverse:T.noop,fn:T.program(15,g,t)}):S.call(e,"reverse",r,{hash:{},inverse:T.noop,fn:T.program(15,g,t)}),(r||0===r)&&(a+=r),a+="\n        </span>\n      "}function g(e){var t,r,i="";return i+='\n            <label class="state button ',r=n.action,r?t=r.call(e,{hash:{}}):(t=e.action,t=typeof t===A?t():t),i+=w(t)+'" tabindex="-1">',r=n.button,r?t=r.call(e,{hash:{}}):(t=e.button,t=typeof t===A?t():t),i+=w(t)+'<input type="radio" name="story[current_state]" value="',r=n.to,r?t=r.call(e,{hash:{}}):(t=e.to,t=typeof t===A?t():t),i+=w(t)+'"></label>\n          '}function f(){return'<span class="parens">'}function m(e){var t,r,i="";return i+='<a class="owner" tabindex="-1" title="',r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===A?t():t),i+=w(t)+'">',r=n.initials,r?t=r.call(e,{hash:{}}):(t=e.initials,t=typeof t===A?t():t),i+=w(t)+"</a>"}function _(){return"</span>"}n=n||e.helpers,r=r||e.partials;var v,y,b,E="",S=n.helperMissing,w=this.escapeExpression,T=this,A="function",x=n.blockHelperMissing;return E+='<header class="preview',v=t.is_new,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(1,a,i)}),(v||0===v)&&(E+=v),E+='">\n  <a class="expander undraggable" tabindex="-1"></a>\n  <a class="selector undraggable',v=t.is_selected,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(3,o,i)}),(v||0===v)&&(E+=v),E+='" title="Select this story for bulk actions" tabindex="-1"></a>\n  <span class="meta"><span>',b=n.estimate,b?v=b.call(t,{hash:{}}):(v=t.estimate,v=typeof v===A?v():v),E+=w(v)+"</span></span>\n  ",v=t.is_revealable,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(5,s,i)}),(v||0===v)&&(E+=v),E+="\n  ",b=n.formTag,b?v=b.call(t,{hash:{},inverse:T.noop,fn:T.program(10,u,i)}):(v=t.formTag,v=typeof v===A?v():v),n.formTag||(v=x.call(t,v,{hash:{},inverse:T.noop,fn:T.program(10,u,i)})),(v||0===v)&&(E+=v),E+='\n  <span class="name tracker_markup">\n    <div class="project_name">',b=n.project_name,b?v=b.call(t,{hash:{}}):(v=t.project_name,v=typeof v===A?v():v),E+=w(v)+'</div>\n    <span class="pre labels">\n      ',v=t,v=T.invokePartial(r._labels_index,"_labels_index",v,n,r),(v||0===v)&&(E+=v),E+='\n    </span>\n    <span class="story_name">',v=t.name,y={},y.type="simple",b=n.markup,v=b?b.call(t,v,{hash:y}):S.call(t,"markup",v,{hash:y}),E+=w(v)+"</span>",v=t.owners,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(17,f,i)}),(v||0===v)&&(E+=v),b=n.owners,b?v=b.call(t,{hash:{},inverse:T.noop,fn:T.program(19,m,i)}):(v=t.owners,v=typeof v===A?v():v),n.owners||(v=x.call(t,v,{hash:{},inverse:T.noop,fn:T.program(19,m,i)})),(v||0===v)&&(E+=v),v=t.owners,v=n["if"].call(t,v,{hash:{},inverse:T.noop,fn:T.program(21,_,i)}),(v||0===v)&&(E+=v),E+='\n    <span class="post labels">\n      ',v=t,v=T.invokePartial(r._labels_index,"_labels_index",v,n,r),(v||0===v)&&(E+=v),E+="\n    </span>\n  </span>\n</header>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/labels/_index"]=function(){Handlebars.registerPartial("_labels_index",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n",r=e.sortByResult,i=n.head,r=i?i.call(e,r,1,{hash:{},inverse:f.noop,fn:f.program(2,o,t)}):v.call(e,"head",r,1,{hash:{},inverse:f.noop,fn:f.program(2,o,t)}),(r||0===r)&&(a+=r),r=e.sortByResult,i=n.rest,r=i?i.call(e,r,{hash:{},inverse:f.noop,fn:f.program(6,c,t)}):v.call(e,"rest",r,{hash:{},inverse:f.noop,fn:f.program(6,c,t)}),(r||0===r)&&(a+=r),a+="\n"}function o(e,t){var r,i;return i=n.headResult,i?r=i.call(e,{hash:{},inverse:f.noop,fn:f.program(3,s,t)}):(r=e.headResult,r=typeof r===m?r():r),n.headResult||(r=y.call(e,r,{hash:{},inverse:f.noop,fn:f.program(3,s,t)})),r||0===r?r:""}function s(e,t){var r,i,a,o="";return o+='<a class="std label',r=e.has_epic,r=n["if"].call(e,r,{hash:{},inverse:f.noop,fn:f.program(4,l,t)}),(r||0===r)&&(o+=r),o+='" data-cid="',a=n.cid,a?r=a.call(e,{hash:{}}):(r=e.cid,r=typeof r===m?r():r),o+=_(r)+'" tabindex="-1">',r=e.name,i={},i["escape-html"]=!0,a=n.breakupLongWords,r=a?a.call(e,r,{hash:i}):v.call(e,"breakupLongWords",r,{hash:i}),o+=_(r)+"</a>"}function l(){return" epic"}function c(e,t){var r,i;return i=n.restResult,i?r=i.call(e,{hash:{},inverse:f.noop,fn:f.program(7,u,t)}):(r=e.restResult,r=typeof r===m?r():r),n.restResult||(r=y.call(e,r,{hash:{},inverse:f.noop,fn:f.program(7,u,t)})),r||0===r?r:""}function u(e,t){var r,i,a,o="";return o+=', <a class="std label',r=e.has_epic,r=n["if"].call(e,r,{hash:{},inverse:f.noop,fn:f.program(8,d,t)}),(r||0===r)&&(o+=r),o+='" data-cid="',a=n.cid,a?r=a.call(e,{hash:{}}):(r=e.cid,r=typeof r===m?r():r),o+=_(r)+'" tabindex="-1">',r=e.name,i={},i["escape-html"]=!0,a=n.breakupLongWords,r=a?a.call(e,r,{hash:i}):v.call(e,"breakupLongWords",r,{hash:i}),o+=_(r)+"</a>"}function d(){return" epic"}n=n||e.helpers;var p,h,g="",f=this,m="function",_=this.escapeExpression,v=n.helperMissing,y=n.blockHelperMissing;return p=t.labels,h=n.sortBy,p=h?h.call(t,p,"name",{hash:{},inverse:f.noop,fn:f.program(1,a,i)}):v.call(t,"sortBy",p,"name",{hash:{},inverse:f.noop,fn:f.program(1,a,i)}),(p||0===p)&&(g+=p),g+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/accepted_stories_bars/_show"]=function(){Handlebars.registerPartial("_accepted_stories_bars_show",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a,l="";return l+='\n      <input class="show_accepted_stories" id="show_accepted_stories_',a=n.id,a?r=a.call(e,{hash:{}}):(r=e.id,r=typeof r===d?r():r),l+=p(r)+'" type="radio" name="panel[show_accepted]" value="false" data-type="boolean"',r=e.show_accepted,r=n.unless.call(e,r,{hash:{},inverse:h.noop,fn:h.program(2,o,t)}),(r||0===r)&&(l+=r),l+='>\n      <label class="hide_accepted_stories_label" for="show_accepted_stories_',a=n.id,a?r=a.call(e,{hash:{}}):(r=e.id,r=typeof r===d?r():r),l+=p(r)+'" tabindex="-1">Hide accepted stories</label>\n      <input class="hide_accepted_stories" id="hide_accepted_stories_',a=n.id,a?r=a.call(e,{hash:{}}):(r=e.id,r=typeof r===d?r():r),l+=p(r)+'" type="radio" name="panel[show_accepted]" value="true" data-type="boolean"',r=e.show_accepted,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(4,s,t)}),(r||0===r)&&(l+=r),l+='>\n      <label class="show_accepted_stories_label" for="hide_accepted_stories_',a=n.id,a?r=a.call(e,{hash:{}}):(r=e.id,r=typeof r===d?r():r),l+=p(r)+'" tabindex="-1">Show ',a=n.count,a?r=a.call(e,{hash:{}}):(r=e.count,r=typeof r===d?r():r),l+=p(r)+" accepted ",r=e.count,i={},i.no_number=!0,a=n.pluralize,r=a?a.call(e,"story",r,{hash:i}):g.call(e,"pluralize","story",r,{hash:i}),l+=p(r)+"</label>\n    "}function o(){return" checked"}function s(){return" checked"}n=n||e.helpers;var l,c,u="",d="function",p=this.escapeExpression,h=this,g=n.helperMissing,f=n.blockHelperMissing;return u+='<div class="accepted_stories_bar done_bar invalid_drop_target" data-cid="',c=n.cid,c?l=c.call(t,{hash:{}}):(l=t.cid,l=typeof l===d?l():l),u+=p(l)+'">\n  <header class="preview">\n    ',c=n.formTag,c?l=c.call(t,{hash:{},inverse:h.noop,fn:h.program(1,a,i)}):(l=t.formTag,l=typeof l===d?l():l),n.formTag||(l=f.call(t,l,{hash:{},inverse:h.noop,fn:h.program(1,a,i)})),(l||0===l)&&(u+=l),u+="\n  </header>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/end_of_list/_show"]=function(){Handlebars.registerPartial("_end_of_list_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t="";return t+='\n  <p class="empty_message">',e=typeof e===c?e():e,t+=u(e)+"</p>\n"}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.blockHelperMissing;return l+='<div class="end_of_list item" data-cid="',s=n.cid,s?o=s.call(t,{hash:{}}):(o=t.cid,o=typeof o===c?o():o),l+=u(o)+'">\n  <div class="preview"></div>\n</div>\n',s=n.empty_message,s?o=s.call(t,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}):(o=t.empty_message,o=typeof o===c?o():o),n.empty_message||(o=p.call(t,o,{hash:{},inverse:d.noop,fn:d.program(1,a,i)})),(o||0===o)&&(l+=o),l+="\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({associations:[{hasMany:"panelItems"},{belongsTo:"panel"},{hasOne:"eventProxy"}],initialize:function(){t.Model.prototype.initialize.apply(this,arguments),this.listenTo(this.eventProxy(),"all",this.refresh),this.refresh()},stopListening:function(){return this.eventProxy().stop(),this.panelItems().reset(),t.Model.prototype.stopListening.apply(this,arguments)},refresh:function(){this.panelItems().refresh(this.items())},replaceWithDraft:function(e,t){var n=t.reduce(function(e,t){return e[t.original().cid]=t,e},{});return _.map(e,function(e){return n[e.cid]||e})}});_.namespace(t,"panelContents").Base=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"EmptyCurrentIterationPlaceholder"});t.EmptyCurrentIterationPlaceholder=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){var r=this.project().iterations();this.listenTo(r.project().stories(),"change:current_state",function(e){"accepted"===e.get("current_state")&&this.panel().isModelExpanded(e)&&this.panel().set({show_accepted:!0})});var i=new t.EventProxy;i.listen(r,"",function(e){this.listen(e.stories(),"add reset")}),this.listenTo(i,"all",this.allProxyHandler_),t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.project().stories(),"add remove reorder reset").listen(this.panel(),"change:show_accepted").listen(this.panel().panelIterations(),"change:collapsed").listen(r,"recalculated").listen(this.panel().expandedModels(),"add remove")},allProxyHandler_:function(){for(var e=this.panel().expandedModels().invoke("original"),t=_.reject(e,function(e){return e.isNew()}),n=_.unique(_.map(t,function(e){return e.iteration()})),r=0;r<n.length;r++){var i=this.panelIterations().get(n[r].id);i&&i.set({collapsed:!1})}},orderedPanelIterations:function(){for(var e=this.panel().project().iterations().currentAndBacklog(),t=this.panelIterations(),n=[],r=0;r<e.length;r++){var i=e[r];if(!i.get("stale")){var a=t.get(i.id);a&&n.push(a)}}return n},items:function(){return this.panel().get("split")?this.replaceWithDraft(this.backlogOnlyItems(),this.panel().expandedModels()):this.replaceWithDraft(this.combinedItems(),this.panel().expandedModels())},combinedItems:function(){var e=this.panel(),n=this.orderedPanelIterations(),r=n[0],i=[];if(!r)return[this.endOfList()];i.push(r);var a=r.iteration().stories().length>0||e.newModel();if(a||this.project().get("automatic_planning")||i.push(this.emptyCurrentIterationPlaceholder()),r.get("collapsed")!==!0){r.iteration().acceptedStoriesBar().acceptedStoriesCount()>0&&i.push(r.iteration().acceptedStoriesBar());var o=!1;r.iteration().stories().each(function(n){n.bucket()===t.Story.buckets.ACCEPTED?e.get("show_accepted")===!0&&i.push(n):(n.bucket()>t.Story.buckets.ACTIVE&&e.newModel()&&!o&&(o=!0,i.push(e.newModel())),i.push(n))}),!o&&e.newModel()&&i.push(e.newModel()),r.iteration().hasReleaseDue()&&i.push(r.iteration().deadlineGroup())}return _.each(_.rest(n),function(e){i.push(e),e.get("collapsed")!==!0&&(i=i.concat(e.iteration().stories().models),e.iteration().hasReleaseDue()&&i.push(e.iteration().deadlineGroup()))}),i.push(this.endOfList()),i},backlogOnlyItems:function(){var e=this.panel(),t=this.orderedPanelIterations(),n=t[0],r=[];return n&&r.push(n),e.newModel()&&r.push(this.panel().newModel()),n&&n.get("collapsed")!==!0&&(r=r.concat(n.iteration().stories().models),n.iteration().hasReleaseDue()&&r.push(n.iteration().deadlineGroup())),_.each(_.rest(t),function(e){r.push(e),e.get("collapsed")!==!0&&(r=r.concat(e.iteration().stories().models),e.iteration().hasReleaseDue()&&r.push(e.iteration().deadlineGroup()))}),r.push(this.endOfList()),r},currentItems:function(e,t){var n=[];return e.acceptedStoriesBar().acceptedStoriesCount()>0&&n.push(e.acceptedStoriesBar()),n=t.get("show_accepted")===!0?n.concat(e.stories().models):n.concat(e.stories().scope().notAccepted().value())}});n.associations({hasOne:"endOfList"}),n.associations({hasOne:"emptyCurrentIterationPlaceholder"}),n.associations({belongsTo:"project",through:"panel"}),n.associations({belongsTo:"panelIterations",through:"panel"}),_.namespace(t,"panelContents").Backlog=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"BacklogStoriesMarker"});t.BacklogStoriesMarker=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){var r=this.panel().project().iterations();this.listenTo(r.project().stories(),"change:current_state",function(e){"accepted"===e.get("current_state")&&this.panel().isModelExpanded(e)&&this.panel().set({show_accepted:!0})}),t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(r.project().stories(),"add remove reorder reset").listen(this.panel(),"change:show_accepted").listen(r,"recalculated").listen(this.panel().expandedModels(),"add remove")},iteration:function(){return this.project().iterations().current()[0]},items:function(){var e=this.panel(),n=this.iteration(),r=[];if(!n)return[this.endOfList()];r.push(n),n.acceptedStoriesBar().acceptedStoriesCount()>0&&r.push(n.acceptedStoriesBar());var i=!1;n.stories().each(function(n){n.bucket()===t.Story.buckets.ACCEPTED?e.get("show_accepted")===!0&&r.push(n):(n.bucket()>t.Story.buckets.ACTIVE&&e.newModel()&&!i&&(i=!0,r.push(e.newModel())),r.push(n))}),!i&&e.newModel()&&r.push(e.newModel()),n.hasReleaseDue()&&r.push(n.deadlineGroup());var a=n.stories().length>0||e.newModel();return a||this.project().get("automatic_planning")||r.push(this.emptyCurrentIterationPlaceholder()),r.push(this.endOfList()),this.replaceWithDraft(r,e.expandedModels())}});n.associations({hasOne:"endOfList"}),n.associations({hasOne:"emptyCurrentIterationPlaceholder"}),n.associations({belongsTo:"project",through:"panel"}),n.associations({belongsTo:"panelIterations",through:"panel"}),_.namespace(t,"panelContents").Current=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){var r=new t.EventProxy,i=this.project().iterations();r.listen(i,"",function(e){this.listen(e.stories(),"add reset")}),this.listenTo(r,"all",function(){var e=_.pluck(this.panel().expandedModels().invoke("original"),"cid");_.each(this.orderedPanelIterations(),function(t){var n=_.pluck(t.iteration().stories().models,"cid"),r=_.intersection(e,n);r.length&&t.set({collapsed:!1})})}),t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(i.project().stories(),"add remove reorder reset").listen(this.panel().panelIterations(),"change:collapsed").listen(i,"recalculated").listen(this.panel().expandedModels(),"add remove")},orderedPanelIterations:function(){var e=this.panelIterations();return _.chain(this.iterations()).map(function(t){return!t.get("stale")&&e.get(t.id)}).compact().value()},iterations:function(){var e=this.project();return e.isShowingPastDone()?e.iterations().done():e.iterations().doneNotPast()},items:function(){var e=_.reduce(this.iterations(),function(e,t){var n=this.panelIterations().get(t.id);return n?(e.push(n),n&&n.get("collapsed")!==!0&&(e=e.concat(t.stories().models)),t.hasReleaseDue()&&e.push(t.deadlineGroup()),e):e},[],this);return!this.project().isShowingPastDone()&&this.project().get("start_time")<this.project().get("shown_iterations_start_time")&&(this.showDoneIterations().set({displayed_iterations:this.iterations().length}),e.unshift(this.showDoneIterations())),e.push(this.endOfList()),this.replaceWithDraft(e,this.panel().expandedModels())}});n.associations({hasOne:"endOfList"}),n.associations({belongsTo:"project",through:"panel"}),n.associations({belongsTo:"panelIterations",through:"panel"}),n.associations({hasOne:"showDoneIterations"}),_.namespace(t,"panelContents").Done=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"DoneBarHeader"});t.DoneBarHeader=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({});t.EmptyListMessage=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"EndOfList"});t.EndOfList=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.epic().activityEntries(),"add reset")},items:function(){return this.epic().activityEntries().models.concat(this.epic().activityEntryGroup(),this.endOfList())}});n.associations({hasOne:"endOfList"}),n.associations({belongsTo:"epic",through:"panel"}),_.namespace(t,"panelContents").EpicHistory=n
}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"IceboxStoriesMarker"});t.IceboxStoriesMarker=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n);var r=this.panel().epic().labels();this.eventProxy().listen(r,"add remove",function(e){this.listen(e.stories(),"add remove")}).listen(this.panel().expandedModels(),"add remove"),this.eventProxy().listen(this.panel().project().iterations(),"recalculated").listen(this.panel(),"change:show_done_stories")},items:function(){var e=[],n=this.panel().epic().stories(),r=this.panel().get("show_done_stories"),i=n&&n.scope().bucket(t.Story.buckets.ACCEPTED),a=this.panel().epic().doneCount();return a>0&&!r&&(this.doneBarHeader().set({done_count:a,type:"story"}),e.push(this.doneBarHeader())),e=_.compact(e.concat(n&&(r?i.value():i.current().value()),n&&n.scope().current().not("accepted").value(),this.backlogStoriesMarker(),n&&n.scope().backlog().value(),this.iceboxStoriesMarker(),this.panel().newModel(),n&&n.scope().icebox().value(),this.endOfList())),this.replaceWithDraft(e,this.panel().expandedModels())}});n.associations({hasOne:"endOfList"}),n.associations({hasOne:"iceboxStoriesMarker"}),n.associations({hasOne:"backlogStoriesMarker"}),n.associations({hasOne:"doneBarHeader"}),_.namespace(t,"panelContents").EpicStories=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"HideDoneBar"});t.HideDoneBar=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){var r=this.panel().project().epics();this.listenTo(r,"change:labels",function(e){e.isDone()&&this.panel().set({show_done_epics:!0})}),t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(r,"add change:labels remove reorder reset",function(e){this.listen(e,"change")}).listen(this.panel(),"change:show_done_epics").listen(this.panel().expandedModels(),"add remove")},items:function(){var e=[],t=this.panel().project().epics(),n=t.done();return this.panel().newModel()&&e.push(this.panel().newModel()),this.panel().get("show_done_epics")===!0?n.length>0&&(this.hideDoneBar().set({count:n.length}),e=e.concat(this.hideDoneBar(),n)):n.length>0&&(this.doneBar().set({count:n.length}),e.unshift(this.doneBar())),e=e.concat(_.sortBy(t.notDone(),function(e){return e.sortingBucket()})),e.push(this.endOfList()),this.replaceWithDraft(e,this.panel().expandedModels())}});n.associations({hasOne:"endOfList"}),n.associations({hasOne:"doneBar"}),n.associations({hasOne:"hideDoneBar"}),_.namespace(t,"panelContents").Epics=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.panel().project().stories(),"add remove reorder reset").listen(this.panel().expandedModels(),"add remove")},items:function(){var e=[];return this.panel().newModel()&&e.push(this.panel().newModel()),e=e.concat(this.panel().project().stories().scope().icebox().value()),e.push(this.endOfList()),this.replaceWithDraft(e,this.panel().expandedModels())}});n.associations({hasOne:"endOfList"}),_.namespace(t,"panelContents").Icebox=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){this.integrationHeader=new t.IntegrationHeader({},{integration:this.integration()}),t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.integration().stories(),"reset change:linked")},stories:function(){return this.integration().stories()},items:function(){var e=[];return this.integration().get("loaded")===!0&&e.push(this.integrationHeader),e.concat(this.stories().unlinked(),this.endOfList())}});n.associations({hasOne:"endOfList"}),n.associations({belongsTo:"integration",through:"panel"}),_.namespace(t,"panelContents").Integration=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({associations:[{belongsTo:"integration"}],initialize:function(){t.Model.prototype.initialize.apply(this,arguments),this.updateCount(),this.set({story_name:this.integration().get("story_name")}),this.listenTo(this.integration().stories(),"reset change:linked",this.updateCount)},updateCount:function(){this.set({count:this.integration().stories().unlinked().length})}});t.IntegrationHeader=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n);var r=this;this.eventProxy().listen(this.labels(),"add remove reset").listen(this.labels(),"change",function(e){r.panelItems().trigger("change",e)}),this.emptyListMessage().set("message","There are no labels.")},labels:function(){return this.project().labels()},items:function(){return 0===this.project().labels().length?[this.emptyListMessage()]:this.project().labels().sortBy("name")}});n.associations({hasOne:"emptyListMessage"}),n.associations({belongsTo:"project",through:"panel"}),_.namespace(t,"panelContents").Labels=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.panel().project()?this.eventProxy().listen(this.panel().project().stories(),"add remove reorder reset change:owner_ids change:requested_by_id").listen(this.panel().expandedModels(),"add remove"):this.eventProxy().listen(this.panel().workspace().projects(),"add remove reset",function(e){this.listen(e.stories(),"add remove reorder reset change:owner_ids change:requested_by_id change:current_state")}).listen(this.panel(),"change:sort").listen(this.panel().expandedModels(),"add remove reset")},items:function(){if(this.panel().project())return this.replaceWithDraft([].concat(this._myWorkStories(),this.endOfList()),this.panel().expandedModels());var e=[],n=this.panel().get("sort"),r=this.panel().workspace();if(r.projects().each(function(n){e=e.concat(n.stories().scope().work(t.Person.current()).value())}),"story_state"===n){var i=_.chain(t.Story.stateMachines("feature").states()).omit("accepted").keys().reverse().value();e=_.sortBy(e,function(e){var t=_.str.lpad(r.projects().indexOf(e.project()),2,"0"),n=_.str.lpad(i.indexOf(e.get("current_state")),2,"0");return n+t})}return e=e.concat(this.endOfList()),this.sortBar().set({sort:this.panel().get("sort")}),e.unshift(this.sortBar()),this.replaceWithDraft(e,this.panel().expandedModels())},_myWorkStories:function(){return this.panel().project().stories().scope().work(t.Person.current()).value()}});n.associations({hasOne:"endOfList"},{hasOne:"sortBar"}),_.namespace(t,"panelContents").MyWork=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.panel().project().activityEntries(),"add reset")},items:function(){return[].concat(this.panel().project().activityEntries().filter(function(e){return e.isSource()}),this.panel().project().activityEntryGroup(),this.endOfList())}});n.associations({hasOne:"endOfList"}),_.namespace(t,"panelContents").ProjectHistory=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.panel().project().stories(),"add change:story_type remove reorder reset").listen(this.panel().expandedModels(),"add remove")},items:function(){return this.replaceWithDraft([].concat(this.panel().project().stories().scope().releases().value(),this.endOfList()),this.panel().expandedModels())}});n.associations({hasOne:"endOfList"}),_.namespace(t,"panelContents").Releases=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.panel().search().searchResults(),"add destroy reset").listen(this.panel().expandedModels(),"add remove").listen(this.panel(),"change:show_done_epics"),this.emptyListMessage().set("message","No matching stories found"),this.emptyStorySearchResult().set({type:"stories",resources:[],stories:[],total_hits:0,total_hits_with_done:0,total_points:0,total_points_completed:0})},items:function(){var e=this,t=[],n=this.panel();return n.search().searchResults().each(function(r){t.push(r),r.hasPastDone()?"epics"===r.get("type")?(e.epicDoneBarHeader().set({done_count:r.pastDoneCount(),type:"epic"}),n.get("show_done_epics")?t=t.concat(r.models()):(t.push(e.epicDoneBarHeader()),t=t.concat(r.epics().notDone()))):(e.storyDoneBarHeader().set({done_count:r.pastDoneCount(),type:"story",className:"search"}),t.push(e.storyDoneBarHeader()),0===r.stories().length&&t.push(e.emptyListMessage()),t=t.concat(r.models())):t=t.concat(r.models())}),0===t.length&&(t.push(this.emptyStorySearchResult()),t.push(this.emptyListMessage())),t.push(this.endOfList()),this.replaceWithDraft(t,this.panel().expandedModels())}});n.associations({hasOne:"endOfList"}),n.associations({hasOne:"emptyListMessage"}),n.associations({hasOne:"emptyStorySearchResult",className:"SearchResult"}),n.associations({hasOne:"storyDoneBarHeader",className:"DoneBarHeader"}),n.associations({hasOne:"epicDoneBarHeader",className:"DoneBarHeader"}),_.namespace(t,"panelContents").Search=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.story().activityEntries(),"add reset")},items:function(){return this.story().activityEntries().models.concat(this.story().activityEntryGroup(),this.endOfList())}});n.associations({hasOne:"endOfList"}),n.associations({belongsTo:"story",through:"panel"}),_.namespace(t,"panelContents").StoryHistory=n}.call(this),function(){"use strict";function e(e){return new c.DateTime(e).strftime("%-d %b %Y, %-I:%M%P %Z")}function t(e,t){var n=t.project().members().get(+e);return n?n.get("name"):"Nobody"}function n(e,n){return 0===e.length?"Nobody":_.map(e,function(e){return t(e,n)}).join(", ")}function r(e){return-1===parseInt(e,10)?"unestimated":e}function i(e,t){var n={accepted:!0,delivered:!0,rejected:!0,started:function(e){return!e.new_values.story_type},finished:!0,estimated:!0,"added label":!0},r=n[e];return r?_.isFunction(r)?r(t):r:!1}function a(e,t){return h.include(t)?!1:p.any(function(e){return e.test(t)})}function o(e,t,n){return(d[e]||_.identity)(t,n)}function s(e,t){var n=t.panel&&t.panel.get("type"),r={project_history:function(){var e=this.aggregate();return{entries:t.entries!==!1&&_.map(e.get("entries"),function(e){return e.decorator().toJSON(_.extend({entries:!1},t))})}},_default:function(){return{entries:t.entries!==!1&&[this.decorator().toJSON(_.extend({entries:!1},t))]}}};_.extend(e,r[_.has(r,n)&&n||"_default"].call(this))}var l=this,c=_.namespace(l,"tracker"),u=c.helpers.decorator,d={estimate:r,owner_ids:n,requested_by_id:t,accepted_at:e,updated_at:e,deadline:e},p=_([/^created_at$/,/^updated_at$/,/_id$/,/_ids$/,/^priority$/,/^complete$/,/^id$/,/^position$/,/^past_done/]),h=_(["owner_ids","requested_by_id"]),g={comment:"text",task:"description",google_attachment:"title"},f={comment:"file_attachments"},m=c.Decorator.extend(_.extend({model:c.ActivityEntry,toJSON:function(e){e=e||{};var t=this,n=this.project().id,r=_.extend({project_id:this.project().id,project_name:this.project().get("name"),cid:this.cid,is_revealable:this.isRevealable(),is_multi:this.isMulti()},this.toJSON());s.call(this,r,e),this.isMulti()&&(r.kind=this.get("primary_resources")[0].kind,r.ids=_.pluck(this.get("primary_resources"),"id").join(",")),_.each(r.primary_resources,function(e){e.project_id=n}),r.subresource_creations={};var l=_(_.keys(g)),c=_.reject(r.changes,function(e){if("delete"===e.change_type)return!0;if(l.include(e.kind)){var t=e.new_values[g[e.kind]];t&&(r.subresource_creations[e.kind]=r.subresource_creations[e.kind]||[],r.subresource_creations[e.kind].push(t));var n=f[e.kind];if(n&&e.new_values[n]&&e.new_values[n].length>0){var i=_.singularize(n);r.subresource_creations[i]=r.subresource_creations[i]||[],r.subresource_creations[i]=r.subresource_creations[i].concat(e.new_values[n])}return!0}});return r.formatted_changes=_.map(c,function(e){var n=_.clone(e);return n.new_values={},_.each(e.new_values,function(e,r){a(e,r)||(n.new_values[r]=o(r,e,t))}),n}),r.has_changes=this.hasChanges()&&!i(r.highlight,r.changes[0]),r}},u.toItemJSON("activity_entry")));c.ActivityEntryDecorator=m}.call(this),function(){"use strict";function e(e,t){var n=_.sortedIndex(e,t,function(e){return-e.get("occurred_at")});e.splice(n,0,t)}var t=this,n=_.namespace(t,"tracker"),r=n.ActivityEntries.extend();r.include(n.mixins.collections.caches({aggregates:{memo:{},dependsOn:["occurred_at","primary_resources"],add:function i(t,n){var r,a=n.key(),o=n.get("occurred_at"),s=3e5;if(_.has(t,a)){if(r=_.find(t[a],function(e){var t=e.source.get("occurred_at");return t>=o&&o>t-s}))return e(r.entries,n),t[a][o]=r,t;var l=_.max(_.map(_.keys(t[a]),function(e){return+e}));if(o>=l&&l>o-s){var c=t[a][l].entries;return _.each(c,function(e){delete t[a][e.get("occurred_at")]}),_.reduce([n].concat(c),i,t)}}return t[a]=t[a]||{},r=t[a][o]=t[a][o]||{source:n,entries:[]},e(r.entries,n),t},remove:_.identity}})),n.AggregatedActivityEntries=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"ActivityEntryGroup",associations:[{hasMany:"activityEntries",className:"AggregatedActivityEntries"}],defaults:{visible:!0,loading:!1},fetch:function(e){var t=this,n=this.activityEntries(),r={remove:!1,sort:!1};return n.length&&_.extend(r,{data:{occurred_before:_.min(n.pluck("occurred_at"))}}),this.set({loading:!0}),n.fetch(_.extend(r,e)).then(function(e){t.set({visible:e.pagination.total!==e.pagination.returned})}).always(function(){t.set({loading:!1})})}});t.ActivityEntryGroup=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.ActivityEntryGroup,toJSON:function(){return _.extend({cid:this.cid},this.toJSON())}},n.toItemJSON("activity_entry_group")));t.ActivityEntryGroupDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={velocity:function(){if(!this.displayedDoneIterations().length)return{};var e=this.getMean(),t=this.displayedDoneIterations()[0];return{chartData:{chart:{marginRight:50},tooltip:{enabled:!1},series:[{type:"column",name:"Actual",data:this.getAcceptedPoints(),pointStart:t.id},{type:"line",name:"Running Velocity",data:this.getRunningVelocity(),pointStart:t.id+1}],xAxis:{title:{text:"Iterations"}},yAxis:{title:{text:"Points accepted"},plotBands:[{color:"#FCFFC5",from:e-.05*e,to:e+.05*e,label:{text:"Mean",align:"right",x:35},zIndex:3}]}},templateData:{mean:e,std_dev:this.getStdDev(),volatility:this.getVolatility()}}},"current iteration burn-up":function(){if(!this.getCurrentIteration())return{};var e=this.getCurrentIterationBurnUpData(),t=[],n=[];return _.each(e,function(e){_.isUndefined(e.acceptedSoFar)||t.push({x:e.time,y:e.acceptedSoFar,color:e.acceptedSoFar>=Math.round(e.expected)?"#699712":"#923030"}),n.push({x:e.time,y:e.expected})}),{chartData:{series:[{type:"column",name:"Actual",pointPadding:0,groupPadding:0,minPointLength:10,data:t,showInLegend:!1,borderWidth:0},{enableMouseTracking:!1,type:"line",name:"Expected",data:n,shadow:!1,dashstyle:"Dash",color:"#256188",marker:{enabled:!1}}],tooltip:{enabled:!1},xAxis:{type:"datetime",minTickInterval:864e5,min:n[0].x,max:_.last(n).x},yAxis:{title:{text:"Points accepted"},min:0,max:Math.max(_.last(n).y,_.last(t).y)}},templateData:{total_points:_.last(t).y}}},"story type breakdown":function(){if(!this.displayedDoneIterations().length)return{};var e=this.displayedDoneIterations()[0];return{chartData:{chart:{type:"area"},xAxis:{title:{text:"Iterations"}},yAxis:{title:{text:"Story Count, Points Accepted"}},tooltip:{enabled:!1},plotOptions:{area:{stacking:"unstacked"===this.get("stacked")?null:"normal"}},series:[{data:this.getStoryTypeCount("feature"),name:"Features",pointStart:e.id,stack:0,color:"#89a54e"},{data:this.getStoryTypeCount("bug"),name:"Bugs",pointStart:e.id,stack:0,color:"#aa4643"},{data:this.getStoryTypeCount("chore"),name:"Chores",pointStart:e.id,stack:0,color:"#4572a7"},{type:"line",data:this.getAcceptedPoints(),name:"Accepted Points",pointStart:e.id,stack:1,color:"#80699b"}]},templateData:{selected:this.get("stacked"),feature:this.getStoryTypeAverage("feature"),chore:this.getStoryTypeAverage("chore"),bug:this.getStoryTypeAverage("bug"),options:["stacked","unstacked"]}}},"release burn down":function(){function e(e){return{color:"#888",width:2,value:e}}var n=this.project(),r=n.stories().scope().releases().scheduled().value();if(_.isEmpty(r))return{};var i=n.stories().get(this.get("release"));if(!i&&(i=_.find(r,function(e){return"accepted"!==e.get("current_state")})||_.last(r),this.set({release:i.id}),i=n.stories().get(this.get("release")),!i))return{};var a=this.getActualReleaseBurndownData(),o=a.actual,s=[{name:"Actual",data:o,type:"line",marker:{enabled:!1},enableMouseTracking:!1}];i.has("deadline")&&s.push({name:"Target Deadline",data:this.getDeadlineReleaseBurndownData(),type:"line",color:i.isReleasePastDeadline()?"red":"green",marker:{enabled:!1},enableMouseTracking:!1}),a.projected&&s.push({name:"Projected",data:a.projected,type:"line",color:"black",marker:{enabled:!1},enableMouseTracking:!1,dashStyle:"ShortDash"});var l,c,u=o[0].x,d=[],p=10;for(l=a.projected?_.last(a.projected).x:_.last(o).x,l=i.has("deadline")?Math.max(l,i.get("deadline")):l,c=Math.ceil((l-u)/(24*p*3600*1e3));l>u;)d.push(e(u)),u+=24*c*3600*1e3;d.push(e(l));var h;return h=i.isAccepted()?i.get("accepted_at"):a.projected?_.last(a.projected).x:_.last(o).x,{chartData:{series:s,tooltip:{enabled:!1},xAxis:{type:"datetime",tickInterval:864e5,labels:{staggerLines:2,step:c},plotBands:d},yAxis:{title:{text:"Points remaining"},min:0}},templateData:{selected:this.get("release"),finished:i.isAccepted(),finish_date:new t.DateTime(h).strftime("%A, %d %B"),points_remaining:_.last(o).y,options:r.map(function(e){return{label:e.get("name")+("accepted"===e.get("current_state")?" (done)":""),value:e.get("id")}})}}}},r={content:function(){return n[this.get("type")].call(this)}};_.namespace(t,"mixins.charts").content=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Chart",associations:[{belongsTo:"project"}],displayedDoneIterations:function(){return _(this.project().iterations().displayed()).filter(function(e){return"done"===e.get("type")})},getAcceptedPoints:function(){var e=this.displayedDoneIterations();return _(e).map(function(e){return[e.id,e.acceptedPoints()]})},getRunningVelocity:function(){var e=this,n=this.displayedDoneIterations(),r=e.project(),i=r.velocity();return _(n).chain().rest().map(function(e){var n=new t.Velocity(_({}).extend(i.attributes,{start_id:e.id,overridden_velocity:null}),{project:r}),a=["Iteration "+e.id,n.perIteration()];return n.stopListening(),a}).value()},getCurrentIteration:function(){return this.project().iterations().current()[0]},getCurrentIterationBurnUpData:function(){for(var e=this.getCurrentIteration(),n=e.get("start_time"),r=[],i=e.stories().scope().accepted().filter(function(e){return e.get("estimate")>0}).value(),a=this.project().get("time_zone").olson_name,o=new t.DateTime(n).add({weeks:e.length(),time_zone:a}).getTime(),s=n,l=0,c=0,u=e.velocity().perWeek()*e.teamStrength()/7;o>s;){var d=new t.DateTime(s).add({days:1,time_zone:a}).getTime(),p={};if(s<(new t.DateTime.now).getTime()){var h=_(i).chain().filter(function(e){return s<=e.get("accepted_at")&&e.get("accepted_at")<d}).reduce(function(e,t){return e+t.get("estimate")},0).value();l+=h,p.acceptedSoFar=l}p.expected=c+=u,p.time=s,r.push(p),s=d}return r},getMean:function(){var e=this.displayedDoneIterations();return _(e).reduce(function(t,n){return t+n.acceptedPoints()/e.length},0)},getStdDev:function(){var e=0,t=this,n=this.getAcceptedPoints();_(n).each(function(n){var r=n[1]-t.getMean();e+=Math.pow(r,2)});var r=e/n.length;return Math.pow(r,.5)},getVolatility:function(){var e=this.getMean();return 0===e?0:100*this.getStdDev()/e},getStoryTypeCount:function(e){var t=this.displayedDoneIterations();return _(t).map(function(t){return["Iteration "+t.id,t.stories().where({story_type:e}).length]})},getStoryTypeAverage:function(e){var t=this.displayedDoneIterations();return _(t).reduce(function(n,r){return n+r.stories().where({story_type:e}).length/t.length},0)},getActualReleaseBurndownData:function(){var e,n,r,i,a=this.project().stories().get(this.get("release")),o=this.project().stories().scope().inRelease(a),s=o.points(),l=this.project().get("time_zone").olson_name,c=[],u={};for(e=a.releaseStartDate(),n=new t.DateTime(e).atMidnight().getTime(),r=a.get("accepted_at")||(new t.DateTime).getTime(),o=o.value(),c.push({y:s,x:n});r>=n;){for(i=new t.DateTime(n).add({days:1,time_zone:l}).getTime();o[0]&&o[0].get("accepted_at")>=n&&o[0].get("accepted_at")<i;){var d=o.shift().get("estimate");d>=0&&(s-=d)}c.push({y:s,x:n}),n=i}return!a.isAccepted()&&_(c).last().y&&(u.projected=[_(c).last(),{x:new t.DateTime(a.iteration().get("end_time")).add({days:-1}).getTime(),y:0}]),u.actual=c,u},getDeadlineReleaseBurndownData:function(){var e=this.project(),n=e.stories().get(this.get("release")),r=e.iterations().iterationForDate(new t.DateTime(n.get("deadline")));return[{x:new t.DateTime(n.releaseStartDate()).getTime(),y:this.project().stories().scope().inRelease(n).points()},{x:new t.DateTime(r.get("end_time")).add({days:-1}).getTime(),y:0}]}});_(n.prototype).extend(t.mixins.charts.content),t.Chart=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.Chart,toJSON:function(){var e=this.toJSON();return e[this.get("type").replace(/\W/g,"_")+"_chart"]=this.content().templateData||{no_data:!0},e.cid=this.cid,e}});t.ChartDecorator=n}.call(this),function(e,t){var n=t.Decorator.extend({model:t.Command,toJSON:function(){return{person_id:t.Person.current().id,project:{id:this.project().id,version:this.project().get("version")},command:this.toJSON()}}});t.CommandDecorator=n}(window,window.tracker),function(){var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.Comment,collection:t.Comments,toJSON:function(n){var r=(n||{}).include||{},i=this,a={type:i.get("commit_type")||"comment",cid:i.cid,is_deletable:i.isDeletable(),is_github:i.isGithub(),is_commit:i.has("commit_identifier")||!_.isEmpty(i.get("commit_type")),is_editable:i.get("person_id")===t.Person.current().id&&!i.isGithub(),is_edited:this.get("updated_at")&&this.get("updated_at")!==this.get("created_at")||!1,file_attachments:i.fileAttachments().decorator().toJSON(),has_file_or_google_attachments:!(!this.fileAttachments().length&&!this.googleAttachments().length),google_attachments:i.googleAttachments().decorator().toJSON(n),person:i.findMemberById(i.get("person_id")),is_maximized:!!r.maximized,is_new:r.is_new,allowGoogleAttachments:e.FRONTEND_FLAGS.google_developer_key&&e.FRONTEND_FLAGS.file_picker_client_id,sorted_attachments:_.chain(i.allAttachments()).map(function(e){return e instanceof t.GoogleAttachment?{google_attachment:e.decorator().toJSON()}:{file_attachment:e.decorator().toJSON()}}).sortBy(function(e){return(e.file_attachment&&e.file_attachment.title||e.google_attachment&&e.google_attachment.title).toLowerCase()}).value()};return i.uploads&&_.extend(a,{uploads:i.uploads().decorator().toJSON(),any_uploading:i.uploads().anyUploading()}),i.story()?i.story().original?(a.story_cid=i.story().original().cid,a.project_id=i.story().original().project().id):(a.story_cid=i.story().cid,a.project_id=i.story().project().id):i.epic().original?(a.epic_cid=i.epic().original().cid,a.project_id=i.epic().project().id):(a.epic_cid=i.epic().original().cid,a.project_id=i.epic().project().id),_.extend(i.toJSON(),a)}});t.CommentDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.BacklogStoriesMarker,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{backlog_stories_marker:{cid:this.cid}}}});t.BacklogStoriesMarkerDecorator=n}.call(this),function(){"use strict";function e(e,t){t=t||{};var r=new n.StoryPreviewDecorator(e);return r.toItemJSON(_.defaults({decorator:r},t))}var t=this,n=_.namespace(t,"tracker"),r=n.helpers.decorator,i=n.Decorator.extend(_.extend({model:n.DeadlineGroup,collection:n.DeadlineGroups,toJSON:function(t){var n=this.releasesDue().chain().sortBy(function(e){return e.get("deadline")}).map(function(n){return e(n,_.defaults({type:"deadline"},t))}).value();return{deadlines:n,cid:this.cid}}},r.toItemJSON("deadline_group")));n.DeadlineGroupDecorator=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({});t.DoneBar=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.DoneBar,toJSON:function(){return{done_bar_header:!0,done_count:this.get("count"),type:"epic",cid:this.cid}}},n.toItemJSON("done_bar_header")));t.DoneBarDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.DoneBarHeader,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{done_bar_header:_.extend({cid:this.cid},this.toJSON())}}});t.DoneBarHeaderDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.EmptyCurrentIterationPlaceholder,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{empty_current_iteration_placeholder:{cid:this.cid}}}});t.EmptyCurrentIterationPlaceholderDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.EmptyListMessage,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{empty_list_message:{cid:this.cid,message:this.get("message")}}}});t.EmptyListMessageDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.EndOfList,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{end_of_list:{cid:this.cid}}}});t.EndOfListDecorator=n}.call(this),function(e,t){var n=t.Decorator.extend({model:t.FileAttachment,collection:t.FileAttachments,toJSON:function(){var e=_.extend(this.toJSON(),{extension:this.extension(),size:Math.ceil(this.get("size")/1024),cid:this.cid});e.inline_url=e.download_url;var t="text/html"!==this.get("content_type");return t&&(e.inline_url+="?inline=true"),e}});t.FileAttachmentDecorator=n}(window,tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(t.helpers.links,{"text/plain":"txt",kix:"doc",spreadsheet:"xls",ritz:"xls",presentation:"ppt",punch:"ppt","image/png":"png","image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif",image:"img",drawing:"draw",form:"form",freebird:"form",folder:"fldr",collection:"coll",undefined:"???"}),r=t.Decorator.extend({model:t.GoogleAttachment,collection:t.GoogleAttachments,toJSON:function(e){e=(e||{}).include||{};var t=_.extend(this.toJSON(),{resource_url:this.get("alternate_link"),extension:n[this.get("google_kind")]||this.get("google_kind").substr(0,3),is_maximized:!!e.maximized,cid:this.cid});return t}});t.GoogleAttachmentDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.Guest,toJSON:function(e){e=e||{};var t=_.extend(this.toJSON(),{is_owner:this.isOwner(e.project),read_only:this.isReadOnly(e.project),is_guest:!0,enable_charlotte:!1,settings:this.appSettings().toJSON()});return t}});t.GuestDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.HideDoneBar,toJSON:function(){return{hide_done_bar_header:!0,done_count:this.get("count"),type:"epic",cid:this.cid}}},n.toItemJSON("hide_done_bar_header")));t.HideDoneBarDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.IceboxStoriesMarker,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{icebox_stories_marker:{cid:this.cid}}}});t.IceboxStoriesMarkerDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.Integration,collection:t.Integrations,toJSON:function(e){e=e||{};var n=this,r=e.story;return _.chain(this.toJSON()).extend({display_name:this.get("other"===this.get("type")?"name":"type")}).tap(function(e){r&&r.has("external_id")&&_.extend(e,{link_text:"get_satisfaction"===n.get("type")?"View Topic":r.get("external_id").toString(),external_id:r.get("external_id"),external_url:t.helpers.integration.externalUrl(n,r.get("external_id"))})}).value()}});t.IntegrationDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Decorator.extend({model:t.IntegrationHeader,toJSON:function(){return{cid:this.cid}},toItemJSON:function(){return{integration_header:{cid:this.cid,count:this.get("count"),story_name:this.get("story_name")}}}});t.IntegrationHeaderDecorator=n}.call(this),function(e,t){var n=t.Collection.extend({associations:[{belongsTo:"integration"},{belongsTo:"project",through:"integration"}],model:t.IntegrationStory,comparator:function(e){if(e.has("created_at"))return-e.get("created_at");var t=parseInt(e.id,10);return _.isNaN(t)?e.id:-t},parse:function(e){return this.integration().set({loaded:!0}),e.data},unlinked:function(){return this.reject(function(e){return e.get("linked")})},url:function(){return"/services/v5/projects/"+this.project().id+"/integrations/"+this.integration().id+"/stories?exclude_linked=true&date_format=millis"}});t.IntegrationStories=n}(window,window.tracker),function(e,t){var n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.IntegrationStory,collection:t.IntegrationStories,toJSON:function(){function e(){if("get_satisfaction"===t.integration().get("type")){var e={"plural idea":" people like","plural question":" people have","plural problem":" people have","singular idea":" person likes","singular question":" person has","singular problem":" person has"},n=(t.get("extra").me_too_count+1!==1?"plural":"singular")+" "+t.get("extra").style;return t.get("extra").me_too_count+1+e[n]+" this "+t.get("extra").style}return"reported by "+t.get("external_requester")}var t=this;return _.extend(t.toJSON(),{cid:t.cid,integration_type:t.integration().get("type"),byline:e(),integration:this.integration().decorator().toJSON({story:t}),is_get_satisfaction:"get_satisfaction"===t.integration().get("type"),is_buganizer:"buganizer"===t.integration().get("type")})}},n.toItemJSON("integration_story")));t.IntegrationStoryDecorator=r}(window,tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.Iteration,toJSON:function(){var e=(new t.DateTime.now).getFullYear(),n=t.Person.current().panels().get("backlog_"+this.project().id),r=n&&n.get("split"),i=this.stories()&&!!this.stories().length,a="current"===this.get("type");return _.extend(this.toJSON(),{points:this.points(),accepted_points:this.acceptedPoints(),is_current:a,is_current_iteration_and_not_included_in_backlog:"current"===this.get("type")&&r,display_end_time:this.get("end_time")-1e3,starts_in_current_year:e===new t.DateTime(this.get("start_time")).getFullYear(),ends_in_current_year:e===new t.DateTime(this.get("end_time")).getFullYear(),is_past_done:this.isPastDone(),length:this.length(),has_custom_length:this.length()!==this.project().iterationLength(),team_strength:this.teamStrength(),has_no_team_strength:1===this.teamStrength(),has_stories:i,cid:this.cid,is_manually_planned:this.isManuallyPlanned()})}},n.toItemJSON("iteration")));t.IterationDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.PanelIteration,toJSON:function(){return _.extend(this.iteration().decorator().toJSON(),{cid:this.cid,is_collapsed:this.get("collapsed")})}},n.toItemJSON("iteration")));t.PanelIterationDecorator=r}.call(this),function(){"use strict";
function e(e,t){var n=t.project;return _.chain(e.memberships().toJSON()).sortBy(function(e){return e.last_viewed_at?e.last_viewed_at:-e.project_id}).reverse().map(function(e){var t=_.extend({url:"/projects/"+e.project_id},e);return n&&t.project_id===n.id?_.extend({current:!0},t):t}).value()}var t=this,n=_.namespace(t,"tracker"),r=n.Decorator.extend({model:n.Person,toJSON:function(r){r=r||{};var i=n.Person.current().membership();return _.extend(this.toJSON(),{is_owner:this.isOwner(r.project),read_only:this.isReadOnly(r.project),inactive:this.isInactive(r.project),enable_charlotte:!!t.FRONTEND_FLAGS.enable_charlotte,enable_account:!t.FRONTEND_FLAGS.single_account_mode,enable_time_tracking:!!t.FRONTEND_FLAGS.enable_time_tracking,is_guest:!1,settings:this.appSettings().toJSON(),projects:e(this,r),membership:i&&i.toJSON()})}});n.PersonDecorator=r}.call(this),function(e,t){var n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.SearchResult,toJSON:function(){var e=this.get("type"),t={cid:this.cid};return t[e]=_.extend(this.toJSON(),{total_hits:this.totalHits(),total_hits_with_done:this.totalHitsWithDone(),has_past_done:this.hasPastDone(),past_done_count:this.pastDoneCount()}),t}},n.toItemJSON("search_result")));t.SearchResultDecorator=r}(window,tracker),function(e,t){var n=t.helpers.decorator,r=t.Decorator.extend(_.extend({model:t.Task,collection:t.Tasks,toJSON:function(){var e=this.toJSON();return e.project_id=this.project().id,e.cid=this.cid,this.story()&&(e.story_cid=this.story().original().cid),e}},n.toItemJSON("task")));t.TaskDecorator=r}(window,tracker),function(){this.JST||(this.JST={}),this.JST["templates/next/notifications/_show"]=function(){Handlebars.registerPartial("_next_notifications_show",Handlebars.template(function(e,t,n,r,i){function a(){return"read"}function o(){return"unread"}function s(e){var t,r,i="";return i+=" ",r=n.model_type,r?t=r.call(e,{hash:{}}):(t=e.model_type,t=typeof t===y?t():t),i+=b(t)}function l(e){var t,r,i="";return i+='<span class="project_name">',r=n.name,r?t=r.call(e,{hash:{}}):(t=e.name,t=typeof t===y?t():t),i+=b(t)+"</span>"}function c(e,t){var r,i="";return i+="\n        ",r=e.is_past_done,r=n["if"].call(e,r,{hash:{},inverse:S.program(12,d,t),fn:S.program(10,u,t)}),(r||0===r)&&(i+=r),i+="\n      "}function u(e){var t,r,i,a,o,s,l="";return l+="\n          ",t=e.project,t=null==t||t===!1?t:t.id,r=e.model_id,i=e.model_type,a={},o=e.model_url,a.href=o,o=e.model_name,a.text=o,a["class"]="other_project flyoverable",s=n.otherProjectRevealLink,t=s?s.call(e,i,r,t,{hash:a}):E.call(e,"otherProjectRevealLink",i,r,t,{hash:a}),l+=b(t)+"\n        "}function d(e){var t,r,i,a,o,s,l="";return l+="\n          ",t=e.project,t=null==t||t===!1?t:t.id,r=e.model_id,i=e.model_type,a={},a.expand=!0,o=e.model_name,a.text=o,o=e.model_url,a.href=o,a["class"]="other_project flyoverable",s=n.revealLink,t=s?s.call(e,i,r,t,{hash:a}):E.call(e,"revealLink",i,r,t,{hash:a}),l+=b(t)+"\n        "}function p(e){var t,r,i,a,o,s,l="";return l+="\n        ",t=e.project,t=null==t||t===!1?t:t.id,r=e.model_id,i=e.model_type,a={},o=e.model_url,a.href=o,o=e.model_name,a.text=o,a["class"]="other_project flyoverable",s=n.otherProjectRevealLink,t=s?s.call(e,i,r,t,{hash:a}):E.call(e,"otherProjectRevealLink",i,r,t,{hash:a}),l+=b(t)+"\n      "}function h(){return" with_context"}function g(e){var t,r,i="";return i+='<span class="context">',r=n.context,r?t=r.call(e,{hash:{}}):(t=e.context,t=typeof t===y?t():t),i+=b(t)+"</span>"}function f(e){var t,r,i="";return i+='<span class="attachment_icon"></span><span class="attachment_count">',t=e.new_attachment_count,r=n.pluralize,t=r?r.call(e,"file",t,{hash:{}}):E.call(e,"pluralize","file",t,{hash:{}}),i+=b(t)+" attached</span>"}n=n||e.helpers;var m,_,v="",y="function",b=this.escapeExpression,E=n.helperMissing,S=this,w=n.blockHelperMissing;return v+='<div class="',_=n.cid,_?m=_.call(t,{hash:{}}):(m=t.cid,m=typeof m===y?m():m),v+=b(m)+" item notification ",m=t.read_at,m=n["if"].call(t,m,{hash:{},inverse:S.program(3,o,i),fn:S.program(1,a,i)}),(m||0===m)&&(v+=m),v+='" data-cid="',_=n.cid,_?m=_.call(t,{hash:{}}):(m=t.cid,m=typeof m===y?m():m),v+=b(m)+'">\n  <span class="type ',_=n.notification_type,_?m=_.call(t,{hash:{}}):(m=t.notification_type,m=typeof m===y?m():m),v+=b(m)+" ",_=n.action,_?m=_.call(t,{hash:{}}):(m=t.action,m=typeof m===y?m():m),v+=b(m),m=t.model_type,m=n["if"].call(t,m,{hash:{},inverse:S.noop,fn:S.program(5,s,i)}),(m||0===m)&&(v+=m),v+='"></span>\n  <span class="created_at">',m=t.created_at,_=n.timeAgo,m=_?_.call(t,m,{hash:{}}):E.call(t,"timeAgo",m,{hash:{}}),v+=b(m)+"</span>\n  ",_=n.project,_?m=_.call(t,{hash:{},inverse:S.noop,fn:S.program(7,l,i)}):(m=t.project,m=typeof m===y?m():m),n.project||(m=w.call(t,m,{hash:{},inverse:S.noop,fn:S.program(7,l,i)})),(m||0===m)&&(v+=m),v+='\n  <a class="mark_read" title="Mark as read"></a>\n  <section>\n    <span class="details">\n      ',m=t.same_project_or_workspace,m=n["if"].call(t,m,{hash:{},inverse:S.program(14,p,i),fn:S.program(9,c,i)}),(m||0===m)&&(v+=m),v+='\n    </span>\n    <span class="message',m=t.context,m=n["if"].call(t,m,{hash:{},inverse:S.noop,fn:S.program(16,h,i)}),(m||0===m)&&(v+=m),v+='">',m=t.message,_=n.highlightMentions,m=_?_.call(t,m,{hash:{}}):E.call(t,"highlightMentions",m,{hash:{}}),v+=b(m)+"</span>\n    ",m=t.context,m=n["if"].call(t,m,{hash:{},inverse:S.noop,fn:S.program(18,g,i)}),(m||0===m)&&(v+=m),v+="\n    ",m=t.new_attachment_count,m=n["if"].call(t,m,{hash:{},inverse:S.noop,fn:S.program(20,f,i)}),(m||0===m)&&(v+=m),v+="\n  </section>\n</div>\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={template:"templates/next/panels/items/show",htmlForAdd:function(e,t){return JST[this.template](e.decorator().toItemJSON({panel:t.panel}))},remove:function(e,t){t.$el.remove()},update:function(e,t){t.$el.replaceWith(this.htmlForAdd(e,t))},getEventProxy:function(e){return(new t.EventProxy).listen(e,"change")}};_.namespace(t,"views.panels.items").DefaultLoomStrategy=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/empty_current_iteration_placeholder/_show"]=function(){Handlebars.registerPartial("_empty_current_iteration_placeholder_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<div class="item empty_current_iteration_placeholder" data-cid="',i=n.cid,i?r=i.call(t,{hash:{}}):(r=t.cid,r=typeof r===o?r():r),a+=s(r)+'">\n  <header class="preview">\n    <div class="message_container">\n      <div class="message">Current iteration has no stories.</div>\n    </div>\n  </header>\n</div>\n\n'}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"Loom",template:"templates/next/panels/items/show",initialize:function(e){t.View.prototype.initialize.apply(this,arguments);var n=e.items;this.views=this.views.bind(this),this.proxies={},this.items=n,this.oldScroll=null,this.listenTo(n,"multiadd",this.multiAdd_),this.listenTo(n,"remove",this.remove_),this.listenTo(n,"reorder",this.move_),this.listenTo(n,"reset",this.render),this.listenTo(n,"persisting",this.update_)},render:function(){this.setupListeners_(this.items.models);for(var e=this.modelsToHTML_(this.items.models),t=[],n="",r=0;r<e.length;r++){var i=e[r];i.constructor===String?n+=i:(t.push(n),t.push(i),n="")}return t.push(n),this.$el.html(t),this},setupListeners_:function(e){var t=this;_.each(e,function(e){var r=n.strategy(e).getEventProxy(e,{});r&&(t.listenTo(r,"all",function(){t.update_(e)}),t.proxies[e.cid]=r)})},modelsToHTML_:function(e){var t=this;return _.map(e,function(e){return n.strategy(e).htmlForAdd(e,{panel:t.model,views:t.views})})},update_:function(e){var t=this;this.preserveScrollTop_(function(){n.strategy(e).update(e,{$el:t.$model(e),panel:t.model})})},move_:function(e){var n=this.items.indexOf(e),r=this.items.at(n-1),i=this.$model(e),a=this.model,o=this;this.preserveScrollTop_(function(){t.helpers.focus.maintain(o.$el,function(){var t=a.expandedModels().find(function(t){return t.original()===e});t&&t.set({prevent_save:!0}),r?i.insertAfter(o.$model(r)):o.$el.prepend(i),t&&t.set({prevent_save:!1})})})},multiAdd_:function(e){var n,r=this.items.indexOf(e[0]),i=this.items.at(r-1),a=this.modelsToHTML_(e),o=t.Focus.current(),s=this;this.setupListeners_(e),this.preserveScrollTop_(function(){i?s.$model(i).after(a):s.$el.prepend(a)}),_.defer(function(){n=_.find(e,function(e){return e.cid===o.get("cid")}),n&&(t.helpers.focus.restoreFocus(s.$model(n),o.get("state")),o.set("cid",null))})},remove_:function(e){var r=t.Focus.current(),i=document.activeElement,a=this.$model(e),o=this.proxies[e.cid];o&&(this.stopListening(o),o.stop(),delete this.proxies[e.cid]),a.find(i).length>0&&(r.set("cid",e.cid),t.helpers.focus.saveFocus(a,r.get("state")));var s=this;this.preserveScrollTop_(function(){n.strategy(e).remove(e,{$el:a,views:s.views})})},preserveScrollTop_:function(e){var n=this;null===this.oldScroll&&(this.oldScroll=this.$el.scrollTop(),t.requestAnimationFrame(function(){n.$el.scrollTop(n.oldScroll),n.oldScroll=null})),e()},$model:function(e){return $(this.el.querySelector('[data-cid="'+e.cid+'"]'))}},{_strategies:{},register:function(e,t){_.isBlank(e._UUID)&&(e._UUID=uuid.v4()),this._strategies[e._UUID]=t},strategy:function(e){return this._strategies[e.constructor._UUID]||t.views.panels.items.DefaultLoomStrategy}});_.namespace(t,"views.panels.items").Loom=n}.call(this),function(e){e.fn.scrollIntoView=function(){var e=this[0];return e&&e.scrollIntoView.apply(e,arguments),this}}(jQuery),function(){this.JST||(this.JST={}),this.JST["templates/next/show_done_iterations/_show"]=function(){Handlebars.registerPartial("_next_show_done_iterations_show",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a,o="",s="function",l=this.escapeExpression,c=n.helperMissing;return o+='<div class="item iterations reveal done_bar panel_controls invalid_drop_target" data-cid="',a=n.cid,a?r=a.call(t,{hash:{}}):(r=t.cid,r=typeof r===s?r():r),o+=l(r)+'" >\n  <span class="past_done"><a class="show_all">Displaying last ',a=n.displayed_iterations,a?r=a.call(t,{hash:{}}):(r=t.displayed_iterations,r=typeof r===s?r():r),o+=l(r)+" ",r=t.displayed_iterations,i={},i.no_number=!0,a=n.pluralize,r=a?a.call(t,"iteration",r,{hash:i}):c.call(t,"pluralize","iteration",r,{hash:i}),o+=l(r)+". Show all.</a></span>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/sort_bar/_show"]=function(){Handlebars.registerPartial("_next_sort_bar_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i,a="";return a+="\n    ",t={},t.name="panel[sort]",t["id-prefix"]="my_work",r=e.cid,t.cid=r,t["class"]="my_work_sort",r=e.sort,t.selected=r,r=e.sort_options,t.options=r,t.search=!1,t.text="label",t.value="value",t.tabindex="-1",i=n.dropdown,t=i?i.call(e,{hash:t}):c.call(e,"dropdown",{hash:t}),a+=u(t)+"\n  "}n=n||e.helpers;var o,s,l="",c=n.helperMissing,u=this.escapeExpression,d="function",p=this;return l+='<div class="item my_work_group invalid_drop_target" data-cid="',s=n.cid,s?o=s.call(t,{hash:{}}):(o=t.cid,o=typeof o===d?o():o),l+=u(o)+'">\n  ',o={},o["class"]="my_work_sort",s=n.formTag,o=s?s.call(t,{hash:o,inverse:p.noop,fn:p.program(1,a,i)}):c.call(t,"formTag",{hash:o,inverse:p.noop,fn:p.program(1,a,i)}),(o||0===o)&&(l+=o),l+="\n</div>\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.panelContents.Base.extend({initialize:function(e,n){t.panelContents.Base.prototype.initialize.call(this,e,n),this.eventProxy().listen(this.panel().person().notifications(),"add reset")},items:function(){return this.panel().person().notifications().models}});_.namespace(t,"panelContents").Notifications=n}.call(this),function(){"use strict";function e(e){return e instanceof n.Epic?"epic":"story"}var t=this,n=_.namespace(t,"tracker"),r=n.views.panels.items.DefaultLoomStrategy,i=n.views.panels.items.Loom,a={template:"templates/next/panels/items/show",htmlForAdd:function(t,r){var i=t instanceof n.DraftStory?new n.StoryPreviewDecorator(t):t.decorator(),a=i.toItemJSON({decorator:i,panel:r.panel});t instanceof n.DraftStory&&(a.story.cid=t.cid);var o=JST[this.template](a),s=$(o);s.data("cid",t.cid);var l=new n.views.details.Edit({panel:r.panel,model:t.original(),draftModel:t,type:e(t),$delegate:s});return r.views().addView(t.cid,l),s.html(l.render().$el),s},remove:function(e,t){t.views().pick(e.cid).removeView(),r.remove(e,t)},update:$.noop,getEventProxy:$.noop};i.register(n.DraftStory,a),i.register(n.DraftEpic,a),_.namespace(n,"views.panels.items").DraftModelLoomStrategy=a}.call(this),function(){"use strict";function e(e){var t=e.dragModels,n=t[0],r=e.lastBeforeModel,i=e.lastAfterModel,a=n.project(),o="current"===e.group&&a.get("automatic_planning")?"scheduled":e.group;return t.length>1||"story"===e.type&&n.group()!==o||(!r||r!==n)&&(!i||i!==n)&&r!==n}function t(e,t){return"current"===e&&t.get("automatic_planning")?"scheduled":e}var n=this,r=_.namespace(n,"tracker"),i={attributes:{story:function(t,n){if(e(n)){var i=n.dragModels,a=i[0],o=n.panel,s=a.project(),l=o.project();if(_.extend(t,{story_cids:_.pluck(n.dragModels,"cid"),group:n.group}),s===l)return new r.Command({type:"MultiStoryMove",parameters:t},{project:n.panel.project()});var c=_.chain(i).invoke("labels").pluck("models").flatten().uniq().filter(function(e){return!l.labels().findWhere({name:e.get("name")})}).invoke("pick","name").value();return _.compact([c.length&&new r.Command({type:"MultiLabelCreate",parameters:{labels:c}},{project:l}),new r.Command({type:"MultiStoryMoveIntoProjectAndPrioritize",parameters:_.chain(t).omit("story_cids").extend({ids:_.pluck(i,"id"),source_project_id:s.id}).value()},{project:l}),new r.Command({type:"MultiStoryMoveFromProject",parameters:{cids:t.story_cids,destination_project_id:l.id,dont_generate_into_command:!0}},{project:s})])}},epic:function(t,n){return e(n)&&new r.Command({type:"EpicMove",parameters:_.extend(t,{cid:n.dragModels[0].cid})},{project:n.panel.project()})},integration_story:function(t,n){var i;return i="current"!==n.group||n.panel.project().get("automatic_planning")?"unscheduled"===n.group?"unscheduled":"unstarted":"planned",e(n)&&new r.Command({type:"StoryCreate",parameters:_.extend(t,n.dragModels[0].toStoryAttributes(),{group:n.group,current_state:i})},{project:n.panel.project()})}},makeCommands:function(e){function n(e,t,n){var i={cids:_.pluck(e,"cid"),label_cids_to_add:[t.cid]};return new r.Command({type:"MultiStoryUpdateLabel",parameters:i},{project:n})}var a=e.type,o=e.panel,s=(e.$dropTarget,e.dragModels),l=e.lastBeforeModel,c=e.lastAfterModel,u="epic"!==a&&e.group,d=s[0],p=d.project(),h={};if("story"===a&&l&&l instanceof r.Epic)return[n(s,l.label(),p)];if(o.isEpicStories()){if("story"===a&&!l&&c&&c.bucket()<d.bucket()&&c.bucket()<=r.Story.buckets.ACTIVE&&(c=!1),"story"===a&&!c&&!l){if(d.group()===t(u,p))return[n(s,o.epic().label(),p)];switch(u){case"current":c=p.stories().scope().current().last();break;case"scheduled":c=p.stories().scope().backlog().last();break;default:l=p.stories().scope().icebox().first()}}h.label_cid=o.epic().label().cid}return!o.isCurrent()||c||l||(l=p.stories().scope().backlog().first()),c&&(h.after_cid=c.cid),l&&(h.before_cid=l.cid),_.chain([i.attributes[a](h,{type:a,group:u,useCurrentOverBacklog:e.useCurrentOverBacklog,dragModels:s,panel:o,lastBeforeModel:l,lastAfterModel:c})]).flatten().compact().value()}};_.namespace(r,"helpers").dragDrop=i}.call(this),function(){"use strict";function e(e){var t=e.closest(".items"),n=t.find(".item").get(),r=e.closest(".item")[0],i=t.find(".icebox_stories_marker")[0];return n.indexOf(r)<=n.indexOf(i)}function t(t,n,r){return t.isIcebox()?"unscheduled":!t.isEpicStories()&&n?"current":t.isEpicStories()?r.hasClass("icebox_stories_marker")?"scheduled":e(r)&&n?"current":e(r)?"scheduled":"unscheduled":"scheduled"}function n(e){var t=(e.attr("class")||"").split(" ");return _(["epic","story","integration_story"]).intersection(t)[0]}function r(e){if(e.length){var t=e.closest(".panel").find(".item"),n=t.index(e)-1;if(n>=0)return t.eq(n)}return $()}function i(e,t){function n(e,t){var n=t.panelIterations().get(e.data("id"));return n&&n.get("collapsed")?l.iterations().get(n):null}function r(e){if(e){var n=l.stories().get(e)||l.epics().get(e);return n||(n=t.expandedModels().get(e)&&t.expandedModels().get(e).original()),n}}function i(e,t){if(l&&e.length){for(var i,a=l.iterations().current()[0],c=s.index(e);c<s.length;c++){if(i=s.eq(c),i.hasClass("backlog_stories_marker")&&(o=!0),i.hasClass("iteration")){a&&+i.data("id")===a.id+1&&(o=!0);var u=n(i,t),d=u&&u.stories().first();if(d)return d}if(i.hasClass("model")||i.hasClass("icebox_stories_marker")||i.hasClass("backlog_stories_marker"))break}if(c>=0&&c<s.length){i=s.eq(c);var p=i.data("cid");return r(p)||i.hasClass("new")&&t.newModel()}}return void 0}function a(e,t){if(l&&e.length){for(var i,a=s.index(e)-1;a>=0&&(i=s.eq(a),!(i.hasClass("model")||i.hasClass("icebox_stories_marker")||i.hasClass("backlog_stories_marker")));a--)if(i.hasClass("iteration")){var o=n(i,t),c=o&&o.stories().last();if(c)return c}if(a>=0&&a<s.length){i=s.eq(a);var u=i&&i.data("cid");return r(u)}}return void 0}var o=!1,s=e.closest(".panel").find(".item"),l=t&&t.project();return{afterModel:a(e,t),beforeModel:i(e,t),useCurrentOverBacklog:o}}var a=this,o=_.namespace(a,"tracker"),s=o.View.extend({__name__:"ItemsDragDrop",initialize:function(){function e(e){e&&0!==e.length&&(r(e.parent()).children(".preview").addClass("above_drop_hover dragging_"+A),e.addClass("drop_hover dragging_"+A))}function a(){D.$(".drop_hover").removeClass("drop_hover dragging_story"),D.$(".above_drop_hover").removeClass("above_drop_hover dragging_story")}function s(e){return k.get(e.closest(".panel").data("cid"))}function l(){var e=T.project(),t=!!e.selectedModels().get(T.cid);return t?e.selectedModels().draggable():[T]}function c(e){var t=e.closest(".model"),r=n(t),i=s(t);return{model:i&&i.itemCollection().get(t.data("cid")),type:r}}function u(n){function r(e,t,n,r){if(r&&"epic_stories"===r.get("type")&&e&&e.isAccepted()){if(n)return void 0;if(t&&!t.isAccepted())return void 0}return e}if(n.hasClass("invalid_drop_target"))return a(),b=null,S=null,w=null,void 0;var o=l(),c=n.find(".preview").add(n.find(".details")[0]).add(n.closest(".icebox_stories_marker, .backlog_stories_marker"));if(!c||!b||c[0]!==b[0]){x=!1;var u,d,p=s(n);_.tap(i(n,p),function(e){u=e.afterModel,d=e.beforeModel,x=e.useCurrentOverBacklog}),p&&"current"===p.get("type")&&(x=!0),d&&d.iteration&&d.iteration()&&"current"===d.iteration().get("type")&&(x=!0),!p||"backlog"!==p.get("type")||p.get("split")||d||u||(x=!0),u=r(u,d,c.hasClass("icebox_stories_marker")||c.hasClass("backlog_stories_marker"),p),a(),p&&_(o).all(function(e){var n=s(c),r=(l(e),n&&n.project(),x),i=t(n,r,c);return n.areItemsDroppable(e)&&n.isAllowedOrdering(u,e,d,i)})?(S=u,w=d,e(c),b=c):(b=null,S=null,w=null)}}function d(e){var t=e.closest(".model"),n=T.project(),r=n.selectedModels().draggable().length,i=!!n.selectedModels().get(t.data("cid"));return e.clone().wrap($("<div/>",{"class":t.attr("class")})).parent().wrap($("<div/>",{"class":"ghost point_scale_"+n.get("point_scale_type")})).parent().css({width:e.outerWidth(),position:"absolute"}).append(r>1&&i?$("<div/>",{"class":"multighost",text:"Moving "+r+" stories"}):"").css("pointer-events","none").appendTo(D.rootEl())}function p(e,t){if($(t.drag).closest(".model").find(".selector").is(".selected")&&_.chain(o.Person.current().projects()).invoke("selectedModels").invoke("size").compact().size().value()>1)return e.stopPropagation(),!1;if($(e.target).is("label,.undraggable"))return!1;$.drop({tolerance:null,mode:"intersect"}),E=$(t.drag),A=n(E.closest(".model")),T=c($(t.drag)).model,M=T.project().commandQueue().pause("user began dragging a story or epic");var r=d(E);return E.addClass("dragging"),r}function h(e,t){var n=$(t.proxy);n.css({top:-9999});var r=$(document.elementFromPoint(e.clientX,e.clientY));n.css({top:t.offsetY,left:t.offsetX}),r.hasClass("items")?u(r.find(".end_of_list")):u(r.closest(".item"))}function g(){a(),$(".ghost",D.rootEl()).remove(),E=null,b=null,S=null,w=null}function f(){return M&&M.resolve("user finished dragging a story or epic")}function m(e,n){var r=$(n.drag),i=b,a=T,c=A;if(i&&i.length&&$.contains(document,i[0])){var u=s(i),d=l(a),p=(u&&u.project(),x),h=t(u,p,i),m=o.helpers.dragDrop.makeCommands({panel:u,$dropTarget:i,type:c,dragModels:d,lastBeforeModel:w,lastAfterModel:S,group:h});r.removeClass("dragging"),g(),_.each(m,function(e){e.executeAsInitiatingClient()})}else r.removeClass("dragging"),g();f()}function v(e){if(E&&$.contains(e.target,E[0])){var t=D.$("."+E.closest(".model").data("cid")).find(".preview");if(g(),f(),t.length){var n=new $.Event("mousedown",{which:1});t.trigger(n).trigger("mousemove")}}}function y(){D.delegateEvents({"dragstart .panel.visible.items_draggable .draggable .preview":p,"drag .panel.visible.items_draggable .draggable .preview":h,"dragend .panel.visible.items_draggable .draggable .preview":m,"dropstart .panel.visible.items_draggable":$.noop,"dropend .panel.visible.items_draggable":$.noop,"DOMNodeRemoved .panel":v})}var b,E,S,w,T,A,x,M,D=this,k=D.collection;y()},rootEl:function(){return $("#root")}});_.namespace(o,"views.panels.items").DragDrop=s}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.items.DefaultLoomStrategy,r=t.views.panels.items.Loom,i=_.extend({},n,{getEventProxy:function(e){return(new t.EventProxy).listen(e,"change").listen(e.collection,"change:maxPseudopoints")}});r.register(t.Epic,i),_.namespace(t,"views.panels.items").EpicPreviewLoomStrategy=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.items.DefaultLoomStrategy,r=t.views.panels.items.Loom,i=_.extend({},n,{getEventProxy:function(e){var n=new t.EventProxy;return n.listen(e,"change"),n.listen(e.stories(),"change add remove reset"),n.listen(e.epics(),"change add remove reset"),n}});r.register(t.Label,i),_.namespace(t,"views.panels.items").LabelLoomStrategy=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.items.DefaultLoomStrategy,r=t.views.panels.items.Loom,i={template:"templates/next/panels/items/show",htmlForAdd:function(e,n){var r=new t.StoryPreviewDecorator(e);return JST[this.template](r.toItemJSON({decorator:r,panel:n.panel}))},remove:n.remove,update:function(e,t){t.panel.isModelCollapsed(e)&&t.$el.replaceWith(this.htmlForAdd(e,t))},getEventProxy:function(e){var n=new t.EventProxy;return n.listen(e,"change change:labels"),n.listen(e.labels(),"",function(e){this.listen(e.epics(),"add remove reset")}),n}};r.register(t.Story,i),_.namespace(t,"views.panels.items").StoryPreviewLoomStrategy=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.items.DefaultLoomStrategy,r=t.views.panels.items.Loom,i=_.extend({},n,{getEventProxy:function(e){var n=new t.EventProxy;return n.listen(e,"change"),n}});r.register(t.Task,i),_.namespace(t,"views.panels.items").TaskLoomStrategy=i}.call(this),function(){"use strict";function e(e,t){this.$trigger("expandModel",[t,this.model])}var t=this,n=_(t).namespace("tracker"),r=n.helpers,i=n.View.extend({__name__:"Index2",className:"items",initialize:function(i){function a(e){return function(t){var n=this,r=$(t.currentTarget).closest(".model.item").data("cid"),i=_(W.items()).find(function(e){return e.cid===r});i&&e.call(n,t,i)}}function o(e){return function(t,n){var i=this,a=arguments;r.view.requireWriteAccess(n.project(),function(){e.apply(i,a)}).call(this)}}function s(e){return function(t){var n=$(t.currentTarget).parents(".iteration").data("id"),r=W.project().iterations().get(n);r&&e(t,r)}}function l(e){var t=e instanceof n.Model?e.id:e,r=W.panelIterations().get(t);r&&r.set({collapsed:!1})}function c(e,n){var r=W.panelIterations().get(n),i=r.get("collapsed");return W.expandedModels().any(function(e){return e.hasPendingAttachments()})?(e.preventDefault(),e.stopImmediatePropagation(),t.alert("Please wait until all uploads are finished."),void 0):(z.$(".iteration_"+n.id+" .collapser").click(),r.set({collapsed:!i}),void 0)}function u(e,t){var n=t.project().selectedModels(),i=[t];if(n.include(t))n.remove(t),r.select.deselectModels(i),j=void 0;else{if(e.shiftKey&&_(W.items()).include(j)){var a=W.items().indexOf(j),o=W.items().indexOf(t);i=o>a?W.items().slice(a,o+1):W.items().slice(o,a+1)}var s=_.difference(i,n.models);n.add(s),r.select.selectModels(s),j=t}}function d(e,t){z.$trigger("openEpicStoriesPanel",t),mixpanel.track("/panels/show",{panel_type:"epic_stories",source:"preview"})}function p(e){$(e.currentTarget).closest("form").submit()}function h(e,t){var r=n.DraftStory.create(t);r.set($(e.currentTarget).serializeObject().story);var i=r.differences();if(!_(i).isEmpty()){var a=n.Person.current().id;if("started"===i.current_state&&!_.contains(i.owner_ids||[],a)&&r.canAddOwner()){var o=i.owner_ids||r.get("owner_ids");i.owner_ids=_.unique(o.concat([a]))}t.save(i)}r.stopListening()}function g(){W.set({show_done_epics:!0})}function f(){W.set({show_done_epics:!1})}function m(e){return W.expandedModels().any(function(e){return e.hasPendingAttachments()})?(e.preventDefault(),e.stopImmediatePropagation(),t.alert("Please wait until all uploads are finished."),void 0):(z.$(".accepted .collapser").click(),W.set($(e.currentTarget).serializeObject().panel),void 0)}function v(){W.set("track_event","/search/show_done");var e=W.search();z.$trigger("openSearchPanel",e.get("query")+" includedone:true")}function y(e){var t=$(e.target).closest(".box"),n=t.data("cid"),r=W.itemCollection().get(n);r.set({expanded:!r.get("expanded")}),r.isSource()||r.getSource().trigger("change",r.getSource())}function b(e,t){B.create("reject",{model:t,button:e.currentTarget})}function E(e){z.$trigger("openSearchPanel","mywork:"+n.helpers.Search.prepare($(e.target).text()))}function S(e,t){B.create("custom_point_scale",{model:t,button:e.currentTarget})}function w(e,t){B.create("iteration_update",{model:t,button:e.currentTarget})}function T(e,t){B.create("team_strength_update",{model:t,button:e.currentTarget})}function A(e){W.collapseModel(e)}function x(e){if(e.iteration&&e.iteration()){var t=W.panelIterations().get(e.iteration().id);t&&t.set({collapsed:!1})}}function M(){var e=W.content().items();W.project()&&W.project().selectedModels().each(function(t){_(e).include(t)&&x(t)})}function D(){W.expandedModels().each(function(e){x(e.original())})}function k(e,t){e?(H&&-1!==H.indexOf(e)||-1!==W.items().indexOf(e))&&t(e):t()}function O(e){var t=W.expandedModels().get(e);if(t){var r=W.get("type")!==n.panels.Service.getModelPanelType(t.original(),W.collection),i=!_(W.items()).include(e);r&&i&&(z.$trigger("openInNewPanel",t),W.abandonModel(e))}}function N(){var e=_(W.expandedModels().invoke("original")).difference(W.items());_(e).each(O)}function R(e,t,n){(n||{}).isUserInitiated&&k(e,x),M(),D()}function C(e,t){O(e),(t||{}).isUserInitiated&&k(e,x),M(),D()}function U(e,t){k(e,function(){var r=t.member_id;_(r).isUndefined()||n.Person.current().id===r||z.$trigger("remoteChange",e)})}function F(e){e.preventDefault()}function L(e){k(e,function(){x(e)})}function I(){var t=K.panelItems();P=new n.views.panels.items.Loom({el:z.el,model:W,emptyMessage:i.emptyMessage,items:t}),z.views().addView(P);var x=[{"click .model .expander":[F,a(_.bind(e,z))],"click .iteration .expander":[F,s(c)],"click .story .selector":[F,a(u)],"dblclick .preview":[F,a(_.bind(z.dblclickStory,z))],"click .epic .chevron, .epic .progress":[F,a(d)],"click .stories.search.done_bar a":[F,v],"click .epics.reveal.done_bar a":[F,g],"click .epics.hide.done_bar a":[F,f],"click .activity_entry .details_expander":[F,y],"click .story .preview .owner":[F,E],"click .story .estimate .more":[F,a(o(S))],"click .story .preview .button.reject":[F,a(o(b))],"change .preview :radio":a(o(p)),"change .accepted_stories_bar :radio":p,"submit .accepted_stories_bar form":[F,m],"submit .preview form":[F,a(o(h))]},[W.itemCollection(),{reset:z.render,change:C,reorder:[N,R],remove:A,sync:U,addWithIteration:L}]];W.project()&&(x=x.concat([{"click .iteration.editable_iteration .length":[F,r.view.requireWriteAccess(W.project(),s(w))],"click .iteration.editable_iteration .team_strength":[F,r.view.requireWriteAccess(W.project(),s(T))]},[W.project().iterations(),{expand:l}]])),z.delegateEvents.apply(z,x)}n.View.prototype.initialize.call(this,i);var P,j,H,z=this,W=z.model,B=new n.LightboxesController,K=new(n.panelContents[_.classify(z.model.get("type"))])({},{panel:W});_.extend(z,{render:function(){return z.views().pick(P).render(),H=_(W.items()).clone(),z}}),z.stopListening=function(){K.stopListening(),n.View.prototype.stopListening.apply(z,arguments)},I()},dblclickStory:function(t,r){if("projector"===n.Person.current().appSettings().get("story_density_mode")){var i=r instanceof n.Story?n.DraftStory.create(r):n.DraftEpic.create(r);this.$trigger("maximize",i)}else{if(this.model.content().disallowExpansion)return;$(t.target).is("a,label,button")||e.call(this,t,r)}}});_.namespace(n,"views.panels.items").Index2=i}.call(this),function(e,t){function n(e){function n(){r.views().addView(new t.views.panels.items.Index2({model:i,el:r.el}))}{var r=new(t.View.extend({className:"items panel_content"}))(e),i=e.model;i.project().epics()}return r.render=r.wrapRender(function(){return r.views().render(),r}),n(),r}_.namespace(t,"views.panels.epics").Index=n}(window,window.tracker),function(){this.JST||(this.JST={}),this.JST["templates/panels/epic_stories/header"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["panels/epic_stories/header"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression,l=n.helperMissing;return a+='<div class="epic_stories_header">\n  <a tabindex="-1" class="reveal epic expand" data-project-id="',i=n.project_id,i?r=i.call(t,{hash:{}}):(r=t.project_id,r=typeof r===o?r():r),a+=s(r)+'" data-type="epic" data-id="',i=n.epic_id,i?r=i.call(t,{hash:{}}):(r=t.epic_id,r=typeof r===o?r():r),a+=s(r)+'">Show Epic</a>\n  <span class="counts">',r=t.stories_count,i=n.pluralize,r=i?i.call(t,"story",r,{hash:{}}):l.call(t,"pluralize","story",r,{hash:{}}),a+=s(r)+", ",r=t.points_count,i=n.pluralize,r=i?i.call(t,"point",r,{hash:{}}):l.call(t,"pluralize","point",r,{hash:{}}),a+=s(r)+"</span>\n</div>\n"}),this.HandlebarsTemplates["panels/epic_stories/header"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){return!e.isAcceptedBeforeCurrentIteration()}function r(){i.delegateEvents([a,{"change:show_done_stories":i.render}],[o,{change:i.render}])}var i=new(n.View.extend())(e),a=e.model,o=a.epic();return i.render=i.wrapRender(function(){if(o.labels().length){var e=a.get("show_done_stories")?o.stories().scope():o.stories().scope().filter(t),n={epic_id:o.id,stories_count:e.size(),points_count:e.points(),project_id:o.project().id},r=JST["templates/panels/epic_stories/header"](n);i.$el.html(r)}return i}),r(),i}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.panels.epicStories").Header=e}.call(this),function(){"use strict";function e(e){function t(){var e=new n.views.panels.items.Index2({model:d});return e.$el.addClass("panel_content"),e}function r(e){e.preventDefault(),d.fetchItems({data:{with_label:d.epic().label().get("name"),with_state:"accepted"}}).done(function(){d.set({show_done_stories:!0})})}function i(e,t){t===h&&d.collection.remove(d)}function a(e){p.stories().remove(e)}function o(){u.views().pick(c).removeView()}function s(){c=t(),u.views().addView(c).attach().render()}function l(){c=t(),u.views().addView(new n.views.panels.epicStories.Header({model:d})),u.views().addView(c),u.delegateEvents({"click .stories.reveal.done_bar a":r},[p,{remove:i}],[p.labels(),{remove:o,add:s}],[p.project().stories(),{remove:a}])}var c,u=new(n.View.extend())(e),d=e.model,p=d.epic(),h=d.project().epics();return u.render=u.wrapRender(function(){return u.views().attach().render(),u}),l(),u}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.panels.epicStories").Index=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/panels/labels/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["panels/labels/index"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<section class="labels_items"></section>\n'}),this.HandlebarsTemplates["panels/labels/index"]}.call(this)}.call(this),function(){"use strict";function e(e){function r(e,t){var n=e.data("cid"),r=g.labels().get(n);t(r)}function i(e){$(e.currentTarget).closest(".model").click()
}function a(e){e.preventDefault(),r($(e.currentTarget).closest(".label"),function(e){m.create("rename_label",{model:e,opacity:!0})})}function o(e){if(t.confirm("Are you sure you would like to delete this label?")){var n=f.get($(e.currentTarget).closest(".label").data("cid"));n.destroy()}}function s(e){e.preventDefault(),r($(e.currentTarget).closest(".label"),function(e){var t={name:e.get("name"),label:e.cid},r=new n.Epic(t,{project:function(){return g}});r.save(t)})}function l(e){$(e.currentTarget).closest(".label").trigger("mouseleave")}function c(e){var t=$(e.currentTarget);t.find("section.visible").length||t.addClass("visible")}function u(e){var t=$(e.currentTarget);t.find("section.visible").length||t.removeClass("visible")}function d(){p.$el.html(JST["templates/panels/labels/index"]()),p.views().addView(new n.views.Dropdown({el:p.el})),p.views().addView(".labels_items",new n.views.panels.items.Index2({model:h,$delegate:p.$el,emptyMessage:"There are no labels."})).render().attach(),p.delegateEvents({"picked.dropdown .rename":a,"picked.dropdown .show_stories":i,"picked.dropdown .delete":o,"picked.dropdown .convert":s,"afterScrimClose .dropdown":l,"mouseenter .label":c,"mouseleave .label":u})}var p=new(n.View.extend({className:"panel_content"}))(e),h=e.model,g=h.project(),f=g.labels(),m=new n.LightboxesController;return d(),p}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.panels.labels").Index=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/charts/edit"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["charts/edit"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n  ",r={},r["class"]="filter",i=n.formTag,r=i?i.call(e,{hash:r,inverse:g.noop,fn:g.program(2,o,t)}):p.call(e,"formTag",{hash:r,inverse:g.noop,fn:g.program(2,o,t)}),(r||0===r)&&(a+=r),a+="\n"}function o(e){var t,r,i,a="";return a+='\n    <label for="chart_options">display mode:</label>\n    ',t={},t.name="chart_options",t["class"]="chart_options",r=e.options,t.options=r,r=e.selected,t.selected=r,i=n.dropdown,t=i?i.call(e,{hash:t}):p.call(e,"dropdown",{hash:t}),a+=h(t)+"\n  "}function s(e,t){var r,i,a="";return a+="\n  ",r={},r["class"]="filter",i=n.formTag,r=i?i.call(e,{hash:r,inverse:g.noop,fn:g.program(5,l,t)}):p.call(e,"formTag",{hash:r,inverse:g.noop,fn:g.program(5,l,t)}),(r||0===r)&&(a+=r),a+="\n"}function l(e){var t,r,i,a="";return a+='\n    <label for="releases">Release:</label>\n    ',t={},t.name="releases",t["class"]="releases",t.text="label",t.value="value",r=e.options,t.options=r,r=e.selected,t.selected=r,i=n.dropdown,t=i?i.call(e,{hash:t}):p.call(e,"dropdown",{hash:t}),a+=h(t)+"\n  "}n=n||e.helpers;var c,u,d="",p=n.helperMissing,h=this.escapeExpression,g=this,f="function",m=n.blockHelperMissing;return u=n.story_type_breakdown_chart,u?c=u.call(t,{hash:{},inverse:g.noop,fn:g.program(1,a,i)}):(c=t.story_type_breakdown_chart,c=typeof c===f?c():c),n.story_type_breakdown_chart||(c=m.call(t,c,{hash:{},inverse:g.noop,fn:g.program(1,a,i)})),(c||0===c)&&(d+=c),d+="\n\n",u=n.release_burn_down_chart,u?c=u.call(t,{hash:{},inverse:g.noop,fn:g.program(4,s,i)}):(c=t.release_burn_down_chart,c=typeof c===f?c():c),n.release_burn_down_chart||(c=m.call(t,c,{hash:{},inverse:g.noop,fn:g.program(4,s,i)})),(c||0===c)&&(d+=c),d+="\n"}),this.HandlebarsTemplates["charts/edit"]}.call(this)}.call(this),function(){"use strict";function e(e){function t(e){o.set({stacked:$(e.currentTarget).data("value")})}function r(e){o.set({release:$(e.currentTarget).data("value")})}function i(){a.delegateEvents({"picked.dropdown .chart_options li":t,"picked.dropdown .releases li":r})}var a=new(n.View.extend({}))(e),o=a.model;return _(a).extend({render:a.wrapRender(function(){a.$el.html(JST["templates/charts/edit"](o.decorator().toJSON()))})}),i(),a}var t=this,n=_.namespace(t,"tracker");_(n).namespace("views.panels.charts").Edit=e}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/charts/flyovers/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["charts/flyovers/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i="";return i+="\n  ",r=e.velocity_chart,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(2,o,t)}),(r||0===r)&&(i+=r),i+="\n  ",r=e.current_iteration_burn_up_chart,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(4,s,t)}),(r||0===r)&&(i+=r),i+="\n  ",r=e.story_type_breakdown_chart,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(6,l,t)}),(r||0===r)&&(i+=r),i+="\n  ",r=e.release_burn_down_chart,r=n["if"].call(e,r,{hash:{},inverse:h.noop,fn:h.program(8,c,t)}),(r||0===r)&&(i+=r),i+="\n  <footer>\n    To see more x-axis labels, close other panels or increase the width of your browser.\n  </footer>\n"}function o(){return"\n    <h1>Velocity</h1>\n    <p>\n      The Velocity chart shows the accepted point count for done iterations.<br/>\n      The X-axis shows the iteration number.<br/>\n      The Y-axis shows the accepted story point count.<br/>\n      The 'Actual' bars show the number of points completed in each done iteration.<br/>\n      The 'Running Velocity' line shows the velocity as calculated at the time of the done iteration.<br/>\n      The 'Mean' line shows the mean (average) velocity calculated over all done iterations.<br/>\n    </p>\n  "}function s(){return"\n    <h1>Current Iteration Burn-Up</h1>\n    <p>\n      The Current Iteration Burn-Up chart shows progress in the current iteration based on the accepted story point count.<br/>\n      The X-axis shows the days in the iteration.<br/>\n      The Y-axis shows the accepted story point count.<br/>\n      The 'Expected' line shows the expected progress through the iteration based on the current velocity.<br/>\n      The 'Actual' columns show the true progress through the iteration so far. It is green if it is greater than or equal to the rounded target and red if it is below.<br/>\n    </p>\n  "}function l(){return"\n    <h1>Story Type Breakdown</h1>\n    <p>\n      The Story Type Breakdown chart shows the number of stories accepted for done iterations, broken down by story type.<br/>\n      The number of points completed is also shown. You can hide or show each of the story types by clicking that type in the legend.<br/>\n      You can also decide whether to stack the data, using the Display Mode option.<br/>\n    </p>\n  "}function c(){return"\n    <h1>Release Burn Down</h1>\n    <p>\n      The Release Burn-Down chart shows progress through each release in the project.<br/>\n      Using the 'Release' pull-down, you can choose from any of the releases in the project.<br/>\n      The X-axis shows the days in the release.<br/>\n      The Y-axis shows the point count of the remaining (unaccepted) stories in the release.<br/>\n      The 'Actual' line shows the true progress through the release.<br/>\n      If the release has a deadline, the 'Target Deadline' line shows the rate of progress through the release necessary to meet the deadline. The 'Target Deadline' line is green if the deadline is projected to be met, and red if not.<br/>\n      If the release is not yet complete, the 'Actual' line ends at today's date and the 'Projected' line shows expected future progress through the release based on the current velocity.<br/>\n      If the release is not yet complete, the chart covers all the stories from the end of the previous release through the end of the chosen release.<br/>\n    </p>\n  "}n=n||e.helpers;var u,d,p="",h=this,g="function",f=n.blockHelperMissing;return p+="<div>\n",d=n.model,d?u=d.call(t,{hash:{},inverse:h.noop,fn:h.program(1,a,i)}):(u=t.model,u=typeof u===g?u():u),n.model||(u=f.call(t,u,{hash:{},inverse:h.noop,fn:h.program(1,a,i)})),(u||0===u)&&(p+=u),p+="\n</div>\n"}),this.HandlebarsTemplates["charts/flyovers/show"]}.call(this)}.call(this),function(e,t){function n(e){function n(){var e=new t.views.Flyover({className:"chart_flyover",templateName:"templates/charts/flyovers/show",collection:new t.Collection([i]),$delegate:t.$el,targetSelector:" .help",$container:r.$el,showDelay:500,positionOptions:{offset:"20 0"}});r.views().addView(e)}var r=new(t.View.extend({}))(e),i=r.model;return n(),r}_(t).namespace("views.flyovers.charts").Show=n}(window,window.tracker),function(){this.JST||(this.JST={}),this.JST["templates/charts/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["charts/index"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i,a="";return a+='\n    <label for="charts_filter">chart type:</label>\n    ',t={},t.name="charts_filter",t["class"]="charts_filter",r=e.chart_types,t.options=r,r=e.selected,t.selected=r,i=n.dropdown,t=i?i.call(e,{hash:t}):c.call(e,"dropdown",{hash:t}),a+=u(t)+"\n  "}n=n||e.helpers,r=r||e.partials;var o,s,l="",c=n.helperMissing,u=this.escapeExpression,d="function",p=this;return l+="<section class='chart_type ",s=n.cid,s?o=s.call(t,{hash:{}}):(o=t.cid,o=typeof o===d?o():o),l+=u(o)+"' data-cid=\"",s=n.cid,s?o=s.call(t,{hash:{}}):(o=t.cid,o=typeof o===d?o():o),l+=u(o)+'">\n  ',o={},o["class"]="filter",s=n.formTag,o=s?s.call(t,{hash:o,inverse:p.noop,fn:p.program(1,a,i)}):c.call(t,"formTag",{hash:o,inverse:p.noop,fn:p.program(1,a,i)}),(o||0===o)&&(l+=o),l+='\n  <div class=\'help\'></div>\n</section>\n\n<section class="chart_options_container">\n</section>\n\n<div class="chart"></div>\n\n',o=t,o=p.invokePartial(r._charts_info,"_charts_info",o,n,r),(o||0===o)&&(l+=o),l+="\n"}),this.HandlebarsTemplates["charts/index"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/charts/_info"]=function(){Handlebars.registerPartial("_charts_info",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+="\n    Over the project's visible history, the mean (average) velocity is <strong>",t=e.mean,r=n.round,t=r?r.call(e,t,{hash:{}}):m.call(e,"round",t,{hash:{}}),i+=_(t)+"</strong>.\n    The standard deviation is <strong>",t=e.std_dev,r=n.round,t=r?r.call(e,t,{hash:{}}):m.call(e,"round",t,{hash:{}}),i+=_(t)+"</strong>. The volatility is <strong>",t=e.volatility,r=n.round,t=r?r.call(e,t,{hash:{}}):m.call(e,"round",t,{hash:{}}),i+=_(t)+"</strong>.\n  "}function o(e){var t,r,i="";return i+="\n    <strong>",r=n.total_points,r?t=r.call(e,{hash:{}}):(t=e.total_points,t=typeof t===v?t():t),i+=_(t)+"</strong> points have been accepted in this iteration so far.\n  "}function s(e){var t,r,i="";return i+="\n    In the average iteration, <strong>",t=e.feature,r=n.round,t=r?r.call(e,t,{hash:{}}):m.call(e,"round",t,{hash:{}}),i+=_(t)+"</strong> features, <strong>",t=e.chore,r=n.round,t=r?r.call(e,t,{hash:{}}):m.call(e,"round",t,{hash:{}}),i+=_(t)+"</strong> chores, and <strong>",t=e.bug,r=n.round,t=r?r.call(e,t,{hash:{}}):m.call(e,"round",t,{hash:{}}),i+=_(t)+"</strong> bugs are accepted.\n  "}function l(e,t){var r,i="";return i+="\n    ",r=e.no_data,r=n.unless.call(e,r,{hash:{},inverse:y.program(13,p,t),fn:y.program(8,c,t)}),(r||0===r)&&(i+=r),i+="\n  "}function c(e,t){var r,i,a="";return a+="\n      This release ",r=e.finished,r=n["if"].call(e,r,{hash:{},inverse:y.program(11,d,t),fn:y.program(9,u,t)}),(r||0===r)&&(a+=r),a+=" on ",i=n.finish_date,i?r=i.call(e,{hash:{}}):(r=e.finish_date,r=typeof r===v?r():r),a+=_(r)+".  There are ",i=n.points_remaining,i?r=i.call(e,{hash:{}}):(r=e.points_remaining,r=typeof r===v?r():r),a+=_(r)+" points remaining in this release.\n    "}function u(){return"finished"}function d(){return"is projected to finish"}function p(){return"\n      There are no releases in this project.\n    "}n=n||e.helpers;var h,g,f="",m=n.helperMissing,_=this.escapeExpression,v="function",y=this,b=n.blockHelperMissing;return f+="<p class='info'>\n  ",g=n.velocity_chart,g?h=g.call(t,{hash:{},inverse:y.noop,fn:y.program(1,a,i)}):(h=t.velocity_chart,h=typeof h===v?h():h),n.velocity_chart||(h=b.call(t,h,{hash:{},inverse:y.noop,fn:y.program(1,a,i)})),(h||0===h)&&(f+=h),f+="\n  ",g=n.current_iteration_burn_up_chart,g?h=g.call(t,{hash:{},inverse:y.noop,fn:y.program(3,o,i)}):(h=t.current_iteration_burn_up_chart,h=typeof h===v?h():h),n.current_iteration_burn_up_chart||(h=b.call(t,h,{hash:{},inverse:y.noop,fn:y.program(3,o,i)})),(h||0===h)&&(f+=h),f+="\n  ",g=n.story_type_breakdown_chart,g?h=g.call(t,{hash:{},inverse:y.noop,fn:y.program(5,s,i)}):(h=t.story_type_breakdown_chart,h=typeof h===v?h():h),n.story_type_breakdown_chart||(h=b.call(t,h,{hash:{},inverse:y.noop,fn:y.program(5,s,i)})),(h||0===h)&&(f+=h),f+="\n  ",g=n.release_burn_down_chart,g?h=g.call(t,{hash:{},inverse:y.noop,fn:y.program(7,l,i)}):(h=t.release_burn_down_chart,h=typeof h===v?h():h),n.release_burn_down_chart||(h=b.call(t,h,{hash:{},inverse:y.noop,fn:y.program(7,l,i)})),(h||0===h)&&(f+=h),f+="\n</p>\n\n<footer>\n  Click on any legend entry to hide corresponding data in the chart.\n</footer>\n"}))}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({initialize:function(e){this.width=e.width,this.height=e.height,this.removedDataSeries=e.removedDataSeries},svg:function(){return this.svg_||this.initSvg_()},initSvg_:function(){return this.svg_=d3.select(this.el).append("svg").attr("width",this.width).attr("height",this.height),this.svg_},showData_:function(e){return!this.removedDataSeries[e]},addLegend_:function(e,t){var n=10,r=5,i=2*r+n*(t.length-1)+_.reduce(t,function(e,t){return e+t.width},0),a=e.attr("width")/2,o=a-i/2,s=e.append("g").attr({"class":"chart_legend"});s.append("rect").attr({x:o,y:e.attr("height")-20,width:i,height:20,fill:"none",stroke:"#909090","stroke-width":"1px",rx:5,ry:5});var l=o+r;_.each(t,function(e){e.draw(s,l),l=l+e.width+n})},findSeries_:function(e,t){return _.find(e,function(e){return e.name===t})},generateZeroes_:function(e){for(var t=[],n=e;n--;)t[n]=0;return t}});_.namespace(t,"views.panels.charts").ChartRenderer=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.charts.ChartRenderer.extend({margin:{top:10,right:60,bottom:60,left:60},meanBarHeight:30,initialize:function(e){t.views.panels.charts.ChartRenderer.prototype.initialize.call(this,e);var n=this.width,r=this.height,i=this.margin,a=this.model.content().chartData.series[0].data,o=this.model.content().chartData.series[1].data,s=(this.showData_("actual velocity")?a:[]).concat(this.showData_("running velocity")?o:[]),l=_.map(a,function(e){return e[0]}),c=_.max(s,function(e){return e[1]})[1];c%2===1&&(c+=1);var u=(n-i.left-i.right)/(2*a.length);u=2*Math.round(u/2);var d=d3.scale.ordinal().rangeBands([i.left,n-i.right-u/2]).domain(l),p=d3.scale.linear().domain([0,c]).range([r-i.bottom,i.top]);this.xAxisScale=d,this.yAxisScale=p,this.barWidth=u,this.chartMax=c,this.velocityData=a,this.runningVelocityData=o,this.iterations=l},render:function(){return this.renderAxes_(),this.renderGrid_(),this.renderData_(),this.renderOutline_(),this.renderLegend_(),this},renderAxes_:function(){var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=this.xAxisScale,a=this.yAxisScale,o=this.iterations,s=22,l=(t-r.left-r.right)/s,c=Math.ceil(o.length/l),u=_.select(o,function(e,t){return t%c===0}),d=d3.svg.axis().scale(i).orient("bottom").tickValues(u),p=d3.svg.axis().scale(a).orient("left");e.append("g").attr("class","x axis").attr("transform","translate(5,"+(n-r.bottom)+")").call(d),e.append("g").attr("class","y axis").attr("stroke-width",1).attr("transform","translate("+r.left+", 0)").call(p),e.append("text").text("Iterations").attr({stroke:"#3E576F",x:(t-r.left)/2,y:n-r.top-r.bottom/4,"font-family":'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;',"font-size":"12px",fill:"#3E576F",color:"#3E576F"});var h=30;e.append("text").text("Points accepted").attr({transform:"rotate(-90 "+r.left/3+" "+(n/2+h)+")",x:r.left,y:n/2+h,stroke:"#3E576F","font-family":'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;',"font-size":"12px",fill:"#3E576F",color:"#3E576F"})},renderGrid_:function(){var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=this.xAxisScale,a=this.yAxisScale,o=this.iterations,s=this.chartMax,l=this.barWidth;e.selectAll("line.horizontalGrid").data(a.ticks(s/2)).enter().append("line").attr({"class":"horizontalGrid",x1:r.left,x2:t-r.right,y1:function(e){return a(e)},y2:function(e){return a(e)},fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"}),e.append("line").attr({"class":"horizontalGrid",x1:r.left,x2:t-r.right,y1:r.top,y2:r.top,fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"}),e.selectAll("line.verticalGrid").data(o).enter().append("line").attr({"class":"verticalGrid",x1:function(e){return i(e)+l},x2:function(e){return i(e)+l},y1:r.top,y2:n-r.bottom,fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"})},renderData_:function(){var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=Math.max(this.barWidth,1),a=this.chartMax,o=(this.xAxisScale,this.yAxisScale,this.velocityData),s=d3.scale.linear().domain([0,o.length]).range([r.left+i/2,t-r.right]),l=d3.scale.linear().domain([0,a]).range([0,n-r.bottom-r.top]),c=this.runningVelocityData,u=this.model.content().templateData.mean,d=this.meanBarHeight,p=n-l(u)-d/2-r.bottom,h=p+d,g=n-r.bottom,f=h>g?g-p:d;0!==u&&e.append("g").append("rect").attr({x:r.left,y:p,width:t-r.right-r.left,height:f,fill:"#FCFEC8"}),this.showData_("actual velocity")&&e.append("g").selectAll("rect").data(o).enter().append("rect").attr("x",function(e,t){return s(t)}).attr("y",function(e){return n-l(e[1])-r.bottom}).attr("width",i+"px").attr("fill","#4773A5").attr("height",function(e){return l(e[1])+"px"});var m=d3.svg.line().x(function(e,t){return s(t+1)+i/2}).y(function(e){return n-l(e[1])-r.bottom}).interpolate("linear");this.showData_("running velocity")&&(e.append("path").attr("d",m(c)).attr("stroke","#A84745").attr("stroke-width",3).attr("fill","none"),e.append("g").selectAll("circle").data(c).enter().append("circle").attr("cx",function(e,t){return s(t+1)+i/2}).attr("cy",function(e){return n-l(e[1])-r.bottom}).attr("r","4").attr("fill","#A84745")),e.append("text").text("Mean").attr({stroke:"black",x:t-r.left+8,y:n-l(u)-r.bottom,"font-family":'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;',"font-size":"12px",fill:"#3E576F",color:"#3E576F"})},renderOutline_:function(){var e=this.svg(),t=this.margin,n=this.height,r=this.width;e.append("line").attr({"class":"verticalGrid",x1:t.left,x2:t.left,y1:t.top,y2:n-t.bottom,fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"}),e.append("line").attr({"class":"verticalGrid",x1:r-t.right,x2:r-t.right,y1:t.top,y2:n-t.bottom,fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"})},renderLegend_:function(){var e=this.svg(),t="legend_element "+(this.showData_("running velocity")?"on_chart":"not_on_chart"),n="legend_element "+(this.showData_("actual velocity")?"on_chart":"not_on_chart"),r=this.height,i={width:47,draw:function(e,t){e.append("rect").attr({rx:"2",ry:"2",fill:"#4572A7",x:t,y:r-16,width:"16",height:"12","stroke-width":"0.000001",zIndex:"3",stroke:"#4572A7","class":n,"data-data-series":"actual velocity"}),e.append("text").text("Actual").attr({x:t+18,y:r-6,stroke:"black","stroke-width":"0.5","class":n,"data-data-series":"actual velocity"})}},a={width:101,draw:function(e,n){e.append("line").attr({x1:n,y1:r-10,x2:n+20,y2:r-10,stroke:"#A84745","stroke-width":3,"class":t,"data-data-series":"running velocity"}),e.append("circle").attr({cx:n+10,cy:r-10,r:"5",fill:"#A84745","class":t,"data-data-series":"running velocity"}),e.append("text").text("Running Velocity").attr({x:n+22,y:r-6,stroke:"black","stroke-width":"0.5","class":t,"data-data-series":"running velocity"})}};this.addLegend_(e,[i,a])}});_.namespace(t,"views.panels.charts").VelocityChartRenderer=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.charts.ChartRenderer.extend({margin:{top:10,right:60,bottom:60,left:60},initialize:function(e){t.views.panels.charts.ChartRenderer.prototype.initialize.call(this,e);var n,r=this.width,i=this.height,a=this.margin,o=this.model.content().chartData.series,s=this.findSeries_(o,"Features"),l=_.map(s.data,function(e){return e[1]}),c=this.findSeries_(o,"Bugs"),u=_.map(c.data,function(e){return e[1]}),d=this.findSeries_(o,"Chores"),p=_.map(d.data,function(e){return e[1]}),h=this.findSeries_(o,"Accepted Points"),g=_.map(h.data,function(e){return e[1]}),f=_.map(h.data,function(e){return e[0]}),m=this.model.content().chartData.plotOptions.area.stacking;if(m){var v=this.generateZeroes_(f.length);this.showData_("features")&&_.each(l,function(e,t){v[t]=v[t]+e}),this.showData_("bugs")&&_.each(u,function(e,t){v[t]=v[t]+e}),this.showData_("chores")&&_.each(p,function(e,t){v[t]=v[t]+e}),v=v.concat(this.showData_("accepted points")?g:[]),n=_.max(v)}else{var y=(this.showData_("features")?l:[]).concat(this.showData_("bugs")?u:[]).concat(this.showData_("chores")?p:[]).concat(this.showData_("accepted points")?g:[]);n=_.max(y)}(n%2===1||0===n)&&(n+=1);var b=d3.scale.linear().domain([0,f.length-1]).range([a.left,r-a.right]),E=d3.scale.linear().domain([0,n]).range([0,i-a.bottom-a.top]),S=d3.scale.ordinal().domain(f).rangePoints([a.left,r-a.right]),w=d3.scale.linear().domain([0,n]).range([i-a.bottom,a.top]);this.xScale=b,this.yScale=E,this.xAxisScale=S,this.yAxisScale=w,this.chartMax=n,this.iterations=f,this.stacked=m,this.featuresData=l,this.bugsData=u,this.choresData=p,this.acceptedPointsData=g},render:function(){return this.renderAxes_(),this.renderGrid_(),this.renderData_(),this.renderLegend_(),this},renderAxes_:function(){var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=this.xAxisScale,a=this.yAxisScale,o=this.iterations,s=22,l=(t-r.left-r.right)/s,c=Math.ceil(o.length/l),u=_.select(o,function(e,t){return t%c===0}),d=d3.svg.axis().orient("bottom").scale(i).tickValues(u),p=d3.svg.axis().orient("left").scale(a).tickFormat(d3.format("d"));e.append("g").attr("class","x axis").attr("transform","translate(5,"+(n-r.bottom)+")").call(d),e.append("g").attr("class","y axis").attr("transform","translate("+r.left+",0)").call(p);var h=30;e.append("text").text("Story Counts, Points Accepted").attr({transform:"rotate(-90 "+r.left/3+" "+(n/2+h)+")",x:r.left,y:n/2+h,stroke:"#3E576F","font-family":'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;',"font-size":"12px",fill:"#3E576F",color:"#3E576F"}),d3.select("div.chart svg").append("text").text("Iterations").attr({stroke:"#3E576F",x:(t-r.left)/2,y:n-r.top-r.bottom/4,"font-family":'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;',"font-size":"12px",fill:"#3E576F",color:"#3E576F"})},renderGrid_:function(){var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=this.xAxisScale,a=this.yAxisScale,o=this.iterations;e.selectAll("line.horizontalGrid").data(_.reject(a.ticks(),function(e){return e%1})).enter().append("line").attr({"class":"horizontalGrid",x1:r.left,x2:t-r.right,y1:function(e){return a(e)},y2:function(e){return a(e)},fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"}),e.selectAll("line.verticalGrid").data(o).enter().append("line").attr({"class":"verticalGrid",x1:function(e){return i(e)},x2:function(e){return i(e)},y1:r.top,y2:n-r.bottom,fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"})},renderData_:function(){var e=this.svg(),t=(this.width,this.height,this.margin),n=this.xScale,r=this.yScale,i=this.choresData,a=this.bugsData,o=this.featuresData,s=this.iterations,l=this.stacked,c=this.acceptedPointsData;l?(this.previousData=this.generateZeroes_(s.length),this.showData_("chores")&&this.drawFilledAreaChartLineStacked_(e,i,"#4773A5","square",n,r,t),this.showData_("bugs")&&this.drawFilledAreaChartLineStacked_(e,a,"#A84745","diamond",n,r,t),this.showData_("features")&&this.drawFilledAreaChartLineStacked_(e,o,"#8AA453","circle",n,r,t)):(this.showData_("features")&&this.drawFilledAreaChartLine_(e,o,"#8AA453","circle",n,r,t),this.showData_("bugs")&&this.drawFilledAreaChartLine_(e,a,"#A84745","diamond",n,r,t),this.showData_("chores")&&this.drawFilledAreaChartLine_(e,i,"#4773A5","square",n,r,t)),this.showData_("accepted points")&&this.drawAreaChartLine_(e,c,"#806A9A","triangle-up",n,r,t)},renderLegend_:function(){var e="legend_element "+(this.showData_("features")?"on_chart":"not_on_chart"),t="legend_element "+(this.showData_("bugs")?"on_chart":"not_on_chart"),n="legend_element "+(this.showData_("chores")?"on_chart":"not_on_chart"),r="legend_element "+(this.showData_("accepted points")?"on_chart":"not_on_chart"),i=this.height,a={width:60,draw:function(t,n){t.append("rect").attr({rx:"2",ry:"2",fill:"#8AA453",x:n,y:i-16,width:"16",height:"12","stroke-width":"0.000001",zIndex:"3",stroke:"#8AA453","class":e,"data-data-series":"features"}),t.append("text").text("Features").attr({x:n+18,y:i-6,stroke:"black","stroke-width":"0.5","class":e,"data-data-series":"features"})}},o={width:40,draw:function(e,n){e.append("rect").attr({rx:"2",ry:"2",fill:"#A84745",x:n,y:i-16,width:"16",height:"12","stroke-width":"0.000001",zIndex:"3",stroke:"#A84745","class":t,"data-data-series":"bugs"}),e.append("text").text("Bugs").attr({x:n+18,y:i-6,stroke:"black","stroke-width":"0.5","class":t,"data-data-series":"bugs"})}},s={width:51,draw:function(e,t){e.append("rect").attr({rx:"2",ry:"2",fill:"#4773A5",x:t,y:i-16,width:"16",height:"12","stroke-width":"0.000001",zIndex:"3",stroke:"#4773A5","class":n,"data-data-series":"chores"}),e.append("text").text("Chores").attr({x:t+18,y:i-6,stroke:"black","stroke-width":"0.5","class":n,"data-data-series":"chores"})}},l={width:99,draw:function(e,t){e.append("line").attr({x1:t,y1:i-10,x2:t+20,y2:i-10,stroke:"#806A9A","stroke-width":2,"class":r,"data-data-series":"accepted points"}),e.append("path").attr({d:d3.svg.symbol().type("triangle-up").size(36),fill:"#806A9A",stroke:"#806A9A","class":r,"data-data-series":"accepted points",transform:"translate("+(t+10)+","+(i-10)+")"}),e.append("text").text("Accepted Points").attr({x:t+22,y:i-6,stroke:"black","stroke-width":"0.5","class":r,"data-data-series":"accepted points"})}},c=[a,o,s,l];this.addLegend_(this.svg(),c)},drawFilledAreaChartLineStacked_:function(e,t,n,r,i,a,o){var s=e.attr("height"),l=this;t=_.map(t,function(e,t){return l.previousData[t]+e}),this.drawAreaChartLine_(e,t,n,r,i,a,o);var c=d3.svg.area().x(function(e,t){return i(t)}).y0(function(e,t){return s-a(l.previousData[t])-o.bottom}).y1(function(e){return s-a(e)-o.bottom});e.append("path").attr("d",function(){return c(t)}).style("fill",n).style("opacity","0.75"),this.previousData=t},drawFilledAreaChartLine_:function(e,t,n,r,i,a,o){var s=e.attr("height");this.drawAreaChartLine_(e,t,n,r,i,a,o);var l=d3.svg.area().x(function(e,t){return i(t)}).y0(function(){return s-a(0)-o.bottom}).y1(function(e){return s-a(e)-o.bottom});e.append("path").attr("d",function(){return l(t)}).style("fill",n).style("opacity","0.75")},drawAreaChartLine_:function(e,t,n,r,i,a,o){var s=e.attr("height"),l=d3.svg.line().x(function(e,t){return i(t)}).y(function(e){return s-a(e)-o.bottom}).interpolate("linear");e.append("path").attr("d",l(t)).attr("stroke",n).attr("stroke-width",3).attr("fill","none"),e.append("g").selectAll("path").data(t).enter().append("path").attr({d:d3.svg.symbol().type(r).size(36),fill:n,stroke:n,transform:function(e,t){return"translate("+i(t)+","+(s-a(e)-o.bottom)+")"}})}});_.namespace(t,"views.panels.charts").StoryTypeChartRenderer=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.charts.ChartRenderer.extend({margin:{top:10,right:60,bottom:60,left:60},initialize:function(e){t.views.panels.charts.ChartRenderer.prototype.initialize.call(this,e);var n=this.width,r=this.height,i=this.margin,a=this.tuplify_(this.model.content().chartData.series[0].data),o=this.findSeries_(this.model.content().chartData.series,"Target Deadline"),s=o?this.tuplify_(o.data):null,l=this.showData_("target deadline")&&s&&s[0][0]<s[1][0],c=this.findSeries_(this.model.content().chartData.series,"Projected"),u=c?this.tuplify_(c.data):null,d=this.showData_("projected burndown")&&u,p=(this.showData_("actual burndown")?a:[]).concat(l?s:[]).concat(d?u:[]),h=_.max(p,function(e){return e[1]})[1];(h%2===1||0===h)&&(h+=1);for(var g=_.map(p,function(e){return new Date(e[0])}),f=_.min(g),m=_.max(g),v=d3.scale.linear().domain([0,h]).range([0,r-i.bottom-i.top]).nice(),y=d3.time.scale().domain([f,m]).rangeRound([i.left,n-i.right]),b=d3.scale.linear().domain([0,h]).range([r-i.bottom,i.top]).nice(),E=60,S=(n-i.left-i.right)/E,w=[],T=new Date(f.valueOf());m>=T;)w.push(T.valueOf()),T.setDate(T.getDate()+1);var A=Math.ceil(w.length/S),x=_.select(w,function(e,t){return t%A===0});this.xAxisScale=y,this.yAxisScale=b,this.yScale=v,this.minDate=f,this.maxDate=m,this.actualBurndownData=a,this.targetDeadlineData=s,this.projectedBurndownData=u,this.showTargetDeadlineData=l,this.showProjectedBurndownData=d,this.targetDeadlineSeries=o,this.tickValues=x,this.timestamps=w},render:function(){return this.renderAxes_(),this.renderGrid_(),this.renderData_(),this.renderLegend_(),this},renderAxes_:function(){var e=this.svg(),t=(this.width,this.height),n=this.margin,r=this.xAxisScale,i=this.yAxisScale,a=this.tickValues,o=d3.svg.axis().scale(r).orient("bottom").tickValues(a).tickFormat(function(e){return d3.time.format("%b %-d")(new Date(e))}),s=d3.svg.axis().scale(i).orient("left").tickFormat(d3.format("d"));e.append("g").attr("class","x axis").attr("transform","translate(5,"+(t-n.bottom)+")").call(o),e.append("g").attr("class","y axis").attr("stroke-width",1).attr("transform","translate("+n.left+", 0)").call(s);var l=30;e.append("text").text("Points remaining").attr({transform:"rotate(-90 "+n.left/3+" "+(t/2+l)+")",x:n.left,y:t/2+l,stroke:"#3E576F","font-family":'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;',"font-size":"12px",fill:"#3E576F",color:"#3E576F"})},renderGrid_:function(){var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=this.xAxisScale,a=this.yAxisScale,o=(this.chartMax,this.timestamps),s=this.tickValues;e.selectAll("line.horizontalGrid").data(_.reject(a.ticks(),function(e){return e%1})).enter().append("line").attr({"class":"horizontalGrid",x1:r.left,x2:t-r.right,y1:function(e){return a(e)},y2:function(e){return a(e)},fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"}),e.selectAll("line.verticalGrid").data(o).enter().append("line").attr({"class":"verticalGrid",x1:function(e){return i(e)},x2:function(e){return i(e)},y1:r.top,y2:n-r.bottom,fill:"none","shape-rendering":"crispEdges",stroke:function(e){return-1!==s.indexOf(e)?"black":"#E9E9E9"},"stroke-width":"1px"})},renderData_:function(){var e=this.svg(),t=(this.width,this.height),n=this.margin,r=this.xAxisScale,i=this.yScale,a=this.actualBurndownData,o=this.targetDeadlineData,s=this.projectedBurndownData,l=this.showTargetDeadlineData,c=this.showProjectedBurndownData,u=d3.svg.line().x(function(e){return r(e[0])}).y(function(e){return t-i(e[1])-n.bottom}).interpolate("linear");this.showData_("actual burndown")&&e.append("path").attr("d",u(a)).attr("stroke","#4773A5").attr("stroke-width",3).attr("fill","none"),l&&e.append("line").attr({x1:r(o[0][0]),y1:t-i(o[0][1])-n.bottom,x2:r(o[1][0]),y2:t-i(o[1][1])-n.bottom,"stroke-width":3,stroke:this.targetDeadlineSeries.color}),c&&e.append("line").attr({x1:r(s[0][0]),y1:t-i(s[0][1])-n.bottom,x2:r(s[1][0]),y2:t-i(s[1][1])-n.bottom,"stroke-width":3,stroke:"black","stroke-dasharray":"10,10"})},renderOutline_:function(){this.svg(),this.margin,this.height,this.width},renderLegend_:function(){var e="legend_element "+(this.showData_("actual burndown")?"on_chart":"not_on_chart"),t="legend_element "+(this.showData_("target deadline")?"on_chart":"not_on_chart"),n="legend_element "+(this.showData_("projected burndown")?"on_chart":"not_on_chart"),r=this.height,i=this.targetDeadlineSeries,a={width:41,draw:function(t,n){t.append("line").attr({x1:n,y1:r-10,x2:n+10,y2:r-10,stroke:"#4773A5","stroke-width":3,"class":e,"data-data-series":"actual burndown"}),t.append("text").text("Actual").attr({x:n+12,y:r-6,stroke:"black","stroke-width":"0.5","class":e,"data-data-series":"actual burndown"})}},o={width:88,draw:function(e,n){e.append("line").attr({x1:n,y1:r-10,x2:n+10,y2:r-10,stroke:i.color,"stroke-width":3,"class":t,"data-data-series":"target deadline"}),e.append("text").text("Target Deadline").attr({x:n+12,y:r-6,stroke:"black","stroke-width":"0.5","class":t,"data-data-series":"target deadline"})
}},s={width:61,draw:function(e,t){e.append("line").attr({x1:t,y1:r-10,x2:t+12,y2:r-10,stroke:"black","stroke-width":3,"stroke-dasharray":"5,2","class":n,"data-data-series":"projected burndown"}),e.append("text").text("Projected").attr({x:t+14,y:r-6,stroke:"black","stroke-width":"0.5","class":n,"data-data-series":"projected burndown"})}},l=[];l.push(a),this.targetDeadlineData&&l.push(o),this.projectedBurndownData&&l.push(s),this.addLegend_(this.svg(),l)},tuplify_:function(e){return _.map(e,function(e){return[e.x,e.y]})}});_.namespace(t,"views.panels.charts").ReleaseBurndownChartRenderer=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.charts.ChartRenderer.extend({margin:{top:10,right:60,bottom:60,left:60},initialize:function(e){t.views.panels.charts.ChartRenderer.prototype.initialize.call(this,e);var n=this.width,r=this.height,i=this.margin,a=this.model.content().chartData.series,o=this.findSeries_(a,"Actual"),s=o.data,l=this.findSeries_(a,"Expected"),c=l.data,u=(n-i.left-i.right)/c.length,d=_.map(s.concat(c),function(e){return e.y}),p=new Date(c[0].x),h=new Date(c[c.length-1].x),g=_.max(d),f=d3.time.scale().domain([p,h]).range([i.left,n-i.right]).nice(),m=d3.scale.linear().domain([0,g]).range([r-i.bottom-i.top,0]),v=d3.scale.linear().domain([0,g]).range([r-i.bottom,i.top]);this.xScale=f,this.yScale=m,this.yAxisScale=v,this.barWidth=u,this.expectedData=c,this.actualData=s,this.minDate=p,this.maxDate=h},render:function(){return this.renderAxes_(),this.renderGrid_(),this.renderData_(),this.renderLegend_(),this},renderAxes_:function(){for(var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=this.xScale,a=this.yAxisScale,o=this.barWidth,s=35,l=(t-r.left-r.right)/s,c=[],u=new Date(this.minDate.valueOf());u<=this.maxDate;)c.push(u.valueOf()),u.setDate(u.getDate()+1);var d=Math.ceil(c.length/l),p=_.select(c,function(e,t){return t%d===0}),h=d3.svg.axis().orient("bottom").scale(i).tickValues(p).tickFormat(function(e){return d3.time.format("%b %-d")(new Date(e))}),g=d3.svg.axis().orient("left").scale(a).tickFormat(d3.format("d"));e.append("g").attr("class","x axis").attr("transform","translate("+o/2+","+(n-r.bottom)+")").call(h),e.append("g").attr("class","y axis").attr("transform","translate("+r.left+",0)").call(g);var f=30;e.append("text").text("Points Accepted").attr({transform:"rotate(-90 "+r.left/3+" "+(n/2+f)+")",x:r.left,y:n/2+f,stroke:"#3E576F","font-family":'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;',"font-size":"12px",fill:"#3E576F",color:"#3E576F"})},renderGrid_:function(){var e=this.svg(),t=this.width,n=this.height,r=this.margin,i=this.xScale,a=this.yAxisScale;e.selectAll("line.horizontalGrid").data(_.reject(a.ticks(),function(e){return e%1})).enter().append("line").attr({"class":"horizontalGrid",x1:r.left,x2:t-r.right,y1:function(e){return a(e)},y2:function(e){return a(e)},fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"}),e.selectAll("line.verticalGrid").data(_.select(i.ticks(),function(e){return 0===e.getHours()})).enter().append("line").attr({"class":"verticalGrid",x1:function(e){return i(e)},x2:function(e){return i(e)},y1:r.top,y2:n-r.bottom,fill:"none","shape-rendering":"crispEdges",stroke:"#E9E9E9","stroke-width":"1px"})},renderData_:function(){var e=this.svg(),t=(this.width,this.height),n=this.margin,r=this.barWidth,i=this.xScale,a=this.yScale,o=this.expectedData,s=this.actualData;this.showData_("actual iteration burnup")&&e.append("g").selectAll("rect").data(s).enter().append("rect").attr("x",function(e){return i(e.x)}).attr("y",function(e){return a(e.y)}).attr("width",r).attr("fill",function(e){return e.color}).attr("height",function(e){return t-a(e.y)-n.bottom}),this.showData_("expected iteration burnup")&&e.append("line").attr({x1:i(o[0].x),y1:a(o[0].y),x2:i(o[o.length-1].x),y2:a(o[o.length-1].y),stroke:"#286286","stroke-width":3})},renderLegend_:function(){var e="legend_element "+(this.showData_("expected iteration burnup")?"on_chart":"not_on_chart"),t="legend_element "+(this.showData_("actual iteration burnup")?"on_chart":"not_on_chart"),n=this.height,r={width:57,draw:function(t,r){t.append("line").attr({x1:r,y1:n-10,x2:r+10,y2:n-10,stroke:"#286286","stroke-width":2,"class":e,"data-data-series":"expected iteration burnup"}),t.append("text").text("Expected").attr({x:r+12,y:n-6,stroke:"black","stroke-width":"0.5","class":e,"data-data-series":"expected iteration burnup"})}},i={width:65,draw:function(e,r){e.append("rect").attr({rx:"2",ry:"2",fill:"#699712",x:r,y:n-16,width:"16",height:"12","stroke-width":"0.000001",zIndex:"3",stroke:"#699712","class":t,"data-data-series":"actual iteration burnup"}),e.append("rect").attr({rx:"2",ry:"2",fill:"#923030",x:r+18,y:n-16,width:"16",height:"12","stroke-width":"0.000001",zIndex:"3",stroke:"#923030","class":t,"data-data-series":"actual iteration burnup"}),e.append("text").text("Actual").attr({x:r+36,y:n-6,stroke:"black","stroke-width":"0.5","class":t,"data-data-series":"actual iteration burnup"})}};this.addLegend_(this.svg(),[i,r])}});_.namespace(t,"views.panels.charts").CurrentIterationBurnupChartRenderer=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.helpers.view,r=100,i=["velocity","current iteration burn-up","story type breakdown","release burn down"],a=t.View.extend({__name__:"PanelsChartsIndex",className:"items panel_content",initialize:_.wrap(t.View.prototype.initialize,function(a,o){function s(e){var t=$(e.currentTarget).data("value").toLowerCase();mixpanel.track("/charts/show",{chart_type:t}),c._chart.set({type:t})}function l(){c._chart=new t.Chart({type:i[0]},{project:d}),c._removedDataSeries={},c.views().addView(new t.views.Dropdown({el:c.el})).addView(".chart_options_container",new t.views.panels.charts.Edit({model:c._chart})),_.bindAll(c,"render","resize"),c.delegateEvents({"picked.dropdown .charts_filter li":s,"click .legend_element":c.toggleDataSeries},[$(e),{resize:_.throttle(c.resize,r)}],[c.$el,{"browser:maximized":c.resize}],[c._chart,{change:c.render}],[d.iterations(),{"add remove change":c.render}],[u.collection,{"add change:visible remove":n.defer(c.resize)}],[t.Layout.current(),{"change:panel_width":_.bind(c.resize,c)}]),c.views().addView(new t.views.flyovers.charts.Show({model:c._chart,el:c.el})),_.defer(_.bind(c.render,c))}a.call(this,_.rest(arguments));var c=this,u=c.model,d=u.project();_.extend(c,{_chart:null,_chartDeferred:$.Deferred(),_$delegate:o.$delegate}),l()}),toggleDataSeries:function(e){this._removedDataSeries[$(e.target).data("data-series")]=!this._removedDataSeries[$(e.target).data("data-series")],this.render()},chartRenderers_:{velocity:t.views.panels.charts.VelocityChartRenderer,"current iteration burn-up":t.views.panels.charts.CurrentIterationBurnupChartRenderer,"story type breakdown":t.views.panels.charts.StoryTypeChartRenderer,"release burn down":t.views.panels.charts.ReleaseBurndownChartRenderer},render:function(){"pending"!==this._chartDeferred.state()&&(this._chartDeferred=$.Deferred());var e=_.extend({chart_types:i,selected:this._chart.get("type")},this._chart.decorator().toJSON());if(this.views().pick(".chart_options_container").detach(),this.$el.html(JST["templates/charts/index"](e)),this._chart.set({model:this._chart},{silent:!0}),this.views().pick(".chart_options_container").attach().render(),this._chart.content().chartData){var t=this.chartRenderers_[this._chart.get("type")];return this.views().pick("div.chart").removeView(),this.views().addView("div.chart",new t({model:this._chart,width:this.chartWidth_(),height:this.chartHeight_(),removedDataSeries:this._removedDataSeries})),this.views().pick("div.chart").render().attach(),this}},resize:function(){this.render()},chartWidth_:function(){return Math.max(this._$delegate.find(".panel_content").width()-2,200)},chartHeight_:function(){return Math.max(Math.min(this.chartWidth_(),this._$delegate.height()-220),200)}},{WINDOW_RESIZE_THROTTLE_DELAY:r});_.namespace(t,"views.panels.charts").Index=a}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.addons.cloneWithProps,r=React.createClass({displayName:"TabBar",propTypes:{active:React.PropTypes.string.isRequired,activeName:React.PropTypes.string.isRequired,onSelect:React.PropTypes.func.isRequired},render:function(){var e=this.props.active,t=this.props.activeName+"_active";return React.DOM.nav({className:"tn_charts2_nav"},_.map(this.props.children,function(r){var i=r.props.key;return n(r,{key:i,className:i===e?t:null,onClick:this.handleClick(i)})},this))},handleClick:function(e){var t=this;return function(){t.props.onSelect(e)}}});_.namespace(t,"views.panels.charts2").TabBar=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({url:function(){return"/services/v5/projects/"+this.project.id+"/history/days"},parse:function(e){var t={},n=e.data,r=n.header,i=n.data,a=_.pluck(i,r.indexOf("points_unstarted")),o=_.pluck(i,r.indexOf("points_planned"));t.unstarted=["unstarted"].concat(this.arrayValueSum_(a,o));var s=_.pluck(i,r.indexOf("points_started")),l=_.pluck(i,r.indexOf("points_finished"));t["in-progress"]=["in-progress"].concat(this.arrayValueSum_(s,l)),t.delivered=["delivered"].concat(_.pluck(i,r.indexOf("points_delivered"))),t.accepted=["accepted"].concat(_.pluck(i,r.indexOf("points_accepted"))),t.rejected=["rejected"].concat(_.pluck(i,r.indexOf("points_rejected")));var c=["Date"].concat(_.pluck(n.data,0));this.set({stateHash:t,dates:c})},arrayValueSum_:function(e,t){var n=[];return _.each(e,function(r,i){n[i]=e[i]+t[i]}),n},initialize:function(e){this.project=e.project},dailyPointsByState:function(e){return this.get("stateHash")[e]},dates:function(){return this.get("dates")}});t.CumulativeFlowData=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.addons.classSet,r=React.createClass({displayName:"Flow",getInitialState:function(){return{loading:!0,uuid:uuid.v4()}},bindChart:function(){if(this.state.loading)return null;var e=c3.generate({bindto:".tn_charts2_flow_"+this.state.uuid,oninit:function(){var e=this;e.main.insert("rect",":first-child").attr("class","tn_charts2_background").attr("width",e.width).attr("height",e.height-1).attr("y",1)},onresized:function(){var e=this;e.main.select(".tn_charts2_background").attr("width",e.width).attr("height",e.height-1)},data:{columns:[this.state.chartData.dailyPointsByState("rejected"),this.state.chartData.dailyPointsByState("accepted"),this.state.chartData.dailyPointsByState("delivered"),this.state.chartData.dailyPointsByState("in-progress"),this.state.chartData.dailyPointsByState("unstarted"),this.state.chartData.dates()],colors:{unstarted:"#C4C4C4","in-progress":"#C2C67C",delivered:"#C4A676",accepted:"#95C066",rejected:"#E02626"},x:"Date",types:{unstarted:"area","in-progress":"area",delivered:"area",accepted:"area",rejected:"area"},groups:[["unstarted","in-progress","delivered","accepted","rejected"]],order:null},axis:{x:{type:"timeseries",label:{text:"Date",position:"outer-center"},padding:{right:0,left:0},tick:{format:d3.time.format("%b %-d")}},y:{label:{text:"Points",position:"outer-middle"},padding:{top:0,bottom:0}}},grid:{y:{show:!0}},point:{r:0,focus:{expand:{r:4}}},tooltip:{format:{title:function(e){return new t.DateTime(e).strftime("%m/%d/%Y")},value:function(e){return e+"pts"}},contents:function(e,t,n,r){return this.getTooltipContent(_.clone(e).reverse(),t,n,r)}},legend:{show:!1},padding:{bottom:5}});return $(this.getDOMNode()).find(".tn_charts2_chart_legend_item").on("mouseover",function(){var t=$(this).data("id");$(this).hasClass("tn_charts2_legend_item_disabled")||e.focus(t)}).on("mouseout",function(){e.revert()}).on("click",function(){var t=$(this),n=t.data("id");e.toggle(n),e.revert(),t.toggleClass("tn_charts2_legend_item_disabled")}),e.element},componentWillUnmount:function(){$(this.getDOMNode()).find(".tn_charts2_chart_legend_item").off()},componentDidMount:function(){var e=this,n=new t.CumulativeFlowData({project:this.props.project});n.fetch().then(function(){e.setState({loading:!1,chartData:n})})},componentDidUpdate:function(){this.bindChart()},render:function(){var e={tn_charts2_chart:!0,tn_charts2_flow:!0};return e["tn_charts2_flow_"+this.state.uuid]=!0,React.DOM.div({className:"tn_charts2_chart_container"},React.DOM.div({className:"tn_charts2_header"},React.DOM.div({className:"tn_charts2_chart_title"},"Cumulative Flow"),React.DOM.div({className:"tn_charts2_chart_legend"},React.DOM.ul(null,React.DOM.li({className:"tn_charts2_chart_legend_item unstarted","data-id":"unstarted"},"Unstarted"),React.DOM.li({className:"tn_charts2_chart_legend_item in-progress","data-id":"in-progress"},"In-progress"),React.DOM.li({className:"tn_charts2_chart_legend_item delivered","data-id":"delivered"},"Delivered"),React.DOM.li({className:"tn_charts2_chart_legend_item accepted","data-id":"accepted"},"Accepted"),React.DOM.li({className:"tn_charts2_chart_legend_item rejected","data-id":"rejected"},"Rejected")))),this.state.loading?React.DOM.div({className:"loading"},"loading..."):React.DOM.div({className:n(e),ref:"chart"}))}});_.namespace(t,"views.panels.charts2").Flow=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=100,r=React.createClass({displayName:"Velocity",getInitialState:function(){return{removedDataSeries:{}}},componentDidMount:function(){var e=this;this.onResize=_.throttle(function(){e.addChart()},n),$(window).on("resize",this.onResize),_.defer(function(){e.addChart()},0)},componentDidUpdate:function(){this.addChart()},componentWillUnmount:function(){$(this.refs.chart.getDOMNode()).find(".legend_element").off(),$(window).off("resize",this.onResize)},addChart:function(){var e=this;$(this.refs.chart.getDOMNode()).find(".legend_element").off();var n=new t.Chart({type:"velocity"},{project:this.props.project}),r=new t.views.panels.charts.VelocityChartRenderer({width:this.chartWidth_(),height:this.chartHeight_(),model:n,removedDataSeries:this.state.removedDataSeries});$(this.refs.chart.getDOMNode()).html(r.render().el),$(this.refs.chart.getDOMNode()).find(".legend_element").on("click",function(t){var n=$(t.target).data("data-series"),r=_.extend({},e.state.removedDataSeries);r[n]=!r[n],e.setState({removedDataSeries:r})})},render:function(){return React.DOM.div({className:"tn_charts2_chart_container",ref:"chart"})},chartWidth_:function(){return Math.max($(this.getDOMNode()).parent().width()-32,200)},chartHeight_:function(){return Math.max(Math.min(this.chartWidth_(),$(this.getDOMNode()).parent().height()-64),200)}});_.namespace(t,"views.panels.charts2").Velocity=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Chart.extend({__name__:"BurndownChart",initialize:function(e){this.release=e.release},pointsRemaining:function(){if(this.release.isAccepted())return 0;var e=this.getActualReleaseBurndownData();return _.last(e.actual).y},finishDate:function(){var e,n=this.getActualReleaseBurndownData();return e=this.release.isAccepted()?this.release.get("accepted_at"):n.projected?_.last(n.projected).x:_.last(n.actual).x,new t.DateTime(e)}});t.BurndownChart=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.createClass({displayName:"Burndown",getInitialState:function(){var e=this.releases().first();return e?{selected:e.cid}:{selected:null}},componentDidMount:function(){this.bindChart()},componentDidUpdate:function(){this.bindChart()},releaseMetaInformation:function(){if(this.state.selected){var e=this.props.project.stories().get(this.state.selected),n=new t.BurndownChart({release:e},{project:this.props.project});return e.isAccepted()?React.DOM.div(null,"This release finished on ",n.finishDate().strftime("%A, %d %B"),". There are ",n.pointsRemaining()," points remaining in this release."):React.DOM.div(null,"This release is projected to finish on ",n.finishDate().strftime("%A, %d %B"),". There are ",n.pointsRemaining()," points remaining in this release.")}return React.DOM.div(null,"There are no releases in this project.")},releases:function(){return this.props.project.stories().scope().releases().scheduled()},render:function(){var e=this.releases().value();return React.DOM.div(null,React.DOM.div({className:"tn_charts2_chart_controls"},React.DOM.label({htmlFor:"tn_charts2_chart_controls_burndown"},"Release: "),React.DOM.select({id:"tn_charts2_chart_controls_burndown",value:this.state.selected,onChange:this.handleSelect},_.map(e,function(e){return React.DOM.option({value:e.cid},e.get("name"))}))),React.DOM.div({className:"tn_charts2_chart_container"},React.DOM.div({className:"tn_charts2_chart_title"},"Release Burndown"),React.DOM.div({className:"tn_charts2_chart tn_charts2_burndown",ref:"chart"}),React.DOM.div({className:"tn_charts2_chart_footer"},this.releaseMetaInformation(),React.DOM.div({className:"tn_charts2_chart_footer_hint"},"Click on any legend entry to hide corresponding data in the chart."))))},handleSelect:function(e){this.setState({selected:e.target.value})},bindChart:function(){var e=this.props.project,n=new t.BurndownChart({type:"release burn down"},{project:this.props.project}),r=e.stories().get(this.state.selected);if(r){n.set({release:r});var i=r.isReleasePastDeadline()?"red":"green",a=[["Actual"].concat(_.pluck(n.getActualReleaseBurndownData().actual,"y")),["Projected"].concat(_.pluck(n.getActualReleaseBurndownData().projected,"y")),["Date"].concat(_.pluck(n.getActualReleaseBurndownData().actual,"x")),["Projected Date"].concat(_.pluck(n.getActualReleaseBurndownData().projected,"x"))];r.get("deadline")&&(a.push(["Target"].concat(_.pluck(n.getDeadlineReleaseBurndownData(),"y"))),a.push(["Target Date"].concat(_.pluck(n.getDeadlineReleaseBurndownData(),"x")))),c3.generate({bindto:".tn_charts2_burndown",data:{columns:a,colors:{Actual:"#4773A5",Projected:"#000",Target:i},lines:{Projected:{style:"dashed"}},xs:{Actual:"Date",Projected:"Projected Date",Target:"Target Date"},types:{Actual:"line",Projected:"line",Target:"line"},order:null},axis:{x:{type:"timeseries",padding:{right:0,left:0},tick:{format:d3.time.format("%b %-d")}},y:{padding:{top:0,bottom:0}}},padding:{top:0,right:20,bottom:0,left:20},grid:{x:{show:!0,type:"solid"},y:{show:!0}},point:{show:!1}})}}});_.namespace(t,"views.panels.charts2").Burndown=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.createClass({displayName:"Progress",getInitialState:function(){return{removedDataSeries:{}}},componentDidMount:function(){_.defer(this.bindChart,0),this.onResize=_.throttle(this.bindChart,100),$(window).on("resize",this.onResize)},componentWillUnmount:function(){$(window).off("resize",this.onResize),$(this.refs.chart.getDOMNode()).find(".legend_element").off()},componentDidUpdate:function(){this.bindChart()},render:function(){var e=new t.Chart({type:"current iteration burn-up"},{project:this.props.project}),n=e.content().templateData.total_points;return React.DOM.div({className:"tn_charts2_chart_container"},React.DOM.div({className:"tn_charts2_header"},React.DOM.div({className:"tn_charts2_chart_title"},"Progress")),React.DOM.div({className:"tn_charts2_chart tn_charts2_progress",ref:"chart"}),React.DOM.div({className:"tn_charts2_chart_footer"},React.DOM.strong(null,n)," points have been accepted in this iteration so far.",React.DOM.div({className:"tn_charts2_chart_footer_hint"},"Click on any legend entry to hide corresponding data in the chart.")))},bindChart:function(){var e=this.getDOMNode(),n=this;$(this.refs.chart.getDOMNode()).find(".legend_element").off();var r=new t.Chart({type:"current iteration burn-up"},{project:this.props.project}),i=new t.views.panels.charts.CurrentIterationBurnupChartRenderer({width:Math.max(e.offsetWidth,100),height:380,model:r,removedDataSeries:this.state.removedDataSeries});$(this.refs.chart.getDOMNode()).html(i.render().el),$(this.refs.chart.getDOMNode()).find(".legend_element").on("click",function(e){var t=$(e.target).data("data-series"),r=_.extend({},n.state.removedDataSeries);r[t]=!r[t],n.setState({removedDataSeries:r})})}});_.namespace(t,"views.panels.charts2").Progress=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=React.createClass({displayName:"StoryTypes",getInitialState:function(){return{removedDataSeries:{}}},componentDidMount:function(){_.defer(this.bindChart,0),this.onResize=_.throttle(this.bindChart,100),$(window).on("resize",this.onResize)},componentWillUnmount:function(){$(window).off("resize",this.onResize),$(this.refs.chart.getDOMNode()).find(".legend_element").off()},componentDidUpdate:function(){this.bindChart()},render:function(){var e=new t.Chart({type:"current iteration burn-up"},{project:this.props.project});return React.DOM.div({className:"tn_charts2_chart_container"},React.DOM.div({className:"tn_charts2_header"},React.DOM.div({className:"tn_charts2_chart_title"},"Story Types")),React.DOM.div({className:"tn_charts2_chart tn_charts2_story_types",ref:"chart"}),React.DOM.div({className:"tn_charts2_chart_footer"},"In the average iteration,"," ",React.DOM.strong(null,this.round_(e.getStoryTypeAverage("feature")))," features,"," ",React.DOM.strong(null,this.round_(e.getStoryTypeAverage("chore")))," chores, and"," ",React.DOM.strong(null,this.round_(e.getStoryTypeAverage("bug")))," bugs are accepted.",React.DOM.div({className:"tn_charts2_chart_footer_hint"},"Click on any legend entry to hide corresponding data in the chart.")))},bindChart:function(){var e=this.getDOMNode(),n=this;$(this.refs.chart.getDOMNode()).find(".legend_element").off();var r=new t.Chart({type:"story type breakdown"},{project:this.props.project}),i=new t.views.panels.charts.StoryTypeChartRenderer({width:Math.max(e.offsetWidth,100),height:380,model:r,removedDataSeries:this.state.removedDataSeries});$(this.refs.chart.getDOMNode()).html(i.render().el),$(this.refs.chart.getDOMNode()).find(".legend_element").on("click",function(e){var t=$(e.target).data("data-series"),r=_.extend({},n.state.removedDataSeries);r[t]=!r[t],n.setState({removedDataSeries:r})})},round_:function(e){return Math.round(100*e)/100}});_.namespace(t,"views.panels.charts2").StoryTypes=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.charts2.TabBar,r=t.views.panels.charts2.Flow,i=t.views.panels.charts2.Velocity,a=t.views.panels.charts2.Burndown,o=t.views.panels.charts2.StoryTypes,s=t.views.panels.charts2.Progress,l=React.createClass({displayName:"Charts",getInitialState:function(){return{active:"velocity"}},chartComponent:function(){return"flow"===this.state.active?r({project:this.props.project}):"velocity"===this.state.active?i({project:this.props.project}):"burndown"===this.state.active?a({project:this.props.project}):"progress"===this.state.active?s({project:this.props.project}):"story_types"===this.state.active?o({project:this.props.project}):null},render:function(){return React.DOM.div({className:"tn_charts2_content"},n({active:this.state.active,activeName:"tn_charts2_tab",onSelect:this.handleSelect},React.DOM.a({key:"velocity",className:"tn_charts2_tab"},"Velocity"),React.DOM.a({key:"burndown",className:"tn_charts2_tab"},"Burndown"),React.DOM.a({key:"progress",className:"tn_charts2_tab"},"Progress"),React.DOM.a({key:"flow",className:"tn_charts2_tab"},"Flow"),React.DOM.a({key:"story_types",className:"tn_charts2_tab"},"Story Types")),this.chartComponent())},handleSelect:function(e){this.setState({active:e})}});_.namespace(t,"views.panels.charts2").Charts=l}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.views.panels.charts2.Charts,r=t.View.extend({__name__:"PanelsCharts2Index",className:"items panel_content",render:function(){return React.renderComponent(n({project:this.model.project()}),this.el),this},remove:function(){return React.unmountComponentAtNode(this.el),t.View.prototype.remove.call(this)}});_.namespace(t,"views.panels.charts2").Index=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.View.extend({__name__:"Remote2",className:"items panel_content",initialize:function(e){t.View.prototype.initialize.call(this,e),this.views().addView(new t.views.panels.items.Index2({el:this.el,model:this.model})),this.fetchItems()},render:function(){return this.views().attach().render(),this},fetchItems:function(){this.model.fetchItems()}});_.namespace(t,"views.panels").Remote2=n}.call(this),function(){"use strict";function e(e){e.preventDefault()}var t=this,n=_.namespace(t,"tracker"),r=n.views.panels.Remote2.extend({__name__:"ProjectHistoryIndex",initialize:_.wrap(n.views.panels.Remote2.prototype.initialize,function(t,n){function r(){a.get("visible")&&i.prop("scrollHeight")-i.scrollTop()<=2*i.height()&&o()}t.call(this,n);var i=this.$el,a=this.model.project().activityEntryGroup(),o=_.debounce(function(){a.fetch()},1e3,!0);this.delegateEvents({scroll:_.debounce(r,100),"click .show_more_history":[e,o]})}),fetchItems:function(){var e=this,t=this.model.project();t.ready().then(function(){e.render(),t.activityEntryGroup().fetch()})}});_.namespace(n,"views.panels.projectHistory").Index=r}.call(this),function(){"use strict";function e(e){e.preventDefault()}var t=this,n=_.namespace(t,"tracker"),r=n.views.panels.Remote2.extend({__name__:"StoryHistoryIndex",initialize:_.wrap(n.views.panels.Remote2.prototype.initialize,function(t,n){t.call(this,n);var r=this.$el,i=this,a=this.model.project();a.ready().then(function(){function t(){n.get("visible")&&r.prop("scrollHeight")-r.scrollTop()<=2*r.height()&&a()}var n=i.model.story().activityEntryGroup(),a=_.debounce(function(){n.fetch()},1e3,!0);i.delegateEvents({scroll:_.debounce(t,100),"click .show_more_history":[e,a]})})}),fetchItems:function(){var e=this,t=this.model.project();t.ready().then(function(){e.render(),e.model.story().activityEntryGroup().fetch()})}});_.namespace(n,"views.panels.storyHistory").Index=r}.call(this),function(){"use strict";function e(e){e.preventDefault()}var t=this,n=_.namespace(t,"tracker"),r=n.views.panels.Remote2.extend({__name__:"EpicHistoryIndex",initialize:_.wrap(n.views.panels.Remote2.prototype.initialize,function(t,n){t.call(this,n);var r=this.$el,i=this,a=this.model.project();a.ready().then(function(){function t(){n.get("visible")&&r.prop("scrollHeight")-r.scrollTop()<=2*r.height()&&a()}var n=i.model.epic().activityEntryGroup(),a=_.debounce(function(){n.fetch()},1e3,!0);i.delegateEvents({scroll:_.debounce(t,100),"click .show_more_history":[e,a]})})}),fetchItems:function(){var e=this,t=this.model.project();t.ready().then(function(){e.render(),e.model.epic().activityEntryGroup().fetch()})}});_.namespace(n,"views.panels.epicHistory").Index=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next");_.namespace(t,"views.panels.search").Index=t.views.panels.Remote2.extend({__name__:"SearchIndex",className:"items panel_content",initialize:function(e){t.View.prototype.initialize.call(this,e);var r=e.model;(new n.projects.SearchesController).show(r),this.views().addView(new t.views.panels.items.Index2({model:r,el:this.el}))},render:function(){return this.wrapRender(function(){return this.views().render(),this}).call(this)},fetchItems:function(){var e=this.model;return e.fetchItems().done(function(){e.unset("items_hidden")}).fail(function(t){var n={};try{n=$.parseJSON(t.responseText)}catch(r){}e.set({message:n.data&&n.data.general_problem||"Search is currently unavailable"})})}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");_.namespace(t,"views.panels.integration").Index=t.views.panels.Remote2.extend({__name__:"IntegrationIndex"})}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/index"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n      <li><a class="page ',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===c?t():t),i+=u(t)+'" data-action="',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===c?t():t),i+=u(t)+'">',r=n.title,r?t=r.call(e,{hash:{}}):(t=e.title,t=typeof t===c?t():t),i+=u(t)+"</a></li>\n    "}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.blockHelperMissing;return l+='<article class="home">\n  <header>\n    <h1>New UI Guide</h1>\n  </header>\n  <ul class="pages">\n    ',s=n.pages,s?o=s.call(t,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}):(o=t.pages,o=typeof o===c?o():o),n.pages||(o=p.call(t,o,{hash:{},inverse:d.noop,fn:d.program(1,a,i)})),(o||0===o)&&(l+=o),l+="\n  </ul>\n</article>\n"}),this.HandlebarsTemplates["next/panels/ui_guide/index"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+="\n  <article>\n    <header>\n      <h1>",r=n.title,r?t=r.call(e,{hash:{}}):(t=e.title,t=typeof t===d?t():t),i+=p(t)+'</h1>\n      <span class="subtitle">',r=n.subtitle,r?t=r.call(e,{hash:{}}):(t=e.subtitle,t=typeof t===d?t():t),i+=p(t)+'</span>\n    </header>\n    <div class="tracker_markup">\n      ',r=n.content,r?t=r.call(e,{hash:{}}):(t=e.content,t=typeof t===d?t():t),i+=p(t)+"\n    </div>\n  </article>\n"}function o(e){var t,r,i="";return i+='\n        <a class="page ',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===d?t():t),i+=p(t)+'" data-action="',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===d?t():t),i+=p(t)+'" title="',r=n.title,r?t=r.call(e,{hash:{}}):(t=e.title,t=typeof t===d?t():t),i+=p(t)+'">',r=n.title,r?t=r.call(e,{hash:{}}):(t=e.title,t=typeof t===d?t():t),i+=p(t)+"</a>\n      "}function s(e){var t,r,i="";return i+='\n        <a class="page ',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===d?t():t),i+=p(t)+'" data-action="',r=n.type,r?t=r.call(e,{hash:{}}):(t=e.type,t=typeof t===d?t():t),i+=p(t)+'" title="',r=n.title,r?t=r.call(e,{hash:{}}):(t=e.title,t=typeof t===d?t():t),i+=p(t)+'">',r=n.title,r?t=r.call(e,{hash:{}}):(t=e.title,t=typeof t===d?t():t),i+=p(t)+"</a>\n      "}n=n||e.helpers;var l,c,u="",d="function",p=this.escapeExpression,h=this,g=n.blockHelperMissing;return c=n.current_page,c?l=c.call(t,{hash:{},inverse:h.noop,fn:h.program(1,a,i)}):(l=t.current_page,l=typeof l===d?l():l),n.current_page||(l=g.call(t,l,{hash:{},inverse:h.noop,fn:h.program(1,a,i)})),(l||0===l)&&(u+=l),u+='\n\n<footer>\n  <ul>\n    <li class="prev">\n      ',c=n.previous_page,c?l=c.call(t,{hash:{},inverse:h.noop,fn:h.program(3,o,i)}):(l=t.previous_page,l=typeof l===d?l():l),n.previous_page||(l=g.call(t,l,{hash:{},inverse:h.noop,fn:h.program(3,o,i)})),(l||0===l)&&(u+=l),u+='\n    </li>\n    <li class="home">\n      <a class="home" title="Home">Home</a>\n    </li>\n    <li class="next">\n      ',c=n.next_page,c?l=c.call(t,{hash:{},inverse:h.noop,fn:h.program(5,s,i)}):(l=t.next_page,l=typeof l===d?l():l),n.next_page||(l=g.call(t,l,{hash:{},inverse:h.noop,fn:h.program(5,s,i)})),(l||0===l)&&(u+=l),u+="\n    </li>\n  </ul>\n</footer>\n"}),this.HandlebarsTemplates["next/panels/ui_guide/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/new_ui"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/new_ui"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<h2>New Layout &amp; Colors</h2>\n<p>\n  The new color scheme has stronger contrast between content and controls. There’s also a brand new layout, with a left-hand, collapsible, navigation sidebar that leaves more space for your stories.\n</p>\n<p>\n  You can leave the sidebar open all the time, or click the icon at the top left so it auto-expands and collapses. The sidebar also allows easier access to integrations, saved searches and epics.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-sidebar-4ab0fcc5f892b9f125310ceb6159c1bd.png" target="_blank">\n      <img alt="Ui-sidebar" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-sidebar-4ab0fcc5f892b9f125310ceb6159c1bd.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Rearrangeable Panels &amp; Fixed panel widths</h2>\n<p>\n  Panels can be rearranged in any order. The order you choose will persist in your project and also in your workspace. Just drag a panel header so you can drop it into a different order.\n</p>\n<p>\n  Click Auto at the bottom of the sidebar, to toggle to Fixed mode. Then you can use the slider to adjust panel width for better performance and more stable vertical position of stories. You can also double-click any panel header to auto-fit panels to browser width.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-panelmove-8f2628d23527642890aa62f5bcc7491f.png" target="_blank">\n      <img alt="Ui-panelmove" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-panelmove-8f2628d23527642890aa62f5bcc7491f.png" />\n    </a>\n  </div>\n</p>\n\n<h2>More control to split Current &amp; Backlog; Panel Actions in the footer</h2>\n<p>\n  Though Current and Backlog are combined by default, you can easily split them, per project and workspace, with a click, instead of the (Classic only) Profile setting.\n</p>\n<p>You can find several panel actions in the footer, such as clone panel, and expand/collapse iterations. Mouse over them to see a tooltip, or click to see your options.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-footer-8f478e45ada8f6798e4322d3ec6d82db.png" target="_blank">\n      <img alt="Ui-footer" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-footer-8f478e45ada8f6798e4322d3ec6d82db.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Add story directly to Backlog or Epics</h2>\n<p>\n  You can now add new stories directly to the backlog or to an epic, not just the icebox.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-addstorytobacklog-98f38f33b87ec8d7a01c89e28b612b55.png" target="_blank">\n      <img alt="Ui-addstorytobacklog" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-addstorytobacklog-98f38f33b87ec8d7a01c89e28b612b55.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Autosave</h2>\n<p>\n  After you’ve added a story, changes are saved instantly as soon as the change is made. The exceptions are the Description, Comments and Tasks, where you need to click the Done or Add button, or close the story, for changes in those to be saved. For example, you can start a story, and it remains open, so you can keep working and the rest of the team can see what you are working on.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-autosave-d9f39c51eec1176b445cf1fdb068c014.png" target="_blank">\n      <img alt="Ui-autosave" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-autosave-d9f39c51eec1176b445cf1fdb068c014.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Comment editing</h2>\n<p>\n  You can now edit comments that you’ve made. Just mouse over the comment to see the Edit and Delete icons.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-editcomment-7e2e81b6eabe9a42f1a78989b4d95808.png" target="_blank">\n      <img alt="Ui-editcomment" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-editcomment-7e2e81b6eabe9a42f1a78989b4d95808.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Project Colors</h2>\n<p>\n  You now have the ability to set a color for each project, to distinguish among projects in a workspace.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/workspaces-colors2-9c6b1eaf9cf48486c95a5546d493e45b.png" target="_blank">\n      <img alt="Workspaces-colors2" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/workspaces-colors2-9c6b1eaf9cf48486c95a5546d493e45b.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Favorite Epics, Labels &amp; Search</h2>\n<p>\n  Searches and epics can now be saved to the sidebar by clicking on the heart at the bottom of the panel.\n</p>\n<p>\n  A saved search can be opened from the sidebar. You can refresh search results (this is manual for now). You can pin a search panel so that its results aren’t replaced by a new search. Click the “?” icon by the search field to see quick search hints for popular search types. There’s also a link in there to take you to help for all search terms.\n</p>\n<p>\n  You can also open your saved epics from the epics section of the sidebar, for convenient access to the ones you use most.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-favorite-8a158e05ed934dfd4488bbfa507b4519.png" target="_blank">\n      <img alt="Ui-favorite" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/ui-favorite-8a158e05ed934dfd4488bbfa507b4519.png" />\n    </a>\n  </div>\n</p>\n'
}),this.HandlebarsTemplates["next/panels/ui_guide/content/new_ui"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/workspaces"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/workspaces"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<p>\n  Workspaces are new to Tracker. You can add multiple projects to each of your workspaces, so that you can search across multiple projects, view project backlogs side-by-side and plan with the big picture in mind. Select <strong>Create Workspace</strong> from the Projects dropdown (at the top left of the Tracker page) or the <a target=\'_blank\' href=\'/dashboard\'>Dashboard</a> to set up a new workspace.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/workspace-switch-ce67eb4a366c4f856849155dd857c3e0.png" target="_blank">\n      <img alt="Workspace-switch" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/workspace-switch-ce67eb4a366c4f856849155dd857c3e0.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Configure your workspace</h2>\n<p>\n  Click on the cog in the sidebar and select “Add/Remove Projects”. Now you can select projects to add or remove.\n</p>\n<p>\n  Each project has a color to help you quickly differentiate between the backlogs in your workspace. While in the Add/Remove Projects list, click on the color box to the left of the project name to select a different color. The change applies only for your workspace. Each user gets to select their own project colors.\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/workspaces-colors1-350025a1a38e1793a4d705c7d6246fb9.png" target="_blank">\n      <img alt="Workspaces-colors1" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/workspaces-colors1-350025a1a38e1793a4d705c7d6246fb9.png" />\n    </a>\n  </div>\n</p>\n<p>\n  Once you have selected the projects and colors you want, click the button to Save Workspace Changes.\n</p>\n\n<h2>Search for stories across multiple projects</h2>\n<p>\n  No longer do you need to hunt for a story by searching multiple times, in multiple projects. Search all projects in your workspace and get a list of story results from all those projects.\n</p>\n\n<h2>Drag &amp; drop stories to move them between projects</h2>\n<p>\n  With panels side by side from different projects in your workspace, it’s easy to move stories between them, by drag dropping and prioritizing them exactly where you want them.\n</p>\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/workspaces"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/search"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/search"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<h2>Cross-project Search</h2>\n<p>\n  With multiproject workspaces, you can now search for stories across different projects.\n</p>\n<p>\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/search-crossproject-5fdddaf8345c72d0ff1d3b243a52b2ce.png" target="_blank">\n      <img alt="Search-crossproject" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/search-crossproject-5fdddaf8345c72d0ff1d3b243a52b2ce.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Boolean Search</h2>\n<p>You can still refine searches, using AND, OR, a minus sign to exclude items, and use combinations of all search options in Tracker.</p>\n<p>Full details of all the ways you can search are in the FAQ, but here are a few examples:</p>\n<p>Want to find everything with one label or another that haven’t yet been started?\n<pre>(label:design OR label:”needs discussion”) AND (state:unstarted OR state:unscheduled)</pre></p>\n<p>Perhaps you’d like to find all stories without attachments and with particular words in their titles:\n<pre>-has:attachment (name:browsing OR name:search)</pre></p>\n<p>As well as using the search field in Tracker’s UI, all of the recently added advanced search syntax, including boolean expressions, is available using the API, via the Search endpoint.</p>\n<p>\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/search-boolean-a1c6025c5ac32b6755b790c507f95b8f.png" target="_blank">\n      <img alt="Search-boolean" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/search-boolean-a1c6025c5ac32b6755b790c507f95b8f.png" />\n    </a>\n  </div>\n</p>\n\n<h2>Easy access to Saved Searches</h2>\n<p>\n  We\'ve made it much quicker to access saved searches via the sidebar. Just save your search by clicking the heart. Refresh search results (this is manual for now) in the top right of the search panel.\n</p>\n<p>\n  The “?” icon by the search field opens quick search hints for popular search types and there’s a link in there to take you to help for all search terms.\n</p>\n<p>\n  To remove a saved search, click the heart icon at the bottom of the saved search panel (which would have turned blue upon initially being created).\n</p>\n<p>\n  <div>\n    <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/search-saved-db76d2b40d168669faa767d1afca8139.png" target="_blank">\n      <img alt="Search-saved" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/search-saved-db76d2b40d168669faa767d1afca8139.png" />\n    </a>\n  </div>\n</p>\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/search"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/markdown"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/markdown"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<p>\n  Tracker uses a version of Markdown (<a href="https://www.pivotaltracker.com/help/markdown" target="_blank">Tracker Flavored Markdown</a>) for the description, comments, tasks and titles. It is very similar to <a href="https://help.github.com/articles/github-flavored-markdown" target="_blank">Github Flavored Markdown</a> in that it improves upon Standard Markdown in many ways. In fact, we liked Github’s improvements to Markdown so much that we modeled Tracker’s Markdown approach after Github. Markdown utilizes an easily consumable plaintext syntax to denote rich content elements such as bold/italic items, numbered and bulleted lists, code blocks, headers and images. Getting started with Markdown is fairly easy. If you’re not familiar with Markdown, it may be worth your while to read <a href="http://daringfireball.net/projects/markdown/" target="_blank">Daring Fireball\'s Markdown Syntax Guide</a>.\n</p>\n\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-conversion-ab78b52a16da63e29bea637add31044a.png" target="_blank">\n  <img alt="Markdown-conversion" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-conversion-ab78b52a16da63e29bea637add31044a.png" />\n</a></p>\n\n<h2>Where you can use Tracker Markdown</h2>\n<p>\n  <strong>Description:</strong> full Tracker Flavored Markdown<br>\n  <strong>Activity:</strong> full Tracker Flavored Markdown<br>\n  <strong>Title:</strong> only bold and italic<br>\n  <strong>Tasks:</strong> only bold and italic<br>\n</p>\n\n<h2>Differences from Standard Markdown</h2>\n<h3>New Lines</h3>\n<p>Like Github Flavored Markdown, Tracker honors line breaks between content elements. With Standard Markdown, newlines are stripped out between elements, which often causes unintentional formatting issues.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-newline-73ed73672cce4ab564059b7a6ec85c83.png" target="_blank">\n  <img alt="Markdown-newline" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-newline-73ed73672cce4ab564059b7a6ec85c83.png" />\n</a></p>\n\n<h3>Multiple underscores in words</h3>\n<p>\n  Markdown interprets * or _ wrapped words and phrases as bold and italic emphasis. Since underscores are often used within text to define method names and variables (e.g., some_method_name) Tracker ignores interior _ and * characters.\n</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-underscores-7319c60ddab5221ea3387702a66a7a82.png" target="_blank">\n  <img alt="Markdown-underscores" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-underscores-7319c60ddab5221ea3387702a66a7a82.png" />\n</a></p>\n\n<h3>URL Auto-linking</h3>\n<p>Tracker automatically links URLs beginning with http://. This differs from Standard Markdown, which requires distinct tagging for URLs.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-autolinking-051eb192889c8ce6a20714e9dc61ea67.png" target="_blank">\n  <img alt="Markdown-autolinking" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-autolinking-051eb192889c8ce6a20714e9dc61ea67.png" />\n</a></p>\n\n<h3>Fenced code blocks &amp; code highlighting</h3>\n<p>As with Github, Tracker enables fenced code blocks by wrapping content with three backticks (```). While Standard Markdown converts text elements prefixed with a tab or spaced text elements to code blocks.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-code-c2b65463cc4a37151b6e24e272e5175e.png" target="_blank">\n  <img alt="Markdown-code" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-code-c2b65463cc4a37151b6e24e272e5175e.png" />\n</a></p>\n<p>Tracker will attempt to detect the code language you typed and provide applicable syntax. If you’d like to specify a particular language, simply add the language string next to the first line of backticks.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-code2-8dd91a8f04eeccb9a394b888bbed433e.png" target="_blank">\n<img alt="Markdown-code2" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-code2-8dd91a8f04eeccb9a394b888bbed433e.png" /></a></p>\n\n<h3>@mention autocompletes</h3>\n<p>Tracker supports mentioning of team members within comments. Tracker will attempt to autocomplete team members names when prefixed with the ‘@’ symbol.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-storyepicnums-f5fec6bdfadfb964ff49f7ca2478359f.png" target="_blank">\n  <img alt="Markdown-storyepicnums" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-storyepicnums-f5fec6bdfadfb964ff49f7ca2478359f.png" />\n</a></p>\n\n<h3>Emoji</h3>\n<p>The Tracker team is exploring use of emojis within story fields. We are currently using the Emoji for PHP library to render emojis. This is still a very new feature to Tracker, and we plan on expanding it in the future, so you may see some hiccups while using emojis now.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-emojis-c2698b1ae21a26a56f45e0a44e26a69a.png" target="_blank">\n  <img alt="Markdown-emojis" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/markdown-emojis-c2698b1ae21a26a56f45e0a44e26a69a.png" />\n</a></p>\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/markdown"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/notifications"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/notifications"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<p>\n  Tracker has been sending email notifications for some time. Now you can see all of your Tracker notifications from within the app! You can mark each notification as read, or reveal the related story. You can also open your notifications into a panel that persists in your project so you have a real-time feed of notifications to easily respond to.\n</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/notifications-dropdown-fe85d53aa6759689d23d3d8fb3e590cf.png" target="_blank">\n  <img alt="Notifications-dropdown" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/notifications-dropdown-fe85d53aa6759689d23d3d8fb3e590cf.png" />\n</a></p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/notifications-use-e683826c95f5c8338deb68695d9cf2f6.png" target="_blank">\n  <img alt="Notifications-use" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/notifications-use-e683826c95f5c8338deb68695d9cf2f6.png" />\n</a></p>\n\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/notifications"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/multiple_owners"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/multiple_owners"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<p>\n  Your team can now keep track of who\'s pairing on stories with multiple story owners. For now, it\'s limited to three, for your pair and perhaps a tester or designer. Now if more than one person is working on a story at the same time, they can be added, making My Work more accurate.\n</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/multiple-owners-55357a862823bbebef93ca4e86a2db09.png" target="_blank">\n  <img alt="Multiple-owners" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/multiple-owners-55357a862823bbebef93ca4e86a2db09.png" />\n</a></p>\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/multiple_owners"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/my_work"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/my_work"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<p>\n  While in a workspace, the My Work panel and mywork: search now shows my work stories across all projects in that workspace.\n</p>\n<p>\n  You can now sort the panel contents by project or state, to help you see what needs attention next.\n</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/mywork1-93f2829e957f993c5d01d8569204379d.png" target="_blank">\n  <img alt="Mywork1" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/mywork1-93f2829e957f993c5d01d8569204379d.png" />\n</a></p>\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/my_work"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/story_cloning"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/story_cloning"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<p>\n  One-click story cloning (copying) helps you break down large stories into smaller ones, or with creating many similar stories.\n</p>\n<p>\n  Clone one or more selected stories with the bulk action buttons at the top left of the page. You can also expand a story and clone it with the "Clone this story" button to the right of it\'s id number. Cloned stories go to the top of the icebox, and include the original story\'s title, description, type, labels, and tasks.\n</p>\n<p>\n  <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/story_cloning_single-bb742c3a830f8864184a894cb5e6ee4c.png" target="_blank">\n    <img alt="Story_cloning_single" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/story_cloning_single-bb742c3a830f8864184a894cb5e6ee4c.png" />\n  </a>\n</p>\n<p>\n  <a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/story_cloning_bulk-a8764449a85374a3af03dd31a3b2a18f.png" target="_blank">\n    <img alt="Story_cloning_bulk" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/story_cloning_bulk-a8764449a85374a3af03dd31a3b2a18f.png" />\n  </a>\n</p>\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/story_cloning"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/ui_guide/content/story_density"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/ui_guide/content/story_density"]=Handlebars.template(function(e,t,n){return n=n||e.helpers,'<h2>Story Density</h2>\n<p>Choose from multiple levels of story detail and density for your project or workspace. Make stories easier to read by putting labels on a separate line with normal density, or increase the number of stories you can view at a time on your screen by putting labels inline. Reduce the noise in Minimal mode, hiding points, activity and the story expand icons. When in the Minimal and Projector modes, double click on stories to expand them.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/storydensity-3a3e58218b2c72413cdab0e651c4ff30.png" target="_blank">\n  <img alt="Storydensity" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/storydensity-3a3e58218b2c72413cdab0e651c4ff30.png" />\n</a></p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/storydensity-minimal-6a14c767782fec8aa0d199530141190e.png" target="_blank">\n  <img alt="Storydensity-minimal" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/storydensity-minimal-6a14c767782fec8aa0d199530141190e.png" />\n</a></p>\n\n<h2>Projector Mode</h2>\n<p>Use Tracker better in your meetings with projector mode! Projector mode optimizes stories by offering increased font sizes. Story details are viewed in single story view by double clicking them.</p>\n<p><a href="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/storydensity-projector-3376e0034d526743e87e689abe000275.png" target="_blank">\n<img alt="Storydensity-projector" src="//d3jgo56a5b0my0.cloudfront.net/next/assets/next/ui_guide/storydensity-projector-3376e0034d526743e87e689abe000275.png" /></a></p>\n'}),this.HandlebarsTemplates["next/panels/ui_guide/content/story_density"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=e.Handlebars,i=t.helpers.view,a=[{type:"new_ui",title:"New User Interface"},{type:"workspaces",title:"Multiproject Workspaces",subtitle:"Search across multiple projects, view project backlogs side-by-side and plan with the big picture in mind"},{type:"search",title:"Search Improvements",subtitle:"Improved saved search, Boolean search, and search across projects"},{type:"markdown",title:"Markdown Support"},{type:"notifications",title:"In-app Notifications",subtitle:"Quickly see and respond to activity in Tracker that requires your attention"},{type:"multiple_owners",title:"Multiple Story Owners",subtitle:"Now if more than one person is working on a story at the same time, they can be added, making My Work more accurate"},{type:"story_cloning",title:"Story Cloning"},{type:"my_work",title:"My Work Across Projects"},{type:"story_density",title:"Projector Mode & Story Densities"}],o=n.View.extend({__name__:"PanelsUiGuideIndex",className:"panel_content",initialize:_.wrap(n.View.prototype.initialize,function(e){function n(e){var t=_.findWhere(a,{type:$(e.currentTarget).data("action")}),n=_.indexOf(a,t);o.model.set({current_page:t,previous_page:a[n-1],next_page:a[n+1]})}function r(){o.model.unset("current_page")}var o=this;e.apply(this,_.rest(arguments)),this.model=new t.Model({pages:a}),this.delegateEvents({"click .page":[i.preventDefault,n],"click a.home":[i.preventDefault,r]},[this.model,{"change:current_page":_.bind(this.render,this)}])}),render:function(){var e=this.model.get("current_page"),t="templates/next/panels/ui_guide/"+(e?"show":"index"),n=this.model.toJSON();return e&&(n.current_page.content=new r.SafeString(JST["templates/next/panels/ui_guide/content/"+e.type]())),this.html(JST[t](n)),this}});_.namespace(t,"views.panels.uiGuide").Index=o}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(_.namespace(e,"next"),t.helpers.view),r=t.View.extend({__name__:"PanelsNotificationsIndex",className:"items panel_content",initialize:_.wrap(t.View.prototype.initialize,function(r,i){function a(e,n){var r=t.DateTime.now().getTime();$(e.currentTarget).removeClass("unread").addClass("read"),n.set({read_at:r}),n.sync("update",n,{attrs:{read_at:r},url:t.Notification.prototype.url.call(n)})}function o(n,r){if(r.has("story")||r.has("epic")){var i=$(n.currentTarget).find(".reveal"),a=t.Project.get(r.get("project").id),o=t.Workspace.current();if(i.length&&(a===t.Project.current()||o&&o.projects().get(a.id))){var s=(i.data("id")+"").split(","),l=t.Statuses.get("panels_controller"),c=i.data("type");_.each(s,function(e){var n=a[_(c).pluralize()]().get(e);n?t.panels.Service.revealModel(t.Person.current().panels(),n,{expand:!0}):l.add({content:"The "+c+" you were trying to reveal is not currently loaded on the client."},{validate:!0})})}else{{r.has("story")?"story":"epic"}e.open(n.target.href,"_blank")}}}function s(e,n){e.preventDefault();var r=$(e.target);if((r.hasClass("reveal")||r.hasClass("other_project"))&&(t.MixpanelReporter.current().track("/notifications/reveal",{type:n.get("notification_type")}),o(e,n),$(".notifications.menu .item:first").trigger("close")),r.hasClass("notification")||(r=r.closest(".notification")),r.hasClass("unread")){var i=r.closest(".panels").length>0;mixpanel.track("/notifications/mark_read",{type:n.get("notification_type"),source:i?"panel":"lightbox"}),a(e,n)}return!1}r.call(this,i);var l=this.model,c=(l.collection,l.itemCollection());this.views().addView(new t.views.panels.items.Index2({model:i.model,el:this.el})),i.noFlyovers||this.views().addView(new t.views.flyovers.otherProjectStories.Show({el:this.el,targetSelector:".flyoverable.other_project.story"})).addView(new t.views.flyovers.otherProjectEpics.Show({el:this.el,targetSelector:".flyoverable.other_project.epic"}));var u=n.transformArguments(function(e){var t=c.get($(e.currentTarget).data("cid"));return t&&[e,t]});this.delegateEvents({"click .mark_read":n.preventDefault,"click .notification.item":u(s)})}),render:function(){return this.wrapRender(function(){return this.views().render(),this}).call(this)}});_.namespace(t,"views.panels.notifications").Index=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/panels/recent_updates/index"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/panels/recent_updates/index"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a,o="",s=n.helperMissing,l=this.escapeExpression;return o+='<div class="tracker_markup">\n  ',r=t.content,i={},i["with-emoji"]=!0,a=n.markup,r=a?a.call(t,r,{hash:i}):s.call(t,"markup",r,{hash:i}),o+=l(r)+"\n</div>\n"}),this.HandlebarsTemplates["next/panels/recent_updates/index"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.View.extend({__name__:"PanelsRecentUpdatesIndex",className:"panel_content",initialize:function(){var e=this;$.get("/services/area_51/beta_updates").then(function(t){e._content=t.content,e.render()})},render:function(){return this._content&&this.html(JST["templates/next/panels/recent_updates/index"]({content:this._content})),this}});_.namespace(t,"views.panels.recentUpdates").Index=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(_.namespace(e,"next"),t.helpers.view),r=t.View.extend({__name__:"PanelsMyWorkIndex",className:"items panel_content",initialize:function(e){function r(e){$(e.currentTarget).closest("form").submit()}function i(e){var n=$(e.currentTarget),r=(n.closest(".my_work_group").data("cid"),n.serializeObject().panel);a.set({sort:r.sort}),t.Person.current().layoutScheme().save()}t.View.prototype.initialize.call(this,e);var a=e.model;this.views().addView(new t.views.panels.items.Index2({model:a,el:this.el})).addView(new t.views.Dropdown({el:this.el})),this.delegateEvents({"change form.my_work_sort :hidden":r,"submit form.my_work_sort":[n.preventDefault,i]})},render:function(){return this.views().render(),this}});_.namespace(t,"views.panels.myWork").Index=r}.call(this),function(){"use strict";function e(){this.views().pick(".panel_header").detach(),this.views().pick(".items_container").detach()}function t(){this.views().pick(".panel_header").attach(),this.views().pick(".items_container").attach()}function n(e){var t=this;if("done"===e.get("type")){var n=t.$(".items");n.scrollTop(n.length&&n[0].scrollHeight)}}var r=this,i=_.namespace(r,"tracker"),a=i.View.extend({__name__:"PanelsShow",allowedAttributes:["message","items_hidden","show_done_stories","show_done_epics","has_saved_search","pinned"],initialize:_.wrap(i.View.prototype.initialize,function(e){function t(e){var t=e.changedAttributes();t&&!_(t).chain().keys().intersection(d.allowedAttributes).isEmpty().value()&&d.render()}function n(){d.$el.find(".bright_icons").css("opacity",.7)}function r(){d.$el.find(".bright_icons").css("opacity",.4)}function a(e){_.isEqual(e.changedAttributes(),{show_past_done:!0})?d.$el.addClass("show_past_done"):d.render()}function o(){d.$(".panel_content").trigger("rebuild")}function s(){d.$el.css({width:i.Layout.current().get("panel_width")})}function l(){i.Person.current().panels().move(p,d.$el.index())}function c(){p.content().counter&&p.collection.trigger("itemCountChanged")}function u(){var e=[[p,{change:t}],{mouseenter:n,mouseleave:r,postrender:s,reorder:l},[i.Layout.current(),{"change:panel_width":s}],[g,{"add remove":o}],[p.itemCollection(),{"add remove change":c}]];h&&(e=e.concat([[h,{change:a}]])),d.delegateEvents.apply(d,e),d.views().addView(new i.views.panels.controls.Index({el:d.el,model:p})).addView(".panel_header",new i.views.panels.controls.Show({model:p}).render()),d.buildFlyoverViews(h,p,d);var u,f=_(p.get("type")).camelize(),m=!!i.views.panels[f]&&i.views.panels[f].Index;m?u=new i.views.panels[f].Index({model:p,$delegate:d.$el}):(u=new i.views.panels.items.Index2({model:p,$delegate:d.$el}),u.$el.addClass("panel_content")),d.views().addView(".items_container",u).render()}e.call(this,_.rest(arguments));var d=this,p=d.model,h=p.project(),g=i.Workspace.current()&&i.Workspace.current().projects();u()}),buildFlyoverViews:function(e,t,n){var r,a,o=this,s=i.Person.current();i.Workspace.current()&&(r=new i.MultiStoryFetch({person:s}),a=new i.MultiEpicFetch({person:s})),e?o.views().addView(new i.views.flyovers.stories.Show({model:e,collection:r,el:n.el,targetSelector:".story .meta"})).addView(new i.views.flyovers.stories.Show({model:e,collection:r,el:n.el,targetSelector:".edit.details .tracker_markup .flyoverable.this_project.story"})).addView(new i.views.flyovers.otherProjectStories.Show({el:n.el,targetSelector:".edit.details .tracker_markup .flyoverable.other_project.story"})).addView(new i.views.flyovers.epics.Show({model:e,collection:a,el:n.el,targetSelector:".epic .meta"})).addView(new i.views.flyovers.epics.Show({model:e,collection:a,el:n.el,targetSelector:".edit.details .tracker_markup .flyoverable.this_project.epic",positionOptions:{at:"left bottom",my:"left top"}})).addView(new i.views.flyovers.epics.progress.Show({model:e,collection:a,el:n.el,targetSelector:".epic .progress"})).addView(new i.views.flyovers.otherProjectEpics.Show({el:n.el,targetSelector:".edit.details .tracker_markup .flyoverable.other_project.epic"})).addView(new i.views.flyovers.integration_stories.Show({model:t.integration(),el:n.el,targetSelector:".integration_story .meta"})):o.views().addView(new i.views.flyovers.otherProjectStories.Show({el:n.el,targetSelector:".story .meta"})).addView(new i.views.flyovers.otherProjectStories.Show({el:n.el,targetSelector:".edit.details .tracker_markup .flyoverable.story"})).addView(new i.views.flyovers.otherProjectEpics.Show({el:n.el,targetSelector:".edit.details .tracker_markup .flyoverable.epic"})).addView(new i.views.flyovers.otherProjectEpics.Show({el:n.el,targetSelector:".epic .meta"}))},render:function(){var r=this.model,i=r.project(),a=this.wrapRender(function(){e.call(this);var n=JST[_.result(this,"template")](r.decorator().toJSON()),a=_.compact([i&&i.isShowingPastDone()&&"show_past_done"]).concat(r.decorator().cssClasses()).join(" ");return this.$el.attr("class",a).attr("id","panel_"+r.id).attr("data-cid",r.cid).attr("data-type",r.get("type")).html(n),t.call(this),this}).call(this);return n.call(this,r),a},template:"templates/next/panels/show"});_.namespace(i,"views.panels").Show=a}.call(this),function(e,t){var n=2,r=1e3,i=100,a=20,o=t.View.extend({events:function(){var e={};return e["dragstart "+this.draggable_]="onDragStart_",e["drag "+this.draggable_]="onDrag_",e["dragend "+this.draggable_]="onDragEnd_",e},initialize:function(e){this.draggable_=e.draggable,this.scrollableY_=e.scrollableY,this.scrollableX_=e.scrollableX,this.$scrollableX_=$(),this.$scrollableY_=$(),this.delta_=0,this.isScrollingVertically_=!1,this.isScrollingHorizontally_=!1,this.startedScrolling_=!1},getScrollDistance_:function(e){var t=e>0?1:-1,i=(Math.pow(Math.abs(e),n)-1)/r;return t*i},setScrollY_:function(e,t){var n=t.offset(),r={left:n.left,right:n.left+t.width(),top:n.top+i,bottom:n.top+t.height()-i};if(e.clientX>r.left&&e.clientX<r.right){var o,s;if(_(this.oldClientY_).isUndefined()?(o=s=!1,this.oldClientY_=e.clientY):(o=this.oldClientY_-e.clientY>=(this.startedScrolling_?0:a),s=e.clientY-this.oldClientY_>=(this.startedScrolling_?0:a)),(o||s)&&(this.oldClientY_=e.clientY,this.startedScrolling_=!0),e.clientY<r.top&&this.startedScrolling_&&o)return this.isScrollingVertically_=!0,this.scrollY_(this.getScrollDistance_(e.clientY-r.top),t),void 0;if(e.clientY>r.bottom&&this.startedScrolling_&&s)return this.isScrollingVertically_=!0,this.scrollY_(this.getScrollDistance_(e.clientY-r.bottom),t),void 0;this.isScrollingVertically_=!1}this.delta_=0},setScrollX_:function(e,t){var n=t.offset(),r={left:n.left+i,right:n.left+t.width()-i,top:n.top,bottom:n.top+t.height()};if(e.clientY>r.top&&e.clientY<r.bottom){var o,s;if(_(this.oldClientX_).isUndefined()?(o=s=!1,this.oldClientX_=e.clientX):(o=this.oldClientX_-e.clientX>=(this.startedScrolling_?0:a),s=e.clientX-this.oldClientX_>=(this.startedScrolling_?0:a)),(o||s)&&(this.oldClientX_=e.clientX,this.startedScrolling_=!0),e.clientX<r.left&&this.startedScrolling_&&o)return this.isScrollingHorizontally_=!0,this.scrollX_(this.getScrollDistance_(e.clientX-r.left),t),void 0;if(e.clientX>r.right&&this.startedScrolling_&&s)return this.isScrollingHorizontally_=!0,this.scrollX_(this.getScrollDistance_(e.clientX-r.right),t),void 0;this.isScrollingHorizontally_=!1}this.delta_=0},scrollY_:function(t,n){var r=this;if(this.isScrollingVertically_){if(this.delta_+=t,Math.abs(this.delta_)>1){var i=this.delta_>0?1:-1,a=i*Math.ceil(Math.abs(this.delta_));this.delta_-=a,n.scrollTop(n.scrollTop()+a)}e.cancelAnimationFrame(this.scrollingVerticallyTimeout_),this.scrollingVerticallyTimeout_=e.requestAnimationFrame(function(){r.scrollY_(t,n)})}},scrollX_:function(t,n){var r=this;if(this.isScrollingHorizontally_){if(this.delta_+=t,Math.abs(this.delta_)>1){var i=this.delta_>0?1:-1,a=i*Math.ceil(Math.abs(this.delta_));this.delta_-=a,n.scrollLeft(n.scrollLeft()+a)}e.cancelAnimationFrame(this.scrollingHorizontallyTimeout_),this.scrollingHorizontallyTimeout_=e.requestAnimationFrame(function(){r.scrollX_(t,n)})}},onDragStart_:function(){this.$scrollableY_=$(this.scrollableY_),this.$scrollableX_=$(this.scrollableX_)},onDrag_:function(e){var t=this;this.$scrollableY_.each(function(){t.setScrollY_(e,$(this))}),this.$scrollableX_.each(function(){t.setScrollX_(e,$(this))})},onDragEnd_:function(){this.startedScrolling_=this.isScrollingVertically_=this.isScrollingHorizontally_=!1,this.oldClientY_=void 0}},{THRESHOLD_TO_START:a});_(t).namespace("views.panels").Scroller=o}(window,window.tracker),function(){"use strict";function e(e){this.$(".panel."+e.cid).scrollIntoView(!0)}function t(t,n){mixpanel.track("/panels/split_current",{panel_type:n.get("type")});var r=n.project(),i=t.indexOf(n);t.remove(n);var a=t.push({type:"current",split:!0},{project:r}),o=t.push({type:"backlog",split:!0},{project:r});t.move(o,i),t.move(a,i),e.call(this,a)}function n(t,n){mixpanel.track("/panels/combine_current",{panel_type:n.get("type")});var r=t.indexOf(n);t.remove.call(t,_.rest(arguments));var i=t.push({type:"backlog",name:"current/backlog",split:!1},{project:n.project()});t.move(i,r),e.call(this,i)}var r=this,i=_.namespace(r,"tracker"),a=i.helpers,o=i.View.extend({__name__:"PanelsIndex",className:"table",initialize:function(e){function r(e){return function(){C.closePanels(_.rest(arguments))&&e.apply(C,[j].concat(_.rest(arguments)))
}}function a(e){return function(t,n){var r=n.project(),i=j.filter(function(e){return e.get("split")&&e.project()===r});e.apply(C,[t].concat(i))}}function s(e){return function(t,n){e.apply(C,[t].concat(j.filter(function(e){return e.get("type")===n.get("type")&&e.project()===n.project()})))}}function l(e,t){e.parent().append(e);var n=C.$el.children().eq(t);n[0]!==e[0]&&n.before(e)}function c(e,t){var n=C.$(".panel."+e.cid);t&&j.indexOf(e)!==n.index()&&l(n,j.indexOf(e))}function u(e){var t=C.$(".panel."+e.cid);l(t,j.indexOf(e))}function d(){mixpanel.track("/panel_width/auto_fit",{source:"panel_header"}),i.layout.Service.resize(I,j,F.get("width"))}function p(){i.layout.Service.autosize(I,P,F)}function h(e){return function(t){$(t.target).is("a")||e.apply(this,arguments)}}function g(){F.set({width:C.$el.parent().width()})}function f(){var e=j.comparator||function(e,t){return j.indexOf(e)-j.indexOf(t)};return C.views().pick(".table").value().sort(function(t,n){return e.call(j,t.model,n.model)})}function m(){C.views().pick(".table").any(function(e){return e.$el.hasClass("visible")})?C.$el.removeClass("no_panels_visible"):C.$el.addClass("no_panels_visible")}function v(e){return C.views().pick(".table").find(function(t){return t.model===e})}function y(e){if(e.get("visible")){var t=v(e);t&&i.requestAnimationFrame(function(){var e=C.$el.closest("section.panels"),n=t.$el.position().left,r=n+t.$el.outerWidth(!0);0>n?e.scrollLeft(e.scrollLeft()+n):r>e.width()&&e.scrollLeft(e.scrollLeft()+(r-e.width()))})}}function b(e){return function(t,n){var r=$(t.target).closest(".panel").data("cid"),a=n instanceof i.Story?"story":"epic",o=a+"_"+e,s={project:n.project()};s[a]=n;var l=new i.Panel({type:o,parent_panel_cid:r},s),c=j.get(l);c?(c.set({parent_panel_cid:r}),y(c)):j.add(l,{at:j.indexOf(j.get(r))+1})}}function E(e){function t(t){return C.views().pick(".table").find(function(n){return n.model.id===t+"_"+e.project().id})}var n=i.panels.Service.getModelPanelType(e,j,i.Person.current()),r=t(n);return r||(j.add(o.addPanelStrategy(n,e),{parse:!0,project:e.project()}),r=t(n)),e instanceof i.Epic&&e.isDone()&&!r.model.get("show_done_epics")&&r.model.set({show_done_epics:!0}),r.model.set({visible:!0}),r}function S(e,t){var n,r=t.original();r&&r.project()&&r.project().stories().get(r)&&(n=E(r),n.model.expandedModels().add(t),i.panels.Service.revealModel(j,r,{flash:!1}))}function w(e){var t=$(e.currentTarget),n=i.Project.get(t.data("projectId")),r=(t.data("id")+"").split(","),a=t.hasClass("expand");return{project:n,ids:r,expand:a}}function T(e,t,n,r,a){_.each(n,function(n){var o=t.get(n),s={expand:a};o?i.panels.Service.revealModel(e,o,s):U.add({content:"The "+r+" you were trying to reveal is not currently loaded on the client."},{validate:!0})})}function A(e,t){var n=j.get($(e.target).closest(".panel").data("cid")),r="/"+_.pluralize(t)+"/reveal";if(n){var i;i=$(e.target).hasClass("locator")||$(e.target).parent().hasClass("epic_stories_header")?n.get("type"):t+"_link",mixpanel.track(r,{panel_type:i})}}function x(e){e.preventDefault();{var t=w(e),n=t.project,r=t.ids,i=t.expand;j.get($(e.target).closest(".panel").data("cid"))}A(e,"story"),T(j,n.stories(),r,"story",i)}function M(e){e.preventDefault();var t=w(e),n=t.project,r=t.ids,i=t.expand;A(e,"epic"),T(j,n.epics(),r,"epic",i)}function D(e){var t=new i.views.panels.Show({model:e});C.views().addView(".table",t),C.$el.append(t.el);var n=_.indexOf(f(),t),r=C.$el.children().eq(n);r[0]!==t.el&&r.before(t.el),t.render()}function k(e){var t=v(e);C.views().pick(t).removeView()}function O(e){var t=v(e);t&&t.$el.toggleClass("visible",e.get("visible"))}function N(e,t){var n=t.get("type"),r=t.generateId(n+2);if(j.get(r))y(j.get(r));else{var a=v(t),o=a.$(".items").scrollTop(),s=j.get(t.generateId(n));s.set({cloned:!0});var l=new i.Panel(_.extend({},s.attributes,{id:r}),{project:s.project()});l.panelIterations().reset(_.pluck(s.panelIterations().models,"attributes"),{panel:l}),j.push(l,{at:j.indexOf(s)+1});var c=v(j.get(r));a.$(".items").scrollTop(o),c.$(".items").scrollTop(o)}}function R(e,t){C.closePanels(t)}i.View.prototype.initialize.call(this,e);var C=this,U=e.statuses,F=e.panelsViewport,L=i.Person.current(),I=i.Layout.current(),P=L.layoutScheme(),j=C.collection;C.render=C.wrapRender(function(){var e=["table"];return C.$el.attr("class",e.join(" ")),m(),C}),C.views().addView(new i.views.panels.Scroller({el:C.el,draggable:".panel.visible.items_draggable .model .preview",scrollableY:".panel.visible .panel_content.items",scrollableX:"article.main .panels"})),C.views().addView(new i.views.panels.Scroller({el:C.el,draggable:".panel.visible .panel_header, .panel.visible .panel_footer",scrollableX:"article.main .panels"})),C.views().pick(".table").removeView(),j.each(function(e){D(e)}),C.delegateEvents({closePanel:R,openEpicStoriesPanel:b("stories"),openActivityPanel:b("history"),clonePanel:N,"click a.story.reveal":x,"click a.epic.reveal":M,openInNewPanel:S,"split .panel":s(r(t)),"unsplit .panel":a(r(n)),"dblclick header.panel_controls":h(d),postrender:[g,p]},[j,{add:[D,y,m],remove:[k,m],"change:visible":[O,y,m],"change:parent_panel_cid":C.render}],[j,{"change:visible":c,reorder:u,remove:[g,p]}],[I,{"change:maximized":[g,p]}])},closePanels:function(e){var t=this.collection,n=_.isArray(e)&&e||_.toArray(arguments);return a.panels.collapseItemsInPanels(n)?(_.invoke(n,"close",t),!0):!1}},{addPanelStrategy:function(e,t){return i.Person.current().panels().open({type:e},{project:t.project()})}});o.include(i.mixins.flashingItems),_.namespace(i,"views.panels").Index=o}.call(this),function(){"use strict";function e(e){var t=n.Focus.current(),r=e instanceof n.DraftEpic?"epic":"story";t.set({cid:e.cid,state:{previousFocus:r+"_name_"+e.cid,previousCaret:{end:e.get("name").length,length:0,start:e.get("name").length},renderNestingLevel:1}})}var t=this,n=_.namespace(t,"tracker"),r=n.View.extend({__name__:"PanelsEdit",initialize:function(e){this.$delegate=e.$delegate,this.$delegate.on("expandModel",this.expandModel)},expandModel:function(t,n,r){r&&_.each([].concat(n),function(t){var n=r.getExpandedModel(t);t.isNew()&&r.itemCollection().trigger("add",t,{isUserInitiated:!0}),n||r.expandModel(t),e(r.getExpandedModel(t))})}});_.namespace(n,"views.panels").Edit=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.Decorator.extend({toJSON:function(){return{id:"search_"+this.get("project_id")+"_favorite_"+this.id,type:"search",favorite_search_id:this.id,query:this.get("query"),name:this.get("name"),project_id:this.get("project_id")}}});t.FavoriteSearchPanelDecorator=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.helpers.view,i=r.transformArguments(function(e){var t=["show_accepted","favorite_search_id","pinned","visible"];return _.intersection(_.keys(e.changedAttributes()||{}),t).length&&arguments}),a=n.View.extend({__name__:"PanelsSync",initialize:_.wrap(n.View.prototype.initialize,function(e,r){function a(){var e=t.Layout.current().get("panel_width"),n=t.layout.Service.calculateTableWidth(u,e);c.$(".table").width(0===n?"100%":n)}function o(e){$(e.currentTarget).hasClass("table")&&(a(),c.$el.off("DOMNodeInserted",".table"))}function s(){var e=t.Person.current().layoutScheme();e.save({},{parse:!1})}function l(e){if(!e.get("visible")&&e.get("cloned")&&!e.isClone()){var t=u.find(function(t){return t.get("type")===e.get("type")&&t!==e&&t.project()===e.project()}),n=u.indexOf(e);u.remove(e),u.push(t,{at:n,silent:!0}).set({id:t.generateId(),cloned:!1}),c.$(".panel."+t.cid).attr("id","panel_"+t.id)}}e.apply(this,_.rest(arguments)),r=r||{};var c=this,u=this.collection;this.delegateEvents({"DOMNodeInserted .table":o},[u,{add:a,remove:a,reset:a,"add reorder remove reset":s,change:i(s),"change:visible":[a,l]}],[t.Layout.current(),{"change:panel_width":[a,_.debounce(s,n.views.panels.Sync.DEBOUNCE_DELAY)]}])})},{DEBOUNCE_DELAY:500});_.namespace(n,"views.panels").Sync=a}.call(this),function(){"use strict";function e(e,t){return e.closest(t)}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next"),i=r.View.extend({__name__:"DragDrop",initialize:_.wrap(r.View.prototype.initialize,function(t,r){function i(t,r){return $(t.target).hasClass("undraggable")?!1:(d&&n.CommandQueue.pause("dragging"),y=e($(t.currentTarget),m).addClass("dragging"),s=y.offset().left,l=y.offset().top,b=$("<"+p+"/>",{"class":_.compact([h,"ghost"]).join(" ")}).css(_.extend({width:E(y),height:y.outerHeight(!0)},g(t,r,s,l))).append(y.clone()).appendTo(n.el),$.drop({mode:u,tolerance:null}),void 0)}function a(t,n){var r=e($(n.drop),m);y.length&&r.length&&!y.is(r)&&(y[v(b)>v(r)?"insertAfter":"insertBefore"](r),n.update()),b.css(g(t,n,s,l))}function o(){y.length&&(mixpanel.track("/panels/drag",{panel_type:y.data("type")}),b.remove(),b=$(),d&&n.CommandQueue.resume("dragging"),y.removeClass("dragging"),y.trigger("reorder"),y=$())}var s,l,c=this,u=(r=r||{}).mode||"intersect",d=r.pauseCommandQueue,p=r.ghostTagName||"div",h=r.ghostClassName,g=r.ghostPosition,f=r.draggableSelector,m=r.droppableSelector,v=r.findCenter,y=$(),b=$(),E=r.widthFn||function(e){return e.outerWidth(!0)},S=_.reduce({dragstart:i,drag:a,dragend:o},function(e,t,n){return e[n+" "+f]=t,e},{});c.delegateEvents(S)})});_.namespace(r,"views").DragDrop=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.View.extend({__name__:"PanelsDragDrop",initialize:_.wrap(t.View.prototype.initialize,function(e,n){e.call(this,n),this.views().addView(new t.views.DragDrop({el:this.el,ghostClassName:"panel_ghost",draggableSelector:".panel_controls",droppableSelector:".panel",pauseCommandQueue:!0,findCenter:function(e){return e.offset().left+e.width()/2},ghostPosition:function(e,t,n,r){return{left:e.pageX-(t.startX-n),top:r}},widthFn:function(e){return e.width()}}))})});_.namespace(t,"views.panels").DragDrop=n}.call(this),function(e){e.fn.scrollIntoViewTop=function(t){var n=+(e(t).position()&&e(t).position().top)||0,r=this.scrollTop()+n;return this.scrollTop(r),this}}(jQuery),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=tracker.helpers,r=t.View.extend({__name__:"PanelsAuxiliary",initialize:function(){function r(t,r){return function(i,a){n.deferUntilProjectLoaded(a,n.view.requireWriteAccess.call(o,a,function(){var n,s,l=tracker.Person.current().panels();if($(i.target).hasClass("panel")){var c=$(i.target).data("cid");n=l.get(c),s=$(i.target)}else n=l.open({type:t},{project:a}),s=$(".panel."+t+":eq(0)");if(n.set({visible:!0}),n.newModel()){var u=n.getExpandedModel(n.newModel());u&&u.isUnsaved()?e.confirm("You have unsaved changes, are you sure you want to create a new story?")&&(n.collapseModel(n.newModel()),r(a,n),o.$trigger("expandModel",[n.newModel(),n])):o.$trigger("expandModel",[n.newModel(),n])}else r(a,n);s.find(".panel_content").scrollIntoViewTop(s.find(".story .new.edit").parent())}))()}}function i(e,t){var n=new tracker.Epic({},{project:e});t.setNewModel(n),o.$trigger("expandModel",[n,t])}function a(e,t){var n=t.content().newStoryState,r=new tracker.Story({requested_by_id:tracker.Person.current().id,current_state:n},{project:e});t.setNewModel(r),o.$trigger("expandModel",[r,t])}t.View.prototype.initialize.apply(this,arguments);var o=this;this.delegateEvents({addStory:r("icebox",a),addEpic:r("epics",i)})}});_.namespace(t,"views.panels").Auxiliary=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.View.extend({__name__:"PanelsNotifications",initialize:_.wrap(t.View.prototype.initialize,function(e,t){function n(){tracker.Person.current().panels().open({type:"notifications"}),r.$(".panel.notifications:eq(0)").scrollIntoView()}e.call(this,t);var r=this;r.delegateEvents({openNotificationsPanel:n})})});_.namespace(t,"views.panels").Notifications=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.View.extend({__name__:"PanelsScroll",initialize:function(e){var t=(e||{}).promise;t.done(function(){$(".panels").scrollLeft(0)})}});_.namespace(t,"views.panels").Scroll=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.Decorator.extend({model:tracker.Layout,toJSON:function(){return this.toJSON()}});t.LayoutDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.Decorator.extend({model:t.FavoriteEpic,toJSON:function(){var e=this.epic();return e&&{project_id:e.project().id,id:"epic_"+e.cid+"_stories_"+e.project().id,type:"epic_stories",epic_id:e.id,name:e.get("name")}}});t.FavoriteEpicPanelDecorator=r}.call(this),function(){"use strict";function e(e,t,r,i,a,o){var s=[{type:"icebox"},{type:"done"},{type:"epics"}],l=[{type:"labels",name:"labels"}],c=[{type:n.Person.current().appSettings().chartsType(),name:"Charts"},{type:"project_history",name:"project history"}],u=[].concat({type:"my_work",name:"my work"},o?[{type:"current"},{type:"backlog"}]:[{type:"backlog",name:"current/backlog"}],s,r,l,i,a,c);return _.map(u,function(r){var i=r.id||r.type+"_"+e.id,a=t.get(i);return a||"search"!==r.type||(a=t.find(function(e){var t=e.favoriteSearch();return t&&t.id===r.favorite_search_id})),_.extend(r,{type:r.type,id:i,project_id:e.id,visible:a&&a.get("visible")||!1,name:r.name||r.type,counter:"my_work"===r.type&&e.stories().scope().work(n.Person.current()).value().length+""})})}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next"),i=r.Decorator.extend({toJSON:function(){var t=n.Person.current(),r=n.Project.current(),i=t.layoutScheme(),a=i.panels(),o=t.isReadOnly(r),s=!!a.findWhere({split:!0}),l=new n.FavoriteSearchPanelDecorator(i.favoriteSearches()).toJSON(),c=_.compact(new n.FavoriteEpicPanelDecorator(i.favoriteEpics()).toJSON()),u=r.integrations().chain().filter(function(e){return e.get("can_import")}).map(function(e){return{project_id:r.id,integration_id:e.id,id:[e.get("type"),e.id,r.id].join("_"),type:"integration",name:e.get("name")}}).value();return _.isEmpty(l)||(l=[{type:"searches",name:"saved searches",decorative:!0}].concat(l)),{query:this.query,disableSearch:this.disableSearch,project:r.decorator().toJSON(),panels:e(r,a,c,l,u,s),layout:n.Layout.current().decorator().toJSON(),is_split:s,width_mode:i.get("width_mode"),width_mode_is_auto:"auto"===i.get("width_mode"),has_favorite_epics:i.favoriteEpics().length,has_favorite_searches:i.favoriteSearches().length,is_story_addable:!o}}});_.namespace(r,"projects").SidebarDecorator=i}.call(this),/**
 * @license
 * jQuery Tools @VERSION Rangeinput - HTML5 <input type="range" /> for humans
 *
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 *
 * http://flowplayer.org/tools/rangeinput/
 *
 * Since: Mar 2010
 * Date: @DATE
 */
function(e){function t(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function n(e,t){var n=parseInt(e.css(t),10);if(n)return n;var r=e[0].currentStyle;return r&&r.width&&parseInt(r.width,10)}function r(t){var n=e._data(t[0],"events");return n&&n.onSlide}function i(i,a){function o(e,n,r,o){if(void 0===r?r=n/p*y:o&&(r-=a.min),b&&(r=Math.round(r/b)*b),(void 0===n||b)&&(n=r*p/y),isNaN(r))return g;n=Math.max(0,Math.min(n,p)),r=n/p*y,(o||!c)&&(r+=a.min),c&&(o?n=p-n:r=a.max-r),r=t(r,E);var s="click"==e.type;if(A&&void 0!==u&&!s&&(e.type="onSlide",T.trigger(e,[r,n]),e.isDefaultPrevented()))return g;var l=s?a.speed:0,d=s?function(){e.type="change",T.trigger(e,[r])}:null;return c?(_.animate({top:n},l,d),a.progress&&v.animate({height:p-n+_.height()/2},l)):(_.animate({left:n},l,d),a.progress&&v.animate({width:n+_.width()/2},l)),u=r,h=n,i.val(r).trigger("change"),g}function s(){c=a.vertical||n(m,"height")>n(m,"width"),c?(p=n(m,"height")-n(_,"height"),d=m.offset().top+p):(p=n(m,"width")-n(_,"width"),d=m.offset().left)}function l(){s(),g.setValue(void 0!==a.value?a.value:a.min)}var c,u,d,p,h,g=this,f=a.css,m=e("<div><div/><a /></div>").data("rangeinput",g);i.before(m);var _=m.addClass(f.slider).find("a").addClass(f.handle),v=m.find("div").addClass(f.progress);e.each("min,max,step,value".split(","),function(e,t){var n=i.attr(t);parseFloat(n)&&(a[t]=parseFloat(n,10))});var y=a.max-a.min,b="any"==a.step?0:a.step,E=a.precision;if(void 0===E&&(E=b.toString().split("."),E=2===E.length?E[1].length:0),"range"==i.attr("type")){var S=i.clone().wrap("<div/>").parent().html(),w=e(S.replace(/type/i,"type=text data-orig-type"));w.val(a.value),i.replaceWith(w),i=w}i.addClass(f.input);var T=e(g).add(i),A=!0;e.extend(g,{getValue:function(){return u},setValue:function(t,n){return s(),o(n||e.Event("api"),void 0,t,!0)},getConf:function(){return a},getProgress:function(){return v},getHandle:function(){return _},getInput:function(){return i},step:function(t,n){n=n||e.Event();var r="any"==a.step?1:a.step;g.setValue(u+r*(t||1),n)},stepUp:function(e){return g.step(e||1)},stepDown:function(e){return g.step(-e||-1)}}),e.each("onSlide,change".split(","),function(t,n){e.isFunction(a[n])&&e(g).on(n,a[n]),g[n]=function(t){return t&&e(g).on(n,t),g}}),_.dragRange({drag:!1}).on("dragStartRange.range",function(){s(),A=r(e(g))||r(i)}).on("dragRange.range",function(e,t,n){return i.is(":disabled")?!1:(o(e,c?t:n),void 0)}).on("dragEndRange.range",function(e){e.isDefaultPrevented()||(e.type="change",T.trigger(e,[u]))}).click(function(e){return e.preventDefault()}),m.click(function(e){if(i.is(":disabled")||e.target==_[0])return e.preventDefault();s();var t=c?_.height()/2:_.width()/2;o(e,c?p-d-t+e.pageY:e.pageX-d-t)}),a.keyboard&&i.keydown(function(t){if(!i.attr("readonly")){var n=t.keyCode,r=-1!=e([75,76,38,33,39]).index(n),a=-1!=e([74,72,40,34,37]).index(n);return!r&&!a||t.shiftKey||t.altKey||t.ctrlKey?void 0:(r?g.step(33==n?10:1,t):a&&g.step(34==n?-10:-1,t),t.preventDefault())}}),i.blur(function(t){var n=e(this).val();n!==u&&g.setValue(n,t)}),e.extend(i[0],{stepUp:g.stepUp,stepDown:g.stepDown}),l(),p||e(window).load(l)}e.tools=e.tools||{version:"@VERSION"};var a;a=e.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:void 0,vertical:0,keyboard:!0,progress:!1,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var o,s;e.fn.dragRange=function(t){return document.ondragstart=function(){return!1},t=e.extend({x:!0,y:!0,drag:!0},t),o=o||e(document).on("mousedown mouseup",function(n){var r=e(n.target);if("mousedown"==n.type&&r.data("drag-range")){var i=r.position(),a=n.pageX-i.left,l=n.pageY-i.top,c=!0;o.on("mousemove.drag",function(e){var n=e.pageX-a,i=e.pageY-l,o={};t.x&&(o.left=n),t.y&&(o.top=i),c&&(r.trigger("dragStartRange.range"),c=!1),t.drag&&r.css(o),r.trigger("dragRange.range",[i,n]),s=r}),n.preventDefault()}else try{s&&s.trigger("dragEndRange.range")}finally{o.off("mousemove.drag"),s=null}}),this.data("drag-range",!0)},e.expr[":"].range=function(t){var n=t.getAttribute("type");return n&&"range"==n||!!e(t).filter("input").data("rangeinput")},e.fn.rangeinput=function(t){if(this.data("rangeinput"))return this;t=e.extend(!0,{},a.conf,t);var n;return this.each(function(){var r=new i(e(this),e.extend(!0,{},t)),a=r.getInput().data("rangeinput",r);n=n?n.add(a):a}),n?n:this}}(jQuery),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/story_density_mode/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/story_density_mode/show"]=Handlebars.template(function(e,t,n,r,i){function a(e){var t="";return t+='\n      <label class="',e=typeof e===c?e():e,t+=u(e)+'">\n        <input type="radio" name="story_density_mode" value="',e=typeof e===c?e():e,t+=u(e)+'">\n        ',e=typeof e===c?e():e,t+=u(e)+"\n      </label>\n    "}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.blockHelperMissing;return l+='<header class="title">\n  <h2>story density</h2>\n</header>\n<article class="content">\n  <form>\n    ',s=n.story_density_modes,s?o=s.call(t,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}):(o=t.story_density_modes,o=typeof o===c?o():o),n.story_density_modes||(o=p.call(t,o,{hash:{},inverse:d.noop,fn:d.program(1,a,i)})),(o||0===o)&&(l+=o),l+="\n  </form>\n</article>\n"}),this.HandlebarsTemplates["next/lightboxes/story_density_mode/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.helpers.view,i=n.View.extend({__name__:"LightboxesStoryDensityMode",className:"lightbox top story_density_mode",template:"templates/next/lightboxes/story_density_mode/show",initialize:_.wrap(n.View.prototype.initialize,function(e,n){function i(e){var n=$(e.currentTarget).serializeObject(),r=t.Person.current();mixpanel.track("/density/select",{old_mode:r.appSettings().get("story_density_mode"),new_mode:n.story_density_mode}),mixpanel.register({density_mode:n.story_density_mode}),r.appSettings().set(n),r.appSettings().save(),a.$trigger("close.lightbox")}e.apply(this,_.rest(arguments)),this._target=(n||{}).target;var a=this;this.delegateEvents({"submit form":[r.preventDefault,i],"change :radio":t.helpers.view.submitClosestForm()})}),render:function(){var e=this._target,n=t.AppSettings.STORY_DENSITY_MODES;return this.$el.html(JST[_.result(this,"template")]({story_density_modes:n})).position({my:"left top",at:"center bottom",of:e,offset:"-16 2"}),this}});_.namespace(t,"views.lightboxes").StoryDensityMode=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=tracker.helpers.view,r=tracker.helpers.view,i=t.View.extend({__name__:"SidebarShow",className:"sidebar_wrapper",initialize:function(e){function a(e){$(e.currentTarget).closest("form").submit()}function o(e){_.each(_.toArray($(e.currentTarget).serializeObject().panels),function(e){var t=q.get(e.id);t?(!t.get("visible")&&e.visible?(tracker.helpers.panels.resort(q,t),tracker.MixpanelReporter.current().track("/panels/show",{panel_type:t.get("type")})):t.get("visible")&&!e.visible&&tracker.MixpanelReporter.current().track("/panels/close",{panel_type:t.get("type"),source:"sidebar"}),e.visible||t.shouldCache()?t.set(e):q.remove(t)):e.visible&&(tracker.MixpanelReporter.current().track("/panels/show",{panel_type:e.type}),q.add(tracker.panels.Service.buildPanel(e)))})}function s(){if(!tracker.Workspace.current()||0!==tracker.Workspace.current().projects().length){P&&clearTimeout(P),I&&clearTimeout(I);var e=H.$el.width(),t="collapsed"===z.get("sidebar_display");mixpanel.track(t?"/sidebar/expand":"/sidebar/collapse"),z.set({sidebar_display:t?"expanded":"collapsed"});var n=e-H.$el.width();G.set({width:G.get("width")+n}),tracker.layout.Service.autosize(z,V,G)}}function l(){B||z.set({sidebar_display:"floated"})}function c(){"floated"!==z.get("sidebar_display")||K||z.set({sidebar_display:"collapsed"})}function u(){P&&clearTimeout(P),I&&clearTimeout(I),"collapsed"!==z.get("sidebar_display")||B||(I=setTimeout(l,i.SHOW_DELAY))}function d(){I&&clearTimeout(I),P=setTimeout(c,i.HIDE_DELAY)}function p(){B=!1}function h(e){$(e.target).hasClass("toggle_sidebar")||(clearTimeout(I),B=!0,i.DISABLE_SHOW_AFTER_CLICK||setTimeout(function(){B=!1},5e3))}function g(e){return function(){"expanded"!==z.get("sidebar_display")&&e.apply(this,arguments)}}function f(e){var t={time:0,x:0,y:0};return function(n){var r=(new Date).getTime(),a=Math.sqrt(n.clientX-t.x^2+(n.clientY-t.y)^2),o=1e3*a/(r-t.time);t.time=r,t.x=n.clientX,t.y=n.clientY,o>=i.SHOW_MIN_SPEED&&e.apply(this,arguments)}}function m(e){return function(t){t.clientX<=i.SHOW_X_HOVER_TARGET&&e.apply(this,arguments)}}function v(e){var t=0;return function(n){n.clientX<=i.SHOW_X_HOVER_TARGET&&t>i.SHOW_X_HOVER_TARGET&&e.apply(this,arguments),t=n.clientX}}function y(){B||"collapsed"!==z.get("sidebar_display")||l(),K=!0}function b(){K=!1,c()}function E(e){27===e.which&&H.$(".search input").blur()}function S(){H.$(".search input").focus()}function w(){Y=H.$("#form_layout").detach()}function T(){null===W&&(W=H.$el.find(".sidebar_content.scrollable").scrollTop(),tracker.requestAnimationFrame(function(){H.$el.find(".sidebar_content.scrollable").scrollTop(W),W=null}))}function A(){$.contains(tracker.el,H.el)&&!j&&_.defer(function(){j||(j=H.$("#form_layout :range").rangeinput({progress:!1}).data("rangeinput"),H.$el.off("DOMNodeInserted"))})}function x(){Y.length&&H.$("#form_layout").replaceWith(Y)}function M(){j&&j.getValue()&&z.set({panel_width:j.getValue()})}function D(){tracker.MixpanelReporter.current().track("/stories/add",{source:"add_button"}),H.$trigger("addStory",_.first(tracker.Person.current().projects()))}function k(e){var t=$(e.currentTarget).data("project-id"),n=tracker.Project.get(t);n.ready().then(function(){(new tracker.LightboxesController).create("velocity_update",{button:e.target,model:n.velocity(),position:{my:"left top",at:"center bottom",collision:"none",offset:"-8 8"}})})}function O(e){(new tracker.LightboxesController).create("story_density_mode",{target:e.currentTarget})}function N(){var e=tracker.Layout.current().get("panel_width");j&&j.getValue()!==e&&"auto"!==V.get("width_mode")&&j.setValue(e)}function R(){tracker.Person.current().appSettings().set({sidebar_expanded:"expanded"===z.get("sidebar_display")})}function C(){var e=tracker.Person.current().appSettings();e.save({sidebar_expanded:e.get("sidebar_expanded")})}function U(){var e=tracker.Layout.current(),t=tracker.Person.current().layoutScheme(),n="fixed"===t.get("width_mode")?"auto":"fixed",r=t.get("width_mode");t.set({width_mode:n}),mixpanel.track("/panel_width/toggle_mode",{new_mode:n,old_mode:r});var i=H.$("#form_layout input.layout_panel_width")[0];i.disabled=!i.disabled,"fixed"===n&&j.setValue(t.get("panel_width")),tracker.layout.Service.autosize(e,t,G),t.save()}function F(){mixpanel.track("/panel_width/auto_fit",{source:"sidebar_button"}),tracker.layout.Service.resize(tracker.Layout.current(),tracker.Person.current().layoutScheme().panels(),G.get("width"))}function L(e){return function(){"fixed"===V.get("width_mode")&&j&&j.step(e)}}t.View.prototype.initialize.apply(this,arguments);var I,P,j,H=this,z=tracker.Layout.current(),W=null,B=!1,K=!1,Y=$(),J=tracker.Person.current(),V=J.layoutScheme(),q=J.panels(),G=e.panelsViewport,Q=_.debounce(function(){mixpanel.track("/panel_width/adjust",{new_width:z.get("panel_width")})},1e3);H.delegateEvents({"click .narrow":[L(-10),Q],"click .wide":[L(10),Q],"click .width_mode":U,"click .fit_all":F,"click .velocity":k,"click .story_density_mode .anchor":O,'click a[href^="#"]':r.preventDefault,"change form.panels :checkbox":a,"submit form.panels":[r.preventDefault,o,n.flush()],"click .toggle_sidebar":s,"submit form.search":g(b),"keypress form.search input":g(y),"click form.search":[g(y),S],mouseleave:[p,d],click:g(h),mousemove:[g(v(u)),g(m(f(u)))],"focusout form.search input":g(b),"keyup .search input":E,"click .add_story":[r.preventDefault,D],prerender:[w,T],postrender:[x],"click #form_layout .slider":Q,"dragEndRange.range #form_layout":Q,"change #form_layout":M,DOMNodeInserted:A},[z,{"change:panel_width":N,"change:sidebar_display":[N,R]}],[tracker.Person.current().appSettings(),{"change:sidebar_expanded":[C]}])}},{SHOW_DELAY:400,SHOW_MIN_SPEED:100,SHOW_X_HOVER_TARGET:35,DISABLE_SHOW_AFTER_CLICK:!0,HIDE_DELAY:200});_.namespace(t,"views.sidebar").Show=i}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/projects/_show"]=function(){Handlebars.registerPartial("_next_projects_show",Handlebars.template(function(e,t,n,r){n=n||e.helpers,r=r||e.partials;var i,a,o="",s="function",l=this.escapeExpression,c=this;return o+='<header style="border-top-color: #',a=n.project_color,a?i=a.call(t,{hash:{}}):(i=t.project_color,i=typeof i===s?i():i),o+=l(i)+'">\n  ',i=t,i=c.invokePartial(r._next_projects_title,"_next_projects_title",i,n,r),(i||0===i)&&(o+=i),o+="\n</header>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/sidebar/_toggler"]=function(){Handlebars.registerPartial("_next_sidebar_toggler",Handlebars.template(function(e,t,n){return n=n||e.helpers,'<a class="toggle_sidebar"></a>\n'}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/sidebar/_user_panels"]=function(){Handlebars.registerPartial("_next_sidebar_user_panels",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n  <nav>\n    <ul class="items">\n      ',i=n.userPanels,i?r=i.call(e,{hash:{},inverse:v.noop,fn:v.program(2,o,t),data:t}):(r=e.userPanels,r=typeof r===m?r():r),n.userPanels||(r=b.call(e,r,{hash:{},inverse:v.noop,fn:v.program(2,o,t),data:t})),(r||0===r)&&(a+=r),a+="\n    </ul>\n  </nav>\n"}function o(e,t){var r,i,a="";return a+='\n        <li class="item ',i=n.type,i?r=i.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===m?r():r),a+=_(r)+" ",r=e.visible,r=n["if"].call(e,r,{hash:{},inverse:v.noop,fn:v.program(3,s,t),data:t}),(r||0===r)&&(a+=r),a+='">\n          ',r=e.counter,r=n["if"].call(e,r,{hash:{},inverse:v.noop,fn:v.program(5,l,t),data:t}),(r||0===r)&&(a+=r),a+='\n          <input type="hidden" name="panels[',r=t.index,r=typeof r===m?r():r,a+=_(r)+'][id]" value="',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===m?r():r),a+=_(r)+'">\n          <input type="hidden" name="panels[',r=t.index,r=typeof r===m?r():r,a+=_(r)+'][type]" value="',i=n.type,i?r=i.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===m?r():r),a+=_(r)+'">\n          <input type="hidden" name="panels[',r=t.index,r=typeof r===m?r():r,a+=_(r)+'][visible]" value="false" data-type="boolean">\n          ',r=e.workspace_id,r=n["if"].call(e,r,{hash:{},inverse:v.noop,fn:v.program(7,c,t),data:t}),(r||0===r)&&(a+=r),a+='\n\n          <input id="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===m?r():r),a+=_(r)+'" type="checkbox" name="panels[',r=t.index,r=typeof r===m?r():r,a+=_(r)+'][visible]" value="true" data-type="boolean" ',r=e.visible,r=n["if"].call(e,r,{hash:{},inverse:v.noop,fn:v.program(9,u,t),data:t}),(r||0===r)&&(a+=r),a+='>\n          <label for="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===m?r():r),a+=_(r)+'" class="',r=e.type,i=n.parameterize,r=i?i.call(e,r,{hash:{},data:t}):y.call(e,"parameterize",r,{hash:{},data:t}),a+=_(r)+'" id="sidebar_panel_label_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===m?r():r),a+=_(r)+"_",i=n.cid,i?r=i.call(e,{hash:{},data:t}):(r=e.cid,r=typeof r===m?r():r),a+=_(r)+'">\n            ',r=e.is_backlog,r=n["if"].call(e,r,{hash:{},inverse:v.program(13,p,t),fn:v.program(11,d,t),data:t}),(r||0===r)&&(a+=r),a+="\n          </label>\n        </li>\n      "}function s(){return"visible"}function l(e,t){var r,i,a="";return a+='<div class="counter">',i=n.counter,i?r=i.call(e,{hash:{},data:t}):(r=e.counter,r=typeof r===m?r():r),a+=_(r)+"</div>"}function c(e,t){var r,i,a="";return a+='\n            <input type="hidden" name="panels[',r=t.index,r=typeof r===m?r():r,a+=_(r)+'][dependencies][workspace_id]" value="',i=n.workspace_id,i?r=i.call(e,{hash:{},data:t}):(r=e.workspace_id,r=typeof r===m?r():r),a+=_(r)+'">\n          '}function u(){return"checked"}function d(){return'\n              <span class="panel_name"><span class="backlog">backlog</span><span class="current_backlog">current/backlog</span></span>\n            '}function p(e,t){var r,i,a="";return a+='\n              <span class="panel_name">',i=n.name,i?r=i.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===m?r():r),a+=_(r)+"</span>\n            "}n=n||e.helpers,i=i||{};var h,g,f="",m="function",_=this.escapeExpression,v=this,y=n.helperMissing,b=n.blockHelperMissing;return h={},h["class"]="panels",g=n.formTag,h=g?g.call(t,{hash:h,inverse:v.noop,fn:v.program(1,a,i),data:i}):y.call(t,"formTag",{hash:h,inverse:v.noop,fn:v.program(1,a,i),data:i}),(h||0===h)&&(f+=h),f+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/sidebar/_footer"]=function(){Handlebars.registerPartial("_next_sidebar_footer",Handlebars.template(function(e,t,n,r,i){function a(e){var t,n="";return n+='\n  <a class="narrow" title="Decrease Panel Width">decrease panel width</a>\n  <a class="wide" title="Increase Panel Width">increase panel width</a>\n  <input type="range" name="layout[panel_width]" class="range layout_panel_width" min="320" max="1000" value="',t=e.layout,t=null==t||t===!1?t:t.panel_width,t=typeof t===c?t():t,n+=u(t)+'" data-type="number">\n'}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.helperMissing;return l+='<a class="width_mode" title="Panel Width: Fixed">fixed</a>\n<a class="fit_all" title="Fit Panels to Browser (or double click on panel headers)">fit all</a>\n',o={},o.id="form_layout",s=n.formTag,o=s?s.call(t,{hash:o,inverse:d.noop,fn:d.program(1,a,i)}):p.call(t,"formTag",{hash:o,inverse:d.noop,fn:d.program(1,a,i)}),(o||0===o)&&(l+=o),l+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/projects/sidebar/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/projects/sidebar/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var i,a,s="";return s+='\n        <li class="project actions item">\n          <nav>\n            ',i=e,i=O.invokePartial(r._next_projects_velocity,"_next_projects_velocity",i,n,r,t),(i||0===i)&&(s+=i),s+="\n            ",i=e,i=O.invokePartial(r._next_projects_members,"_next_projects_members",i,n,r,t),(i||0===i)&&(s+=i),s+='\n            <span class="settings control">\n              <a class="anchor" id="project_settings" title="Settings"></a>\n            </span>\n            <span class="project_color control">\n              <a class="anchor" title="Project Color"><span style="background-color: #',a=n.project_color,a?i=a.call(e,{hash:{},data:t}):(i=e.project_color,i=typeof i===D?i():i),s+=k(i)+'"></span></a>\n            </span>\n            <span class="story_density_mode control">\n              <a class="anchor" title="Story Density Mode"></a>\n            </span>\n            ',i=e.is_read_only,i=n["if"].call(e,i,{hash:{},inverse:O.noop,fn:O.program(2,o,t),data:t}),(i||0===i)&&(s+=i),s+="\n          </nav>\n        </li>\n      "}function o(e,t){var r,i,a="";return a+='\n              <span class="readonly control">\n                <span class="anchor" title="',i=n.read_only_title,i?r=i.call(e,{hash:{},data:t}):(r=e.read_only_title,r=typeof r===D?r():r),a+=k(r)+'"></span>\n              </span>\n            '}function s(){return'\n        <li class="item">\n          <a class="button add_story"><span>Add Story</span></a>\n        </li>\n      '}function l(e,t){var r,i,a="";return a+='\n        <ul class="items',r=e.is_split,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(7,c,t),data:t}),(r||0===r)&&(a+=r),r=e.has_favorite_searches,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(9,u,t),data:t}),(r||0===r)&&(a+=r),r=e.has_favorite_epics,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(11,d,t),data:t}),(r||0===r)&&(a+=r),a+='">\n          ',i=n.panels,i?r=i.call(e,{hash:{},inverse:O.noop,fn:O.program(13,p,t),data:t}):(r=e.panels,r=typeof r===D?r():r),n.panels||(r=R.call(e,r,{hash:{},inverse:O.noop,fn:O.program(13,p,t),data:t})),(r||0===r)&&(a+=r),a+="\n        </ul>\n      "}function c(){return" split"}function u(){return" has_searches"}function d(){return" has_epics"}function p(e,t){var r,i,a="";return a+='\n            <li class="item ',i=n.type,i?r=i.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===D?r():r),a+=k(r),r=e.visible,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(14,h,t),data:t}),(r||0===r)&&(a+=r),a+='">\n              ',r=e.counter,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(16,g,t),data:t}),(r||0===r)&&(a+=r),a+="\n              ",r=e.decorative,r=n.unless.call(e,r,{hash:{},inverse:O.noop,fn:O.program(18,f,t),data:t}),(r||0===r)&&(a+=r),a+='\n              <label for="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===D?r():r),a+=k(r)+'" class="',r=e.type,i=n.parameterize,r=i?i.call(e,r,{hash:{},data:t}):N.call(e,"parameterize",r,{hash:{},data:t}),a+=k(r)+'" id="sidebar_panel_label_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===D?r():r),a+=k(r)+"_",i=n.cid,i?r=i.call(e,{hash:{},data:t}):(r=e.cid,r=typeof r===D?r():r),a+=k(r)+'">\n                ',r=e.is_backlog,r=n["if"].call(e,r,{hash:{},inverse:O.program(31,S,t),fn:O.program(29,E,t),data:t}),(r||0===r)&&(a+=r),a+="\n              </label>\n            </li>\n          "}function h(){return" visible"}function g(e,t){var r,i,a="";return a+='<div class="counter">',i=n.counter,i?r=i.call(e,{hash:{},data:t}):(r=e.counter,r=typeof r===D?r():r),a+=k(r)+"</div>"}function f(e,t){var r,i,a="";return a+='\n                <input type="hidden" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][id]" value="',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===D?r():r),a+=k(r)+'">\n                <input type="hidden" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][type]" value="',i=n.type,i?r=i.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===D?r():r),a+=k(r)+'">\n                <input type="hidden" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][visible]" value="false" data-type="boolean">\n                ',r=e.epic_id,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(19,m,t),data:t}),(r||0===r)&&(a+=r),a+="\n                ",r=e.integration_id,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(21,_,t),data:t}),(r||0===r)&&(a+=r),a+="\n                ",r=e.favorite_search_id,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(23,v,t),data:t}),(r||0===r)&&(a+=r),a+="\n                ",r=e.project_id,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(25,y,t),data:t}),(r||0===r)&&(a+=r),a+='\n                <input id="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===D?r():r),a+=k(r)+'" type="checkbox" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][visible]" value="true" data-type="boolean" ',r=e.visible,r=n["if"].call(e,r,{hash:{},inverse:O.noop,fn:O.program(27,b,t),data:t}),(r||0===r)&&(a+=r),a+=">\n              "}function m(e,t){var r,i,a="";return a+='\n                  <input type="hidden" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][dependencies][epic_id]" value="',i=n.epic_id,i?r=i.call(e,{hash:{},data:t}):(r=e.epic_id,r=typeof r===D?r():r),a+=k(r)+'">\n                '}function _(e,t){var r,i,a="";return a+='\n                  <input type="hidden" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][dependencies][integration_id]" value="',i=n.integration_id,i?r=i.call(e,{hash:{},data:t}):(r=e.integration_id,r=typeof r===D?r():r),a+=k(r)+'">\n                '}function v(e,t){var r,i,a="";return a+='\n                  <input type="hidden" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][dependencies][favorite_search_id]" value="',i=n.favorite_search_id,i?r=i.call(e,{hash:{},data:t}):(r=e.favorite_search_id,r=typeof r===D?r():r),a+=k(r)+'">\n                '}function y(e,t){var r,i,a="";return a+='\n                  <input type="hidden" name="panels[',r=t.index,r=typeof r===D?r():r,a+=k(r)+'][dependencies][project_id]" value="',i=n.project_id,i?r=i.call(e,{hash:{},data:t}):(r=e.project_id,r=typeof r===D?r():r),a+=k(r)+'">\n                '}function b(){return"checked"}function E(){return'\n                  <span class="panel_name"><span class="backlog">backlog</span><span class="current_backlog">current/backlog</span></span>\n                '}function S(e,t){var r,i,a="";return a+='\n                  <span class="panel_name">',i=n.name,i?r=i.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===D?r():r),a+=k(r)+"</span>\n                "}function w(e,t){var i,a="";return a+="\n    ",i=e,i=O.invokePartial(r._next_sidebar_footer_disabled,"_next_sidebar_footer_disabled",i,n,r,t),(i||0===i)&&(a+=i),a+="\n  "}function T(e,t){var i,a="";return a+="\n    ",i=e,i=O.invokePartial(r._next_sidebar_footer,"_next_sidebar_footer",i,n,r,t),(i||0===i)&&(a+=i),a+="\n  "}n=n||e.helpers,r=r||e.partials,i=i||{};var A,x,M="",D="function",k=this.escapeExpression,O=this,N=n.helperMissing,R=n.blockHelperMissing;return M+='<header class="sidebar_header">\n  ',A=t,A=O.invokePartial(r._next_sidebar_toggler,"_next_sidebar_toggler",A,n,r,i),(A||0===A)&&(M+=A),M+='\n</header>\n<section class="sidebar_content scrollable">\n  <section class="project">\n    <ul class="item settings_area">\n      ',x=n.project,x?A=x.call(t,{hash:{},inverse:O.noop,fn:O.program(1,a,i),data:i}):(A=t.project,A=typeof A===D?A():A),n.project||(A=R.call(t,A,{hash:{},inverse:O.noop,fn:O.program(1,a,i),data:i})),(A||0===A)&&(M+=A),M+="\n      ",A=t.is_story_addable,A=n["if"].call(t,A,{hash:{},inverse:O.noop,fn:O.program(4,s,i),data:i}),(A||0===A)&&(M+=A),M+="\n    </ul>\n      ",A={},A["class"]="panels",x=n.formTag,A=x?x.call(t,{hash:A,inverse:O.noop,fn:O.program(6,l,i),data:i}):N.call(t,"formTag",{hash:A,inverse:O.noop,fn:O.program(6,l,i),data:i}),(A||0===A)&&(M+=A),M+='\n    </section>\n</section>\n<footer class="sidebar_footer">\n  ',A=t.width_mode_is_auto,A=n["if"].call(t,A,{hash:{},inverse:O.program(35,T,i),fn:O.program(33,w,i),data:i}),(A||0===A)&&(M+=A),M+="\n</footer>\n"}),this.HandlebarsTemplates["next/projects/sidebar/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/projects/_title"]=function(){Handlebars.registerPartial("_next_projects_title",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o=n.helperMissing,s=this.escapeExpression,l="function";return a+='<div class="fixed">\n  <span class="name">\n    <span class="acronym">',r=t.name,i=n.toAcronym,r=i?i.call(t,r,{hash:{}}):o.call(t,"toAcronym",r,{hash:{}}),a+=s(r)+'</span>\n    <span class="full">',i=n.name,i?r=i.call(t,{hash:{}}):(r=t.name,r=typeof r===l?r():r),a+=s(r)+"</span>\n  </span>\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/projects/_velocity"]=function(){Handlebars.registerPartial("_next_projects_velocity",Handlebars.template(function(e,t,n,r,i){function a(){return" overridden"}function o(e,t){var r,i,a="";return a+="\n    ",i=n.per_iteration,i?r=i.call(e,{hash:{},inverse:g.noop,fn:g.program(4,s,t)}):(r=e.per_iteration,r=typeof r===p?r():r),n.per_iteration||(r=m.call(e,r,{hash:{},inverse:g.noop,fn:g.program(4,s,t)})),(r||0===r)&&(a+=r),a+="\n  "}function s(e,t){var r,i,a="";return a+="\n      ",i=n.isRealNumber,r=i?i.call(e,e,{hash:{},inverse:g.noop,fn:g.program(5,l,t)}):f.call(e,"isRealNumber",e,{hash:{},inverse:g.noop,fn:g.program(5,l,t)}),(r||0===r)&&(a+=r),a+="\n    "}function l(e){var t="";return t+="<span>",e=typeof e===p?e():e,t+=h(e)+"</span>"}n=n||e.helpers;var c,u,d="",p="function",h=this.escapeExpression,g=this,f=n.helperMissing,m=n.blockHelperMissing;return d+='<a class="velocity',c=t.velocity,c=null==c||c===!1?c:c.overridden_velocity,c=n["if"].call(t,c,{hash:{},inverse:g.noop,fn:g.program(1,a,i)}),(c||0===c)&&(d+=c),d+='" title="Velocity" data-project-id="',u=n.id,u?c=u.call(t,{hash:{}}):(c=t.id,c=typeof c===p?c():c),d+=h(c)+'">\n  ',u=n.velocity,u?c=u.call(t,{hash:{},inverse:g.noop,fn:g.program(3,o,i)}):(c=t.velocity,c=typeof c===p?c():c),n.velocity||(c=m.call(t,c,{hash:{},inverse:g.noop,fn:g.program(3,o,i)})),(c||0===c)&&(d+=c),d+="\n</a>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/projects/_members"]=function(){Handlebars.registerPartial("_next_projects_members",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='href="/projects/',r=n.id,r?t=r.call(e,{hash:{}}):(t=e.id,t=typeof t===c?t():t),i+=u(t)+'/memberships" '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this;return l+="<a ",o=t.is_guest,o=n.unless.call(t,o,{hash:{},inverse:d.noop,fn:d.program(1,a,i)}),(o||0===o)&&(l+=o),l+=' class="members" title="',o=t.active_memberships,o=null==o||o===!1?o:o.length,o=typeof o===c?o():o,l+=u(o)+' project members" data-project-id="',s=n.id,s?o=s.call(t,{hash:{}}):(o=t.id,o=typeof o===c?o():o),l+=u(o)+'">\n  <span>',o=t.active_memberships,o=null==o||o===!1?o:o.length,o=typeof o===c?o():o,l+=u(o)+"</span>\n</a>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/project_color/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/project_color/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+='\n      <input id="project_color_',r=t.index,r=typeof r===u?r():r,a+=d(r)+'" type="radio" name="project_color" value="',i=n.color,i?r=i.call(e,{hash:{},data:t}):(r=e.color,r=typeof r===u?r():r),a+=d(r)+'"',r=e.checked,r=n["if"].call(e,r,{hash:{},inverse:p.noop,fn:p.program(2,o,t),data:t}),(r||0===r)&&(a+=r),a+='>\n      <label for="project_color_',r=t.index,r=typeof r===u?r():r,a+=d(r)+'" class="',i=n.name,i?r=i.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===u?r():r),a+=d(r)+' color" style="background-color: #',i=n.color,i?r=i.call(e,{hash:{},data:t}):(r=e.color,r=typeof r===u?r():r),a+=d(r)+'" title="',r=e.name,i=n.humanize,r=i?i.call(e,r,{hash:{},data:t}):h.call(e,"humanize",r,{hash:{},data:t}),a+=d(r)+'"></label>\n    '}function o(){return" checked"}n=n||e.helpers,i=i||{};var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.helperMissing,g=n.blockHelperMissing;return c+='<header class="title">\n  <h2>project color</h2>\n</header>\n<article class="content">\n  <form>\n    ',l=n.colors,l?s=l.call(t,{hash:{},inverse:p.noop,fn:p.program(1,a,i),data:i}):(s=t.colors,s=typeof s===u?s():s),n.colors||(s=g.call(t,s,{hash:{},inverse:p.noop,fn:p.program(1,a,i),data:i})),(s||0===s)&&(c+=s),c+="\n  </form>\n</article>\n"}),this.HandlebarsTemplates["next/lightboxes/project_color/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.helpers.view,i=n.View.extend({__name__:"LightboxesProjectColor",className:"lightbox top project_color",template:"templates/next/lightboxes/project_color/show",initialize:_.wrap(n.View.prototype.initialize,function(e,n){function i(e){var n=$(e.currentTarget).serializeObject(),r=t.Person.current().membership(o);mixpanel.track("/color/select",{old_color:r.get("project_color"),new_color:n.project_color}),r.set(n),r.save({},{attrs:n}),a.$trigger("close.lightbox")}e.apply(this,_.rest(arguments)),n=n||{};var a=this,o=this.model;this._target=n.target,this.delegateEvents({"submit form":[r.preventDefault,i],"change :radio":t.helpers.view.submitClosestForm()})}),render:function(){var e=this._target,n=[{name:"magenta",color:"b800bb"},{name:"yellow",color:"ffc100"},{name:"green_apple",color:"71be00"},{name:"turquoise",color:"00a3d6"},{name:"red",color:"d82b00"},{name:"grape",color:"8100ea"},{name:"orange",color:"ce9f00"},{name:"swamp_green",color:"91a400"},{name:"ice_blue",color:"74a4d7"},{name:"peach",color:"e46642"},{name:"violet",color:"ba6eff"},{name:"pea_green",color:"6e7306"},{name:"tan",color:"908675"},{name:"aquamarine",color:"008c8d"},{name:"maroon",color:"ac3f65"},{name:"light_gray",color:"cccccc"},{name:"medium_gray",color:"818182"},{name:"dark_gray",color:"555555"},{name:"ocean_blue",color:"155f8b"},{name:"pink",color:"ee61f0"}];return _.extend(_.findWhere(n,{color:t.Person.current().projectColor(this.model)}),{checked:!0}),this.$el.html(JST[_.result(this,"template")]({colors:n})).position({my:"left top",at:"center bottom",of:e,offset:"-16 2"}),this}});_.namespace(t,"views.lightboxes").ProjectColor=i}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/project_settings/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/project_settings/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return'\n      <span class="disabled">View Settings</span>\n    '
}function o(e,t){var r,i="";return i+='\n      <a href="/projects/',r=e.project,r=null==r||r===!1?r:r.id,r=typeof r===w?r():r,i+=T(r)+'/settings">',r=e.person,r=null==r||r===!1?r:r.is_owner,r=n["if"].call(e,r,{hash:{},inverse:A.program(6,l,t),fn:A.program(4,s,t)}),(r||0===r)&&(i+=r),i+=" Settings</a>\n    "}function s(){return"Edit"}function l(){return"View"}function c(){return'\n      <span class="disabled">View Members</span>\n    '}function u(e,t){var r,i="";return i+='\n      <a href="/projects/',r=e.project,r=null==r||r===!1?r:r.id,r=typeof r===w?r():r,i+=T(r)+'/memberships">',r=e.person,r=null==r||r===!1?r:r.is_owner,r=n["if"].call(e,r,{hash:{},inverse:A.program(13,p,t),fn:A.program(11,d,t)}),(r||0===r)&&(i+=r),i+=" Members</a>\n    "}function d(){return"Add/Remove"}function p(){return"View"}function h(){return'\n      <span class="disabled">Run Reports</span>\n    '}function g(e){var t,n="";return n+='\n      <a href="/projects/',t=e.project,t=null==t||t===!1?t:t.id,t=typeof t===w?t():t,n+=T(t)+'/reports">run reports</a>\n    '}function f(e){var t,n="";return n+='\n      <a href="/projects/',t=e.project,t=null==t||t===!1?t:t.id,t=typeof t===w?t():t,n+=T(t)+'/integrations">Configure Integrations</a>\n    '}function m(){return'\n      <span class="disabled">Configure Integrations</span>\n    '}function _(){return'\n      <span class="disabled">Import CSV</span>\n    '}function v(e,t){var r,i="";return i+="\n      ",r=e.person,r=null==r||r===!1?r:r.is_guest,r=n["if"].call(e,r,{hash:{},inverse:A.program(28,b,t),fn:A.program(26,y,t)}),(r||0===r)&&(i+=r),i+="\n    "}function y(){return'\n        <span class="disabled">Import CSV</span>\n      '}function b(e){var t,n="";return n+='\n        <a href="/projects/',t=e.project,t=null==t||t===!1?t:t.id,t=typeof t===w?t():t,n+=T(t)+'/import">Import CSV</a>\n      '}n=n||e.helpers;var E,S="",w="function",T=this.escapeExpression,A=this;return S+="<ul>\n  <li>\n    ",E=t.person,E=null==E||E===!1?E:E.is_guest,E=n["if"].call(t,E,{hash:{},inverse:A.program(3,o,i),fn:A.program(1,a,i)}),(E||0===E)&&(S+=E),S+="\n  </li>\n  <li>\n    ",E=t.person,E=null==E||E===!1?E:E.is_guest,E=n["if"].call(t,E,{hash:{},inverse:A.program(10,u,i),fn:A.program(8,c,i)}),(E||0===E)&&(S+=E),S+="\n  </li>\n  <li>\n    ",E=t.person,E=null==E||E===!1?E:E.is_guest,E=n["if"].call(t,E,{hash:{},inverse:A.program(17,g,i),fn:A.program(15,h,i)}),(E||0===E)&&(S+=E),S+="\n  </li>\n  <li>\n    ",E=t.person,E=null==E||E===!1?E:E.is_owner,E=n["if"].call(t,E,{hash:{},inverse:A.program(21,m,i),fn:A.program(19,f,i)}),(E||0===E)&&(S+=E),S+='\n  </li>\n  <li><a href="/projects/',E=t.project,E=null==E||E===!1?E:E.id,E=typeof E===w?E():E,S+=T(E)+'/export">Export CSV</a></li>\n  <li>\n    ',E=t.person,E=null==E||E===!1?E:E.is_read_only,E=n["if"].call(t,E,{hash:{},inverse:A.program(25,v,i),fn:A.program(23,_,i)}),(E||0===E)&&(S+=E),S+="\n  </li>\n</ul>\n"}),this.HandlebarsTemplates["next/lightboxes/project_settings/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.View.extend({__name__:"LightboxesProjectSettings",className:"lightbox top project_settings",template:"templates/next/lightboxes/project_settings/show",initialize:_.wrap(n.View.prototype.initialize,function(e,t){e.apply(this,_.rest(arguments)),this._target=(t||{}).target}),render:function(){var e=this.model,n=this._target,r={project:{id:e.id},person:t.Person.current().decorator().toJSON({project:e})};return this.$el.html(JST[_.result(this,"template")](r)).position({my:"left top",at:"left bottom",of:n,offset:"10 0"}),this}});_.namespace(t,"views.lightboxes").ProjectSettings=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/other_panels/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/other_panels/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n  <ul>\n    ",i=n.other_panels,i?r=i.call(e,{hash:{},inverse:_.noop,fn:_.program(2,o,t),data:t}):(r=e.other_panels,r=typeof r===g?r():r),n.other_panels||(r=v.call(e,r,{hash:{},inverse:_.noop,fn:_.program(2,o,t),data:t})),(r||0===r)&&(a+=r),a+="\n  </ul>\n"}function o(e,t){var r,i,a="";return a+='\n      <li>\n        <input type="hidden" name="panels[',r=t.index,r=typeof r===g?r():r,a+=f(r)+'][id]" value="',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===g?r():r),a+=f(r)+'">\n        <input type="hidden" name="panels[',r=t.index,r=typeof r===g?r():r,a+=f(r)+'][type]" value="',i=n.type,i?r=i.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===g?r():r),a+=f(r)+'">\n        ',r=e.integration_id,r=n["if"].call(e,r,{hash:{},inverse:_.noop,fn:_.program(3,s,t),data:t}),(r||0===r)&&(a+=r),a+='\n        <input type="hidden" name="panels[',r=t.index,r=typeof r===g?r():r,a+=f(r)+'][visible]" value="false" data-type="boolean">\n        <input id="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===g?r():r),a+=f(r)+'" type="checkbox" name="panels[',r=t.index,r=typeof r===g?r():r,a+=f(r)+'][visible]" value="true" data-type="boolean" ',r=e.visible,r=n["if"].call(e,r,{hash:{},inverse:_.noop,fn:_.program(5,l,t),data:t}),(r||0===r)&&(a+=r),a+='>\n        <label for="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===g?r():r),a+=f(r)+'" class="',r=e.type,i=n.parameterize,r=i?i.call(e,r,{hash:{},data:t}):m.call(e,"parameterize",r,{hash:{},data:t}),a+=f(r)+'" id="sidebar_panel_label_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===g?r():r),a+=f(r)+"_",i=n.cid,i?r=i.call(e,{hash:{},data:t}):(r=e.cid,r=typeof r===g?r():r),a+=f(r)+'">\n          ',r=e.is_backlog,r=n["if"].call(e,r,{hash:{},inverse:_.program(9,u,t),fn:_.program(7,c,t),data:t}),(r||0===r)&&(a+=r),a+="\n        </label>\n      </li>\n    "}function s(e,t){var r,i,a="";return a+='\n          <input type="hidden" name="panels[',r=t.index,r=typeof r===g?r():r,a+=f(r)+'][integration_id]" value="',i=n.integration_id,i?r=i.call(e,{hash:{},data:t}):(r=e.integration_id,r=typeof r===g?r():r),a+=f(r)+'" data-type="number">\n        '}function l(){return"checked"}function c(){return'\n            <span class="panel_name"><span class="backlog">backlog</span><span class="current_backlog">current/backlog</span></span>\n          '}function u(e,t){var r,i,a="";return a+='\n            <span class="panel_name">',r=e.name,i=n.humanize,r=i?i.call(e,r,{hash:{},data:t}):m.call(e,"humanize",r,{hash:{},data:t}),a+=f(r)+"</span>\n          "}n=n||e.helpers,i=i||{};var d,p,h="",g="function",f=this.escapeExpression,m=n.helperMissing,_=this,v=n.blockHelperMissing;return p=n.formTag,p?d=p.call(t,{hash:{},inverse:_.noop,fn:_.program(1,a,i),data:i}):(d=t.formTag,d=typeof d===g?d():d),n.formTag||(d=v.call(t,d,{hash:{},inverse:_.noop,fn:_.program(1,a,i),data:i})),(d||0===d)&&(h+=d),h+="\n"}),this.HandlebarsTemplates["next/lightboxes/other_panels/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=t.helpers.view,i=n.View.extend({__name__:"LightboxesOtherPanels",className:"lightbox other_panels left",template:"templates/next/lightboxes/other_panels/show",initialize:_.wrap(n.View.prototype.initialize,function(e,n){function i(e){$(e.currentTarget).closest("form").submit()}function a(e){var n=_.toArray($(e.currentTarget).serializeObject().panels),r=t.Person.current().panels();_.each(n,function(e){if(e.visible)r.open(e,{project:l});else{var t=r.get(e.id);t&&t.close(r)}})}function o(){s.$trigger("close.lightbox")}e.apply(this,_.rest(arguments));var s=this,l=s.model;this._target=n.target,s.delegateEvents({"change :checkbox":i,"submit form":[r.preventDefault,a,o]})}),render:function(){return this.$el.html(JST[_.result(this,"template")](this.model.decorator().toJSON())).position({my:"left top",at:"right center",of:this._target,offset:"0 -25",collision:"none classyFlip"}).addClass(t.Layout.current().get("sidebar_display")),this}});_.namespace(t,"views.lightboxes").OtherPanels=i}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/project_integrations/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/project_integrations/show"]=Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n  <ul>\n    ",i=n.integration_panels,i?r=i.call(e,{hash:{},inverse:f.noop,fn:f.program(2,o,t),data:t}):(r=e.integration_panels,r=typeof r===h?r():r),n.integration_panels||(r=_.call(e,r,{hash:{},inverse:f.noop,fn:f.program(2,o,t),data:t})),(r||0===r)&&(a+=r),a+="\n  </ul>\n"}function o(e,t){var r,i,a="";return a+='\n      <li>\n        <input type="hidden" name="panels[',r=t.index,r=typeof r===h?r():r,a+=g(r)+'][id]" value="',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===h?r():r),a+=g(r)+'">\n        <input type="hidden" name="panels[',r=t.index,r=typeof r===h?r():r,a+=g(r)+'][type]" value="',i=n.type,i?r=i.call(e,{hash:{},data:t}):(r=e.type,r=typeof r===h?r():r),a+=g(r)+'">\n        <input type="hidden" name="panels[',r=t.index,r=typeof r===h?r():r,a+=g(r)+'][integration_id]" value="',i=n.integration_id,i?r=i.call(e,{hash:{},data:t}):(r=e.integration_id,r=typeof r===h?r():r),a+=g(r)+'" data-type="number">\n        <input type="hidden" name="panels[',r=t.index,r=typeof r===h?r():r,a+=g(r)+'][visible]" value="false" data-type="boolean">\n        <input id="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===h?r():r),a+=g(r)+'" type="checkbox" name="panels[',r=t.index,r=typeof r===h?r():r,a+=g(r)+'][visible]" value="true" data-type="boolean" ',r=e.visible,r=n["if"].call(e,r,{hash:{},inverse:f.noop,fn:f.program(3,s,t),data:t}),(r||0===r)&&(a+=r),a+='>\n        <label for="sidebar_panel_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===h?r():r),a+=g(r)+'" class="',r=e.type,i=n.parameterize,r=i?i.call(e,r,{hash:{},data:t}):m.call(e,"parameterize",r,{hash:{},data:t}),a+=g(r)+'" id="sidebar_panel_label_',i=n.id,i?r=i.call(e,{hash:{},data:t}):(r=e.id,r=typeof r===h?r():r),a+=g(r)+"_",i=n.cid,i?r=i.call(e,{hash:{},data:t}):(r=e.cid,r=typeof r===h?r():r),a+=g(r)+'">\n          ',r=e.is_backlog,r=n["if"].call(e,r,{hash:{},inverse:f.program(7,c,t),fn:f.program(5,l,t),data:t}),(r||0===r)&&(a+=r),a+="\n        </label>\n      </li>\n    "}function s(){return"checked"}function l(){return'\n            <span class="panel_name"><span class="backlog">backlog</span><span class="current_backlog">current/backlog</span></span>\n          '}function c(e,t){var r,i,a="";return a+='\n            <span class="panel_name">',i=n.name,i?r=i.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===h?r():r),a+=g(r)+"</span>\n          "}n=n||e.helpers,i=i||{};var u,d,p="",h="function",g=this.escapeExpression,f=this,m=n.helperMissing,_=n.blockHelperMissing;return d=n.formTag,d?u=d.call(t,{hash:{},inverse:f.noop,fn:f.program(1,a,i),data:i}):(u=t.formTag,u=typeof u===h?u():u),n.formTag||(u=_.call(t,u,{hash:{},inverse:f.noop,fn:f.program(1,a,i),data:i})),(u||0===u)&&(p+=u),p+="\n"}),this.HandlebarsTemplates["next/lightboxes/project_integrations/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(_.namespace(e,"next"),t.views.lightboxes.OtherPanels.extend({__name__:"LightboxesProjectIntegrations",className:"lightbox project_integrations left",template:"templates/next/lightboxes/project_integrations/show"}));_.namespace(t,"views.lightboxes").ProjectIntegrations=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=(t.helpers.panels,n.View.extend({__name__:"ProjectsSidebarShow",className:"sidebar_wrapper",events:{"click .project_color":"handleColor_","click .settings":"handleSettings_","click .integrations":"handleIntegrations_"},initialize:function(e){this.person_=t.Person.current(),this.panels_=this.person_.panels(),this.panelsViewport_=e.panelsViewport,this.membership_=this.person_.membership(this.model),this.velocity_=this.model.velocity(),this.layoutScheme_=this.person_.layoutScheme(),this.views().addView(new n.views.projects.Show({el:this.el,model:this.model})),this.listenTo(this.velocity_,"change",this.render),this.listenTo(this.model.stories(),"add remove change",this.updateCounter_),this.listenTo(this.panels_,"add remove change:visible itemCountChanged",this.render),this.listenTo(this.layoutScheme_,"change:width_mode",this.render),this.listenTo(this.layoutScheme_.favoriteSearches(),"add remove sync",this.render),this.listenTo(this.layoutScheme_.favoriteEpics(),"add remove",this.render),this.membership_&&this.listenTo(this.membership_,"change:project_color",this.render);var r=this;this.model.ready().then(function(){r.views().addView(new n.views.sidebar.Show({el:r.el,panelsViewport:r.panelsViewport_})),r.render()})},render:function(){this.$trigger("prerender");var e=new n.projects.SidebarDecorator({}).toJSON(),t=JST["templates/next/projects/sidebar/show"](e);return this.html(t),this.$trigger("postrender"),this},openLightbox_:function(e,n){(new t.LightboxesController).create(n,{model:this.model,target:e.currentTarget})},handleColor_:function(e){e.preventDefault(),this.membership_&&this.openLightbox_(e,"project_color")},handleSettings_:function(e){e.preventDefault(),this.openLightbox_(e,"project_settings")},handleIntegrations_:function(e){e.preventDefault(),this.openLightbox_(e,"project_integrations")},updateCounter_:function(){var e=this.model.stories().scope().work(this.person_).value().length;this.el.querySelector(".my_work .counter").textContent=e}}));_.namespace(n,"views.projects.sidebar").Show=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n={cloneStory:function(e,n){var r=_.extend(e.pick("name","description","story_type"),{requested_by_id:n.id,current_state:"unscheduled",tasks:e.tasks().invoke("pick","description"),labels:_.pluck(e.labels().models,"cid")}),i=new t.Story(r,{project:e.project()});return i.save(),i}};_.namespace(t,"stories").Service=n}.call(this),function(){"use strict";function e(e,t,r){r=r||{};var i=r.expandModelId,a=r.expandModelType;a&&i&&e.ready().then(function(){var o="story"===a&&e.stories().get(i)||"epic"===a&&e.epics().get(i);o?n.panels.Service.revealModel(t,o,{expand:!0,flash:r.flashModel,scrollTo:r.flashModel}):n.pastDoneStories.fetch(e).done(function(){var o="story"===a&&e.stories().get(i)||"epic"===a&&e.epics().get(i);n.panels.Service.revealModel(t,o,{expand:!0,flash:r.flashModel,scrollTo:r.flashModel})}),Backbone.history.navigate("/projects/"+e.id,{replace:!0})})}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next"),i=r.Controller.extend({__name__:"PanelsController",index:function(i,a){var o=this,s=n.Person.current(),l=i instanceof n.Project,c=s.panels(),u=n.Statuses.get("panels_controller"),d=new n.Model({}),p=new r.views.panels.Sync({el:this.el,collection:c}),h=new n.views.panels.Edit({$delegate:this.$el}),g=new r.views[l?"projects":"workspaces"].sidebar.Show({model:i,delegate:this.el,panelsViewport:d});this.views().removeView(),this.views().addView(p).addView(h).addView(new r.views.panels.Auxiliary({el:this.el})).addView(new r.views.panels.Scroll({promise:i.ready()})).addView("aside.sidebar",g).pick(g,h).attach().render(),i.ready().then(function(){var e=new n.views.panels.Index({collection:c,statuses:u,panelsViewport:d});o.views().addView(new r.views.panels.Notifications({collection:c,el:o.el})).addView("section.panels",e).addView(new r.views.panels.DragDrop({el:e.el,collection:c})).addView(new n.views.panels.Labels({el:e.el,model:i})).addView(new n.views.panels.items.DragDrop({el:e.el,collection:c})).pick(e).attach().render();var t=$(e.el).parent();o.views().addView(new n.views.Window({el:window,model:d,panelsContainer:t}))}),t.goog.labs.userAgent.browser.isIE()||this.views().addView(new n.views.WarnBeforeLeaving({panels:c})),l&&e(i,c,a)}});r.PanelsController=i}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.Decorator.extend({model:tracker.Workspace,toJSON:function(){return _.extend(this.toJSON(),{cid:this.cid,projects:this.projects().decorator().toJSON(),membership_options:tracker.Person.current().memberships().chain().sortBy(function(e){return e.get("project_name").toLowerCase()}).map(function(e){return{text:e.get("project_name"),value:e.get("project_id")}}).value()})}});t.WorkspaceDecorator=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.Decorator.extend({toJSON:function(){var e=this.workspace,n=t.Person.current(),r=n.panels(),i=r.get("my_work")||new t.Panel({type:"my_work",visible:!1},{workspace:e}),a=[i],o=_.map(a,function(r){var i=new t.PanelDecorator(r).toJSON();if("my_work"===i.type){var a=_.reduce(e.projects().models,function(e,t){return e+t.stories().scope().work(n).value().length},0);i.counter=a,i.workspace_id=e.id}return i});return{userPanels:o,width_mode:n.layoutScheme().get("width_mode"),width_mode_is_auto:"auto"===n.layoutScheme().get("width_mode"),workspace:e.decorator().toJSON(),layout:t.Layout.current().decorator().toJSON(),is_story_addable:!n.isReadOnly(e.projects().first())}}});_.namespace(n,"workspaces").SidebarDecorator=r}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/projects/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/projects/show"]=Handlebars.template(function(e,t,n,r){n=n||e.helpers,r=r||e.partials;var i,a="",o=this;return i=t,i=o.invokePartial(r._next_projects_show,"_next_projects_show",i,n,r),(i||0===i)&&(a+=i),a+="\n"}),this.HandlebarsTemplates["next/projects/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.View.extend({__name__:"ProjectsShow",initialize:_.wrap(t.View.prototype.initialize,function(e,t){_.defaults(t,{templatePath:"templates/next/projects/show"}),this.options=t,e.call(this,t),_.bindAll(this,"render");var n=this.model;this.delegateEvents([n,{change:this.render}],[n.velocity(),{change:this.render}])}),render:function(){var e=this.model,t=e.decorator().toJSON(),n=JST[this.options.templatePath](t);return this.$("."+e.cid).html(n),this},remove:function(){return this.views().remove(),this.undelegateEvents(),this}});_.namespace(t,"views.projects").Show=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/sidebar/_footer_disabled"]=function(){Handlebars.registerPartial("_next_sidebar_footer_disabled",Handlebars.template(function(e,t,n,r,i){function a(e){var t,n="";return n+='\n    <a class="narrow" title="Decrease Panel Width">decrease panel width</a>\n    <a class="wide" title="Increase Panel Width">increase panel width</a>\n    <input type="range" name="layout[panel_width]" class="range layout_panel_width disabled" min="320" max="1000" value="',t=e.layout,t=null==t||t===!1?t:t.panel_width,t=typeof t===c?t():t,n+=u(t)+'" data-type="number" disabled="disabled">\n  '}n=n||e.helpers;var o,s,l="",c="function",u=this.escapeExpression,d=this,p=n.helperMissing;return l+='<div class="disabled">\n  <a class="width_mode" title="Panel Width: Auto">auto</a>\n  <a class="fit_all disabled" title="Fit Panels to Browser (or double click on panel headers)">fit all</a>\n  ',o={},o.id="form_layout",s=n.formTag,o=s?s.call(t,{hash:o,inverse:d.noop,fn:d.program(1,a,i)}):p.call(t,"formTag",{hash:o,inverse:d.noop,fn:d.program(1,a,i)}),(o||0===o)&&(l+=o),l+="\n</div>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/workspaces/sidebar/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/workspaces/sidebar/show"]=Handlebars.template(function(e,t,n,r,i){function a(){return" editing"}function o(e,t){var r,i,a="";return a+='\n    <section class="help">\n      <header>Manage Workspace</header>\n      <p>Add/remove projects from your workspace to search for stories across multiple projects, view backlogs side-by-side, etc.</p>\n    </section>\n    <section class="add_projects">\n      ',r=e.workspace,r=null==r||r===!1?r:r.membership_options,r=n["if"].call(e,r,{hash:{},inverse:x.program(8,u,t),fn:x.program(4,s,t)}),(r||0===r)&&(a+=r),a+='\n      <ul class="edit_projects">\n        ',i=n.draft_projects,i?r=i.call(e,{hash:{},inverse:x.noop,fn:x.program(10,d,t)}):(r=e.draft_projects,r=typeof r===D?r():r),n.draft_projects||(r=k.call(e,r,{hash:{},inverse:x.noop,fn:x.program(10,d,t)})),(r||0===r)&&(a+=r),a+="\n      </ul>\n    </section>\n  "}function s(e,t){var r,i,a="";return a+="\n        ",i=n.formTag,i?r=i.call(e,{hash:{},inverse:x.noop,fn:x.program(5,l,t)}):(r=e.formTag,r=typeof r===D?r():r),n.formTag||(r=k.call(e,r,{hash:{},inverse:x.noop,fn:x.program(5,l,t)})),(r||0===r)&&(a+=r),a+="\n      "}function l(e,t){var r,i,a,o="";return o+="\n          ",r={},i=e.workspace,i=null==i||i===!1?i:i.membership_options,r.options=i,r.name="project",r.text="text",r.value="value",r["class"]="add_workspace_project",a=n.dropdown,r=a?a.call(e,{hash:r,inverse:x.noop,fn:x.program(6,c,t)}):M.call(e,"dropdown",{hash:r,inverse:x.noop,fn:x.program(6,c,t)}),(r||0===r)&&(o+=r),o+="\n        "}function c(){return"choose project to add"}function u(){return'\n        <section class="all_projects_added">There are no projects to add.</section>\n      '}function d(e){var t,i="";return i+="\n          ",t=e,t=x.invokePartial(r._next_workspaces_projects_edit,"_next_workspaces_projects_edit",t,n,r),(t||0===t)&&(i+=t),i+="\n        "}function p(e,t){var i,a,o="";return o+='\n    <section class="workspace">\n      <ul class="items settings_area">\n        ',i=e.workspace,i=null==i||i===!1?i:i.edit,i=n.unless.call(e,i,{hash:{},inverse:x.noop,fn:x.program(13,h,t)}),(i||0===i)&&(o+=i),o+='\n      </ul>\n    </section>\n    <section class="current_user">\n      ',i=e,i=x.invokePartial(r._next_sidebar_user_panels,"_next_sidebar_user_panels",i,n,r),(i||0===i)&&(o+=i),o+="\n    </section>\n    ",a=n.workspace,a?i=a.call(e,{hash:{},inverse:x.noop,fn:x.program(16,f,t)}):(i=e.workspace,i=typeof i===D?i():i),n.workspace||(i=k.call(e,i,{hash:{},inverse:x.noop,fn:x.program(16,f,t)})),(i||0===i)&&(o+=i),o+="\n  "}function h(e,t){var r,i,a="";return a+='\n          <li class="workspace actions item">\n            <span class="" title="Projects count">\n              <a class="count edit_workspace" id="workspace_add_remove">',r=e.workspace,r=null==r||r===!1?r:r.projects,i=n._count,r=i?i.call(e,r,{hash:{}}):M.call(e,"_count",r,{hash:{}}),a+=O(r)+'</a>\n            </span>\n            <span class="settings control">\n              <a class="anchor" id="workspace_settings" title="Workspace Settings"></a>\n            </span>\n            <span class="story_density_mode control">\n              <a class="anchor" title="Story Density Mode"></a>\n            </span>\n          </li>\n          ',r=e.is_story_addable,r=n["if"].call(e,r,{hash:{},inverse:x.noop,fn:x.program(14,g,t)}),(r||0===r)&&(a+=r),a+="\n        "}function g(){return'\n            <li class="item">\n              <a class="button add_story"><span>Add Story</span></a>\n            </li>\n          '}function f(e,t){var r,i,a="";return a+='\n      <section class="projects">\n        <ul>\n          ',i=n.projects,i?r=i.call(e,{hash:{},inverse:x.noop,fn:x.program(17,m,t)}):(r=e.projects,r=typeof r===D?r():r),n.projects||(r=k.call(e,r,{hash:{},inverse:x.noop,fn:x.program(17,m,t)})),(r||0===r)&&(a+=r),a+="\n        </ul>\n      </section>\n      ",r=e.project_ids,i=n.isEmpty,r=i?i.call(e,r,{hash:{},inverse:x.noop,fn:x.program(19,_,t)}):M.call(e,"isEmpty",r,{hash:{},inverse:x.noop,fn:x.program(19,_,t)}),(r||0===r)&&(a+=r),a+="\n    "}function m(e){var t,i,a="";return a+='\n            <li class="project ',i=n.cid,i?t=i.call(e,{hash:{}}):(t=e.cid,t=typeof t===D?t():t),a+=O(t)+'">\n              ',t=e,t=x.invokePartial(r._next_workspaces_sidebar_projects_show,"_next_workspaces_sidebar_projects_show",t,n,r),(t||0===t)&&(a+=t),a+="\n            </li>\n          "}function _(e,t){var r,i,a="";return a+='\n          <section class="new_workspace">\n            <p>No projects have been<br/> added to this workspace.</p>\n            <p>Add existing projects to your workspace via <em></em> or the button below.</p>\n            <p>\n              ',r={},r["class"]="workspace",i=n.formTag,r=i?i.call(e,{hash:r,inverse:x.noop,fn:x.program(20,v,t)}):M.call(e,"formTag",{hash:r,inverse:x.noop,fn:x.program(20,v,t)}),(r||0===r)&&(a+=r),a+="\n            </p>\n          </section>\n      "}function v(){return'\n                <input type="hidden" name="workspace[edit]" value="true" data-type="boolean">\n                <button type="submit"><span>add projects</span></button>\n              '}function y(e,t){var r,i,a="";return a+='\n  <section class="save_workspace">\n    <ul class="items">\n      <li class="workspace edit item">\n        ',r={},r["class"]="workspace",i=n.formTag,r=i?i.call(e,{hash:r,inverse:x.noop,fn:x.program(23,b,t)}):M.call(e,"formTag",{hash:r,inverse:x.noop,fn:x.program(23,b,t)}),(r||0===r)&&(a+=r),a+="\n        ",r={},r["class"]="save_workspace",i=n.formTag,r=i?i.call(e,{hash:r,inverse:x.noop,fn:x.program(25,E,t)}):M.call(e,"formTag",{hash:r,inverse:x.noop,fn:x.program(25,E,t)}),(r||0===r)&&(a+=r),a+="\n      </li>\n    </ul>\n  </section>\n"}function b(){return'\n          <input type="hidden" name="workspace[edit]" value="false" data-type="boolean">\n          <button type="submit" id="cancel_workspace_button" class="cancel">cancel</button>\n        '}function E(){return'\n          <button type="button" id="save_workspace_button" class="save">save workspace changes</button>\n        '}function S(e){var t,i="";return i+="\n    ",t=e,t=x.invokePartial(r._next_sidebar_footer_disabled,"_next_sidebar_footer_disabled",t,n,r),(t||0===t)&&(i+=t),i+="\n  "}function w(e){var t,i="";return i+="\n    ",t=e,t=x.invokePartial(r._next_sidebar_footer,"_next_sidebar_footer",t,n,r),(t||0===t)&&(i+=t),i+="\n  "}n=n||e.helpers,r=r||e.partials;var T,A="",x=this,M=n.helperMissing,D="function",k=n.blockHelperMissing,O=this.escapeExpression;return A+='<header class="sidebar_header">\n  ',T=t,T=x.invokePartial(r._next_sidebar_toggler,"_next_sidebar_toggler",T,n,r),(T||0===T)&&(A+=T),A+='\n</header>\n<section class="sidebar_content scrollable',T=t.workspace,T=null==T||T===!1?T:T.edit,T=n["if"].call(t,T,{hash:{},inverse:x.noop,fn:x.program(1,a,i)}),(T||0===T)&&(A+=T),A+='">\n  ',T=t.workspace,T=null==T||T===!1?T:T.edit,T=n["if"].call(t,T,{hash:{},inverse:x.program(12,p,i),fn:x.program(3,o,i)}),(T||0===T)&&(A+=T),A+="\n</section>\n",T=t.workspace,T=null==T||T===!1?T:T.edit,T=n["if"].call(t,T,{hash:{},inverse:x.noop,fn:x.program(22,y,i)}),(T||0===T)&&(A+=T),A+='\n<footer class="sidebar_footer">\n  ',T=t.width_mode_is_auto,T=n["if"].call(t,T,{hash:{},inverse:x.program(29,w,i),fn:x.program(27,S,i)}),(T||0===T)&&(A+=T),A+="\n</footer>\n"}),this.HandlebarsTemplates["next/workspaces/sidebar/show"]}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/workspaces/projects/_edit"]=function(){Handlebars.registerPartial("_next_workspaces_projects_edit",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<li class="edit_project droppable" data-id="',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+'">\n  <a class="project_color" style="background-color: #',i=n.project_color,i?r=i.call(t,{hash:{}}):(r=t.project_color,r=typeof r===o?r():r),a+=s(r)+'"></a>\n  <a id="move_project_',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+'" class="move handle" title="Move project"></a>\n  <a id="delete_project_',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+'" class="delete" title="Remove project"></a>\n  <span class="name"><span>',i=n.name,i?r=i.call(t,{hash:{}}):(r=t.name,r=typeof r===o?r():r),a+=s(r)+"</span></span>\n</li>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/workspaces/projects/_show"]=function(){Handlebars.registerPartial("_next_workspaces_projects_show",Handlebars.template(function(e,t,n,r,i){function a(e){var t,r,i="";return i+='\n      <a class="readonly" title="',r=n.read_only_title,r?t=r.call(e,{hash:{}}):(t=e.read_only_title,t=typeof t===u?t():t),i+=d(t)+'"></a>\n    '}function o(e){var t,i="";return i+="\n      ",t=e,t=p.invokePartial(r._next_projects_velocity,"_next_projects_velocity",t,n,r),(t||0===t)&&(i+=t),i+="\n    "}n=n||e.helpers,r=r||e.partials;var s,l,c="",u="function",d=this.escapeExpression,p=this,h=n.helperMissing;return c+='<header style="border-top-color: #',l=n.project_color,l?s=l.call(t,{hash:{}}):(s=t.project_color,s=typeof s===u?s():s),c+=d(s)+'">\n  <div class="fixed">\n    ',s=t.is_read_only,s=n["if"].call(t,s,{hash:{},inverse:p.program(3,o,i),fn:p.program(1,a,i)}),(s||0===s)&&(c+=s),c+='\n    <span class="name">\n      <a href="',l=n.url,l?s=l.call(t,{hash:{}}):(s=t.url,s=typeof s===u?s():s),c+=d(s)+'" target="_blank">\n        <span class="acronym">',s=t.name,l=n.toAcronym,s=l?l.call(t,s,{hash:{}}):h.call(t,"toAcronym",s,{hash:{}}),c+=d(s)+'</span>\n        <span class="full">',l=n.name,l?s=l.call(t,{hash:{}}):(s=t.name,s=typeof s===u?s():s),c+=d(s)+"</span>\n      </a>\n    </span>\n  </div>\n</header>\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/workspaces/_other_panels"]=function(){Handlebars.registerPartial("_next_workspaces_other_panels",Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<ul>\n  <li class="item other_panels">\n    <a id="other_panels_',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+'" class="other_panels" data-project-id="',i=n.id,i?r=i.call(t,{hash:{}}):(r=t.id,r=typeof r===o?r():r),a+=s(r)+'"><span>other panels</span></a>\n  </li>\n</ul>\n'}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/workspaces/sidebar/projects/_show"]=function(){Handlebars.registerPartial("_next_workspaces_sidebar_projects_show",Handlebars.template(function(e,t,n,r,i){function a(e,t){var r,i,a="";return a+="\n  ",r={},r["class"]="panels",i=n.formTag,r=i?i.call(e,{hash:r,inverse:_.noop,fn:_.program(2,o,t),data:t}):v.call(e,"formTag",{hash:r,inverse:_.noop,fn:_.program(2,o,t),data:t}),(r||0===r)&&(a+=r),a+="\n"}function o(e,t){var r,i,a="";return a+="\n    <ul ",r=e.is_split,r=n["if"].call(e,r,{hash:{},inverse:_.noop,fn:_.program(3,s,t),data:t}),(r||0===r)&&(a+=r),a+=">\n      ",i=n.panels,i?r=i.call(e,{hash:{},inverse:_.noop,fn:_.programWithDepth(l,t,e),data:t}):(r=e.panels,r=typeof r===f?r():r),n.panels||(r=y.call(e,r,{hash:{},inverse:_.noop,fn:_.programWithDepth(l,t,e),data:t})),(r||0===r)&&(a+=r),a+="\n    </ul>\n  "}function s(){return'class="split"'}function l(e,t,r){var i,a,o="";return o+='\n        <li class="item ',a=n.type,a?i=a.call(e,{hash:{},data:t}):(i=e.type,i=typeof i===f?i():i),o+=m(i)+" ",i=e.visible,i=n["if"].call(e,i,{hash:{},inverse:_.noop,fn:_.program(6,c,t),data:t}),(i||0===i)&&(o+=i),o+='">\n          <input type="hidden" name="panels[',i=t.index,i=typeof i===f?i():i,o+=m(i)+'][id]" value="',a=n.id,a?i=a.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===f?i():i),o+=m(i)+'">\n          <input type="hidden" name="panels[',i=t.index,i=typeof i===f?i():i,o+=m(i)+'][type]" value="',a=n.type,a?i=a.call(e,{hash:{},data:t}):(i=e.type,i=typeof i===f?i():i),o+=m(i)+'">\n          <input type="hidden" name="panels[',i=t.index,i=typeof i===f?i():i,o+=m(i)+'][visible]" value="false" data-type="boolean">\n          <input type="hidden" name="panels[',i=t.index,i=typeof i===f?i():i,o+=m(i)+'][dependencies][project_id]" value="',i=r.id,i=typeof i===f?i():i,o+=m(i)+'">\n          <input id="sidebar_panel_',a=n.id,a?i=a.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===f?i():i),o+=m(i)+'" type="checkbox" name="panels[',i=t.index,i=typeof i===f?i():i,o+=m(i)+'][visible]" value="true" data-type="boolean" ',i=e.visible,i=n["if"].call(e,i,{hash:{},inverse:_.noop,fn:_.program(8,u,t),data:t}),(i||0===i)&&(o+=i),o+='>\n          <label for="sidebar_panel_',a=n.id,a?i=a.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===f?i():i),o+=m(i)+'" class="',i=e.type,a=n.parameterize,i=a?a.call(e,i,{hash:{},data:t}):v.call(e,"parameterize",i,{hash:{},data:t}),o+=m(i)+'" id="sidebar_panel_label_',a=n.id,a?i=a.call(e,{hash:{},data:t}):(i=e.id,i=typeof i===f?i():i),o+=m(i)+"_",a=n.cid,a?i=a.call(e,{hash:{},data:t}):(i=e.cid,i=typeof i===f?i():i),o+=m(i)+'">\n            ',i=e.is_backlog,i=n["if"].call(e,i,{hash:{},inverse:_.program(12,p,t),fn:_.program(10,d,t),data:t}),(i||0===i)&&(o+=i),o+="\n          </label>\n        </li>\n      "
}function c(){return"visible"}function u(){return"checked"}function d(){return'\n              <span class="panel_name"><span class="backlog">backlog</span><span class="current_backlog">current/backlog</span></span>\n            '}function p(e,t){var r,i,a="";return a+='\n              <span class="panel_name">',i=n.name,i?r=i.call(e,{hash:{},data:t}):(r=e.name,r=typeof r===f?r():r),a+=m(r)+"</span>\n            "}n=n||e.helpers,r=r||e.partials,i=i||{};var h,g="",f="function",m=this.escapeExpression,_=this,v=n.helperMissing,y=n.blockHelperMissing;return h=t,h=_.invokePartial(r._next_workspaces_projects_show,"_next_workspaces_projects_show",h,n,r,i),(h||0===h)&&(g+=h),g+="\n\n",h=t.panels,h=n["if"].call(t,h,{hash:{},inverse:_.noop,fn:_.program(1,a,i),data:i}),(h||0===h)&&(g+=h),g+="\n\n",h=t,h=_.invokePartial(r._next_workspaces_other_panels,"_next_workspaces_other_panels",h,n,r,i),(h||0===h)&&(g+=h),g+="\n"}))}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/workspaces/sidebar/projects/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/workspaces/sidebar/projects/show"]=Handlebars.template(function(e,t,n,r){n=n||e.helpers,r=r||e.partials;var i,a="",o=this;return i=t,i=o.invokePartial(r._next_workspaces_sidebar_projects_show,"_next_workspaces_sidebar_projects_show",i,n,r),(i||0===i)&&(a+=i),a+="\n"}),this.HandlebarsTemplates["next/workspaces/sidebar/projects/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.View.extend({__name__:"WorkspacesSidebarDragDrop",initialize:_.wrap(t.View.prototype.initialize,function(e,n){e.call(this,n),this.views().addView(new t.views.DragDrop({el:this.el,ghostTagName:"ul",ghostClassName:"edit_project_ghost",draggableSelector:".edit_project .move",droppableSelector:".edit_project",pauseCommandQueue:!1,findCenter:function(e){return e.offset().top+e.height()/2},ghostPosition:function(e,t,n,r){return{left:e.pageX-(t.startX-n),top:e.pageY-(t.startY-r)}}}))})});_.namespace(t,"views.workspaces.sidebar").DragDrop=n}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/next/lightboxes/workspace_settings/show"]=function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["next/lightboxes/workspace_settings/show"]=Handlebars.template(function(e,t,n){n=n||e.helpers;var r,i,a="",o="function",s=this.escapeExpression;return a+='<ul>\n  <li><a class="add_projects">add/remove projects</a></li>\n  <li><a href="/workspaces/',i=n.workspaceId,i?r=i.call(t,{hash:{}}):(r=t.workspaceId,r=typeof r===o?r():r),a+=s(r)+'/settings">settings</a></li>\n</ul>\n'}),this.HandlebarsTemplates["next/lightboxes/workspace_settings/show"]}.call(this)}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=(_.namespace(e,"next"),t.helpers.view),r=t.views.lightboxes.ProjectSettings.extend({__name__:"LightboxesWorkspaceSettings",className:"lightbox top workspace_settings",template:"templates/next/lightboxes/workspace_settings/show",initialize:_.wrap(t.views.lightboxes.ProjectSettings.prototype.initialize,function(e){function t(){this.$trigger("close.lightbox")}function r(){i.set({edit:!0})}e.apply(this,_.rest(arguments));var i=this.model;this.delegateEvents({"click .add_projects":[n.preventDefault,r,t]})}),render:function(){var e=this._target;return this.$el.html(JST[_.result(this,"template")]({workspaceId:this.model.id})).position({my:"left top",at:"left bottom",of:e,offset:"10 0"}),this}});_.namespace(t,"views.lightboxes").WorkspaceSettings=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=(t.helpers.view,n.View.extend({__name__:"WorkspacesSidebarShow",className:"sidebar_wrapper",events:{"submit form.workspace":"submitForm_","click .settings_add_projects":"submitForm_","click .settings":"openWorkspaceSettings_","picked.dropdown .add_projects":"addDraftProject_","reorder .edit_project":"reorderDraftProjects_","click .delete":"deleteDraftProject_","click .save":"saveWorkspace_","click a.edit_workspace":"editWorkspace_","click a.other_panels":"clickOtherPanels_","click .project_color":"clickProjectColor_"},initialize:function(e){this.draftProjects=new t.Projects;var r=t.Person.current(),i=e.delegate,a=this;this.listenTo(this.model,"change:edit",this.changeEditing_),this.listenTo(r.layoutScheme(),"change:width_mode",this.render),this.listenTo(this.draftProjects,"add remove",this.render),this.listenTo(t.Layout.current(),"change:sidebar_display",this.saveWorkspaceIfCollapsing_),this.listenTo(r.panels(),"add remove change:visible itemCountChanged",this.render),this.listenTo(r.memberships(),"change:project_color",this.render),this.model.ready().then(function(){a.views().addView(new n.views.sidebar.Show({el:a.el,panelsViewport:e.panelsViewport})),a.model.projects().each(function(e){t.ActiveProjects.current().register("workspace",e),e.ready().then(function(){a.addViews_(e,i)}),a.listenTo(e.stories(),"add remove change",a.render)}),a.render()})},addViews_:function(e,r){this.views().addView(e.cid,new t.views.projects.Alerts({model:e})).addView(e.cid,new t.views.projects.Maximize({model:e,el:r})).addView(e.cid,new t.views.projects.Persistence({collection:e.stories(),el:r})).addView(e.cid,new t.views.projects.Persistence({collection:e.epics(),el:r})).addView(e.cid,new n.views.projects.Show({model:e,el:this.el,templatePath:"templates/next/workspaces/sidebar/projects/show"})).addView(e.cid,new t.views.projects.IterationBoundaryRollover({model:e}))},submitForm_:function(e){var t=$(e.currentTarget).closest("form").serializeObject().workspace;this.model.set(t)},openWorkspaceSettings_:function(e){(new t.LightboxesController).create("workspace_settings",{target:e.currentTarget,model:this.model})},addDraftProject_:function(e){var n,r=+$(e.target).closest(".dropdown_item").data("value"),i=t.Project.get(r);!i.has("name")&&(n=t.Person.current().memberships().findWhere({project_id:r}))&&i.set("name",n.get("project_name")),this.draftProjects.push(i)},reorderDraftProjects_:function(){var e=this,t=e.$(".edit_projects .edit_project").map(function(){return e.draftProjects.get(+$(this).data("id"))}).toArray();this.draftProjects.setWithReorder(t)},deleteDraftProject_:function(e){var t=$(e.target).closest(".edit_project").data("id");this.draftProjects.remove(t)},saveWorkspace_:function(){var e=t.Person.current();t.helpers.panels.collapseItemsInPanels(e.panels().models)&&(_.each(_.difference(this.draftProjects.models,this.model.projects().models),this.addBacklogPanel_),this.model.sync("update",this.model,{attrs:{project_ids:_.pluck(this.draftProjects.models,"id")}}).then(function(){e.layoutScheme().save().always(function(){t.location.reload()})}))},addBacklogPanel_:function(e){t.Person.current().layoutScheme().panels().unshift({type:"backlog"},{project:e,silent:!0})},editWorkspace_:function(){this.model.set({edit:!0})},clickOtherPanels_:function(e){var n=this.model.projects().get($(e.currentTarget).data("project-id"));(new t.LightboxesController).create("other_panels",{model:n,target:e.currentTarget})},clickProjectColor_:function(e){e.preventDefault();var n=$(e.currentTarget).closest(".edit_project").data("id"),r=t.Project.get(n);(new t.LightboxesController).create("project_color",{model:r,target:e.currentTarget})},render:function(){this.$trigger("prerender");var e=this,r=_.extend(new n.workspaces.SidebarDecorator({workspace:e.model}).toJSON(),{draft_projects:e.draftProjects.decorator().toJSON()});r.workspace.membership_options=_.filter(r.workspace.membership_options,function(t){return!e.draftProjects.get(t.value)});var i=JST["templates/next/workspaces/sidebar/show"](r);return e.html(i),this.views().pick(".add_projects").removeView(),this.$(".add_projects")[0]&&this.views().addView(".add_projects",new t.views.Dropdown({el:this.$(".add_projects")[0]})),e.$trigger("postrender"),e},changeEditing_:function(){this.model.get("edit")&&t.Layout.current().set({sidebar_display:"expanded"}),this.draftProjects.reset(this.model.projects().models),this.render()},saveWorkspaceIfCollapsing_:function(e,t){this.model.get("edit")&&"collapsed"===t&&this.saveWorkspace_()}}));_.namespace(n,"views.workspaces.sidebar").Show=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.Controller.extend({__name__:"WorkspacesController",show:function(){var e=t.Workspace.current();e.fetch(),e.ready().then(function(){mixpanel.register({view_mode:"workspace"}),t.MixpanelReporter.current().track("/workspaces/show",{project_count:e.projects().length})}),document.title=e.get("name")+" - Pivotal Tracker",(new t.LightboxesController).create("loading",{model:e,modal:!0}),this.views().removeView(),this.views().addView(new n.views.workspaces.sidebar.DragDrop({el:this.$("aside.sidebar")[0]}))}});n.WorkspacesController=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"next"),n=t.Controller.extend({__name__:"SingleModelsController",show:function(e,n){var r=this,i=_.classify(n),a=tracker.Project.setCurrent(e.project());return a.set("partially_loaded",!0),e.sync("read",e,{url:e.url({withProject:!0})}).then(function(o){return a[_.pluralize(n)]().push(e,{silent:!0}),a.set(a.parse({data:o.data.project})),a.timezone().fetch().then(function(){e.set(_.omit(e.parse(o),"project"));var s=new t.views.singleModel.Show({model:e,draftModel:tracker["Draft"+i].create(e),type:n,controller:new tracker.MaximizesController});a.makeReady();var l=new t.views.panels.Sync({el:r.el,collection:tracker.Person.current().panels()});tracker.ActiveProjects.current().register("single"+i,a,{fetch:!1}),r.views().removeView(),r.views().addView(new tracker.views.projects.Alerts({model:a})).addView(new t.views.singleModel.Minimize({el:r.el})).addView("section.maximized",s.render()).addView(l),r.views().pick("section.maximized").attach()})}).fail(function(){tracker.navigate("/404",{force:!0})})}});t.SingleModelsController=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.SingleModelsController.extend({__name__:"StoriesController",show:function(e,r){var i=t.Project.get(e),a=new t.Story({id:r},{project:i}),o=this;mixpanel.register({view_mode:"single_story"}),n.SingleModelsController.prototype.show.call(this,a,"story").then(function(){t.MixpanelReporter.current().track("/stories/show",{story_type:a.get("story_type")}),o.views().addView(new t.views.projects.Persistence({collection:i.stories(),el:o.el}))})}});n.StoriesController=r}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=_.namespace(e,"next"),r=n.SingleModelsController.extend({__name__:"EpicsController",show:function(e,r){var i=t.Project.get(e),a=new t.Epic({id:r},{project:i}),o=this;mixpanel.register({view_mode:"single_story"}),mixpanel.track("/epics/show"),n.SingleModelsController.prototype.show.call(this,a,"epic").then(function(){o.views().addView(new t.views.projects.Persistence({collection:i.epics(),el:o.el}))})}});n.EpicsController=r}.call(this),function(){"use strict";function e(e){return function(){tracker.Layout.setCurrent(new tracker.Layout),e.apply(this,arguments)}}function t(e){return function(t){tracker.Project.setCurrent(tracker.Project.get(parseInt(t,10))),e.apply(this,arguments)}}function n(e){return function(t,n){var r;r=t?n.workspaces().get(parseInt(t,10)):n.workspaces().first(),tracker.Workspace.setCurrent(r),e.apply(this,arguments)}}function r(e,t){return _.isFunction(e)&&_.isUndefined(t)&&(t=e,e=void 0),function(){var n=this,r=_.toArray(arguments);l.authenticate(e).always(function(e){r.push(e),(new tracker.PersonsController).show(e),(new s.KeyboardsController).index(),t.apply(n,r)})}}function i(e){var t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,n,r,i){t[n]=i}),t}function a(n){return n=n||{},e(t(r({},function(){var e="false"!==i(document.URL).flash,t=_.toArray(arguments),r=parseInt(_.first(t),10),a=_.last(t);Backbone.history.navigate("/projects/"+r,{replace:!0}),a.parseLayoutSchemes(),(new s.LayoutsController).show(_.extend({workspace:!1},n)),(new s.PanelsController).index(tracker.Project.get(r),{expandModelId:t[1],expandModelType:n.expandModelType,flashModel:e}),(new s.ProjectsController).show(r),(new s.NotificationsController).index(a.notifications())})))}var o=this,s=_.namespace(o,"next"),l=tracker.helpers.access,c=Backbone.Router.extend({},tracker.mixins.include);c.include(tracker.associations(tracker));var u=c.extend({routes:{"projects/:id(/)":"project","projects/:id/intro_tour(/)":"introTour","projects/:id/expire(/)":"expireProject","projects/:project_id/stories/:story_id(/)":"story","projects/:project_id/stories/:story_id/expand(?*)":"expandStory","projects/:project_id/epics/:epic_id(/)":"epic","projects/:project_id/epics/:epic_id/expand(?*)":"expandEpic","workspace(s/:id)(/)":"workspace"},project:a(),expandStory:a({expandModelType:"story"}),expandEpic:a({expandModelType:"epic"}),workspace:e(r({},n(function(e,t){t.parseLayoutSchemes(),(new s.LayoutsController).show({workspace:!0}),(new s.PanelsController).index(tracker.Workspace.current()),(new s.WorkspacesController).show(tracker.Workspace.current().id),(new s.NotificationsController).index(t.notifications())}))),introTour:a({showTour:!0}),story:e(t(r({},function(e,t,n){n.parseLayoutSchemes(),(new s.LayoutsController).show({workspace:!1,singleModelView:!0}),(new s.StoriesController).show(parseInt(e,10),parseInt(t,10)),(new s.NotificationsController).index(n.notifications())}))),epic:e(t(r({},function(e,t,n){n.parseLayoutSchemes(),(new s.LayoutsController).show({workspace:!1,singleModelView:!0}),(new s.EpicsController).show(parseInt(e,10),parseInt(t,10)),(new s.NotificationsController).index(n.notifications())}))),expireProject:function(e){tracker.helpers.expireProject(e).always(function(){Backbone.history.navigate("projects/"+e,{trigger:!0,replace:!0})})}});s.Router=u}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker");_.extend(t,{zeroClipboardPath:function(){return"/next/assets/ZeroClipboard-8e16bcea63faaa37257c0ebd26f4a183.swf"},chartsPath:function(){return"/next/assets/next/charts.js"},appVersion:function(){return"269d0625a55ae9e8c41905200e0429bd91dd28e9"}})}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"MixpanelReporter",track:function(e,t){t?mixpanel.track(e,t):mixpanel.track(e)}});_.extend(n,t.mixins.include),n.include(t.mixins.current),t.MixpanelReporter=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"NetworkScheduler",defaults:{isOnline:!0,isHealthy:!0,healthyDelay:12e3,unhealthyDelay:18e4,fuzzFactor:1+Math.random()},initialize:function(){e.FRONTEND_FLAGS.is_test_env&&this.set({healthyDelay:1e3}),e.FRONTEND_FLAGS.is_development_env&&this.set({healthyDelay:2e3}),_.bindAll(this,"pollRun_"),this.nextBatch_=[]},delay:function(){return this.get("starting")||t.TrackerStatus.current().get("isOnline")?this.get("healthyDelay"):Math.floor(this.get("fuzzFactor")*this.get("unhealthyDelay"))},run:function(){var e=this.nextBatch_;this.nextBatch_=[],_.each(e,function(e){e()})},start:function(){this.set({starting:!0}),this.stop(),this.pollRun_(),this.set({starting:!1})},stop:function(){clearTimeout(this.timeout_)},schedule:function(e){if(!e)throw new Error("Cannot schedule undefined.");this.nextBatch_.push(e)},unschedule:function(e){var t=this.nextBatch_.indexOf(e);this.nextBatch_.splice(t,1)},pollRun_:function(){this.run(),this.timeout_=setTimeout(this.pollRun_,this.delay())}});_.extend(n,t.mixins.include),n.include(t.mixins.current),t.NetworkScheduler=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({defaults:{isOnline:!0},initialize:function(){_.bindAll(this,"testNetworkStatus_","setStatus_"),this.networkTester_=new goog.net.NetworkTester(this.setStatus_)},parseAjaxComplete:function(e,t){0!==t.status?this.set({isOnline:!0}):this.testNetworkStatus_()},testNetworkStatus_:function(){this.networkTester_.isRunning()||this.networkTester_.start()},setStatus_:function(e){this.set({isOnline:e})}});_.extend(n,t.mixins.include),n.include(t.mixins.current),t.NetworkStatus=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"ProjectStateReporter",initialize:function(e){this.logger_=e.logger},logger:function(){return this.logger_},toString:function(e){return JSON.stringify(this.toJSON(e),null,"	")},toJSON:function(e){try{return this.toJSON_(e)}catch(t){return{error:t}}},toJSON_:function(e){var n=this.project_(),r=n.commandQueue(),i="undefined"!=typeof e?e:!0,a={project_version:n.get("version"),app_version:t.appVersion(),command_queue:{is_paused:r.isPaused(),size:r.size(),pause_count:r._pauseCount,recent_commands:this.logger_.get("command")},client_server_order_agree:t.helpers.storyOrder.checkClientServerOrder(n),metrics:this.metrics_(),uncaught_errors:this.logger_.get("uncaught_error")};return i&&_.extend(a,{project_snapshot:this.projectSnapshot_()}),a},projectSnapshot_:function(){var e=this.project_();return _.extend(e.toJSON(),{stories:e.stories().map(function(e){var t=e.attributes;return{id:e.id,cid:e.cid,index:e.index(),current_state:t.current_state,story_type:t.story_type,created_at:t.created_at,updated_at:t.updated_at,owner_ids:t.owner_ids,label_ids:t.label_ids,tasks:e.tasks().map(function(e){return{id:e.id,cid:e.cid,position:e.index(),complete:e.attributes.complete}})}}),epics:e.epics().map(function(e){var t=e.attributes;return{id:e.id,cid:e.cid,index:e.index(),created_at:t.created_at,updated_at:t.updated_at,label_ids:t.label_ids}})})},project_:function(){return t.Project.current()},countStories_:function(e,t){return e+t.stories().length},storiesPerCollection_:function(e){var t=_.reduce(e,this.countStories_,0);return(t/e.length).toFixed(2)},commentSum_:function(e,t){return e+t.comments().length},storyCommentCount_:function(){return this.project_().stories().reduce(this.commentSum_,0)},epicCommentCount_:function(){return this.project_().epics().reduce(this.commentSum_,0)},commentsPerStory_:function(){return(this.storyCommentCount_()/this.project_().stories().length).toFixed(2)},totalComments_:function(){return this.storyCommentCount_()+this.epicCommentCount_()},storiesPerIteration_:function(){var e=this.project_().iterations(),t=e.current().concat(e.backlog()),n=e.done(),r=this.project_().get("number_of_done_iterations_to_show");return n.length>r&&(n=n.slice(n.length-r)),this.storiesPerCollection_(n.concat(t))},metrics_:function(){var e=this.project_();return{total_stories:Number(e.stories().length),total_icebox_stories:Number(e.stories().scope().icebox().value().length),total_iterations:Number(e.iterations().length),total_comments:Number(this.totalComments_()),comments_per_story:Number(this.commentsPerStory_()),stories_per_iteration:Number(this.storiesPerIteration_()),total_labels:Number(e.labels().length),stories_per_label:Number(this.storiesPerCollection_(e.labels().models)),total_epics:Number(e.epics().length),total_members:Number(e.members().length),total_file_attachments:Number(e.fileAttachments().length),now:Number(Date.now()),total_features:Number(e.stories().scope().feature().size()),total_bugs:Number(e.stories().scope().bug().size()),total_chores:Number(e.stories().scope().chore().size()),total_releases:Number(e.stories().scope().release().size())}}});_.extend(n,t.mixins.include),n.include(t.mixins.current),t.ProjectStateReporter=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"SpinnerMonitor",initialize:function(){this.interval_=2e4,this.timeout_=null,this.oldCids_=[]},report_:function(){$.post("/services/area_51/errors",{raw:t.ProjectStateReporter.current().toString()}),this.stop()},run_:function(){var e=_.map($(".pending"),function(e){return $(e).data("cid")}),t=_.intersection(e,this.oldCids_);this.oldCids_=e,this.timeout_=setTimeout(_.bind(this.run_,this),this.interval_),t.length&&this.report_(t)},stop:function(){clearTimeout(this.timeout_)},start:function(){clearTimeout(this.timeout_),this.run_()}});_.extend(n,t.mixins.include),n.include(t.mixins.current),t.SpinnerMonitor=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({defaults:{isOnline:!0,maintenance:!1,unauthorized:!1,retrying:!1,failureCount:0,successCount:0},initialize:function(){this.listenTo(t.NetworkStatus.current(),"change:isOnline",this.handleNetworkStatusChange_)},parseAjaxComplete:function(e,n,r){var i=r.url;t.NetworkStatus.current().get("isOnline")&&i.match(/^\/services\//)&&(this.detectUnauthorized_(i,n),this.detectMaintenance_(i,n),this.detectApiStatus_(i,n))},detectUnauthorized_:function(e,t){t.status&&403===t.status&&this.set({unauthorized:!0})},detectMaintenance_:function(e,t){t.status&&t.status.toString().match(/^5/)&&(t.responseText||"").match(/status\.pivotaltracker\.com/)&&this.set({maintenance:!0})},detectApiStatus_:function(e,t){var n=t.status<500&&0!==t.status;if(n&&e.match(/^\/services\/v5\/aggregator/))try{n=this.parseAggregateStatus_(t.responseText)}catch(r){}this.get("retrying")?this.retryingStrategy_(n):this.backOffStrategy_(n)},parseAggregateStatus_:function(e){return _.all(JSON.parse(e),function(e){return e.http_status&&"503"!==e.http_status})},retryingStrategy_:function(e){this.set({isOnline:e,retrying:!1,successCount:0,failureCount:0})},backOffStrategy_:function(e){e?(this.set({successCount:this.get("successCount")+1,failureCount:0}),this.get("successCount")>=3&&this.set({isOnline:e})):(this.set({successCount:0,failureCount:this.get("failureCount")+1}),this.get("failureCount")>=3&&this.set({isOnline:e}))},handleNetworkStatusChange_:function(e,t){t||this.set({isOnline:!0})}});_.extend(n,t.mixins.include),n.include(t.mixins.current),t.TrackerStatus=n}.call(this),function(){"use strict";var e=this,t=_.namespace(e,"tracker"),n=t.Model.extend({__name__:"Pinger",defaults:{pinging:!1},initialize:function(e){_.bindAll(this,"ping","handlePingComplete_"),this.deployWarning_=e.deployWarning,this.requestGenerator_=e.requestGenerator},start:function(){t.NetworkScheduler.current().schedule(this.ping)},ping:function(){this.stop(),this.set({pinging:!0}),this.requestGenerator_(this.deployWarning_).always(this.handlePingComplete_)},handlePingComplete_:function(e){this.set({pinging:!1}),this.parseDelay_(e),t.NetworkScheduler.current().schedule(this.ping)},parseDelay_:function(e){var n=1e3,r=18e5,i=e&&e.getResponseHeader("X-Tracker-Client-Pinger-Interval");i=parseInt(i,10),i*=1e3,i=i||t.NetworkScheduler.current().get("healthyDelay"),i=Math.min(Math.max(i,n),r),t.NetworkScheduler.current().set({healthyDelay:i})},stop:function(){return t.NetworkScheduler.current().unschedule(this.ping),this}});_.extend(n,t.mixins.include),n.include(t.mixins.current),t.Pinger=n}.call(this),function(e,t){function n(){$(".time_ago").each(function(){var e=parseInt($(this).data("millis"),10);$(this).replaceWith(Handlebars.helpers.timeAgo(e).toString())}),setTimeout(n,r)}var r=6e4;t.TimeAgoUpdater={run:function(){setTimeout(n,r)}}}(window,tracker),function(){"use strict";var e=this,t=_.namespace(e,"tracker");t.SessionTimeoutUpdater={run:function(){var e;$(document).ajaxSuccess(function(n,r){var i=r.getResponseHeader("X-Tracker-Session-Time-Remaining");null!==i&&(clearTimeout(e),e=setTimeout(function(){(new t.LightboxesController).create("force_reload",{message:"Your session has expired.",opacity:!0})},parseInt(i,10)))})}}}.call(this),function(){var e=this;e.Object.assign||(e.Object.assign=_.extend)}.call(this),function(){"use strict";function e(e){return"/services/v5/projects/"+e.id+"/stories?fields=id,current_state"}var t=this,n=_.namespace(t,"tracker"),r={checkClientServerOrder:function(t){t=t||n.Project.current();var r,i=t.stories().invoke("pick","id","current_state"),a=$.ajax({url:e(t),async:!1,accepts:{json:"application/json"},dataType:"json"});return a.done(function(e){var t=_.intersection(_.pluck(i,"id"),_.pluck(e,"id")),n=_.first(t),a=_.last(t),o=i.indexOf(_.findWhere(i,{id:n})),s=i.indexOf(_.findWhere(i,{id:a})),l=e.indexOf(_.findWhere(e,{id:n})),c=e.indexOf(_.findWhere(e,{id:a}));i=i.slice(o,s+1),e=e.slice(l,c+1),r=_.isEqual(i,e)}),r}};_.namespace(n,"helpers").storyOrder=r}.call(this),function(){"use strict";function e(){$.ajaxSetup({headers:{"X-CSRF-Token":n.csrfToken()}})}var t=this,n=_.namespace(t,"tracker"),r=_.namespace(t,"next"),i=n.Application.extend({__name__:"App",getProjectState:function(e){e="undefined"!=typeof e?e:!1,console.log(n.ProjectStateReporter.current().toString(e))},start:function(){n.Timer.begin("nr_app_time"),n.Timer.begin("nr_total_be_time"),e.call(this),n.Focus.setCurrent(new n.Focus),n.NetworkStatus.setCurrent(new n.NetworkStatus),n.TrackerStatus.setCurrent(new n.TrackerStatus),n.MixpanelReporter.setCurrent(new n.MixpanelReporter),n.Logger.setCurrent(new n.Logger),n.ProjectStateReporter.setCurrent(new n.ProjectStateReporter({logger:n.Logger.current()})),t.getProjectState=this.getProjectState,t.gapi&&(n.googleFilePicker=new n.GoogleFilePicker),n.NetworkScheduler.setCurrent(new n.NetworkScheduler),n.NetworkScheduler.current().start(),n.SpinnerMonitor.setCurrent(new n.SpinnerMonitor),n.SpinnerMonitor.current().start(),_.each(["Reporter","ActiveProjects"],function(e){n[e].setCurrent(new n[e])}),n.DeployWarning.setCurrent(new n.DeployWarning),n.Pinger.setCurrent(new n.Pinger({requestGenerator:r.Pingables.generateRequests,deployWarning:n.DeployWarning.current()})),n.Pinger.current().start(),t.ZeroClipboard.setDefaults({moviePath:n.zeroClipboardPath(),hoverClass:"hover"}),n.TimeAgoUpdater.run(),n.SessionTimeoutUpdater.run();new r.Router;Backbone.history.start({pushState:!0,root:this.root}),$("body").preventSwipes("section.panels")},root:"/n/"});r.App=i}.call(this);
//@ sourceMappingURL=next-8c2ec1d4d96d8375f7c0689008f0eec7.map